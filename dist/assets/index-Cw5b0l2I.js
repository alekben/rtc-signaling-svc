(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))a(g);new MutationObserver(g=>{for(const E of g)if(E.type==="childList")for(const u of E.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(g){const E={};return g.integrity&&(E.integrity=g.integrity),g.referrerPolicy&&(E.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?E.credentials="include":g.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function a(g){if(g.ep)return;g.ep=!0;const E=r(g);fetch(g.href,E)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var agoraRtm={exports:{}},AgoraRTC_NProduction={exports:{}},hasRequiredAgoraRTC_NProduction;function requireAgoraRTC_NProduction(){return hasRequiredAgoraRTC_NProduction||(hasRequiredAgoraRTC_NProduction=1,function(n,e){(function(r,a){n.exports=a()})(commonjsGlobal,function(){function r(t,A){return A.forEach(function(o){o&&typeof o!="string"&&!Array.isArray(o)&&Object.keys(o).forEach(function(s){if(s!=="default"&&!(s in t)){var c=Object.getOwnPropertyDescriptor(o,s);Object.defineProperty(t,s,c.get?c:{enumerable:!0,get:function(){return o[s]}})}})}),Object.freeze(t)}var a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:{};function g(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var E=function(t){try{return!!t()}catch{return!0}},u=!E(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),B=u,f=Function.prototype,m=f.call,y=B&&f.bind.bind(m,m),D=B?y:function(t){return function(){return m.apply(t,arguments)}},M=D({}.isPrototypeOf),O=function(t){return t&&t.Math==Math&&t},U=O(typeof globalThis=="object"&&globalThis)||O(typeof window=="object"&&window)||O(typeof self=="object"&&self)||O(typeof a=="object"&&a)||function(){return this}()||a||Function("return this")(),F=u,x=Function.prototype,H=x.apply,j=x.call,ee=typeof Reflect=="object"&&Reflect.apply||(F?j.bind(H):function(){return j.apply(H,arguments)}),ne=D,oe=ne({}.toString),ae=ne("".slice),he=function(t){return ae(oe(t),8,-1)},fe=he,Le=D,He=function(t){if(fe(t)==="Function")return Le(t)},Se=typeof document=="object"&&document.all,ge={all:Se,IS_HTMLDDA:Se===void 0&&Se!==void 0},Ye=ge.all,q=ge.IS_HTMLDDA?function(t){return typeof t=="function"||t===Ye}:function(t){return typeof t=="function"},me={},Fe=!E(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),_t=u,Qt=Function.prototype.call,je=_t?Qt.bind(Qt):function(){return Qt.apply(Qt,arguments)},nt={},ut={}.propertyIsEnumerable,$t=Object.getOwnPropertyDescriptor,gA=$t&&!ut.call({1:2},1);nt.f=gA?function(t){var A=$t(this,t);return!!A&&A.enumerable}:ut;var AA,SA,DA=function(t,A){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:A}},ki=E,ei=he,At=Object,Qi=D("".split),QA=ki(function(){return!At("z").propertyIsEnumerable(0)})?function(t){return ei(t)=="String"?Qi(t,""):At(t)}:At,fi=function(t){return t==null},GA=fi,fa=TypeError,vr=function(t){if(GA(t))throw fa("Can't call method on "+t);return t},Qo=QA,mE=vr,cr=function(t){return Qo(mE(t))},_a=q,SE=ge.all,_e=ge.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:_a(t)||t===SE}:function(t){return typeof t=="object"?t!==null:_a(t)},Ui={},$=Ui,te=U,le=q,we=function(t){return le(t)?t:void 0},$e=function(t,A){return arguments.length<2?we($[t])||we(te[t]):$[t]&&$[t][A]||te[t]&&te[t][A]},We=typeof navigator<"u"&&String(navigator.userAgent)||"",ze=U,ot=We,wt=ze.process,si=ze.Deno,Pi=wt&&wt.versions||si&&si.version,Vr=Pi&&Pi.v8;Vr&&(SA=(AA=Vr.split("."))[0]>0&&AA[0]<4?1:+(AA[0]+AA[1])),!SA&&ot&&(!(AA=ot.match(/Edge\/(\d+)/))||AA[1]>=74)&&(AA=ot.match(/Chrome\/(\d+)/))&&(SA=+AA[1]);var VA=SA,Rn=VA,rs=E,os=U.String,fo=!!Object.getOwnPropertySymbols&&!rs(function(){var t=Symbol();return!os(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Rn&&Rn<41}),Ra=fo&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Wc=$e,ns=q,Xc=M,Zc=Object,_o=Ra?function(t){return typeof t=="symbol"}:function(t){var A=Wc("Symbol");return ns(A)&&Xc(A.prototype,Zc(t))},ke=String,lt=function(t){try{return ke(t)}catch{return"Object"}},_i=q,ti=lt,Ro=TypeError,Gi=function(t){if(_i(t))return t;throw Ro(ti(t)+" is not a function")},DE=Gi,ss=fi,ai=function(t,A){var o=t[A];return ss(o)?void 0:DE(o)},zc=je,as=q,ya=_e,TN=TypeError,Ih={exports:{}},Eh=U,bN=Object.defineProperty,vN=function(t,A){try{bN(Eh,t,{value:A,configurable:!0,writable:!0})}catch{Eh[t]=A}return A},Ch="__core-js_shared__",wE=U[Ch]||vN(Ch,{}),lh=wE;(Ih.exports=function(t,A){return lh[t]||(lh[t]=A!==void 0?A:{})})("versions",[]).push({version:"3.31.1",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"});var cs=Ih.exports,MN=vr,ON=Object,jr=function(t){return ON(MN(t))},LN=jr,kN=D({}.hasOwnProperty),jA=Object.hasOwn||function(t,A){return kN(LN(t),A)},UN=D,PN=0,GN=Math.random(),KN=UN(1 .toString),NE=function(t){return"Symbol("+(t===void 0?"":t)+")_"+KN(++PN+GN,36)},xN=cs,uh=jA,YN=NE,JN=fo,HN=Ra,gs=U.Symbol,TE=xN("wks"),qN=HN?gs.for||gs:gs&&gs.withoutSetter||YN,IA=function(t){return uh(TE,t)||(TE[t]=JN&&uh(gs,t)?gs[t]:qN("Symbol."+t)),TE[t]},VN=je,dh=_e,hh=_o,jN=ai,$N=function(t,A){var o,s;if(as(o=t.toString)&&!ya(s=zc(o,t))||as(o=t.valueOf)&&!ya(s=zc(o,t)))return s;throw TN("Can't convert object to primitive value")},WN=TypeError,XN=IA("toPrimitive"),ZN=function(t,A){if(!dh(t)||hh(t))return t;var o,s=jN(t,XN);if(s){if(o=VN(s,t,A),!dh(o)||hh(o))return o;throw WN("Can't convert object to primitive value")}return $N(t)},zN=_o,eg=function(t){var A=ZN(t,"string");return zN(A)?A:A+""},Bh=_e,bE=U.document,eT=Bh(bE)&&Bh(bE.createElement),vE=function(t){return eT?bE.createElement(t):{}},tT=vE,ph=!Fe&&!E(function(){return Object.defineProperty(tT("div"),"a",{get:function(){return 7}}).a!=7}),AT=Fe,iT=je,rT=nt,oT=DA,nT=cr,sT=eg,aT=jA,cT=ph,Qh=Object.getOwnPropertyDescriptor;me.f=AT?Qh:function(t,A){if(t=nT(t),A=sT(A),cT)try{return Qh(t,A)}catch{}if(aT(t,A))return oT(!iT(rT.f,t,A),t[A])};var gT=E,IT=q,ET=/#|\.prototype\./,ma=function(t,A){var o=lT[CT(t)];return o==dT||o!=uT&&(IT(A)?gT(A):!!A)},CT=ma.normalize=function(t){return String(t).replace(ET,".").toLowerCase()},lT=ma.data={},uT=ma.NATIVE="N",dT=ma.POLYFILL="P",fh=ma,hT=Gi,BT=u,pT=He(He.bind),xo=function(t,A){return hT(t),A===void 0?t:BT?pT(t,A):function(){return t.apply(A,arguments)}},gr={},_h=Fe&&E(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),QT=_e,fT=String,_T=TypeError,Ri=function(t){if(QT(t))return t;throw _T(fT(t)+" is not an object")},RT=Fe,yT=ph,mT=_h,tg=Ri,Rh=eg,ST=TypeError,ME=Object.defineProperty,DT=Object.getOwnPropertyDescriptor,OE="enumerable",LE="configurable",kE="writable";gr.f=RT?mT?function(t,A,o){if(tg(t),A=Rh(A),tg(o),typeof t=="function"&&A==="prototype"&&"value"in o&&kE in o&&!o[kE]){var s=DT(t,A);s&&s[kE]&&(t[A]=o.value,o={configurable:LE in o?o[LE]:s[LE],enumerable:OE in o?o[OE]:s[OE],writable:!1})}return ME(t,A,o)}:ME:function(t,A,o){if(tg(t),A=Rh(A),tg(o),yT)try{return ME(t,A,o)}catch{}if("get"in o||"set"in o)throw ST("Accessors not supported");return"value"in o&&(t[A]=o.value),t};var wT=gr,NT=DA,Yo=Fe?function(t,A,o){return wT.f(t,A,NT(1,o))}:function(t,A,o){return t[A]=o,t},Ag=U,TT=ee,bT=He,vT=q,MT=me.f,OT=fh,Is=Ui,LT=xo,Es=Yo,yh=jA,kT=function(t){var A=function(o,s,c){if(this instanceof A){switch(arguments.length){case 0:return new t;case 1:return new t(o);case 2:return new t(o,s)}return new t(o,s,c)}return TT(t,this,arguments)};return A.prototype=t.prototype,A},Lt=function(t,A){var o,s,c,I,C,l,d,h,Q,_=t.target,S=t.global,w=t.stat,k=t.proto,v=S?Ag:w?Ag[_]:(Ag[_]||{}).prototype,b=S?Is:Is[_]||Es(Is,_,{})[_],P=b.prototype;for(I in A)s=!(o=OT(S?I:_+(w?".":"#")+I,t.forced))&&v&&yh(v,I),l=b[I],s&&(d=t.dontCallGetSet?(Q=MT(v,I))&&Q.value:v[I]),C=s&&d?d:A[I],s&&typeof l==typeof C||(h=t.bind&&s?LT(C,Ag):t.wrap&&s?kT(C):k&&vT(C)?bT(C):C,(t.sham||C&&C.sham||l&&l.sham)&&Es(h,"sham",!0),Es(b,I,h),k&&(yh(Is,c=_+"Prototype")||Es(Is,c,{}),Es(Is[c],I,C),t.real&&P&&(o||!P[I])&&Es(P,I,C)))},UT=Math.ceil,PT=Math.floor,GT=Math.trunc||function(t){var A=+t;return(A>0?PT:UT)(A)},FT=GT,UE=function(t){var A=+t;return A!=A||A===0?0:FT(A)},KT=UE,xT=Math.max,YT=Math.min,PE=function(t,A){var o=KT(t);return o<0?xT(o+A,0):YT(o,A)},JT=UE,HT=Math.min,mh=function(t){return t>0?HT(JT(t),9007199254740991):0},qT=mh,yo=function(t){return qT(t.length)},VT=cr,jT=PE,$T=yo,Sh=function(t){return function(A,o,s){var c,I=VT(A),C=$T(I),l=jT(s,C);if(t&&o!=o){for(;C>l;)if((c=I[l++])!=c)return!0}else for(;C>l;l++)if((t||l in I)&&I[l]===o)return t||l||0;return!t&&-1}},GE={includes:Sh(!0),indexOf:Sh(!1)},WT=GE.includes;Lt({target:"Array",proto:!0,forced:E(function(){return!Array(1).includes()})},{includes:function(t){return WT(this,t,arguments.length>1?arguments[1]:void 0)}});var XT=Ui,Ir=function(t){return XT[t+"Prototype"]},ZT=Ir("Array").includes,zT=_e,eb=he,tb=IA("match"),Dh=function(t){var A;return zT(t)&&((A=t[tb])!==void 0?!!A:eb(t)=="RegExp")},Ab=Dh,ib=TypeError,wh={};wh[IA("toStringTag")]="z";var FE=String(wh)==="[object z]",rb=FE,ob=q,ig=he,nb=IA("toStringTag"),sb=Object,ab=ig(function(){return arguments}())=="Arguments",$r=rb?ig:function(t){var A,o,s;return t===void 0?"Undefined":t===null?"Null":typeof(o=function(c,I){try{return c[I]}catch{}}(A=sb(t),nb))=="string"?o:ab?ig(A):(s=ig(A))=="Object"&&ob(A.callee)?"Arguments":s},cb=$r,gb=String,Xi=function(t){if(cb(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return gb(t)},Ib=IA("match"),Eb=Lt,Cb=function(t){if(Ab(t))throw ib("The method doesn't accept regular expressions");return t},lb=vr,Nh=Xi,ub=function(t){var A=/./;try{"/./"[t](A)}catch{try{return A[Ib]=!1,"/./"[t](A)}catch{}}return!1},db=D("".indexOf);Eb({target:"String",proto:!0,forced:!ub("includes")},{includes:function(t){return!!~db(Nh(lb(this)),Nh(Cb(t)),arguments.length>1?arguments[1]:void 0)}});var hb=Ir("String").includes,Th=M,Bb=ZT,pb=hb,KE=Array.prototype,xE=String.prototype,Qb=function(t){var A=t.includes;return t===KE||Th(KE,t)&&A===KE.includes?Bb:typeof t=="string"||t===xE||Th(xE,t)&&A===xE.includes?pb:A},Re=g(Qb),fb=Gi,_b=jr,Rb=QA,yb=yo,mb=TypeError,Sb=function(t){return function(A,o,s,c){fb(o);var I=_b(A),C=Rb(I),l=yb(I),d=t?l-1:0,h=t?-1:1;if(s<2)for(;;){if(d in C){c=C[d],d+=h;break}if(d+=h,t?d<0:l<=d)throw mb("Reduce of empty array with no initial value")}for(;t?d>=0:l>d;d+=h)d in C&&(c=o(c,C[d],d,I));return c}},Db={left:Sb(!1)},wb=E,rg=function(t,A){var o=[][t];return!!o&&wb(function(){o.call(null,A||function(){return 1},1)})},Sa=typeof process<"u"&&he(process)=="process",Tb=Db.left;Lt({target:"Array",proto:!0,forced:!Sa&&VA>79&&VA<83||!rg("reduce")},{reduce:function(t){var A=arguments.length;return Tb(this,t,A,A>1?arguments[1]:void 0)}});var bb=Ir("Array").reduce,vb=M,Mb=bb,YE=Array.prototype,Ob=function(t){var A=t.reduce;return t===YE||vb(YE,t)&&A===YE.reduce?Mb:A},bh=Ob,Mr=g(bh);let vh=!0,Mh=!0;function og(t,A,o){const s=t.match(A);return s&&s.length>=o&&parseInt(s[o],10)}function yn(t,A,o){if(!t.RTCPeerConnection)return;const s=t.RTCPeerConnection.prototype,c=s.addEventListener;s.addEventListener=function(C,l){if(C!==A)return c.apply(this,arguments);const d=h=>{const Q=o(h);Q&&(l.handleEvent?l.handleEvent(Q):l(Q))};return this._eventMap=this._eventMap||{},this._eventMap[A]||(this._eventMap[A]=new Map),this._eventMap[A].set(l,d),c.apply(this,[C,d])};const I=s.removeEventListener;s.removeEventListener=function(C,l){if(C!==A||!this._eventMap||!this._eventMap[A])return I.apply(this,arguments);if(!this._eventMap[A].has(l))return I.apply(this,arguments);const d=this._eventMap[A].get(l);return this._eventMap[A].delete(l),this._eventMap[A].size===0&&delete this._eventMap[A],Object.keys(this._eventMap).length===0&&delete this._eventMap,I.apply(this,[C,d])},Object.defineProperty(s,"on"+A,{get(){return this["_on"+A]},set(C){this["_on"+A]&&(this.removeEventListener(A,this["_on"+A]),delete this["_on"+A]),C&&this.addEventListener(A,this["_on"+A]=C)},enumerable:!0,configurable:!0})}function Lb(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(vh=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function kb(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(Mh=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function Oh(){if(typeof window=="object"){if(vh)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function JE(t,A){Mh&&console.warn(t+" is deprecated, please use "+A+" instead.")}function Lh(t){return Object.prototype.toString.call(t)==="[object Object]"}function kh(t){var A;return Lh(t)?Mr(A=Object.keys(t)).call(A,function(o,s){const c=Lh(t[s]),I=c?kh(t[s]):t[s],C=c&&!Object.keys(I).length;return I===void 0||C?o:Object.assign(o,{[s]:I})},{}):t}function HE(t,A,o){A&&!o.has(A.id)&&(o.set(A.id,A),Object.keys(A).forEach(s=>{s.endsWith("Id")?HE(t,t.get(A[s]),o):s.endsWith("Ids")&&A[s].forEach(c=>{HE(t,t.get(c),o)})}))}function Uh(t,A,o){const s=o?"outbound-rtp":"inbound-rtp",c=new Map;if(A===null)return c;const I=[];return t.forEach(C=>{C.type==="track"&&C.trackIdentifier===A.id&&I.push(C)}),I.forEach(C=>{t.forEach(l=>{l.type===s&&l.trackId===C.id&&HE(t,l,c)})}),c}var Ub=NE,Ph=cs("keys"),ng=function(t){return Ph[t]||(Ph[t]=Ub(t))},Pb=!E(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Gb=jA,Fb=q,Kb=jr,xb=Pb,Gh=ng("IE_PROTO"),qE=Object,Yb=qE.prototype,VE=xb?qE.getPrototypeOf:function(t){var A=Kb(t);if(Gb(A,Gh))return A[Gh];var o=A.constructor;return Fb(o)&&A instanceof o?o.prototype:A instanceof qE?Yb:null},Jb=D,Hb=Gi,qb=q,Vb=String,jb=TypeError,$b=function(t,A,o){try{return Jb(Hb(Object.getOwnPropertyDescriptor(t,A)[o]))}catch{}},Wb=Ri,Xb=function(t){if(typeof t=="object"||qb(t))return t;throw jb("Can't set "+Vb(t)+" as a prototype")},Zb=Object.setPrototypeOf||("__proto__"in{}?function(){var t,A=!1,o={};try{(t=$b(Object.prototype,"__proto__","set"))(o,[]),A=o instanceof Array}catch{}return function(s,c){return Wb(s),Xb(c),A?t(s,c):s.__proto__=c,s}}():void 0),sg={},ag={},jE=jA,zb=cr,ev=GE.indexOf,tv=ag,Fh=D([].push),Kh=function(t,A){var o,s=zb(t),c=0,I=[];for(o in s)!jE(tv,o)&&jE(s,o)&&Fh(I,o);for(;A.length>c;)jE(s,o=A[c++])&&(~ev(I,o)||Fh(I,o));return I},$E=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Av=Kh,iv=$E.concat("length","prototype");sg.f=Object.getOwnPropertyNames||function(t){return Av(t,iv)};var Da={};Da.f=Object.getOwnPropertySymbols;var rv=$e,ov=sg,nv=Da,sv=Ri,av=D([].concat),cv=rv("Reflect","ownKeys")||function(t){var A=ov.f(sv(t)),o=nv.f;return o?av(A,o(t)):A},xh=jA,gv=cv,Iv=me,Ev=gr,WE={},Cv=Kh,lv=$E,cg=Object.keys||function(t){return Cv(t,lv)},uv=Fe,dv=_h,hv=gr,Bv=Ri,pv=cr,Qv=cg;WE.f=uv&&!dv?Object.defineProperties:function(t,A){Bv(t);for(var o,s=pv(A),c=Qv(A),I=c.length,C=0;I>C;)hv.f(t,o=c[C++],s[o]);return t};var gg,Yh=$e("document","documentElement"),fv=Ri,_v=WE,Jh=$E,Rv=ag,yv=Yh,mv=vE,XE="prototype",ZE="script",Hh=ng("IE_PROTO"),zE=function(){},qh=function(t){return"<"+ZE+">"+t+"</"+ZE+">"},Vh=function(t){t.write(qh("")),t.close();var A=t.parentWindow.Object;return t=null,A},Ig=function(){try{gg=new ActiveXObject("htmlfile")}catch{}var t,A,o;Ig=typeof document<"u"?document.domain&&gg?Vh(gg):(A=mv("iframe"),o="java"+ZE+":",A.style.display="none",yv.appendChild(A),A.src=String(o),(t=A.contentWindow.document).open(),t.write(qh("document.F=Object")),t.close(),t.F):Vh(gg);for(var s=Jh.length;s--;)delete Ig[XE][Jh[s]];return Ig()};Rv[Hh]=!0;var wa=Object.create||function(t,A){var o;return t!==null?(zE[XE]=fv(t),o=new zE,zE[XE]=null,o[Hh]=t):o=Ig(),A===void 0?o:_v.f(o,A)},Sv=_e,Dv=Yo,jh=Error,wv=D("".replace),Nv=String(jh("zxcasd").stack),$h=/\n\s*at [^:]*:[^\n]*/,Tv=$h.test(Nv),bv=DA,vv=!E(function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",bv(1,7)),t.stack!==7)}),Mv=Yo,Ov=function(t,A){if(Tv&&typeof t=="string"&&!jh.prepareStackTrace)for(;A--;)t=wv(t,$h,"");return t},Lv=vv,Wh=Error.captureStackTrace,mn={},kv=mn,Uv=IA("iterator"),Pv=Array.prototype,Xh=function(t){return t!==void 0&&(kv.Array===t||Pv[Uv]===t)},Gv=$r,Zh=ai,Fv=fi,Kv=mn,xv=IA("iterator"),Eg=function(t){if(!Fv(t))return Zh(t,xv)||Zh(t,"@@iterator")||Kv[Gv(t)]},Yv=je,Jv=Gi,Hv=Ri,qv=lt,Vv=Eg,jv=TypeError,eC=function(t,A){var o=arguments.length<2?Vv(t):A;if(Jv(o))return Hv(Yv(o,t));throw jv(qv(t)+" is not iterable")},$v=je,zh=Ri,Wv=ai,eB=function(t,A,o){var s,c;zh(t);try{if(!(s=Wv(t,"return"))){if(A==="throw")throw o;return o}s=$v(s,t)}catch(I){c=!0,s=I}if(A==="throw")throw o;if(c)throw s;return zh(s),o},Xv=xo,Zv=je,zv=Ri,eM=lt,tM=Xh,AM=yo,tB=M,iM=eC,rM=Eg,AB=eB,oM=TypeError,Cg=function(t,A){this.stopped=t,this.result=A},iB=Cg.prototype,Na=function(t,A,o){var s,c,I,C,l,d,h,Q=o&&o.that,_=!(!o||!o.AS_ENTRIES),S=!(!o||!o.IS_RECORD),w=!(!o||!o.IS_ITERATOR),k=!(!o||!o.INTERRUPTED),v=Xv(A,Q),b=function(K){return s&&AB(s,"normal",K),new Cg(!0,K)},P=function(K){return _?(zv(K),k?v(K[0],K[1],b):v(K[0],K[1])):k?v(K,b):v(K)};if(S)s=t.iterator;else if(w)s=t;else{if(!(c=rM(t)))throw oM(eM(t)+" is not iterable");if(tM(c)){for(I=0,C=AM(t);C>I;I++)if((l=P(t[I]))&&tB(iB,l))return l;return new Cg(!1)}s=iM(t,c)}for(d=S?t.next:s.next;!(h=Zv(d,s)).done;){try{l=P(h.value)}catch(K){AB(s,"throw",K)}if(typeof l=="object"&&l&&tB(iB,l))return l}return new Cg(!1)},nM=Xi,sM=Lt,aM=M,cM=VE,lg=Zb,gM=function(t,A,o){for(var s=gv(A),c=Ev.f,I=Iv.f,C=0;C<s.length;C++){var l=s[C];xh(t,l)||o&&xh(o,l)||c(t,l,I(A,l))}},rB=wa,tC=Yo,AC=DA,IM=function(t,A){Sv(A)&&"cause"in A&&Dv(t,"cause",A.cause)},EM=function(t,A,o,s){Lv&&(Wh?Wh(t,A):Mv(t,"stack",Ov(o,s)))},CM=Na,lM=function(t,A){return t===void 0?arguments.length<2?"":A:nM(t)},uM=IA("toStringTag"),ug=Error,dM=[].push,Cs=function(t,A){var o,s=aM(iC,this);lg?o=lg(ug(),s?cM(this):iC):(o=s?this:rB(iC),tC(o,uM,"Error")),A!==void 0&&tC(o,"message",lM(A)),EM(o,Cs,o.stack,1),arguments.length>2&&IM(o,arguments[2]);var c=[];return CM(t,dM,{that:c}),tC(o,"errors",c),o};lg?lg(Cs,ug):gM(Cs,ug,{name:!0});var iC=Cs.prototype=rB(ug.prototype,{constructor:AC(1,Cs),message:AC(1,""),name:AC(1,"AggregateError")});sM({global:!0},{AggregateError:Cs});var dg,Ta,hg,hM=q,oB=U.WeakMap,BM=hM(oB)&&/native code/.test(String(oB)),nB=U,pM=_e,QM=Yo,rC=jA,oC=wE,fM=ng,_M=ag,sB="Object already initialized",nC=nB.TypeError,RM=nB.WeakMap;if(BM||oC.state){var Wr=oC.state||(oC.state=new RM);Wr.get=Wr.get,Wr.has=Wr.has,Wr.set=Wr.set,dg=function(t,A){if(Wr.has(t))throw nC(sB);return A.facade=t,Wr.set(t,A),A},Ta=function(t){return Wr.get(t)||{}},hg=function(t){return Wr.has(t)}}else{var ls=fM("state");_M[ls]=!0,dg=function(t,A){if(rC(t,ls))throw nC(sB);return A.facade=t,QM(t,ls,A),A},Ta=function(t){return rC(t,ls)?t[ls]:{}},hg=function(t){return rC(t,ls)}}var Sn,aB,cB,Dn={set:dg,get:Ta,has:hg,enforce:function(t){return hg(t)?Ta(t):dg(t,{})},getterFor:function(t){return function(A){var o;if(!pM(A)||(o=Ta(A)).type!==t)throw nC("Incompatible receiver, "+t+" required");return o}}},sC=Fe,yM=jA,gB=Function.prototype,mM=sC&&Object.getOwnPropertyDescriptor,IB=yM(gB,"name"),EB={PROPER:IB&&(function(){}).name==="something",CONFIGURABLE:IB&&(!sC||sC&&mM(gB,"name").configurable)},SM=Yo,Jo=function(t,A,o,s){return s&&s.enumerable?t[A]=o:SM(t,A,o),t},DM=E,wM=q,NM=_e,TM=wa,CB=VE,bM=Jo,aC=IA("iterator"),lB=!1;[].keys&&("next"in(cB=[].keys())?(aB=CB(CB(cB)))!==Object.prototype&&(Sn=aB):lB=!0);var vM=!NM(Sn)||DM(function(){var t={};return Sn[aC].call(t)!==t});wM((Sn=vM?{}:TM(Sn))[aC])||bM(Sn,aC,function(){return this});var uB={IteratorPrototype:Sn,BUGGY_SAFARI_ITERATORS:lB},MM=$r,OM=FE?{}.toString:function(){return"[object "+MM(this)+"]"},LM=FE,kM=gr.f,UM=Yo,PM=jA,GM=OM,dB=IA("toStringTag"),Ho=function(t,A,o,s){if(t){var c=o?t:t.prototype;PM(c,dB)||kM(c,dB,{configurable:!0,value:A}),s&&!LM&&UM(c,"toString",GM)}},FM=uB.IteratorPrototype,KM=wa,xM=DA,YM=Ho,JM=mn,HM=function(){return this},cC=function(t,A,o,s){var c=A+" Iterator";return t.prototype=KM(FM,{next:xM(+!s,o)}),YM(t,c,!1,!0),JM[c]=HM,t},qM=Lt,VM=je,jM=EB,$M=cC,WM=VE,XM=Ho,hB=Jo,BB=mn,ZM=uB,zM=jM.PROPER,Bg=ZM.BUGGY_SAFARI_ITERATORS,gC=IA("iterator"),pB="keys",pg="values",QB="entries",eO=function(){return this},fB=function(t,A,o,s,c,I,C){$M(o,A,s);var l,d,h,Q=function(P){if(P===c&&v)return v;if(!Bg&&P in w)return w[P];switch(P){case pB:case pg:case QB:return function(){return new o(this,P)}}return function(){return new o(this)}},_=A+" Iterator",S=!1,w=t.prototype,k=w[gC]||w["@@iterator"]||c&&w[c],v=!Bg&&k||Q(c),b=A=="Array"&&w.entries||k;if(b&&(l=WM(b.call(new t)))!==Object.prototype&&l.next&&(XM(l,_,!0,!0),BB[_]=eO),zM&&c==pg&&k&&k.name!==pg&&(S=!0,v=function(){return VM(k,this)}),c)if(d={values:Q(pg),keys:I?v:Q(pB),entries:Q(QB)},C)for(h in d)(Bg||S||!(h in w))&&hB(w,h,d[h]);else qM({target:A,proto:!0,forced:Bg||S},d);return C&&w[gC]!==v&&hB(w,gC,v,{}),BB[A]=v,d},IC=function(t,A){return{value:t,done:A}},tO=cr,_B=mn,RB=Dn;gr.f;var AO=fB,yB=IC,mB="Array Iterator",iO=RB.set,rO=RB.getterFor(mB);AO(Array,"Array",function(t,A){iO(this,{type:mB,target:tO(t),index:0,kind:A})},function(){var t=rO(this),A=t.target,o=t.kind,s=t.index++;return!A||s>=A.length?(t.target=void 0,yB(void 0,!0)):yB(o=="keys"?s:o=="values"?A[s]:[s,A[s]],!1)},"values"),_B.Arguments=_B.Array;var oO=gr,Qg=function(t,A,o){return oO.f(t,A,o)},nO=$e,sO=Qg,aO=Fe,SB=IA("species"),cO=M,gO=TypeError,EC=function(t,A){if(cO(A,t))return t;throw gO("Incorrect invocation")},IO=q,CC=wE,EO=D(Function.toString);IO(CC.inspectSource)||(CC.inspectSource=function(t){return EO(t)});var DB=CC.inspectSource,CO=D,lO=E,wB=q,uO=$r,dO=DB,NB=function(){},hO=[],TB=$e("Reflect","construct"),lC=/^\s*(?:class|function)\b/,BO=CO(lC.exec),pO=!lC.exec(NB),ba=function(t){if(!wB(t))return!1;try{return TB(NB,hO,t),!0}catch{return!1}},bB=function(t){if(!wB(t))return!1;switch(uO(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return pO||!!BO(lC,dO(t))}catch{return!0}};bB.sham=!0;var va,us,vB,uC,fg=!TB||lO(function(){var t;return ba(ba.call)||!ba(Object)||!ba(function(){t=!0})||t})?bB:ba,QO=fg,fO=lt,_O=TypeError,MB=Ri,RO=function(t){if(QO(t))return t;throw _O(fO(t)+" is not a constructor")},yO=fi,mO=IA("species"),dC=function(t,A){var o,s=MB(t).constructor;return s===void 0||yO(o=MB(s)[mO])?A:RO(o)},hC=D([].slice),SO=TypeError,_g=function(t,A){if(t<A)throw SO("Not enough arguments");return t},OB=/(?:ipad|iphone|ipod).*applewebkit/i.test(We),Zi=U,DO=ee,wO=xo,LB=q,NO=jA,kB=E,UB=Yh,TO=hC,PB=vE,bO=_g,vO=OB,MO=Sa,BC=Zi.setImmediate,GB=Zi.clearImmediate,OO=Zi.process,pC=Zi.Dispatch,LO=Zi.Function,FB=Zi.MessageChannel,kO=Zi.String,QC=0,Ma={},KB="onreadystatechange";kB(function(){va=Zi.location});var fC=function(t){if(NO(Ma,t)){var A=Ma[t];delete Ma[t],A()}},_C=function(t){return function(){fC(t)}},xB=function(t){fC(t.data)},YB=function(t){Zi.postMessage(kO(t),va.protocol+"//"+va.host)};BC&&GB||(BC=function(t){bO(arguments.length,1);var A=LB(t)?t:LO(t),o=TO(arguments,1);return Ma[++QC]=function(){DO(A,void 0,o)},us(QC),QC},GB=function(t){delete Ma[t]},MO?us=function(t){OO.nextTick(_C(t))}:pC&&pC.now?us=function(t){pC.now(_C(t))}:FB&&!vO?(uC=(vB=new FB).port2,vB.port1.onmessage=xB,us=wO(uC.postMessage,uC)):Zi.addEventListener&&LB(Zi.postMessage)&&!Zi.importScripts&&va&&va.protocol!=="file:"&&!kB(YB)?(us=YB,Zi.addEventListener("message",xB,!1)):us=KB in PB("script")?function(t){UB.appendChild(PB("script"))[KB]=function(){UB.removeChild(this),fC(t)}}:function(t){setTimeout(_C(t),0)});var JB={set:BC},HB=function(){this.head=null,this.tail=null};HB.prototype={add:function(t){var A={item:t,next:null},o=this.tail;o?o.next=A:this.head=A,this.tail=A},get:function(){var t=this.head;if(t)return(this.head=t.next)===null&&(this.tail=null),t.item}};var ds,RC,yC,mC,qB,VB=HB,UO=/ipad|iphone|ipod/i.test(We)&&typeof Pebble<"u",PO=/web0s(?!.*chrome)/i.test(We),wn=U,jB=xo,GO=me.f,SC=JB.set,FO=VB,KO=OB,xO=UO,YO=PO,DC=Sa,$B=wn.MutationObserver||wn.WebKitMutationObserver,WB=wn.document,XB=wn.process,Rg=wn.Promise,ZB=GO(wn,"queueMicrotask"),wC=ZB&&ZB.value;if(!wC){var yg=new FO,mg=function(){var t,A;for(DC&&(t=XB.domain)&&t.exit();A=yg.get();)try{A()}catch(o){throw yg.head&&ds(),o}t&&t.enter()};KO||DC||YO||!$B||!WB?!xO&&Rg&&Rg.resolve?((mC=Rg.resolve(void 0)).constructor=Rg,qB=jB(mC.then,mC),ds=function(){qB(mg)}):DC?ds=function(){XB.nextTick(mg)}:(SC=jB(SC,wn),ds=function(){SC(mg)}):(RC=!0,yC=WB.createTextNode(""),new $B(mg).observe(yC,{characterData:!0}),ds=function(){yC.data=RC=!RC}),wC=function(t){yg.head||ds(),yg.add(t)}}var JO=wC,hs=function(t){try{return{error:!1,value:t()}}catch(A){return{error:!0,value:A}}},Nn=U.Promise,zB=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",HO=!zB&&!Sa&&typeof window=="object"&&typeof document=="object",qO=U,Oa=Nn,VO=q,jO=fh,$O=DB,WO=IA,XO=HO,ZO=zB,NC=VA,ep=Oa&&Oa.prototype,zO=WO("species"),tp=VO(qO.PromiseRejectionEvent),eL=jO("Promise",function(){var t=$O(Oa),A=t!==String(Oa);if(!A&&NC===66||!ep.catch||!ep.finally)return!0;if(!NC||NC<51||!/native code/.test(t)){var o=new Oa(function(c){c(1)}),s=function(c){c(function(){},function(){})};if((o.constructor={})[zO]=s,!(o.then(function(){})instanceof s))return!0}return!A&&(XO||ZO)&&!tp}),La={CONSTRUCTOR:eL,REJECTION_EVENT:tp},Xr={},Ap=Gi,tL=TypeError,AL=function(t){var A,o;this.promise=new t(function(s,c){if(A!==void 0||o!==void 0)throw tL("Bad Promise constructor");A=s,o=c}),this.resolve=Ap(A),this.reject=Ap(o)};Xr.f=function(t){return new AL(t)};var TC,ip,iL=Lt,Sg=Sa,qo=U,ka=je,rL=Jo,oL=Ho,nL=function(t){var A=nO(t);aO&&A&&!A[SB]&&sO(A,SB,{configurable:!0,get:function(){return this}})},sL=Gi,bC=q,aL=_e,cL=EC,gL=dC,rp=JB.set,vC=JO,IL=function(t,A){try{arguments.length==1?console.error(t):console.error(t,A)}catch{}},EL=hs,CL=VB,op=Dn,MC=Nn,np=La,sp=Xr,Dg="Promise",ap=np.CONSTRUCTOR,lL=np.REJECTION_EVENT,OC=op.getterFor(Dg),uL=op.set,dL=MC&&MC.prototype,Ua=MC,LC=dL,cp=qo.TypeError,kC=qo.document,UC=qo.process,PC=sp.f,hL=PC,BL=!!(kC&&kC.createEvent&&qo.dispatchEvent),gp="unhandledrejection",Ip=function(t){var A;return!(!aL(t)||!bC(A=t.then))&&A},Ep=function(t,A){var o,s,c,I=A.value,C=A.state==1,l=C?t.ok:t.fail,d=t.resolve,h=t.reject,Q=t.domain;try{l?(C||(A.rejection===2&&QL(A),A.rejection=1),l===!0?o=I:(Q&&Q.enter(),o=l(I),Q&&(Q.exit(),c=!0)),o===t.promise?h(cp("Promise-chain cycle")):(s=Ip(o))?ka(s,o,d,h):d(o)):h(I)}catch(_){Q&&!c&&Q.exit(),h(_)}},Cp=function(t,A){t.notified||(t.notified=!0,vC(function(){for(var o,s=t.reactions;o=s.get();)Ep(o,t);t.notified=!1,A&&!t.rejection&&pL(t)}))},lp=function(t,A,o){var s,c;BL?((s=kC.createEvent("Event")).promise=A,s.reason=o,s.initEvent(t,!1,!0),qo.dispatchEvent(s)):s={promise:A,reason:o},!lL&&(c=qo["on"+t])?c(s):t===gp&&IL("Unhandled promise rejection",o)},pL=function(t){ka(rp,qo,function(){var A,o=t.facade,s=t.value;if(up(t)&&(A=EL(function(){Sg?UC.emit("unhandledRejection",s,o):lp(gp,o,s)}),t.rejection=Sg||up(t)?2:1,A.error))throw A.value})},up=function(t){return t.rejection!==1&&!t.parent},QL=function(t){ka(rp,qo,function(){var A=t.facade;Sg?UC.emit("rejectionHandled",A):lp("rejectionhandled",A,t.value)})},Bs=function(t,A,o){return function(s){t(A,s,o)}},ps=function(t,A,o){t.done||(t.done=!0,o&&(t=o),t.value=A,t.state=2,Cp(t,!0))},GC=function(t,A,o){if(!t.done){t.done=!0,o&&(t=o);try{if(t.facade===A)throw cp("Promise can't be resolved itself");var s=Ip(A);s?vC(function(){var c={done:!1};try{ka(s,A,Bs(GC,c,t),Bs(ps,c,t))}catch(I){ps(c,I,t)}}):(t.value=A,t.state=1,Cp(t,!1))}catch(c){ps({done:!1},c,t)}}};ap&&(LC=(Ua=function(t){cL(this,LC),sL(t),ka(TC,this);var A=OC(this);try{t(Bs(GC,A),Bs(ps,A))}catch(o){ps(A,o)}}).prototype,(TC=function(t){uL(this,{type:Dg,done:!1,notified:!1,parent:!1,reactions:new CL,rejection:!1,state:0,value:void 0})}).prototype=rL(LC,"then",function(t,A){var o=OC(this),s=PC(gL(this,Ua));return o.parent=!0,s.ok=!bC(t)||t,s.fail=bC(A)&&A,s.domain=Sg?UC.domain:void 0,o.state==0?o.reactions.add(s):vC(function(){Ep(s,o)}),s.promise}),ip=function(){var t=new TC,A=OC(t);this.promise=t,this.resolve=Bs(GC,A),this.reject=Bs(ps,A)},sp.f=PC=function(t){return t===Ua||t===void 0?new ip(t):hL(t)}),iL({global:!0,wrap:!0,forced:ap},{Promise:Ua}),oL(Ua,Dg,!1,!0),nL(Dg);var dp=IA("iterator"),hp=!1;try{var fL=0,Bp={next:function(){return{done:!!fL++}},return:function(){hp=!0}};Bp[dp]=function(){return this},Array.from(Bp,function(){throw 2})}catch{}var _L=Nn,RL=function(t,A){if(!hp)return!1;var o=!1;try{var s={};s[dp]=function(){return{next:function(){return{done:o=!0}}}},t(s)}catch{}return o},wg=La.CONSTRUCTOR||!RL(function(t){_L.all(t).then(void 0,function(){})}),yL=je,mL=Gi,SL=Xr,DL=hs,wL=Na;Lt({target:"Promise",stat:!0,forced:wg},{all:function(t){var A=this,o=SL.f(A),s=o.resolve,c=o.reject,I=DL(function(){var C=mL(A.resolve),l=[],d=0,h=1;wL(t,function(Q){var _=d++,S=!1;h++,yL(C,A,Q).then(function(w){S||(S=!0,l[_]=w,--h||s(l))},c)}),--h||s(l)});return I.error&&c(I.value),o.promise}});var NL=Lt,TL=La.CONSTRUCTOR;Nn&&Nn.prototype,NL({target:"Promise",proto:!0,forced:TL,real:!0},{catch:function(t){return this.then(void 0,t)}});var bL=je,vL=Gi,ML=Xr,OL=hs,LL=Na;Lt({target:"Promise",stat:!0,forced:wg},{race:function(t){var A=this,o=ML.f(A),s=o.reject,c=OL(function(){var I=vL(A.resolve);LL(t,function(C){bL(I,A,C).then(o.resolve,s)})});return c.error&&s(c.value),o.promise}});var kL=je,UL=Xr;Lt({target:"Promise",stat:!0,forced:La.CONSTRUCTOR},{reject:function(t){var A=UL.f(this);return kL(A.reject,void 0,t),A.promise}});var PL=Ri,GL=_e,FL=Xr,pp=function(t,A){if(PL(t),GL(A)&&A.constructor===t)return A;var o=FL.f(t);return(0,o.resolve)(A),o.promise},KL=Lt,xL=Nn,YL=La.CONSTRUCTOR,JL=pp,HL=$e("Promise"),qL=!YL;KL({target:"Promise",stat:!0,forced:!0},{resolve:function(t){return JL(qL&&this===HL?xL:this,t)}});var VL=je,jL=Gi,$L=Xr,WL=hs,XL=Na;Lt({target:"Promise",stat:!0,forced:wg},{allSettled:function(t){var A=this,o=$L.f(A),s=o.resolve,c=o.reject,I=WL(function(){var C=jL(A.resolve),l=[],d=0,h=1;XL(t,function(Q){var _=d++,S=!1;h++,VL(C,A,Q).then(function(w){S||(S=!0,l[_]={status:"fulfilled",value:w},--h||s(l))},function(w){S||(S=!0,l[_]={status:"rejected",reason:w},--h||s(l))})}),--h||s(l)});return I.error&&c(I.value),o.promise}});var ZL=je,zL=Gi,ek=$e,tk=Xr,Ak=hs,ik=Na,Qp="No one promise resolved";Lt({target:"Promise",stat:!0,forced:wg},{any:function(t){var A=this,o=ek("AggregateError"),s=tk.f(A),c=s.resolve,I=s.reject,C=Ak(function(){var l=zL(A.resolve),d=[],h=0,Q=1,_=!1;ik(t,function(S){var w=h++,k=!1;Q++,ZL(l,A,S).then(function(v){k||_||(_=!0,c(v))},function(v){k||_||(k=!0,d[w]=v,--Q||I(new o(d,Qp)))})}),--Q||I(new o(d,Qp))});return C.error&&I(C.value),s.promise}});var rk=Lt,FC=Nn,nk=E,sk=$e,ak=q,ck=dC,fp=pp,gk=FC&&FC.prototype;rk({target:"Promise",proto:!0,real:!0,forced:!!FC&&nk(function(){gk.finally.call({then:function(){}},function(){})})},{finally:function(t){var A=ck(this,sk("Promise")),o=ak(t);return this.then(o?function(s){return fp(A,t()).then(function(){return s})}:t,o?function(s){return fp(A,t()).then(function(){throw s})}:t)}});var KC=D,Ik=UE,Ek=Xi,Ck=vr,lk=KC("".charAt),_p=KC("".charCodeAt),uk=KC("".slice),Rp=function(t){return function(A,o){var s,c,I=Ek(Ck(A)),C=Ik(o),l=I.length;return C<0||C>=l?t?"":void 0:(s=_p(I,C))<55296||s>56319||C+1===l||(c=_p(I,C+1))<56320||c>57343?t?lk(I,C):s:t?uk(I,C,C+2):c-56320+(s-55296<<10)+65536}},xC={codeAt:Rp(!1),charAt:Rp(!0)},dk=xC.charAt,hk=Xi,yp=Dn,Bk=fB,mp=IC,Sp="String Iterator",pk=yp.set,Qk=yp.getterFor(Sp);Bk(String,"String",function(t){pk(this,{type:Sp,string:hk(t),index:0})},function(){var t,A=Qk(this),o=A.string,s=A.index;return s>=o.length?mp(void 0,!0):(t=dk(o,s),A.index+=t.length,mp(t,!1))});var fk=Ui.Promise,Rk={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},yk=U,mk=$r,Sk=Yo,Dp=mn,wp=IA("toStringTag");for(var YC in Rk){var Np=yk[YC],JC=Np&&Np.prototype;JC&&mk(JC)!==wp&&Sk(JC,wp,YC),Dp[YC]=Dp.Array}var Tp=fk,pe=g(Tp);const bp=Oh;function vp(t,A){const o=t&&t.navigator;if(!o.mediaDevices)return;const s=function(C){if(typeof C!="object"||C.mandatory||C.optional)return C;const l={};return Object.keys(C).forEach(d=>{if(d==="require"||d==="advanced"||d==="mediaSource")return;const h=typeof C[d]=="object"?C[d]:{ideal:C[d]};h.exact!==void 0&&typeof h.exact=="number"&&(h.min=h.max=h.exact);const Q=function(_,S){return _?_+S.charAt(0).toUpperCase()+S.slice(1):S==="deviceId"?"sourceId":S};if(h.ideal!==void 0){l.optional=l.optional||[];let _={};typeof h.ideal=="number"?(_[Q("min",d)]=h.ideal,l.optional.push(_),_={},_[Q("max",d)]=h.ideal,l.optional.push(_)):(_[Q("",d)]=h.ideal,l.optional.push(_))}h.exact!==void 0&&typeof h.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[Q("",d)]=h.exact):["min","max"].forEach(_=>{h[_]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[Q(_,d)]=h[_])})}),C.advanced&&(l.optional=(l.optional||[]).concat(C.advanced)),l},c=function(C,l){if(A.version>=61)return l(C);if((C=JSON.parse(JSON.stringify(C)))&&typeof C.audio=="object"){const d=function(h,Q,_){Q in h&&!(_ in h)&&(h[_]=h[Q],delete h[Q])};d((C=JSON.parse(JSON.stringify(C))).audio,"autoGainControl","googAutoGainControl"),d(C.audio,"noiseSuppression","googNoiseSuppression"),C.audio=s(C.audio)}if(C&&typeof C.video=="object"){let d=C.video.facingMode;d=d&&(typeof d=="object"?d:{ideal:d});const h=A.version<66;if(d&&(d.exact==="user"||d.exact==="environment"||d.ideal==="user"||d.ideal==="environment")&&(!o.mediaDevices.getSupportedConstraints||!o.mediaDevices.getSupportedConstraints().facingMode||h)){let Q;if(delete C.video.facingMode,d.exact==="environment"||d.ideal==="environment"?Q=["back","rear"]:d.exact!=="user"&&d.ideal!=="user"||(Q=["front"]),Q)return o.mediaDevices.enumerateDevices().then(_=>{let S=(_=_.filter(w=>w.kind==="videoinput")).find(w=>Q.some(k=>{var v;return Re(v=w.label.toLowerCase()).call(v,k)}));return!S&&_.length&&Re(Q).call(Q,"back")&&(S=_[_.length-1]),S&&(C.video.deviceId=d.exact?{exact:S.deviceId}:{ideal:S.deviceId}),C.video=s(C.video),bp("chrome: "+JSON.stringify(C)),l(C)})}C.video=s(C.video)}return bp("chrome: "+JSON.stringify(C)),l(C)},I=function(C){return A.version>=64?C:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[C.name]||C.name,message:C.message,constraint:C.constraint||C.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(o.getUserMedia=(function(C,l,d){c(C,h=>{o.webkitGetUserMedia(h,l,Q=>{d&&d(I(Q))})})}).bind(o),o.mediaDevices.getUserMedia){const C=o.mediaDevices.getUserMedia.bind(o.mediaDevices);o.mediaDevices.getUserMedia=function(l){return c(l,d=>C(d).then(h=>{if(d.audio&&!h.getAudioTracks().length||d.video&&!h.getVideoTracks().length)throw h.getTracks().forEach(Q=>{Q.stop()}),new DOMException("","NotFoundError");return h},h=>pe.reject(I(h))))}}}function Mp(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function Lp(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(o){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=o)},enumerable:!0,configurable:!0});const A=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=o=>{o.stream.addEventListener("addtrack",s=>{let c;c=t.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(C=>C.track&&C.track.id===s.track.id):{track:s.track};const I=new Event("track");I.track=s.track,I.receiver=c,I.transceiver={receiver:c},I.streams=[o.stream],this.dispatchEvent(I)}),o.stream.getTracks().forEach(s=>{let c;c=t.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(C=>C.track&&C.track.id===s.id):{track:s};const I=new Event("track");I.track=s,I.receiver=c,I.transceiver={receiver:c},I.streams=[o.stream],this.dispatchEvent(I)})},this.addEventListener("addstream",this._ontrackpoly)),A.apply(this,arguments)}}else yn(t,"track",A=>(A.transceiver||Object.defineProperty(A,"transceiver",{value:{receiver:A.receiver}}),A))}function kp(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const A=function(c,I){return{track:I,get dtmf(){return this._dtmf===void 0&&(I.kind==="audio"?this._dtmf=c.createDTMFSender(I):this._dtmf=null),this._dtmf},_pc:c}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const c=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(C,l){let d=c.apply(this,arguments);return d||(d=A(this,C),this._senders.push(d)),d};const I=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(C){I.apply(this,arguments);const l=this._senders.indexOf(C);l!==-1&&this._senders.splice(l,1)}}const o=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(c){this._senders=this._senders||[],o.apply(this,[c]),c.getTracks().forEach(I=>{this._senders.push(A(this,I))})};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(c){this._senders=this._senders||[],s.apply(this,[c]),c.getTracks().forEach(I=>{const C=this._senders.find(l=>l.track===I);C&&this._senders.splice(this._senders.indexOf(C),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const A=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const o=A.apply(this,[]);return o.forEach(s=>s._pc=this),o},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Up(t){if(!t.RTCPeerConnection)return;const A=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[o,s,c]=arguments;if(arguments.length>0&&typeof o=="function")return A.apply(this,arguments);if(A.length===0&&(arguments.length===0||typeof o!="function"))return A.apply(this,[]);const I=function(l){const d={};return l.result().forEach(h=>{const Q={id:h.id,timestamp:h.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[h.type]||h.type};h.names().forEach(_=>{Q[_]=h.stat(_)}),d[Q.id]=Q}),d},C=function(l){return new Map(Object.keys(l).map(d=>[d,l[d]]))};if(arguments.length>=2){const l=function(d){s(C(I(d)))};return A.apply(this,[l,o])}return new pe((l,d)=>{A.apply(this,[function(h){l(C(I(h)))},d])}).then(s,c)}}function Pp(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const o=t.RTCPeerConnection.prototype.getSenders;o&&(t.RTCPeerConnection.prototype.getSenders=function(){const c=o.apply(this,[]);return c.forEach(I=>I._pc=this),c});const s=t.RTCPeerConnection.prototype.addTrack;s&&(t.RTCPeerConnection.prototype.addTrack=function(){const c=s.apply(this,arguments);return c._pc=this,c}),t.RTCRtpSender.prototype.getStats=function(){const c=this;return this._pc.getStats().then(I=>Uh(I,c.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const o=t.RTCPeerConnection.prototype.getReceivers;o&&(t.RTCPeerConnection.prototype.getReceivers=function(){const s=o.apply(this,[]);return s.forEach(c=>c._pc=this),s}),yn(t,"track",s=>(s.receiver._pc=s.srcElement,s)),t.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(c=>Uh(c,s.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype)||!("getStats"in t.RTCRtpReceiver.prototype))return;const A=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const o=arguments[0];let s,c,I;return this.getSenders().forEach(C=>{C.track===o&&(s?I=!0:s=C)}),this.getReceivers().forEach(C=>(C.track===o&&(c?I=!0:c=C),C.track===o)),I||s&&c?pe.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():c?c.getStats():pe.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return A.apply(this,arguments)}}function Gp(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(I=>this._shimmedLocalStreams[I][0])};const A=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(I,C){if(!C)return A.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=A.apply(this,arguments);return this._shimmedLocalStreams[C.id]?this._shimmedLocalStreams[C.id].indexOf(l)===-1&&this._shimmedLocalStreams[C.id].push(l):this._shimmedLocalStreams[C.id]=[C,l],l};const o=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(I){this._shimmedLocalStreams=this._shimmedLocalStreams||{},I.getTracks().forEach(d=>{if(this.getSenders().find(Q=>Q.track===d))throw new DOMException("Track already exists.","InvalidAccessError")});const C=this.getSenders();o.apply(this,arguments);const l=this.getSenders().filter(d=>C.indexOf(d)===-1);this._shimmedLocalStreams[I.id]=[I].concat(l)};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(I){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[I.id],s.apply(this,arguments)};const c=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(I){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},I&&Object.keys(this._shimmedLocalStreams).forEach(C=>{const l=this._shimmedLocalStreams[C].indexOf(I);l!==-1&&this._shimmedLocalStreams[C].splice(l,1),this._shimmedLocalStreams[C].length===1&&delete this._shimmedLocalStreams[C]}),c.apply(this,arguments)}}function Fp(t,A){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&A.version>=65)return Gp(t);const o=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const d=o.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(h=>this._reverseStreams[h.id])};const s=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(h=>{if(this.getSenders().find(_=>_.track===h))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const h=new t.MediaStream(d.getTracks());this._streams[d.id]=h,this._reverseStreams[h.id]=d,d=h}s.apply(this,[d])};const c=t.RTCPeerConnection.prototype.removeStream;function I(d,h){let Q=h.sdp;return Object.keys(d._reverseStreams||[]).forEach(_=>{const S=d._reverseStreams[_],w=d._streams[S.id];Q=Q.replace(new RegExp(w.id,"g"),S.id)}),new RTCSessionDescription({type:h.type,sdp:Q})}t.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},c.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},t.RTCPeerConnection.prototype.addTrack=function(d,h){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const Q=[].slice.call(arguments,1);if(Q.length!==1||!Q[0].getTracks().find(w=>w===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(w=>w.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const S=this._streams[h.id];if(S)S.addTrack(d),pe.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const w=new t.MediaStream([d]);this._streams[h.id]=w,this._reverseStreams[w.id]=h,this.addStream(w)}return this.getSenders().find(w=>w.track===d)},["createOffer","createAnswer"].forEach(function(d){const h=t.RTCPeerConnection.prototype[d],Q={[d](){const _=arguments;return arguments.length&&typeof arguments[0]=="function"?h.apply(this,[S=>{const w=I(this,S);_[0].apply(null,[w])},S=>{_[1]&&_[1].apply(null,S)},arguments[2]]):h.apply(this,arguments).then(S=>I(this,S))}};t.RTCPeerConnection.prototype[d]=Q[d]});const C=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(d,h){let Q=h.sdp;return Object.keys(d._reverseStreams||[]).forEach(_=>{const S=d._reverseStreams[_],w=d._streams[S.id];Q=Q.replace(new RegExp(S.id,"g"),w.id)}),new RTCSessionDescription({type:h.type,sdp:Q})}(this,arguments[0]),C.apply(this,arguments)):C.apply(this,arguments)};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const d=l.get.apply(this);return d.type===""?d:I(this,d)}}),t.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(d._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let h;this._streams=this._streams||{},Object.keys(this._streams).forEach(Q=>{this._streams[Q].getTracks().find(_=>d.track===_)&&(h=this._streams[Q])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function HC(t,A){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&A.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(o){const s=t.RTCPeerConnection.prototype[o],c={[o](){return arguments[0]=new(o==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[o]=c[o]})}function Kp(t,A){yn(t,"negotiationneeded",o=>{const s=o.target;if(!(A.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")||s.signalingState==="stable")return o})}var xp=Object.freeze({__proto__:null,fixNegotiationNeeded:Kp,shimAddTrackRemoveTrack:Fp,shimAddTrackRemoveTrackWithNative:Gp,shimGetDisplayMedia:function(t,A){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(typeof A=="function"?t.navigator.mediaDevices.getDisplayMedia=function(o){return A(o).then(s=>{const c=o.video&&o.video.width,I=o.video&&o.video.height,C=o.video&&o.video.frameRate;return o.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:s,maxFrameRate:C||3}},c&&(o.video.mandatory.maxWidth=c),I&&(o.video.mandatory.maxHeight=I),t.navigator.mediaDevices.getUserMedia(o)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))},shimGetSendersWithDtmf:kp,shimGetStats:Up,shimGetUserMedia:vp,shimMediaStream:Mp,shimOnTrack:Lp,shimPeerConnection:HC,shimSenderReceiverGetStats:Pp});function Yp(t,A){const o=t&&t.navigator,s=t&&t.MediaStreamTrack;if(o.getUserMedia=function(c,I,C){JE("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),o.mediaDevices.getUserMedia(c).then(I,C)},!(A.version>55&&"autoGainControl"in o.mediaDevices.getSupportedConstraints())){const c=function(C,l,d){l in C&&!(d in C)&&(C[d]=C[l],delete C[l])},I=o.mediaDevices.getUserMedia.bind(o.mediaDevices);if(o.mediaDevices.getUserMedia=function(C){return typeof C=="object"&&typeof C.audio=="object"&&(C=JSON.parse(JSON.stringify(C)),c(C.audio,"autoGainControl","mozAutoGainControl"),c(C.audio,"noiseSuppression","mozNoiseSuppression")),I(C)},s&&s.prototype.getSettings){const C=s.prototype.getSettings;s.prototype.getSettings=function(){const l=C.apply(this,arguments);return c(l,"mozAutoGainControl","autoGainControl"),c(l,"mozNoiseSuppression","noiseSuppression"),l}}if(s&&s.prototype.applyConstraints){const C=s.prototype.applyConstraints;s.prototype.applyConstraints=function(l){return this.kind==="audio"&&typeof l=="object"&&(l=JSON.parse(JSON.stringify(l)),c(l,"autoGainControl","mozAutoGainControl"),c(l,"noiseSuppression","mozNoiseSuppression")),C.apply(this,[l])}}}}function Jp(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function qC(t,A){if(typeof t!="object"||!t.RTCPeerConnection&&!t.mozRTCPeerConnection)return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),A.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(c){const I=t.RTCPeerConnection.prototype[c],C={[c](){return arguments[0]=new(c==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),I.apply(this,arguments)}};t.RTCPeerConnection.prototype[c]=C[c]});const o={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[c,I,C]=arguments;return s.apply(this,[c||null]).then(l=>{if(A.version<53&&!I)try{l.forEach(d=>{d.type=o[d.type]||d.type})}catch(d){if(d.name!=="TypeError")throw d;l.forEach((h,Q)=>{l.set(Q,Object.assign({},h,{type:o[h.type]||h.type}))})}return l}).then(I,C)}}function Hp(t){if(typeof t!="object"||!t.RTCPeerConnection||!t.RTCRtpSender||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const A=t.RTCPeerConnection.prototype.getSenders;A&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=A.apply(this,[]);return s.forEach(c=>c._pc=this),s});const o=t.RTCPeerConnection.prototype.addTrack;o&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=o.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):pe.resolve(new Map)}}function qp(t){if(typeof t!="object"||!t.RTCPeerConnection||!t.RTCRtpSender||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const A=t.RTCPeerConnection.prototype.getReceivers;A&&(t.RTCPeerConnection.prototype.getReceivers=function(){const o=A.apply(this,[]);return o.forEach(s=>s._pc=this),o}),yn(t,"track",o=>(o.receiver._pc=o.srcElement,o)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Vp(t){t.RTCPeerConnection&&!("removeStream"in t.RTCPeerConnection.prototype)&&(t.RTCPeerConnection.prototype.removeStream=function(A){JE("removeStream","removeTrack"),this.getSenders().forEach(o=>{var s;o.track&&Re(s=A.getTracks()).call(s,o.track)&&this.removeTrack(o)})})}function jp(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function $p(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const A=t.RTCPeerConnection.prototype.addTransceiver;A&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let o=arguments[1]&&arguments[1].sendEncodings;o===void 0&&(o=[]),o=[...o];const s=o.length>0;s&&o.forEach(I=>{if("rid"in I&&!/^[a-z0-9]{0,16}$/i.test(I.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in I&&!(parseFloat(I.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in I&&!(parseFloat(I.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const c=A.apply(this,arguments);if(s){const{sender:I}=c,C=I.getParameters();(!("encodings"in C)||C.encodings.length===1&&Object.keys(C.encodings[0]).length===0)&&(C.encodings=o,I.sendEncodings=o,this.setParametersPromises.push(I.setParameters(C).then(()=>{delete I.sendEncodings}).catch(()=>{delete I.sendEncodings})))}return c})}function Wp(t){if(typeof t!="object"||!t.RTCRtpSender)return;const A=t.RTCRtpSender.prototype.getParameters;A&&(t.RTCRtpSender.prototype.getParameters=function(){const o=A.apply(this,arguments);return"encodings"in o||(o.encodings=[].concat(this.sendEncodings||[{}])),o})}function Xp(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const A=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?pe.all(this.setParametersPromises).then(()=>A.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):A.apply(this,arguments)}}function Zp(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const A=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?pe.all(this.setParametersPromises).then(()=>A.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):A.apply(this,arguments)}}var zp=Object.freeze({__proto__:null,shimAddTransceiver:$p,shimCreateAnswer:Zp,shimCreateOffer:Xp,shimGetDisplayMedia:function(t,A){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(o){if(!o||!o.video){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,pe.reject(s)}return o.video===!0?o.video={mediaSource:A}:o.video.mediaSource=A,t.navigator.mediaDevices.getUserMedia(o)})},shimGetParameters:Wp,shimGetUserMedia:Yp,shimOnTrack:Jp,shimPeerConnection:qC,shimRTCDataChannel:jp,shimReceiverGetStats:qp,shimRemoveStream:Vp,shimSenderGetStats:Hp});function eQ(t){if(typeof t=="object"&&t.RTCPeerConnection){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const A=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(o){var s;this._localStreams||(this._localStreams=[]),Re(s=this._localStreams).call(s,o)||this._localStreams.push(o),o.getAudioTracks().forEach(c=>A.call(this,c,o)),o.getVideoTracks().forEach(c=>A.call(this,c,o))},t.RTCPeerConnection.prototype.addTrack=function(o){for(var s=arguments.length,c=new Array(s>1?s-1:0),I=1;I<s;I++)c[I-1]=arguments[I];return c&&c.forEach(C=>{var l;this._localStreams?Re(l=this._localStreams).call(l,C)||this._localStreams.push(C):this._localStreams=[C]}),A.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(A){this._localStreams||(this._localStreams=[]);const o=this._localStreams.indexOf(A);if(o===-1)return;this._localStreams.splice(o,1);const s=A.getTracks();this.getSenders().forEach(c=>{Re(s).call(s,c.track)&&this.removeTrack(c)})})}}function tQ(t){if(typeof t=="object"&&t.RTCPeerConnection&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(o){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=o),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(c=>{var I;if(this._remoteStreams||(this._remoteStreams=[]),Re(I=this._remoteStreams).call(I,c))return;this._remoteStreams.push(c);const C=new Event("addstream");C.stream=c,this.dispatchEvent(C)})})}});const A=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const o=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(c=>{if(o._remoteStreams||(o._remoteStreams=[]),o._remoteStreams.indexOf(c)>=0)return;o._remoteStreams.push(c);const I=new Event("addstream");I.stream=c,o.dispatchEvent(I)})}),A.apply(o,arguments)}}}function AQ(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const A=t.RTCPeerConnection.prototype,o=A.createOffer,s=A.createAnswer,c=A.setLocalDescription,I=A.setRemoteDescription,C=A.addIceCandidate;A.createOffer=function(d,h){const Q=arguments.length>=2?arguments[2]:arguments[0],_=o.apply(this,[Q]);return h?(_.then(d,h),pe.resolve()):_},A.createAnswer=function(d,h){const Q=arguments.length>=2?arguments[2]:arguments[0],_=s.apply(this,[Q]);return h?(_.then(d,h),pe.resolve()):_};let l=function(d,h,Q){const _=c.apply(this,[d]);return Q?(_.then(h,Q),pe.resolve()):_};A.setLocalDescription=l,l=function(d,h,Q){const _=I.apply(this,[d]);return Q?(_.then(h,Q),pe.resolve()):_},A.setRemoteDescription=l,l=function(d,h,Q){const _=C.apply(this,[d]);return Q?(_.then(h,Q),pe.resolve()):_},A.addIceCandidate=l}function iQ(t){const A=t&&t.navigator;if(A.mediaDevices&&A.mediaDevices.getUserMedia){const o=A.mediaDevices,s=o.getUserMedia.bind(o);A.mediaDevices.getUserMedia=c=>s(rQ(c))}!A.getUserMedia&&A.mediaDevices&&A.mediaDevices.getUserMedia&&(A.getUserMedia=(function(o,s,c){A.mediaDevices.getUserMedia(o).then(s,c)}).bind(A))}function rQ(t){return t&&t.video!==void 0?Object.assign({},t,{video:kh(t.video)}):t}function oQ(t){if(!t.RTCPeerConnection)return;const A=t.RTCPeerConnection;t.RTCPeerConnection=function(o,s){if(o&&o.iceServers){const c=[];for(let I=0;I<o.iceServers.length;I++){let C=o.iceServers[I];!C.hasOwnProperty("urls")&&C.hasOwnProperty("url")?(JE("RTCIceServer.url","RTCIceServer.urls"),C=JSON.parse(JSON.stringify(C)),C.urls=C.url,delete C.url,c.push(C)):c.push(o.iceServers[I])}o.iceServers=c}return new A(o,s)},t.RTCPeerConnection.prototype=A.prototype,"generateCertificate"in A&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get:()=>A.generateCertificate})}function nQ(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function sQ(t){const A=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(o){if(o){o.offerToReceiveAudio!==void 0&&(o.offerToReceiveAudio=!!o.offerToReceiveAudio);const s=this.getTransceivers().find(I=>I.receiver.track.kind==="audio");o.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):o.offerToReceiveAudio!==!0||s||this.addTransceiver("audio",{direction:"recvonly"}),o.offerToReceiveVideo!==void 0&&(o.offerToReceiveVideo=!!o.offerToReceiveVideo);const c=this.getTransceivers().find(I=>I.receiver.track.kind==="video");o.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):o.offerToReceiveVideo!==!0||c||this.addTransceiver("video",{direction:"recvonly"})}return A.apply(this,arguments)}}function aQ(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}var cQ=Object.freeze({__proto__:null,shimAudioContext:aQ,shimCallbacksAPI:AQ,shimConstraints:rQ,shimCreateOfferLegacy:sQ,shimGetUserMedia:iQ,shimLocalStreamsAPI:eQ,shimRTCIceServerUrls:oQ,shimRemoteStreamsAPI:tQ,shimTrackEventTransceiver:nQ}),gQ=`	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`,Dk=vr,wk=Xi,VC=gQ,IQ=D("".replace),Nk=RegExp("^["+VC+"]+"),Tk=RegExp("(^|[^"+VC+"])["+VC+"]+$"),bk=function(t){return function(A){var o=wk(Dk(A));return 1&t&&(o=IQ(o,Nk,"")),2&t&&(o=IQ(o,Tk,"$1")),o}},vk={trim:bk(3)},Mk=EB.PROPER,Lk=E,EQ=gQ,kk=vk.trim;Lt({target:"String",proto:!0,forced:function(t){return Lk(function(){return!!EQ[t]()||"âÂá "[t]()!=="âÂá "||Mk&&EQ[t].name!==t})}("trim")},{trim:function(){return kk(this)}});var Uk=Ir("String").trim,Pk=M,Gk=Uk,jC=String.prototype,Fk=function(t){var A=t.trim;return typeof t=="string"||t===jC||Pk(jC,t)&&A===jC.trim?Gk:A},Ai=g(Fk),CQ={exports:{}};(function(t){const A={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};A.localCName=A.generateIdentifier(),A.splitLines=function(o){return o.trim().split(`
`).map(s=>s.trim())},A.splitSections=function(o){return o.split(`
m=`).map((s,c)=>(c>0?"m="+s:s).trim()+`\r
`)},A.getDescription=function(o){const s=A.splitSections(o);return s&&s[0]},A.getMediaSections=function(o){const s=A.splitSections(o);return s.shift(),s},A.matchPrefix=function(o,s){return A.splitLines(o).filter(c=>c.indexOf(s)===0)},A.parseCandidate=function(o){let s;s=o.indexOf("a=candidate:")===0?o.substring(12).split(" "):o.substring(10).split(" ");const c={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let I=8;I<s.length;I+=2)switch(s[I]){case"raddr":c.relatedAddress=s[I+1];break;case"rport":c.relatedPort=parseInt(s[I+1],10);break;case"tcptype":c.tcpType=s[I+1];break;case"ufrag":c.ufrag=s[I+1],c.usernameFragment=s[I+1];break;default:c[s[I]]===void 0&&(c[s[I]]=s[I+1])}return c},A.writeCandidate=function(o){const s=[];s.push(o.foundation);const c=o.component;c==="rtp"?s.push(1):c==="rtcp"?s.push(2):s.push(c),s.push(o.protocol.toUpperCase()),s.push(o.priority),s.push(o.address||o.ip),s.push(o.port);const I=o.type;return s.push("typ"),s.push(I),I!=="host"&&o.relatedAddress&&o.relatedPort&&(s.push("raddr"),s.push(o.relatedAddress),s.push("rport"),s.push(o.relatedPort)),o.tcpType&&o.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(o.tcpType)),(o.usernameFragment||o.ufrag)&&(s.push("ufrag"),s.push(o.usernameFragment||o.ufrag)),"candidate:"+s.join(" ")},A.parseIceOptions=function(o){return o.substring(14).split(" ")},A.parseRtpMap=function(o){let s=o.substring(9).split(" ");const c={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),c.name=s[0],c.clockRate=parseInt(s[1],10),c.channels=s.length===3?parseInt(s[2],10):1,c.numChannels=c.channels,c},A.writeRtpMap=function(o){let s=o.payloadType;o.preferredPayloadType!==void 0&&(s=o.preferredPayloadType);const c=o.channels||o.numChannels||1;return"a=rtpmap:"+s+" "+o.name+"/"+o.clockRate+(c!==1?"/"+c:"")+`\r
`},A.parseExtmap=function(o){const s=o.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},A.writeExtmap=function(o){return"a=extmap:"+(o.id||o.preferredId)+(o.direction&&o.direction!=="sendrecv"?"/"+o.direction:"")+" "+o.uri+(o.attributes?" "+o.attributes:"")+`\r
`},A.parseFmtp=function(o){const s={};let c;const I=o.substring(o.indexOf(" ")+1).split(";");for(let C=0;C<I.length;C++)c=I[C].trim().split("="),s[c[0].trim()]=c[1];return s},A.writeFmtp=function(o){let s="",c=o.payloadType;if(o.preferredPayloadType!==void 0&&(c=o.preferredPayloadType),o.parameters&&Object.keys(o.parameters).length){const I=[];Object.keys(o.parameters).forEach(C=>{o.parameters[C]!==void 0?I.push(C+"="+o.parameters[C]):I.push(C)}),s+="a=fmtp:"+c+" "+I.join(";")+`\r
`}return s},A.parseRtcpFb=function(o){const s=o.substring(o.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},A.writeRtcpFb=function(o){let s="",c=o.payloadType;return o.preferredPayloadType!==void 0&&(c=o.preferredPayloadType),o.rtcpFeedback&&o.rtcpFeedback.length&&o.rtcpFeedback.forEach(I=>{s+="a=rtcp-fb:"+c+" "+I.type+(I.parameter&&I.parameter.length?" "+I.parameter:"")+`\r
`}),s},A.parseSsrcMedia=function(o){const s=o.indexOf(" "),c={ssrc:parseInt(o.substring(7,s),10)},I=o.indexOf(":",s);return I>-1?(c.attribute=o.substring(s+1,I),c.value=o.substring(I+1)):c.attribute=o.substring(s+1),c},A.parseSsrcGroup=function(o){const s=o.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(c=>parseInt(c,10))}},A.getMid=function(o){const s=A.matchPrefix(o,"a=mid:")[0];if(s)return s.substring(6)},A.parseFingerprint=function(o){const s=o.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},A.getDtlsParameters=function(o,s){return{role:"auto",fingerprints:A.matchPrefix(o+s,"a=fingerprint:").map(A.parseFingerprint)}},A.writeDtlsParameters=function(o,s){let c="a=setup:"+s+`\r
`;return o.fingerprints.forEach(I=>{c+="a=fingerprint:"+I.algorithm+" "+I.value+`\r
`}),c},A.parseCryptoLine=function(o){const s=o.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},A.writeCryptoLine=function(o){return"a=crypto:"+o.tag+" "+o.cryptoSuite+" "+(typeof o.keyParams=="object"?A.writeCryptoKeyParams(o.keyParams):o.keyParams)+(o.sessionParams?" "+o.sessionParams.join(" "):"")+`\r
`},A.parseCryptoKeyParams=function(o){if(o.indexOf("inline:")!==0)return null;const s=o.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},A.writeCryptoKeyParams=function(o){return o.keyMethod+":"+o.keySalt+(o.lifeTime?"|"+o.lifeTime:"")+(o.mkiValue&&o.mkiLength?"|"+o.mkiValue+":"+o.mkiLength:"")},A.getCryptoParameters=function(o,s){return A.matchPrefix(o+s,"a=crypto:").map(A.parseCryptoLine)},A.getIceParameters=function(o,s){const c=A.matchPrefix(o+s,"a=ice-ufrag:")[0],I=A.matchPrefix(o+s,"a=ice-pwd:")[0];return c&&I?{usernameFragment:c.substring(12),password:I.substring(10)}:null},A.writeIceParameters=function(o){let s="a=ice-ufrag:"+o.usernameFragment+`\r
a=ice-pwd:`+o.password+`\r
`;return o.iceLite&&(s+=`a=ice-lite\r
`),s},A.parseRtpParameters=function(o){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=A.splitLines(o)[0].split(" ");s.profile=c[2];for(let C=3;C<c.length;C++){const l=c[C],d=A.matchPrefix(o,"a=rtpmap:"+l+" ")[0];if(d){const h=A.parseRtpMap(d),Q=A.matchPrefix(o,"a=fmtp:"+l+" ");switch(h.parameters=Q.length?A.parseFmtp(Q[0]):{},h.rtcpFeedback=A.matchPrefix(o,"a=rtcp-fb:"+l+" ").map(A.parseRtcpFb),s.codecs.push(h),h.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(h.name.toUpperCase())}}}A.matchPrefix(o,"a=extmap:").forEach(C=>{s.headerExtensions.push(A.parseExtmap(C))});const I=A.matchPrefix(o,"a=rtcp-fb:* ").map(A.parseRtcpFb);return s.codecs.forEach(C=>{I.forEach(l=>{C.rtcpFeedback.find(d=>d.type===l.type&&d.parameter===l.parameter)||C.rtcpFeedback.push(l)})}),s},A.writeRtpDescription=function(o,s){let c="";c+="m="+o+" ",c+=s.codecs.length>0?"9":"0",c+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",c+=s.codecs.map(C=>C.preferredPayloadType!==void 0?C.preferredPayloadType:C.payloadType).join(" ")+`\r
`,c+=`c=IN IP4 0.0.0.0\r
`,c+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(C=>{c+=A.writeRtpMap(C),c+=A.writeFmtp(C),c+=A.writeRtcpFb(C)});let I=0;return s.codecs.forEach(C=>{C.maxptime>I&&(I=C.maxptime)}),I>0&&(c+="a=maxptime:"+I+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(C=>{c+=A.writeExtmap(C)}),c},A.parseRtpEncodingParameters=function(o){const s=[],c=A.parseRtpParameters(o),I=c.fecMechanisms.indexOf("RED")!==-1,C=c.fecMechanisms.indexOf("ULPFEC")!==-1,l=A.matchPrefix(o,"a=ssrc:").map(S=>A.parseSsrcMedia(S)).filter(S=>S.attribute==="cname"),d=l.length>0&&l[0].ssrc;let h;const Q=A.matchPrefix(o,"a=ssrc-group:FID").map(S=>S.substring(17).split(" ").map(w=>parseInt(w,10)));Q.length>0&&Q[0].length>1&&Q[0][0]===d&&(h=Q[0][1]),c.codecs.forEach(S=>{if(S.name.toUpperCase()==="RTX"&&S.parameters.apt){let w={ssrc:d,codecPayloadType:parseInt(S.parameters.apt,10)};d&&h&&(w.rtx={ssrc:h}),s.push(w),I&&(w=JSON.parse(JSON.stringify(w)),w.fec={ssrc:d,mechanism:C?"red+ulpfec":"red"},s.push(w))}}),s.length===0&&d&&s.push({ssrc:d});let _=A.matchPrefix(o,"b=");return _.length&&(_=_[0].indexOf("b=TIAS:")===0?parseInt(_[0].substring(7),10):_[0].indexOf("b=AS:")===0?1e3*parseInt(_[0].substring(5),10)*.95-16e3:void 0,s.forEach(S=>{S.maxBitrate=_})),s},A.parseRtcpParameters=function(o){const s={},c=A.matchPrefix(o,"a=ssrc:").map(l=>A.parseSsrcMedia(l)).filter(l=>l.attribute==="cname")[0];c&&(s.cname=c.value,s.ssrc=c.ssrc);const I=A.matchPrefix(o,"a=rtcp-rsize");s.reducedSize=I.length>0,s.compound=I.length===0;const C=A.matchPrefix(o,"a=rtcp-mux");return s.mux=C.length>0,s},A.writeRtcpParameters=function(o){let s="";return o.reducedSize&&(s+=`a=rtcp-rsize\r
`),o.mux&&(s+=`a=rtcp-mux\r
`),o.ssrc!==void 0&&o.cname&&(s+="a=ssrc:"+o.ssrc+" cname:"+o.cname+`\r
`),s},A.parseMsid=function(o){let s;const c=A.matchPrefix(o,"a=msid:");if(c.length===1)return s=c[0].substring(7).split(" "),{stream:s[0],track:s[1]};const I=A.matchPrefix(o,"a=ssrc:").map(C=>A.parseSsrcMedia(C)).filter(C=>C.attribute==="msid");return I.length>0?(s=I[0].value.split(" "),{stream:s[0],track:s[1]}):void 0},A.parseSctpDescription=function(o){const s=A.parseMLine(o),c=A.matchPrefix(o,"a=max-message-size:");let I;c.length>0&&(I=parseInt(c[0].substring(19),10)),isNaN(I)&&(I=65536);const C=A.matchPrefix(o,"a=sctp-port:");if(C.length>0)return{port:parseInt(C[0].substring(12),10),protocol:s.fmt,maxMessageSize:I};const l=A.matchPrefix(o,"a=sctpmap:");if(l.length>0){const d=l[0].substring(10).split(" ");return{port:parseInt(d[0],10),protocol:d[1],maxMessageSize:I}}},A.writeSctpDescription=function(o,s){let c=[];return c=o.protocol!=="DTLS/SCTP"?["m="+o.kind+" 9 "+o.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:["m="+o.kind+" 9 "+o.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&c.push("a=max-message-size:"+s.maxMessageSize+`\r
`),c.join("")},A.generateSessionId=function(){return Math.random().toString().substr(2,22)},A.writeSessionBoilerplate=function(o,s,c){let I;const C=s!==void 0?s:2;return I=o||A.generateSessionId(),`v=0\r
o=`+(c||"thisisadapterortc")+" "+I+" "+C+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},A.getDirection=function(o,s){const c=A.splitLines(o);for(let I=0;I<c.length;I++)switch(c[I]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return c[I].substring(2)}return s?A.getDirection(s):"sendrecv"},A.getKind=function(o){return A.splitLines(o)[0].split(" ")[0].substring(2)},A.isRejected=function(o){return o.split(" ",2)[1]==="0"},A.parseMLine=function(o){const s=A.splitLines(o)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},A.parseOLine=function(o){const s=A.matchPrefix(o,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},A.isValidSDP=function(o){if(typeof o!="string"||o.length===0)return!1;const s=A.splitLines(o);for(let c=0;c<s.length;c++)if(s[c].length<2||s[c].charAt(1)!=="=")return!1;return!0},t.exports=A})(CQ);var lQ=CQ.exports,Qs=g(lQ),Kk=r({__proto__:null,default:Qs},[lQ]);function Ng(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const A=t.RTCIceCandidate;t.RTCIceCandidate=function(o){if(typeof o=="object"&&o.candidate&&o.candidate.indexOf("a=")===0&&((o=JSON.parse(JSON.stringify(o))).candidate=o.candidate.substr(2)),o.candidate&&o.candidate.length){const s=new A(o),c=Qs.parseCandidate(o.candidate),I=Object.assign(s,c);return I.toJSON=function(){return{candidate:I.candidate,sdpMid:I.sdpMid,sdpMLineIndex:I.sdpMLineIndex,usernameFragment:I.usernameFragment}},I}return new A(o)},t.RTCIceCandidate.prototype=A.prototype,yn(t,"icecandidate",o=>(o.candidate&&Object.defineProperty(o,"candidate",{value:new t.RTCIceCandidate(o.candidate),writable:"false"}),o))}function $C(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||yn(t,"icecandidate",A=>{if(A.candidate){const o=Qs.parseCandidate(A.candidate.candidate);o.type==="relay"&&(A.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[o.priority>>24])}return A})}function Tg(t,A){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return this._sctp===void 0?null:this._sctp}});const o=function(l){if(!l||!l.sdp)return!1;const d=Qs.splitSections(l.sdp);return d.shift(),d.some(h=>{const Q=Qs.parseMLine(h);return Q&&Q.kind==="application"&&Q.protocol.indexOf("SCTP")!==-1})},s=function(l){const d=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(d===null||d.length<2)return-1;const h=parseInt(d[1],10);return h!=h?-1:h},c=function(l){let d=65536;return A.browser==="firefox"&&(d=A.version<57?l===-1?16384:2147483637:A.version<60?A.version===57?65535:65536:2147483637),d},I=function(l,d){let h=65536;A.browser==="firefox"&&A.version===57&&(h=65535);const Q=Qs.matchPrefix(l.sdp,"a=max-message-size:");return Q.length>0?h=parseInt(Q[0].substr(19),10):A.browser==="firefox"&&d!==-1&&(h=2147483637),h},C=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,A.browser==="chrome"&&A.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0})}if(o(arguments[0])){const l=s(arguments[0]),d=c(l),h=I(arguments[0],l);let Q;Q=d===0&&h===0?Number.POSITIVE_INFINITY:d===0||h===0?Math.max(d,h):Math.min(d,h);const _={};Object.defineProperty(_,"maxMessageSize",{get:()=>Q}),this._sctp=_}return C.apply(this,arguments)}}function bg(t){if(!t.RTCPeerConnection||!("createDataChannel"in t.RTCPeerConnection.prototype))return;function A(s,c){const I=s.send;s.send=function(){const C=arguments[0],l=C.length||C.size||C.byteLength;if(s.readyState==="open"&&c.sctp&&l>c.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+c.sctp.maxMessageSize+" bytes)");return I.apply(s,arguments)}}const o=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const s=o.apply(this,arguments);return A(s,this),s},yn(t,"datachannel",s=>(A(s.channel,s.target),s))}function WC(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const A=t.RTCPeerConnection.prototype;Object.defineProperty(A,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(A,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(o){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),o&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=o)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(o=>{const s=A[o];A[o]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=c=>{const I=c.target;if(I._lastConnectionState!==I.connectionState){I._lastConnectionState=I.connectionState;const C=new Event("connectionstatechange",c);I.dispatchEvent(C)}return c},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function XC(t,A){if(!t.RTCPeerConnection||A.browser==="chrome"&&A.version>=71||A.browser==="safari"&&A.version>=605)return;const o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const c=s.sdp.split(`
`).filter(I=>Ai(I).call(I)!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&s instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:s.type,sdp:c}):s.sdp=c}return o.apply(this,arguments)}}function vg(t,A){if(!t.RTCPeerConnection||!t.RTCPeerConnection.prototype)return;const o=t.RTCPeerConnection.prototype.addIceCandidate;o&&o.length!==0&&(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(A.browser==="chrome"&&A.version<78||A.browser==="firefox"&&A.version<68||A.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?pe.resolve():o.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),pe.resolve())})}function Mg(t,A){if(!t.RTCPeerConnection||!t.RTCPeerConnection.prototype)return;const o=t.RTCPeerConnection.prototype.setLocalDescription;o&&o.length!==0&&(t.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return o.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer"}return s.sdp||s.type!=="offer"&&s.type!=="answer"?o.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(c=>o.apply(this,[c]))})}var xk=Object.freeze({__proto__:null,removeExtmapAllowMixed:XC,shimAddIceCandidateNullOrEmpty:vg,shimConnectionState:WC,shimMaxMessageSize:Tg,shimParameterlessSetLocalDescription:Mg,shimRTCIceCandidate:Ng,shimRTCIceCandidateRelayProtocol:$C,shimSendThrowTypeError:bg});(function(){let{window:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const o=Oh,s=function(I){const C={browser:null,version:null};if(I===void 0||!I.navigator)return C.browser="Not a browser.",C;const{navigator:l}=I;if(l.mozGetUserMedia)C.browser="firefox",C.version=og(l.userAgent,/Firefox\/(\d+)\./,1);else if(l.webkitGetUserMedia||I.isSecureContext===!1&&I.webkitRTCPeerConnection)C.browser="chrome",C.version=og(l.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!I.RTCPeerConnection||!l.userAgent.match(/AppleWebKit\/(\d+)\./))return C.browser="Not a supported browser.",C;C.browser="safari",C.version=og(l.userAgent,/AppleWebKit\/(\d+)\./,1),C.supportsUnifiedPlan=I.RTCRtpTransceiver&&"currentDirection"in I.RTCRtpTransceiver.prototype}return C}(t),c={browserDetails:s,commonShim:xk,extractVersion:og,disableLog:Lb,disableWarnings:kb,sdp:Kk};switch(s.browser){case"chrome":if(!xp||!HC||!A.shimChrome)return o("Chrome shim is not included in this adapter release."),c;if(s.version===null)return o("Chrome shim can not determine version, not shimming."),c;o("adapter.js shimming chrome."),c.browserShim=xp,vg(t,s),Mg(t),vp(t,s),Mp(t),HC(t,s),Lp(t),Fp(t,s),kp(t),Up(t),Pp(t),Kp(t,s),Ng(t),$C(t),WC(t),Tg(t,s),bg(t),XC(t,s);break;case"firefox":if(!zp||!qC||!A.shimFirefox)return o("Firefox shim is not included in this adapter release."),c;o("adapter.js shimming firefox."),c.browserShim=zp,vg(t,s),Mg(t),Yp(t,s),qC(t,s),Jp(t),Vp(t),Hp(t),qp(t),jp(t),$p(t),Wp(t),Xp(t),Zp(t),Ng(t),WC(t),Tg(t,s),bg(t);break;case"safari":if(!cQ||!A.shimSafari)return o("Safari shim is not included in this adapter release."),c;o("adapter.js shimming safari."),c.browserShim=cQ,vg(t,s),Mg(t),oQ(t),sQ(t),AQ(t),eQ(t),tQ(t),nQ(t),iQ(t),aQ(t),Ng(t),$C(t),Tg(t,s),bg(t),XC(t,s);break;default:o("Unsupported browser!")}})({window:typeof window>"u"?void 0:window});var Yk=Ir("Array").keys,Jk=$r,Hk=jA,qk=M,Vk=Yk,ZC=Array.prototype,jk={DOMTokenList:!0,NodeList:!0},$k=function(t){var A=t.keys;return t===ZC||qk(ZC,t)&&A===ZC.keys||Hk(jk,Jk(t))?Vk:A},Fi=g($k),uQ=lt,Wk=TypeError,Xk=eg,Zk=gr,zk=DA,Og=function(t,A,o){var s=Xk(A);s in t?Zk.f(t,s,zk(0,o)):t[s]=o},dQ=PE,eU=yo,tU=Og,AU=Array,iU=Math.max,zC=function(t,A,o){for(var s=eU(t),c=dQ(A,s),I=dQ(o===void 0?s:o,s),C=AU(iU(I-c,0)),l=0;c<I;c++,l++)tU(C,l,t[c]);return C.length=l,C},hQ=zC,rU=Math.floor,el=function(t,A){var o=t.length,s=rU(o/2);return o<8?oU(t,A):nU(t,el(hQ(t,0,s),A),el(hQ(t,s),A),A)},oU=function(t,A){for(var o,s,c=t.length,I=1;I<c;){for(s=I,o=t[I];s&&A(t[s-1],o)>0;)t[s]=t[--s];s!==I++&&(t[s]=o)}return t},nU=function(t,A,o,s){for(var c=A.length,I=o.length,C=0,l=0;C<c||l<I;)t[C+l]=C<c&&l<I?s(A[C],o[l])<=0?A[C++]:o[l++]:C<c?A[C++]:o[l++];return t},BQ=el,pQ=We.match(/firefox\/(\d+)/i),sU=!!pQ&&+pQ[1],aU=/MSIE|Trident/.test(We),QQ=We.match(/AppleWebKit\/(\d+)\./),cU=!!QQ&&+QQ[1],gU=Lt,fQ=D,IU=Gi,EU=jr,_Q=yo,CU=function(t,A){if(!delete t[A])throw Wk("Cannot delete property "+uQ(A)+" of "+uQ(t))},RQ=Xi,tl=E,lU=BQ,uU=rg,yQ=sU,dU=aU,mQ=VA,SQ=cU,Vo=[],DQ=fQ(Vo.sort),hU=fQ(Vo.push),BU=tl(function(){Vo.sort(void 0)}),pU=tl(function(){Vo.sort(null)}),QU=uU("sort"),wQ=!tl(function(){if(mQ)return mQ<70;if(!(yQ&&yQ>3)){if(dU)return!0;if(SQ)return SQ<603;var t,A,o,s,c="";for(t=65;t<76;t++){switch(A=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:o=3;break;case 68:case 71:o=4;break;default:o=2}for(s=0;s<47;s++)Vo.push({k:A+s,v:o})}for(Vo.sort(function(I,C){return C.v-I.v}),s=0;s<Vo.length;s++)A=Vo[s].k.charAt(0),c.charAt(c.length-1)!==A&&(c+=A);return c!=="DGBEFHACIJK"}});gU({target:"Array",proto:!0,forced:BU||!pU||!QU||!wQ},{sort:function(t){t!==void 0&&IU(t);var A=EU(this);if(wQ)return t===void 0?DQ(A):DQ(A,t);var o,s,c=[],I=_Q(A);for(s=0;s<I;s++)s in A&&hU(c,A[s]);for(lU(c,function(C){return function(l,d){return d===void 0?-1:l===void 0?1:C!==void 0?+C(l,d)||0:RQ(l)>RQ(d)?1:-1}}(t)),o=_Q(c),s=0;s<o;)A[s]=c[s++];for(;s<I;)CU(A,s++);return A}});var fU=Ir("Array").sort,_U=M,RU=fU,Al=Array.prototype,yU=function(t){var A=t.sort;return t===Al||_U(Al,t)&&A===Al.sort?RU:A},Pa=g(yU),il={exports:{}};(function(t,A){(function(o,s){var c="function",I="undefined",C="object",l="string",d="major",h="model",Q="name",_="type",S="vendor",w="version",k="architecture",v="console",b="mobile",P="tablet",K="smarttv",W="wearable",X="embedded",Z="Amazon",ie="Apple",ce="ASUS",de="BlackBerry",Ce="Browser",be="Chrome",tt="Firefox",ft="Google",Pt="Huawei",dA="LG",jt="Microsoft",br="Motorola",se="Opera",ue="Samsung",Te="Sharp",qe="Sony",Bt="Xiaomi",Be="Zebra",T="Facebook",Y="Chromium OS",V="Mac OS",Ee=function(aA){for(var pA={},Yt=0;Yt<aA.length;Yt++)pA[aA[Yt].toUpperCase()]=aA[Yt];return pA},Ve=function(aA,pA){return typeof aA===l&&Tt(pA).indexOf(Tt(aA))!==-1},Tt=function(aA){return aA.toLowerCase()},mA=function(aA,pA){if(typeof aA===l)return aA=aA.replace(/^\s\s*/,""),typeof pA===I?aA:aA.substring(0,350)},Di=function(aA,pA){for(var Yt,Li,po,cA,pt,wi,_n=0;_n<pA.length&&!pt;){var qr=pA[_n],DN=pA[_n+1];for(Yt=Li=0;Yt<qr.length&&!pt&&qr[Yt];)if(pt=qr[Yt++].exec(aA))for(po=0;po<DN.length;po++)wi=pt[++Li],typeof(cA=DN[po])===C&&cA.length>0?cA.length===2?typeof cA[1]==c?this[cA[0]]=cA[1].call(this,wi):this[cA[0]]=cA[1]:cA.length===3?typeof cA[1]!==c||cA[1].exec&&cA[1].test?this[cA[0]]=wi?wi.replace(cA[1],cA[2]):s:this[cA[0]]=wi?cA[1].call(this,wi,cA[2]):s:cA.length===4&&(this[cA[0]]=wi?cA[3].call(this,wi.replace(cA[1],cA[2])):s):this[cA]=wi||s;_n+=2}},Ko=function(aA,pA){for(var Yt in pA)if(typeof pA[Yt]===C&&pA[Yt].length>0){for(var Li=0;Li<pA[Yt].length;Li++)if(Ve(pA[Yt][Li],aA))return Yt==="?"?s:Yt}else if(Ve(pA[Yt],aA))return Yt==="?"?s:Yt;return aA},RE={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},yE={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[Q,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[Q,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[Q,w],[/opios[\/ ]+([\w\.]+)/i],[w,[Q,se+" Mini"]],[/\bopr\/([\w\.]+)/i],[w,[Q,se]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[Q,w],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[Q,"UC"+Ce]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[w,[Q,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[w,[Q,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[Q,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[Q,"IE"]],[/yabrowser\/([\w\.]+)/i],[w,[Q,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[Q,/(.+)/,"$1 Secure "+Ce],w],[/\bfocus\/([\w\.]+)/i],[w,[Q,tt+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[Q,se+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[Q,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[Q,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[Q,se+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[Q,"MIUI "+Ce]],[/fxios\/([-\w\.]+)/i],[w,[Q,tt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[Q,"360 "+Ce]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[Q,/(.+)/,"$1 "+Ce],w],[/(comodo_dragon)\/([\w\.]+)/i],[[Q,/_/g," "],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[Q,w],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[Q],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[Q,T],w],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[Q,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[Q,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[Q,be+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[Q,be+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[Q,"Android "+Ce]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[Q,w],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[w,[Q,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[w,Q],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[Q,[w,Ko,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[Q,w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[Q,"Netscape"],w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[Q,tt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[Q,w],[/(cobalt)\/([\w\.]+)/i],[Q,[w,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[k,"amd64"]],[/(ia32(?=;))/i],[[k,Tt]],[/((?:i[346]|x)86)[;\)]/i],[[k,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[k,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[k,"armhf"]],[/windows (ce|mobile); ppc;/i],[[k,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[k,/ower/,"",Tt]],[/(sun4\w)[;\)]/i],[[k,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[k,Tt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[S,ue],[_,P]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[S,ue],[_,b]],[/\((ip(?:hone|od)[\w ]*);/i],[h,[S,ie],[_,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[S,ie],[_,P]],[/(macintosh);/i],[h,[S,ie]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[S,Te],[_,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[S,Pt],[_,P]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[S,Pt],[_,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[S,Bt],[_,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[S,Bt],[_,P]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[S,"OPPO"],[_,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[S,"Vivo"],[_,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[S,"Realme"],[_,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[S,br],[_,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[S,br],[_,P]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[S,dA],[_,P]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[S,dA],[_,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[S,"Lenovo"],[_,P]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[S,"Nokia"],[_,b]],[/(pixel c)\b/i],[h,[S,ft],[_,P]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[S,ft],[_,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[S,qe],[_,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[S,qe],[_,P]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[S,"OnePlus"],[_,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[S,Z],[_,P]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[S,Z],[_,b]],[/(playbook);[-\w\),; ]+(rim)/i],[h,S,[_,P]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[S,de],[_,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[S,ce],[_,P]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[S,ce],[_,b]],[/(nexus 9)/i],[h,[S,"HTC"],[_,P]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[S,[h,/_/g," "],[_,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[S,"Acer"],[_,P]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[S,"Meizu"],[_,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[S,h,[_,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[S,h,[_,P]],[/(surface duo)/i],[h,[S,jt],[_,P]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[S,"Fairphone"],[_,b]],[/(u304aa)/i],[h,[S,"AT&T"],[_,b]],[/\bsie-(\w*)/i],[h,[S,"Siemens"],[_,b]],[/\b(rct\w+) b/i],[h,[S,"RCA"],[_,P]],[/\b(venue[\d ]{2,7}) b/i],[h,[S,"Dell"],[_,P]],[/\b(q(?:mv|ta)\w+) b/i],[h,[S,"Verizon"],[_,P]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[S,"Barnes & Noble"],[_,P]],[/\b(tm\d{3}\w+) b/i],[h,[S,"NuVision"],[_,P]],[/\b(k88) b/i],[h,[S,"ZTE"],[_,P]],[/\b(nx\d{3}j) b/i],[h,[S,"ZTE"],[_,b]],[/\b(gen\d{3}) b.+49h/i],[h,[S,"Swiss"],[_,b]],[/\b(zur\d{3}) b/i],[h,[S,"Swiss"],[_,P]],[/\b((zeki)?tb.*\b) b/i],[h,[S,"Zeki"],[_,P]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[S,"Dragon Touch"],h,[_,P]],[/\b(ns-?\w{0,9}) b/i],[h,[S,"Insignia"],[_,P]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[S,"NextBook"],[_,P]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[S,"Voice"],h,[_,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[S,"LvTel"],h,[_,b]],[/\b(ph-1) /i],[h,[S,"Essential"],[_,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[S,"Envizen"],[_,P]],[/\b(trio[-\w\. ]+) b/i],[h,[S,"MachSpeed"],[_,P]],[/\btu_(1491) b/i],[h,[S,"Rotor"],[_,P]],[/(shield[\w ]+) b/i],[h,[S,"Nvidia"],[_,P]],[/(sprint) (\w+)/i],[S,h,[_,b]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[S,jt],[_,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[S,Be],[_,P]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[S,Be],[_,b]],[/smart-tv.+(samsung)/i],[S,[_,K]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[S,ue],[_,K]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[S,dA],[_,K]],[/(apple) ?tv/i],[S,[h,ie+" TV"],[_,K]],[/crkey/i],[[h,be+"cast"],[S,ft],[_,K]],[/droid.+aft(\w)( bui|\))/i],[h,[S,Z],[_,K]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[S,Te],[_,K]],[/(bravia[\w ]+)( bui|\))/i],[h,[S,qe],[_,K]],[/(mitv-\w{5}) bui/i],[h,[S,Bt],[_,K]],[/Hbbtv.*(technisat) (.*);/i],[S,h,[_,K]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[S,mA],[h,mA],[_,K]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[_,K]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[S,h,[_,v]],[/droid.+; (shield) bui/i],[h,[S,"Nvidia"],[_,v]],[/(playstation [345portablevi]+)/i],[h,[S,qe],[_,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[S,jt],[_,v]],[/((pebble))app/i],[S,h,[_,W]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[S,ie],[_,W]],[/droid.+; (glass) \d/i],[h,[S,ft],[_,W]],[/droid.+; (wt63?0{2,3})\)/i],[h,[S,Be],[_,W]],[/(quest( 2| pro)?)/i],[h,[S,T],[_,W]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[S,[_,X]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[_,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[_,P]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[_,P]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[_,b]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[S,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[Q,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[Q,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[Q,w],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,Q]],os:[[/microsoft (windows) (vista|xp)/i],[Q,w],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[Q,[w,Ko,RE]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[Q,"Windows"],[w,Ko,RE]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[Q,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[Q,V],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,Q],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[Q,w],[/\(bb(10);/i],[w,[Q,de]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[w,[Q,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[Q,tt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[Q,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[Q,"watchOS"]],[/crkey\/([\d\.]+)/i],[w,[Q,be+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[Q,Y],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[Q,w],[/(sunos) ?([\w\.\d]*)/i],[[Q,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[Q,w]]},ar=function(aA,pA){if(typeof aA===C&&(pA=aA,aA=s),!(this instanceof ar))return new ar(aA,pA).getResult();var Yt=typeof o!==I&&o.navigator?o.navigator:s,Li=aA||(Yt&&Yt.userAgent?Yt.userAgent:""),po=Yt&&Yt.userAgentData?Yt.userAgentData:s,cA=pA?function(pt,wi){var _n={};for(var qr in pt)wi[qr]&&wi[qr].length%2==0?_n[qr]=wi[qr].concat(pt[qr]):_n[qr]=pt[qr];return _n}(yE,pA):yE;return this.getBrowser=function(){var pt={};return pt[Q]=s,pt[w]=s,Di.call(pt,Li,cA.browser),pt[d]=function(wi){return typeof wi===l?wi.replace(/[^\d\.]/g,"").split(".")[0]:s}(pt[w]),Yt&&Yt.brave&&typeof Yt.brave.isBrave==c&&(pt[Q]="Brave"),pt},this.getCPU=function(){var pt={};return pt[k]=s,Di.call(pt,Li,cA.cpu),pt},this.getDevice=function(){var pt={};return pt[S]=s,pt[h]=s,pt[_]=s,Di.call(pt,Li,cA.device),!pt[_]&&po&&po.mobile&&(pt[_]=b),pt[h]=="Macintosh"&&Yt&&typeof Yt.standalone!==I&&Yt.maxTouchPoints&&Yt.maxTouchPoints>2&&(pt[h]="iPad",pt[_]=P),pt},this.getEngine=function(){var pt={};return pt[Q]=s,pt[w]=s,Di.call(pt,Li,cA.engine),pt},this.getOS=function(){var pt={};return pt[Q]=s,pt[w]=s,Di.call(pt,Li,cA.os),!pt[Q]&&po&&po.platform!="Unknown"&&(pt[Q]=po.platform.replace(/chrome os/i,Y).replace(/macos/i,V)),pt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Li},this.setUA=function(pt){return Li=typeof pt===l&&pt.length>350?mA(pt,350):pt,this},this.setUA(Li),this};ar.VERSION="0.7.34",ar.BROWSER=Ee([Q,w,d]),ar.CPU=Ee([k]),ar.DEVICE=Ee([h,S,_,v,b,K,P,W,X]),ar.ENGINE=ar.OS=Ee([Q,w]),t.exports&&(A=t.exports=ar),A.UAParser=ar;var fn=typeof o!==I&&(o.jQuery||o.Zepto);if(fn&&!fn.ua){var pa=new ar;fn.ua=pa.getResult(),fn.ua.get=function(){return pa.getUA()},fn.ua.set=function(aA){pa.setUA(aA);var pA=pa.getResult();for(var Yt in pA)fn.ua[Yt]=pA[Yt]}}})(typeof window=="object"?window:a)})(il,il.exports);var mU=g(il.exports),SU=$r,DU=jA,wU=fi,NU=mn,TU=IA("iterator"),bU=Object,vU=function(t){if(wU(t))return!1;var A=bU(t);return A[TU]!==void 0||"@@iterator"in A||DU(NU,SU(A))},MU=g(vU),rl=U;Lt({global:!0,forced:rl.globalThis!==rl},{globalThis:rl});var NQ=g(U);function TQ(t,A){return function(){return t.apply(A,arguments)}}const{toString:OU}=Object.prototype,{getPrototypeOf:ol}=Object,Lg=(nl=Object.create(null),t=>{const A=OU.call(t);return nl[A]||(nl[A]=A.slice(8,-1).toLowerCase())});var nl;const Zr=t=>(t=t.toLowerCase(),A=>Lg(A)===t),kg=t=>A=>typeof A===t,{isArray:fs}=Array,Ga=kg("undefined"),bQ=Zr("ArrayBuffer"),LU=kg("string"),Er=kg("function"),vQ=kg("number"),Ug=t=>t!==null&&typeof t=="object",Pg=t=>{if(Lg(t)!=="object")return!1;const A=ol(t);return!(A!==null&&A!==Object.prototype&&Object.getPrototypeOf(A)!==null||Symbol.toStringTag in t||MU(t))},kU=Zr("Date"),UU=Zr("File"),PU=Zr("Blob"),GU=Zr("FileList"),FU=Zr("URLSearchParams");function Fa(t,A){let o,s,{allOwnKeys:c=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t!=null)if(typeof t!="object"&&(t=[t]),fs(t))for(o=0,s=t.length;o<s;o++)A.call(null,t[o],o,t);else{const I=c?Object.getOwnPropertyNames(t):Object.keys(t),C=I.length;let l;for(o=0;o<C;o++)l=I[o],A.call(null,t[l],l,t)}}function MQ(t,A){A=A.toLowerCase();const o=Object.keys(t);let s,c=o.length;for(;c-- >0;)if(s=o[c],A===s.toLowerCase())return s;return null}const OQ=NQ!==void 0?NQ:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,LQ=t=>!Ga(t)&&t!==OQ,KU=(sl=typeof Uint8Array<"u"&&ol(Uint8Array),t=>sl&&t instanceof sl);var sl;const xU=Zr("HTMLFormElement"),kQ=(t=>{let{hasOwnProperty:A}=t;return(o,s)=>A.call(o,s)})(Object.prototype),YU=Zr("RegExp"),UQ=(t,A)=>{const o=Object.getOwnPropertyDescriptors(t),s={};Fa(o,(c,I)=>{let C;(C=A(c,I,t))!==!1&&(s[I]=C||c)}),Object.defineProperties(t,s)},al="abcdefghijklmnopqrstuvwxyz",PQ="0123456789",GQ={DIGIT:PQ,ALPHA:al,ALPHA_DIGIT:al+al.toUpperCase()+PQ},JU=Zr("AsyncFunction");var De={isArray:fs,isArrayBuffer:bQ,isBuffer:function(t){return t!==null&&!Ga(t)&&t.constructor!==null&&!Ga(t.constructor)&&Er(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let A;return t&&(typeof FormData=="function"&&t instanceof FormData||Er(t.append)&&((A=Lg(t))==="formdata"||A==="object"&&Er(t.toString)&&t.toString()==="[object FormData]"))},isArrayBufferView:function(t){let A;return A=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&bQ(t.buffer),A},isString:LU,isNumber:vQ,isBoolean:t=>t===!0||t===!1,isObject:Ug,isPlainObject:Pg,isUndefined:Ga,isDate:kU,isFile:UU,isBlob:PU,isRegExp:YU,isFunction:Er,isStream:t=>Ug(t)&&Er(t.pipe),isURLSearchParams:FU,isTypedArray:KU,isFileList:GU,forEach:Fa,merge:function t(){const{caseless:A}=LQ(this)&&this||{},o={},s=(c,I)=>{const C=A&&MQ(o,I)||I;Pg(o[C])&&Pg(c)?o[C]=t(o[C],c):Pg(c)?o[C]=t({},c):fs(c)?o[C]=c.slice():o[C]=c};for(let c=0,I=arguments.length;c<I;c++)arguments[c]&&Fa(arguments[c],s);return o},extend:function(t,A,o){let{allOwnKeys:s}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Fa(A,(c,I)=>{o&&Er(c)?t[I]=TQ(c,o):t[I]=c},{allOwnKeys:s}),t},trim:t=>Ai(t)?Ai(t).call(t):t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits:(t,A,o,s)=>{t.prototype=Object.create(A.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:A.prototype}),o&&Object.assign(t.prototype,o)},toFlatObject:(t,A,o,s)=>{let c,I,C;const l={};if(A=A||{},t==null)return A;do{for(c=Object.getOwnPropertyNames(t),I=c.length;I-- >0;)C=c[I],s&&!s(C,t,A)||l[C]||(A[C]=t[C],l[C]=!0);t=o!==!1&&ol(t)}while(t&&(!o||o(t,A))&&t!==Object.prototype);return A},kindOf:Lg,kindOfTest:Zr,endsWith:(t,A,o)=>{t=String(t),(o===void 0||o>t.length)&&(o=t.length),o-=A.length;const s=t.indexOf(A,o);return s!==-1&&s===o},toArray:t=>{if(!t)return null;if(fs(t))return t;let A=t.length;if(!vQ(A))return null;const o=new Array(A);for(;A-- >0;)o[A]=t[A];return o},forEachEntry:(t,A)=>{const o=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=o.next())&&!s.done;){const c=s.value;A.call(t,c[0],c[1])}},matchAll:(t,A)=>{let o;const s=[];for(;(o=t.exec(A))!==null;)s.push(o);return s},isHTMLForm:xU,hasOwnProperty:kQ,hasOwnProp:kQ,reduceDescriptors:UQ,freezeMethods:t=>{UQ(t,(A,o)=>{if(Er(t)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const s=t[o];Er(s)&&(A.enumerable=!1,"writable"in A?A.writable=!1:A.set||(A.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")}))})},toObjectSet:(t,A)=>{const o={},s=c=>{c.forEach(I=>{o[I]=!0})};return fs(t)?s(t):s(String(t).split(A)),o},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(A,o,s){return o.toUpperCase()+s}),noop:()=>{},toFiniteNumber:(t,A)=>(t=+t,Number.isFinite(t)?t:A),findKey:MQ,global:OQ,isContextDefined:LQ,ALPHABET:GQ,generateString:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:GQ.ALPHA_DIGIT,o="";const{length:s}=A;for(;t--;)o+=A[Math.random()*s|0];return o},isSpecCompliantForm:function(t){return!!(t&&Er(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])},toJSONObject:t=>{const A=new Array(10),o=(s,c)=>{if(Ug(s)){if(A.indexOf(s)>=0)return;if(!("toJSON"in s)){A[c]=s;const I=fs(s)?[]:{};return Fa(s,(C,l)=>{const d=o(C,c+1);!Ga(d)&&(I[l]=d)}),A[c]=void 0,I}}return s};return o(t,0)},isAsyncFn:JU,isThenable:t=>t&&(Ug(t)||Er(t))&&Er(t.then)&&Er(t.catch)};function qt(t,A,o,s,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",A&&(this.code=A),o&&(this.config=o),s&&(this.request=s),c&&(this.response=c)}De.inherits(qt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:De.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const FQ=qt.prototype,KQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{KQ[t]={value:t}}),Object.defineProperties(qt,KQ),Object.defineProperty(FQ,"isAxiosError",{value:!0}),qt.from=(t,A,o,s,c,I)=>{const C=Object.create(FQ);return De.toFlatObject(t,C,function(l){return l!==Error.prototype},l=>l!=="isAxiosError"),qt.call(C,t.message,A,o,s,c),C.cause=t,C.name=t.name,I&&Object.assign(C,I),C};function cl(t){return De.isPlainObject(t)||De.isArray(t)}function xQ(t){return De.endsWith(t,"[]")?t.slice(0,-2):t}function YQ(t,A,o){return t?t.concat(A).map(function(s,c){return s=xQ(s),!o&&c?"["+s+"]":s}).join(o?".":""):A}const HU=De.toFlatObject(De,{},null,function(t){return/^is[A-Z]/.test(t)});function Gg(t,A,o){if(!De.isObject(t))throw new TypeError("target must be an object");A=A||new FormData;const s=(o=De.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,w){return!De.isUndefined(w[S])})).metaTokens,c=o.visitor||h,I=o.dots,C=o.indexes,l=(o.Blob||typeof Blob<"u"&&Blob)&&De.isSpecCompliantForm(A);if(!De.isFunction(c))throw new TypeError("visitor must be a function");function d(S){if(S===null)return"";if(De.isDate(S))return S.toISOString();if(!l&&De.isBlob(S))throw new qt("Blob is not supported. Use a Buffer instead.");return De.isArrayBuffer(S)||De.isTypedArray(S)?l&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function h(S,w,k){let v=S;if(S&&!k&&typeof S=="object"){if(De.endsWith(w,"{}"))w=s?w:w.slice(0,-2),S=JSON.stringify(S);else if(De.isArray(S)&&function(b){return De.isArray(b)&&!b.some(cl)}(S)||(De.isFileList(S)||De.endsWith(w,"[]"))&&(v=De.toArray(S)))return w=xQ(w),v.forEach(function(b,P){!De.isUndefined(b)&&b!==null&&A.append(C===!0?YQ([w],P,I):C===null?w:w+"[]",d(b))}),!1}return!!cl(S)||(A.append(YQ(k,w,I),d(S)),!1)}const Q=[],_=Object.assign(HU,{defaultVisitor:h,convertValue:d,isVisitable:cl});if(!De.isObject(t))throw new TypeError("data must be an object");return function S(w,k){if(!De.isUndefined(w)){if(Q.indexOf(w)!==-1)throw Error("Circular reference detected in "+k.join("."));Q.push(w),De.forEach(w,function(v,b){(!(De.isUndefined(v)||v===null)&&c.call(A,v,De.isString(b)?Ai(b).call(b):b,k,_))===!0&&S(v,k?k.concat(b):[b])}),Q.pop()}}(t),A}function JQ(t){const A={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return A[o]})}function gl(t,A){this._pairs=[],t&&Gg(t,this,A)}const HQ=gl.prototype;function qU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qQ(t,A,o){if(!A)return t;const s=o&&o.encode||qU,c=o&&o.serialize;let I;if(I=c?c(A,o):De.isURLSearchParams(A)?A.toString():new gl(A,o).toString(s),I){const C=t.indexOf("#");C!==-1&&(t=t.slice(0,C)),t+=(t.indexOf("?")===-1?"?":"&")+I}return t}HQ.append=function(t,A){this._pairs.push([t,A])},HQ.toString=function(t){const A=t?function(o){return t.call(this,o,JQ)}:JQ;return this._pairs.map(function(o){return A(o[0])+"="+A(o[1])},"").join("&")};var VQ=class{constructor(){this.handlers=[]}use(t,A,o){return this.handlers.push({fulfilled:t,rejected:A,synchronous:!!o&&o.synchronous,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){De.forEach(this.handlers,function(A){A!==null&&t(A)})}},jQ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$Q={exports:{}},VU=Lt,jU=Fe,WQ=gr.f;VU({target:"Object",stat:!0,forced:Object.defineProperty!==WQ,sham:!jU},{defineProperty:WQ});var XQ=Ui.Object,$U=$Q.exports=function(t,A,o){return XQ.defineProperty(t,A,o)};XQ.defineProperty.sham&&($U.sham=!0);var ZQ=g($Q.exports),WU=he,Ka=Array.isArray||function(t){return WU(t)=="Array"},XU=TypeError,zQ=Ka,ZU=fg,zU=_e,eP=IA("species"),ef=Array,tP=function(t){var A;return zQ(t)&&(A=t.constructor,(ZU(A)&&(A===ef||zQ(A.prototype))||zU(A)&&(A=A[eP])===null)&&(A=void 0)),A===void 0?ef:A},tf=function(t,A){return new(tP(t))(A===0?0:A)},AP=E,iP=VA,rP=IA("species"),Af=function(t){return iP>=51||!AP(function(){var A=[];return(A.constructor={})[rP]=function(){return{foo:1}},A[t](Boolean).foo!==1})},oP=Lt,nP=E,sP=Ka,aP=_e,cP=jr,gP=yo,rf=function(t){if(t>9007199254740991)throw XU("Maximum allowed index exceeded");return t},nf=Og,IP=tf,EP=Af,CP=VA,sf=IA("isConcatSpreadable"),lP=CP>=51||!nP(function(){var t=[];return t[sf]=!1,t.concat()[0]!==t}),uP=function(t){if(!aP(t))return!1;var A=t[sf];return A!==void 0?!!A:sP(t)};oP({target:"Array",proto:!0,forced:!lP||!EP("concat")},{concat:function(t){var A,o,s,c,I,C=cP(this),l=IP(C,0),d=0;for(A=-1,s=arguments.length;A<s;A++)if(uP(I=A===-1?C:arguments[A]))for(c=gP(I),rf(d+c),o=0;o<c;o++,d++)o in I&&nf(l,d,I[o]);else rf(d+1),nf(l,d++,I);return l.length=d,l}});var af={},dP=he,hP=cr,cf=sg.f,BP=zC,gf=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];af.f=function(t){return gf&&dP(t)=="Window"?function(A){try{return cf(A)}catch{return BP(gf)}}(t):cf(hP(t))};var _s={},pP=IA;_s.f=pP;var If=Ui,QP=jA,fP=_s,_P=gr.f,FA=function(t){var A=If.Symbol||(If.Symbol={});QP(A,t)||_P(A,t,{value:fP.f(t)})},RP=je,yP=$e,mP=IA,SP=Jo,Ef=function(){var t=yP("Symbol"),A=t&&t.prototype,o=A&&A.valueOf,s=mP("toPrimitive");A&&!A[s]&&SP(A,s,function(c){return RP(o,this)},{})},DP=xo,wP=QA,NP=jr,TP=yo,bP=tf,Cf=D([].push),vP=function(t){var A=t==1,o=t==2,s=t==3,c=t==4,I=t==6,C=t==7,l=t==5||I;return function(d,h,Q,_){for(var S,w,k=NP(d),v=wP(k),b=DP(h,Q),P=TP(v),K=0,W=_||bP,X=A?W(d,P):o||C?W(d,0):void 0;P>K;K++)if((l||K in v)&&(w=b(S=v[K],K,k),t))if(A)X[K]=w;else if(w)switch(t){case 3:return!0;case 5:return S;case 6:return K;case 2:Cf(X,S)}else switch(t){case 4:return!1;case 7:Cf(X,S)}return I?-1:s||c?c:X}},lf={forEach:vP(0)},Fg=Lt,Il=U,El=je,MP=D,Rs=Fe,ys=fo,OP=E,ci=jA,LP=M,Cl=Ri,Kg=cr,ll=eg,kP=Xi,ul=DA,xa=wa,uf=cg,UP=sg,df=af,PP=Da,hf=me,Bf=gr,GP=WE,pf=nt,Qf=Jo,FP=Qg,dl=cs,ff=ag,_f=NE,KP=IA,xP=_s,YP=FA,JP=Ef,HP=Ho,Rf=Dn,xg=lf.forEach,Ki=ng("hidden"),Yg="Symbol",Ya="prototype",qP=Rf.set,yf=Rf.getterFor(Yg),Or=Object[Ya],Tn=Il.Symbol,Jg=Tn&&Tn[Ya],VP=Il.TypeError,hl=Il.QObject,mf=hf.f,bn=Bf.f,Sf=df.f,jP=pf.f,Df=MP([].push),mo=dl("symbols"),Ja=dl("op-symbols"),$P=dl("wks"),Bl=!hl||!hl[Ya]||!hl[Ya].findChild,pl=Rs&&OP(function(){return xa(bn({},"a",{get:function(){return bn(this,"a",{value:7}).a}})).a!=7})?function(t,A,o){var s=mf(Or,A);s&&delete Or[A],bn(t,A,o),s&&t!==Or&&bn(Or,A,s)}:bn,Ql=function(t,A){var o=mo[t]=xa(Jg);return qP(o,{type:Yg,tag:t,description:A}),Rs||(o.description=A),o},Hg=function(t,A,o){t===Or&&Hg(Ja,A,o),Cl(t);var s=ll(A);return Cl(o),ci(mo,s)?(o.enumerable?(ci(t,Ki)&&t[Ki][s]&&(t[Ki][s]=!1),o=xa(o,{enumerable:ul(0,!1)})):(ci(t,Ki)||bn(t,Ki,ul(1,{})),t[Ki][s]=!0),pl(t,s,o)):bn(t,s,o)},fl=function(t,A){Cl(t);var o=Kg(A),s=uf(o).concat(bf(o));return xg(s,function(c){Rs&&!El(wf,o,c)||Hg(t,c,o[c])}),t},wf=function(t){var A=ll(t),o=El(jP,this,A);return!(this===Or&&ci(mo,A)&&!ci(Ja,A))&&(!(o||!ci(this,A)||!ci(mo,A)||ci(this,Ki)&&this[Ki][A])||o)},Nf=function(t,A){var o=Kg(t),s=ll(A);if(o!==Or||!ci(mo,s)||ci(Ja,s)){var c=mf(o,s);return!c||!ci(mo,s)||ci(o,Ki)&&o[Ki][s]||(c.enumerable=!0),c}},Tf=function(t){var A=Sf(Kg(t)),o=[];return xg(A,function(s){ci(mo,s)||ci(ff,s)||Df(o,s)}),o},bf=function(t){var A=t===Or,o=Sf(A?Ja:Kg(t)),s=[];return xg(o,function(c){!ci(mo,c)||A&&!ci(Or,c)||Df(s,mo[c])}),s};ys||(Tn=function(){if(LP(Jg,this))throw VP("Symbol is not a constructor");var t=arguments.length&&arguments[0]!==void 0?kP(arguments[0]):void 0,A=_f(t),o=function(s){this===Or&&El(o,Ja,s),ci(this,Ki)&&ci(this[Ki],A)&&(this[Ki][A]=!1),pl(this,A,ul(1,s))};return Rs&&Bl&&pl(Or,A,{configurable:!0,set:o}),Ql(A,t)},Qf(Jg=Tn[Ya],"toString",function(){return yf(this).tag}),Qf(Tn,"withoutSetter",function(t){return Ql(_f(t),t)}),pf.f=wf,Bf.f=Hg,GP.f=fl,hf.f=Nf,UP.f=df.f=Tf,PP.f=bf,xP.f=function(t){return Ql(KP(t),t)},Rs&&FP(Jg,"description",{configurable:!0,get:function(){return yf(this).description}})),Fg({global:!0,wrap:!0,forced:!ys,sham:!ys},{Symbol:Tn}),xg(uf($P),function(t){YP(t)}),Fg({target:Yg,stat:!0,forced:!ys},{useSetter:function(){Bl=!0},useSimple:function(){Bl=!1}}),Fg({target:"Object",stat:!0,forced:!ys,sham:!Rs},{create:function(t,A){return A===void 0?xa(t):fl(xa(t),A)},defineProperty:Hg,defineProperties:fl,getOwnPropertyDescriptor:Nf}),Fg({target:"Object",stat:!0,forced:!ys},{getOwnPropertyNames:Tf}),JP(),HP(Tn,Yg),ff[Ki]=!0;var vf=fo&&!!Symbol.for&&!!Symbol.keyFor,WP=Lt,XP=$e,ZP=jA,zP=Xi,Mf=cs,eG=vf,_l=Mf("string-to-symbol-registry"),tG=Mf("symbol-to-string-registry");WP({target:"Symbol",stat:!0,forced:!eG},{for:function(t){var A=zP(t);if(ZP(_l,A))return _l[A];var o=XP("Symbol")(A);return _l[A]=o,tG[o]=A,o}});var AG=Lt,iG=jA,rG=_o,oG=lt,nG=vf,Of=cs("symbol-to-string-registry");AG({target:"Symbol",stat:!0,forced:!nG},{keyFor:function(t){if(!rG(t))throw TypeError(oG(t)+" is not a symbol");if(iG(Of,t))return Of[t]}});var Lf=Ka,sG=q,kf=he,aG=Xi,Uf=D([].push),cG=Lt,Pf=$e,Gf=ee,gG=je,Ha=D,Ff=E,Kf=q,xf=_o,Yf=hC,IG=function(t){if(sG(t))return t;if(Lf(t)){for(var A=t.length,o=[],s=0;s<A;s++){var c=t[s];typeof c=="string"?Uf(o,c):typeof c!="number"&&kf(c)!="Number"&&kf(c)!="String"||Uf(o,aG(c))}var I=o.length,C=!0;return function(l,d){if(C)return C=!1,d;if(Lf(this))return d;for(var h=0;h<I;h++)if(o[h]===l)return d}}},EG=fo,CG=String,jo=Pf("JSON","stringify"),qg=Ha(/./.exec),Jf=Ha("".charAt),lG=Ha("".charCodeAt),uG=Ha("".replace),dG=Ha(1 .toString),hG=/[\uD800-\uDFFF]/g,Hf=/^[\uD800-\uDBFF]$/,qf=/^[\uDC00-\uDFFF]$/,Vf=!EG||Ff(function(){var t=Pf("Symbol")();return jo([t])!="[null]"||jo({a:t})!="{}"||jo(Object(t))!="{}"}),jf=Ff(function(){return jo("\uDF06\uD834")!=='"\\udf06\\ud834"'||jo("\uDEAD")!=='"\\udead"'}),BG=function(t,A){var o=Yf(arguments),s=IG(A);if(Kf(s)||t!==void 0&&!xf(t))return o[1]=function(c,I){if(Kf(s)&&(I=gG(s,this,CG(c),I)),!xf(I))return I},Gf(jo,null,o)},pG=function(t,A,o){var s=Jf(o,A-1),c=Jf(o,A+1);return qg(Hf,t)&&!qg(qf,c)||qg(qf,t)&&!qg(Hf,s)?"\\u"+dG(lG(t,0),16):t};jo&&cG({target:"JSON",stat:!0,forced:Vf||jf},{stringify:function(t,A,o){var s=Yf(arguments),c=Gf(Vf?BG:jo,null,s);return jf&&typeof c=="string"?uG(c,hG,pG):c}});var $f=Da,QG=jr;Lt({target:"Object",stat:!0,forced:!fo||E(function(){$f.f(1)})},{getOwnPropertySymbols:function(t){var A=$f.f;return A?A(QG(t)):[]}}),FA("asyncIterator"),FA("hasInstance"),FA("isConcatSpreadable"),FA("iterator"),FA("match"),FA("matchAll"),FA("replace"),FA("search"),FA("species"),FA("split");var fG=Ef;FA("toPrimitive"),fG();var _G=$e,RG=Ho;FA("toStringTag"),RG(_G("Symbol"),"Symbol"),FA("unscopables"),Ho(U.JSON,"JSON",!0);var yG=Ui.Symbol,mG=IA,SG=gr.f,Wf=mG("metadata"),Xf=Function.prototype;Xf[Wf]===void 0&&SG(Xf,Wf,{value:null}),FA("dispose"),FA("metadata");var DG=yG;FA("asyncDispose");var wG=D,Rl=$e("Symbol"),NG=Rl.keyFor,TG=wG(Rl.prototype.valueOf),Zf=Rl.isRegisteredSymbol||function(t){try{return NG(TG(t))!==void 0}catch{return!1}};Lt({target:"Symbol",stat:!0},{isRegisteredSymbol:Zf});for(var bG=cs,zf=$e,vG=D,MG=_o,OG=IA,Vg=zf("Symbol"),e_=Vg.isWellKnownSymbol,t_=zf("Object","getOwnPropertyNames"),LG=vG(Vg.prototype.valueOf),A_=bG("wks"),yl=0,i_=t_(Vg),kG=i_.length;yl<kG;yl++)try{var r_=i_[yl];MG(Vg[r_])&&OG(r_)}catch{}var o_=function(t){if(e_&&e_(t))return!0;try{for(var A=LG(t),o=0,s=t_(A_),c=s.length;o<c;o++)if(A_[s[o]]==A)return!0}catch{}return!1};Lt({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:o_}),FA("matcher"),FA("observable"),Lt({target:"Symbol",stat:!0},{isRegistered:Zf}),Lt({target:"Symbol",stat:!0,forced:!0},{isWellKnown:o_}),FA("metadataKey"),FA("patternMatch"),FA("replaceAll");var Ss=g(DG),n_=g(_s.f("iterator"));function qa(t){return qa=typeof Ss=="function"&&typeof n_=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Ss=="function"&&A.constructor===Ss&&A!==Ss.prototype?"symbol":typeof A},qa(t)}var UG=g(_s.f("toPrimitive"));function PG(t){var A=function(o,s){if(qa(o)!=="object"||o===null)return o;var c=o[UG];if(c!==void 0){var I=c.call(o,s);if(qa(I)!=="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}(t,"string");return qa(A)==="symbol"?A:String(A)}function L(t,A,o){return(A=PG(A))in t?ZQ(t,A,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[A]=o,t}var GG=E,FG=IA("iterator"),ml=!GG(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),A=t.searchParams,o=new URLSearchParams("a=1&a=2"),s="";return t.pathname="c%20d",A.forEach(function(c,I){A.delete("b"),s+=I+c}),o.delete("a",2),!t.toJSON||!o.has("a",1)||o.has("a",2)||!A.size&&!0||!A.sort||t.href!=="http://a/c%20d?a=1&c=3"||A.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!A[FG]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://ÑÐµÑÑ").host!=="xn--e1aybc"||new URL("http://a#Ð±").hash!=="#%D0%B1"||s!=="a1c3"||new URL("http://x",void 0).host!=="x"}),KG=Jo,Sl=Lt,Ds=U,jg=je,zr=D,ws=Fe,s_=ml,a_=Jo,xG=Qg,YG=function(t,A,o){for(var s in A)o&&o.unsafe&&t[s]?t[s]=A[s]:KG(t,s,A[s],o);return t},JG=Ho,HG=cC,Dl=Dn,c_=EC,wl=q,qG=jA,VG=xo,jG=$r,$G=Ri,g_=_e,Ni=Xi,WG=wa,I_=DA,Nl=eC,XG=Eg,Ns=_g,ZG=BQ,zG=IA("iterator"),Va="URLSearchParams",E_=Va+"Iterator",C_=Dl.set,Cr=Dl.getterFor(Va),e1=Dl.getterFor(E_),t1=Object.getOwnPropertyDescriptor,Tl=function(t){if(!ws)return Ds[t];var A=t1(Ds,t);return A&&A.value},l_=Tl("fetch"),$g=Tl("Request"),ja=Tl("Headers"),bl=$g&&$g.prototype,u_=ja&&ja.prototype,A1=Ds.RegExp,i1=Ds.TypeError,d_=Ds.decodeURIComponent,r1=Ds.encodeURIComponent,o1=zr("".charAt),h_=zr([].join),vn=zr([].push),vl=zr("".replace),n1=zr([].shift),B_=zr([].splice),p_=zr("".split),s1=zr("".slice),a1=/\+/g,Q_=Array(4),c1=function(t){return Q_[t-1]||(Q_[t-1]=A1("((?:%[\\da-f]{2}){"+t+"})","gi"))},g1=function(t){try{return d_(t)}catch{return t}},f_=function(t){var A=vl(t,a1," "),o=4;try{return d_(A)}catch{for(;o;)A=vl(A,c1(o--),g1);return A}},I1=/[!'()~]|%20/g,E1={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},C1=function(t){return E1[t]},__=function(t){return vl(r1(t),I1,C1)},Ml=HG(function(t,A){C_(this,{type:E_,iterator:Nl(Cr(t).entries),kind:A})},"Iterator",function(){var t=e1(this),A=t.kind,o=t.iterator.next(),s=o.value;return o.done||(o.value=A==="keys"?s.key:A==="values"?s.value:[s.key,s.value]),o},!0),R_=function(t){this.entries=[],this.url=null,t!==void 0&&(g_(t)?this.parseObject(t):this.parseQuery(typeof t=="string"?o1(t,0)==="?"?s1(t,1):t:Ni(t)))};R_.prototype={type:Va,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var A,o,s,c,I,C,l,d=XG(t);if(d)for(o=(A=Nl(t,d)).next;!(s=jg(o,A)).done;){if(I=(c=Nl($G(s.value))).next,(C=jg(I,c)).done||(l=jg(I,c)).done||!jg(I,c).done)throw i1("Expected sequence with length 2");vn(this.entries,{key:Ni(C.value),value:Ni(l.value)})}else for(var h in t)qG(t,h)&&vn(this.entries,{key:h,value:Ni(t[h])})},parseQuery:function(t){if(t)for(var A,o,s=p_(t,"&"),c=0;c<s.length;)(A=s[c++]).length&&(o=p_(A,"="),vn(this.entries,{key:f_(n1(o)),value:f_(h_(o,"="))}))},serialize:function(){for(var t,A=this.entries,o=[],s=0;s<A.length;)t=A[s++],vn(o,__(t.key)+"="+__(t.value));return h_(o,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Wg=function(){c_(this,Ts);var t=C_(this,new R_(arguments.length>0?arguments[0]:void 0));ws||(this.size=t.entries.length)},Ts=Wg.prototype;if(YG(Ts,{append:function(t,A){var o=Cr(this);Ns(arguments.length,2),vn(o.entries,{key:Ni(t),value:Ni(A)}),ws||this.length++,o.updateURL()},delete:function(t){for(var A=Cr(this),o=Ns(arguments.length,1),s=A.entries,c=Ni(t),I=o<2?void 0:arguments[1],C=I===void 0?I:Ni(I),l=0;l<s.length;){var d=s[l];if(d.key!==c||C!==void 0&&d.value!==C)l++;else if(B_(s,l,1),C!==void 0)break}ws||(this.size=s.length),A.updateURL()},get:function(t){var A=Cr(this).entries;Ns(arguments.length,1);for(var o=Ni(t),s=0;s<A.length;s++)if(A[s].key===o)return A[s].value;return null},getAll:function(t){var A=Cr(this).entries;Ns(arguments.length,1);for(var o=Ni(t),s=[],c=0;c<A.length;c++)A[c].key===o&&vn(s,A[c].value);return s},has:function(t){for(var A=Cr(this).entries,o=Ns(arguments.length,1),s=Ni(t),c=o<2?void 0:arguments[1],I=c===void 0?c:Ni(c),C=0;C<A.length;){var l=A[C++];if(l.key===s&&(I===void 0||l.value===I))return!0}return!1},set:function(t,A){var o=Cr(this);Ns(arguments.length,1);for(var s,c=o.entries,I=!1,C=Ni(t),l=Ni(A),d=0;d<c.length;d++)(s=c[d]).key===C&&(I?B_(c,d--,1):(I=!0,s.value=l));I||vn(c,{key:C,value:l}),ws||(this.size=c.length),o.updateURL()},sort:function(){var t=Cr(this);ZG(t.entries,function(A,o){return A.key>o.key?1:-1}),t.updateURL()},forEach:function(t){for(var A,o=Cr(this).entries,s=VG(t,arguments.length>1?arguments[1]:void 0),c=0;c<o.length;)s((A=o[c++]).value,A.key,this)},keys:function(){return new Ml(this,"keys")},values:function(){return new Ml(this,"values")},entries:function(){return new Ml(this,"entries")}},{enumerable:!0}),a_(Ts,zG,Ts.entries,{}),a_(Ts,"toString",function(){return Cr(this).serialize()},{enumerable:!0}),ws&&xG(Ts,"size",{get:function(){return Cr(this).entries.length},configurable:!0,enumerable:!0}),JG(Wg,Va),Sl({global:!0,forced:!s_},{URLSearchParams:Wg}),!s_&&wl(ja)){var l1=zr(u_.has),u1=zr(u_.set),y_=function(t){if(g_(t)){var A,o=t.body;if(jG(o)===Va)return A=t.headers?new ja(t.headers):new ja,l1(A,"content-type")||u1(A,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),WG(t,{body:I_(0,Ni(o)),headers:I_(0,A)})}return t};if(wl(l_)&&Sl({global:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return l_(t,arguments.length>1?y_(arguments[1]):{})}}),wl($g)){var Ol=function(t){return c_(this,bl),new $g(t,arguments.length>1?y_(arguments[1]):{})};bl.constructor=Ol,Ol.prototype=bl,Sl({global:!0,dontCallGetSet:!0,forced:!0},{Request:Ol})}}var d1={URLSearchParams:Wg,getState:Cr},m_=g(Ui.URLSearchParams),h1={isBrowser:!0,classes:{URLSearchParams:m_!==void 0?m_:gl,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]};const S_=typeof window<"u"&&typeof document<"u",B1=(D_=typeof navigator<"u"&&navigator.product,S_&&["ReactNative","NativeScript","NS"].indexOf(D_)<0);var D_;const p1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function";function w_(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function N_(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?w_(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):w_(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}var eo=N_(N_({},Object.freeze({__proto__:null,hasBrowserEnv:S_,hasStandardBrowserEnv:B1,hasStandardBrowserWebWorkerEnv:p1})),h1),Q1=Ri,f1=je,_1=jA,R1=M,y1=function(){var t=Q1(this),A="";return t.hasIndices&&(A+="d"),t.global&&(A+="g"),t.ignoreCase&&(A+="i"),t.multiline&&(A+="m"),t.dotAll&&(A+="s"),t.unicode&&(A+="u"),t.unicodeSets&&(A+="v"),t.sticky&&(A+="y"),A},T_=RegExp.prototype,b_=function(t){var A=t.flags;return A!==void 0||"flags"in T_||_1(t,"flags")||!R1(T_,t)?A:f1(y1,t)},m1=xC.charAt,v_=je,S1=Ri,D1=q,w1=he,N1=/./.exec,T1=TypeError,b1=Lt,M_=je,O_=He,M1=cC,Xg=IC,L_=vr,k_=mh,$a=Xi,O1=Ri,L1=fi,k1=he,U1=Dh,U_=b_,P1=ai,G1=E,F1=dC,K1=function(t,A,o){return A+(o?m1(t,A).length:1)},x1=function(t,A){var o=t.exec;if(D1(o)){var s=v_(o,t,A);return s!==null&&S1(s),s}if(w1(t)==="RegExp")return v_(N1,t,A);throw T1("RegExp#exec called on incompatible receiver")},P_=Dn,Y1=IA("matchAll"),G_="RegExp String",F_=G_+" Iterator",J1=P_.set,H1=P_.getterFor(F_),q1=TypeError,Ll=O_("".indexOf),Zg=O_("".matchAll),kl=!!Zg&&!G1(function(){Zg("a",/./)}),V1=M1(function(t,A,o,s){J1(this,{type:F_,regexp:t,string:A,global:o,unicode:s,done:!1})},G_,function(){var t=H1(this);if(t.done)return Xg(void 0,!0);var A=t.regexp,o=t.string,s=x1(A,o);return s===null?(t.done=!0,Xg(void 0,!0)):t.global?($a(s[0])===""&&(A.lastIndex=K1(o,k_(A.lastIndex),t.unicode)),Xg(s,!1)):(t.done=!0,Xg(s,!1))}),K_=function(t){var A,o,s,c=O1(this),I=$a(t),C=F1(c,RegExp),l=$a(U_(c));return A=new C(C===RegExp?c.source:c,l),o=!!~Ll(l,"g"),s=!!~Ll(l,"u"),A.lastIndex=k_(c.lastIndex),new V1(A,I,o,s)};b1({target:"String",proto:!0,forced:kl},{matchAll:function(t){var A,o,s,c,I=L_(this);if(L1(t)){if(kl)return Zg(I,t)}else{if(U1(t)&&(A=$a(L_(U_(t))),!~Ll(A,"g")))throw q1("`.matchAll` does not allow non-global regexes");if(kl)return Zg(I,t);if((s=P1(t,Y1))===void 0&&k1(t)=="RegExp"&&(s=K_),s)return M_(s,t,I)}return o=$a(I),c=new RegExp(t,"g"),M_(K_,c,o)}});var j1=Ir("String").matchAll,$1=M,W1=j1,Ul=String.prototype,X1=function(t){var A=t.matchAll;return typeof t=="string"||t===Ul||$1(Ul,t)&&A===Ul.matchAll?W1:A},Z1=g(X1);function x_(t){function A(o,s,c,I){let C=o[I++];if(C==="__proto__")return!0;const l=Number.isFinite(+C),d=I>=o.length;return C=!C&&De.isArray(c)?c.length:C,d?(De.hasOwnProp(c,C)?c[C]=[c[C],s]:c[C]=s,!l):(c[C]&&De.isObject(c[C])||(c[C]=[]),A(o,s,c[C],I)&&De.isArray(c[C])&&(c[C]=function(h){const Q={},_=Object.keys(h);let S;const w=_.length;let k;for(S=0;S<w;S++)k=_[S],Q[k]=h[k];return Q}(c[C])),!l)}if(De.isFormData(t)&&De.isFunction(t.entries)){const o={};return De.forEachEntry(t,(s,c)=>{A(function(I){return Z1(De).call(De,/\w+|\[(\w*)]/g,I).map(C=>C[0]==="[]"?"":C[1]||C[0])}(s),c,o,0)}),o}return null}const Pl={transitional:jQ,adapter:["xhr","http"],transformRequest:[function(t,A){const o=A.getContentType()||"",s=o.indexOf("application/json")>-1,c=De.isObject(t);if(c&&De.isHTMLForm(t)&&(t=new FormData(t)),De.isFormData(t))return s?JSON.stringify(x_(t)):t;if(De.isArrayBuffer(t)||De.isBuffer(t)||De.isStream(t)||De.isFile(t)||De.isBlob(t))return t;if(De.isArrayBufferView(t))return t.buffer;if(De.isURLSearchParams(t))return A.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let I;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return function(C,l){return Gg(C,new eo.classes.URLSearchParams,Object.assign({visitor:function(d,h,Q,_){return eo.isNode&&De.isBuffer(d)?(this.append(h,d.toString("base64")),!1):_.defaultVisitor.apply(this,arguments)}},l))}(t,this.formSerializer).toString();if((I=De.isFileList(t))||o.indexOf("multipart/form-data")>-1){const C=this.env&&this.env.FormData;return Gg(I?{"files[]":t}:t,C&&new C,this.formSerializer)}}return c||s?(A.setContentType("application/json",!1),function(C,l,d){if(De.isString(C))try{return(l||JSON.parse)(C),Ai(De).call(De,C)}catch(h){if(h.name!=="SyntaxError")throw h}return(d||JSON.stringify)(C)}(t)):t}],transformResponse:[function(t){const A=this.transitional||Pl.transitional,o=A&&A.forcedJSONParsing,s=this.responseType==="json";if(t&&De.isString(t)&&(o&&!this.responseType||s)){const c=!(A&&A.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(I){if(c)throw I.name==="SyntaxError"?qt.from(I,qt.ERR_BAD_RESPONSE,this,null,this.response):I}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:eo.classes.FormData,Blob:eo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};De.forEach(["delete","get","head","post","put","patch"],t=>{Pl.headers[t]={}});var Gl=Pl;const z1=De.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Y_=Symbol("internals");function Wa(t){var A;return t&&Ai(A=String(t)).call(A).toLowerCase()}function zg(t){return t===!1||t==null?t:De.isArray(t)?t.map(zg):String(t)}function Fl(t,A,o,s,c){return De.isFunction(s)?s.call(this,A,o):(c&&(A=o),De.isString(A)?De.isString(s)?A.indexOf(s)!==-1:De.isRegExp(s)?s.test(A):void 0:void 0)}class eI{constructor(A){A&&this.set(A)}set(A,o,s){const c=this;function I(d,h,Q){const _=Wa(h);if(!_)throw new Error("header name must be a non-empty string");const S=De.findKey(c,_);(!S||c[S]===void 0||Q===!0||Q===void 0&&c[S]!==!1)&&(c[S||h]=zg(d))}const C=(d,h)=>De.forEach(d,(Q,_)=>I(Q,_,h));var l;return De.isPlainObject(A)||A instanceof this.constructor?C(A,o):De.isString(A)&&(A=Ai(A).call(A))&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(Ai(l=A).call(l))?C((d=>{const h={};let Q,_,S;return d&&d.split(`
`).forEach(function(w){var k,v;S=w.indexOf(":"),Q=Ai(k=w.substring(0,S)).call(k).toLowerCase(),_=Ai(v=w.substring(S+1)).call(v),!Q||h[Q]&&z1[Q]||(Q==="set-cookie"?h[Q]?h[Q].push(_):h[Q]=[_]:h[Q]=h[Q]?h[Q]+", "+_:_)}),h})(A),o):A!=null&&I(o,A,s),this}get(A,o){if(A=Wa(A)){const s=De.findKey(this,A);if(s){const c=this[s];if(!o)return c;if(o===!0)return function(I){const C=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=l.exec(I);)C[d[1]]=d[2];return C}(c);if(De.isFunction(o))return o.call(this,c,s);if(De.isRegExp(o))return o.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(A,o){if(A=Wa(A)){const s=De.findKey(this,A);return!(!s||this[s]===void 0||o&&!Fl(0,this[s],s,o))}return!1}delete(A,o){const s=this;let c=!1;function I(C){if(C=Wa(C)){const l=De.findKey(s,C);!l||o&&!Fl(0,s[l],l,o)||(delete s[l],c=!0)}}return De.isArray(A)?A.forEach(I):I(A),c}clear(A){const o=Object.keys(this);let s=o.length,c=!1;for(;s--;){const I=o[s];A&&!Fl(0,this[I],I,A,!0)||(delete this[I],c=!0)}return c}normalize(A){const o=this,s={};return De.forEach(this,(c,I)=>{var C;const l=De.findKey(s,I);if(l)return o[l]=zg(c),void delete o[I];const d=A?function(h){return Ai(h).call(h).toLowerCase().replace(/([a-z\d])(\w*)/g,(Q,_,S)=>_.toUpperCase()+S)}(I):Ai(C=String(I)).call(C);d!==I&&delete o[I],o[d]=zg(c),s[d]=!0}),this}concat(){for(var A=arguments.length,o=new Array(A),s=0;s<A;s++)o[s]=arguments[s];return this.constructor.concat(this,...o)}toJSON(A){const o=Object.create(null);return De.forEach(this,(s,c)=>{s!=null&&s!==!1&&(o[c]=A&&De.isArray(s)?s.join(", "):s)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(A=>{let[o,s]=A;return o+": "+s}).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(A){return A instanceof this?A:new this(A)}static concat(A){const o=new this(A);for(var s=arguments.length,c=new Array(s>1?s-1:0),I=1;I<s;I++)c[I-1]=arguments[I];return c.forEach(C=>o.set(C)),o}static accessor(A){const o=(this[Y_]=this[Y_]={accessors:{}}).accessors,s=this.prototype;function c(I){const C=Wa(I);o[C]||(function(l,d){const h=De.toCamelCase(" "+d);["get","set","has"].forEach(Q=>{Object.defineProperty(l,Q+h,{value:function(_,S,w){return this[Q].call(this,d,_,S,w)},configurable:!0})})}(s,I),o[C]=!0)}return De.isArray(A)?A.forEach(c):c(A),this}}eI.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),De.reduceDescriptors(eI.prototype,(t,A)=>{let{value:o}=t,s=A[0].toUpperCase()+A.slice(1);return{get:()=>o,set(c){this[s]=c}}}),De.freezeMethods(eI);var So=eI;function Kl(t,A){const o=this||Gl,s=A||o,c=So.from(s.headers);let I=s.data;return De.forEach(t,function(C){I=C.call(o,I,c.normalize(),A?A.status:void 0)}),c.normalize(),I}function J_(t){return!(!t||!t.__CANCEL__)}function Xa(t,A,o){qt.call(this,t??"canceled",qt.ERR_CANCELED,A,o),this.name="CanceledError"}De.inherits(Xa,qt,{__CANCEL__:!0});var eF=eo.hasStandardBrowserEnv?{write(t,A,o,s,c,I){const C=[t+"="+encodeURIComponent(A)];De.isNumber(o)&&C.push("expires="+new Date(o).toGMTString()),De.isString(s)&&C.push("path="+s),De.isString(c)&&C.push("domain="+c),I===!0&&C.push("secure"),document.cookie=C.join("; ")},read(t){const A=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return A?decodeURIComponent(A[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function H_(t,A){return t&&!function(o){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(o)}(A)?function(o,s){return s?o.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):o}(t,A):A}var tF=eo.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),A=document.createElement("a");let o;function s(c){let I=c;return t&&(A.setAttribute("href",I),I=A.href),A.setAttribute("href",I),{href:A.href,protocol:A.protocol?A.protocol.replace(/:$/,""):"",host:A.host,search:A.search?A.search.replace(/^\?/,""):"",hash:A.hash?A.hash.replace(/^#/,""):"",hostname:A.hostname,port:A.port,pathname:A.pathname.charAt(0)==="/"?A.pathname:"/"+A.pathname}}return o=s(window.location.href),function(c){const I=De.isString(c)?s(c):c;return I.protocol===o.protocol&&I.host===o.host}}():function(){return!0};function q_(t,A){let o=0;const s=function(c,I){c=c||10;const C=new Array(c),l=new Array(c);let d,h=0,Q=0;return I=I!==void 0?I:1e3,function(_){const S=Date.now(),w=l[Q];d||(d=S),C[h]=_,l[h]=S;let k=Q,v=0;for(;k!==h;)v+=C[k++],k%=c;if(h=(h+1)%c,h===Q&&(Q=(Q+1)%c),S-d<I)return;const b=w&&S-w;return b?Math.round(1e3*v/b):void 0}}(50,250);return c=>{const I=c.loaded,C=c.lengthComputable?c.total:void 0,l=I-o,d=s(l);o=I;const h={loaded:I,total:C,progress:C?I/C:void 0,bytes:l,rate:d||void 0,estimated:d&&C&&I<=C?(C-I)/d:void 0,event:c};h[A?"download":"upload"]=!0,t(h)}}var AF=typeof XMLHttpRequest<"u"&&function(t){return new pe(function(A,o){let s=t.data;const c=So.from(t.headers).normalize();let I,C,{responseType:l,withXSRFToken:d}=t;function h(){t.cancelToken&&t.cancelToken.unsubscribe(I),t.signal&&t.signal.removeEventListener("abort",I)}if(De.isFormData(s)){if(eo.hasStandardBrowserEnv||eo.hasStandardBrowserWebWorkerEnv)c.setContentType(!1);else if((C=c.getContentType())!==!1){const[k,...v]=C?C.split(";").map(b=>Ai(b).call(b)).filter(Boolean):[];c.setContentType([k||"multipart/form-data",...v].join("; "))}}let Q=new XMLHttpRequest;if(t.auth){const k=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";c.set("Authorization","Basic "+btoa(k+":"+v))}const _=H_(t.baseURL,t.url);function S(){if(!Q)return;const k=So.from("getAllResponseHeaders"in Q&&Q.getAllResponseHeaders());(function(v,b,P){const K=P.config.validateStatus;P.status&&K&&!K(P.status)?b(new qt("Request failed with status code "+P.status,[qt.ERR_BAD_REQUEST,qt.ERR_BAD_RESPONSE][Math.floor(P.status/100)-4],P.config,P.request,P)):v(P)})(function(v){A(v),h()},function(v){o(v),h()},{data:l&&l!=="text"&&l!=="json"?Q.response:Q.responseText,status:Q.status,statusText:Q.statusText,headers:k,config:t,request:Q}),Q=null}if(Q.open(t.method.toUpperCase(),qQ(_,t.params,t.paramsSerializer),!0),Q.timeout=t.timeout,"onloadend"in Q?Q.onloadend=S:Q.onreadystatechange=function(){Q&&Q.readyState===4&&(Q.status!==0||Q.responseURL&&Q.responseURL.indexOf("file:")===0)&&setTimeout(S)},Q.onabort=function(){Q&&(o(new qt("Request aborted",qt.ECONNABORTED,t,Q)),Q=null)},Q.onerror=function(){o(new qt("Network Error",qt.ERR_NETWORK,t,Q)),Q=null},Q.ontimeout=function(){let k=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const v=t.transitional||jQ;t.timeoutErrorMessage&&(k=t.timeoutErrorMessage),o(new qt(k,v.clarifyTimeoutError?qt.ETIMEDOUT:qt.ECONNABORTED,t,Q)),Q=null},eo.hasStandardBrowserEnv&&(d&&De.isFunction(d)&&(d=d(t)),d||d!==!1&&tF(_))){const k=t.xsrfHeaderName&&t.xsrfCookieName&&eF.read(t.xsrfCookieName);k&&c.set(t.xsrfHeaderName,k)}s===void 0&&c.setContentType(null),"setRequestHeader"in Q&&De.forEach(c.toJSON(),function(k,v){Q.setRequestHeader(v,k)}),De.isUndefined(t.withCredentials)||(Q.withCredentials=!!t.withCredentials),l&&l!=="json"&&(Q.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&Q.addEventListener("progress",q_(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&Q.upload&&Q.upload.addEventListener("progress",q_(t.onUploadProgress)),(t.cancelToken||t.signal)&&(I=k=>{Q&&(o(!k||k.type?new Xa(null,t,Q):k),Q.abort(),Q=null)},t.cancelToken&&t.cancelToken.subscribe(I),t.signal&&(t.signal.aborted?I():t.signal.addEventListener("abort",I)));const w=function(k){const v=/^([-+\w]{1,25})(:?\/\/|:)/.exec(k);return v&&v[1]||""}(_);w&&eo.protocols.indexOf(w)===-1?o(new qt("Unsupported protocol "+w+":",qt.ERR_BAD_REQUEST,t)):Q.send(s||null)})};const xl={http:null,xhr:AF};De.forEach(xl,(t,A)=>{if(t){try{Object.defineProperty(t,"name",{value:A})}catch{}Object.defineProperty(t,"adapterName",{value:A})}});const V_=t=>"- ".concat(t),iF=t=>De.isFunction(t)||t===null||t===!1;var j_={getAdapter:t=>{t=De.isArray(t)?t:[t];const{length:A}=t;let o,s;const c={};for(let I=0;I<A;I++){let C;if(o=t[I],s=o,!iF(o)&&(s=xl[(C=String(o)).toLowerCase()],s===void 0))throw new qt("Unknown adapter '".concat(C,"'"));if(s)break;c[C||"#"+I]=s}if(!s){const I=Object.entries(c).map(C=>{let[l,d]=C;return"adapter ".concat(l," ")+(d===!1?"is not supported by the environment":"is not available in the build")});throw new qt("There is no suitable adapter to dispatch the request "+(A?I.length>1?`since :
`+I.map(V_).join(`
`):" "+V_(I[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return s},adapters:xl};function Yl(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Xa(null,t)}function $_(t){return Yl(t),t.headers=So.from(t.headers),t.data=Kl.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),j_.getAdapter(t.adapter||Gl.adapter)(t).then(function(A){return Yl(t),A.data=Kl.call(t,t.transformResponse,A),A.headers=So.from(A.headers),A},function(A){return J_(A)||(Yl(t),A&&A.response&&(A.response.data=Kl.call(t,t.transformResponse,A.response),A.response.headers=So.from(A.response.headers))),pe.reject(A)})}function W_(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}const X_=t=>t instanceof So?function(A){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?W_(Object(s),!0).forEach(function(c){L(A,c,s[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(s)):W_(Object(s)).forEach(function(c){Object.defineProperty(A,c,Object.getOwnPropertyDescriptor(s,c))})}return A}({},t):t;function bs(t,A){A=A||{};const o={};function s(h,Q,_){return De.isPlainObject(h)&&De.isPlainObject(Q)?De.merge.call({caseless:_},h,Q):De.isPlainObject(Q)?De.merge({},Q):De.isArray(Q)?Q.slice():Q}function c(h,Q,_){return De.isUndefined(Q)?De.isUndefined(h)?void 0:s(void 0,h,_):s(h,Q,_)}function I(h,Q){if(!De.isUndefined(Q))return s(void 0,Q)}function C(h,Q){return De.isUndefined(Q)?De.isUndefined(h)?void 0:s(void 0,h):s(void 0,Q)}function l(h,Q,_){return _ in A?s(h,Q):_ in t?s(void 0,h):void 0}const d={url:I,method:I,data:I,baseURL:C,transformRequest:C,transformResponse:C,paramsSerializer:C,timeout:C,timeoutMessage:C,withCredentials:C,withXSRFToken:C,adapter:C,responseType:C,xsrfCookieName:C,xsrfHeaderName:C,onUploadProgress:C,onDownloadProgress:C,decompress:C,maxContentLength:C,maxBodyLength:C,beforeRedirect:C,transport:C,httpAgent:C,httpsAgent:C,cancelToken:C,socketPath:C,responseEncoding:C,validateStatus:l,headers:(h,Q)=>c(X_(h),X_(Q),!0)};return De.forEach(Object.keys(Object.assign({},t,A)),function(h){const Q=d[h]||c,_=Q(t[h],A[h],h);De.isUndefined(_)&&Q!==l||(o[h]=_)}),o}const Z_="1.6.8",Jl={};["object","boolean","number","function","string","symbol"].forEach((t,A)=>{Jl[t]=function(o){return typeof o===t||"a"+(A<1?"n ":" ")+t}});const z_={};Jl.transitional=function(t,A,o){function s(c,I){return"[Axios v"+Z_+"] Transitional option '"+c+"'"+I+(o?". "+o:"")}return(c,I,C)=>{if(t===!1)throw new qt(s(I," has been removed"+(A?" in "+A:"")),qt.ERR_DEPRECATED);return A&&!z_[I]&&(z_[I]=!0,console.warn(s(I," has been deprecated since v"+A+" and will be removed in the near future"))),!t||t(c,I,C)}};var Hl={assertOptions:function(t,A,o){if(typeof t!="object")throw new qt("options must be an object",qt.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let c=s.length;for(;c-- >0;){const I=s[c],C=A[I];if(C){const l=t[I],d=l===void 0||C(l,I,t);if(d!==!0)throw new qt("option "+I+" must be "+d,qt.ERR_BAD_OPTION_VALUE)}else if(o!==!0)throw new qt("Unknown option "+I,qt.ERR_BAD_OPTION)}},validators:Jl};const $o=Hl.validators;let tI=class{constructor(t){this.defaults=t,this.interceptors={request:new VQ,response:new VQ}}async request(t,A){try{return await this._request(t,A)}catch(o){if(o instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const c=s.stack?s.stack.replace(/^.+\n/,""):"";o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}throw o}}_request(t,A){typeof t=="string"?(A=A||{}).url=t:A=t||{},A=bs(this.defaults,A);const{transitional:o,paramsSerializer:s,headers:c}=A;o!==void 0&&Hl.assertOptions(o,{silentJSONParsing:$o.transitional($o.boolean),forcedJSONParsing:$o.transitional($o.boolean),clarifyTimeoutError:$o.transitional($o.boolean)},!1),s!=null&&(De.isFunction(s)?A.paramsSerializer={serialize:s}:Hl.assertOptions(s,{encode:$o.function,serialize:$o.function},!0)),A.method=(A.method||this.defaults.method||"get").toLowerCase();let I=c&&De.merge(c.common,c[A.method]);c&&De.forEach(["delete","get","head","post","put","patch","common"],w=>{delete c[w]}),A.headers=So.concat(I,c);const C=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(A)===!1||(l=l&&w.synchronous,C.unshift(w.fulfilled,w.rejected))});const d=[];let h;this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let Q,_=0;if(!l){const w=[$_.bind(this),void 0];for(w.unshift.apply(w,C),w.push.apply(w,d),Q=w.length,h=pe.resolve(A);_<Q;)h=h.then(w[_++],w[_++]);return h}Q=C.length;let S=A;for(_=0;_<Q;){const w=C[_++],k=C[_++];try{S=w(S)}catch(v){k.call(this,v);break}}try{h=$_.call(this,S)}catch(w){return pe.reject(w)}for(_=0,Q=d.length;_<Q;)h=h.then(d[_++],d[_++]);return h}getUri(t){return qQ(H_((t=bs(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}};De.forEach(["delete","get","head","options"],function(t){tI.prototype[t]=function(A,o){return this.request(bs(o||{},{method:t,url:A,data:(o||{}).data}))}}),De.forEach(["post","put","patch"],function(t){function A(o){return function(s,c,I){return this.request(bs(I||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:s,data:c}))}}tI.prototype[t]=A(),tI.prototype[t+"Form"]=A(!0)});var AI=tI;class ql{constructor(A){if(typeof A!="function")throw new TypeError("executor must be a function.");let o;this.promise=new pe(function(c){o=c});const s=this;this.promise.then(c=>{if(!s._listeners)return;let I=s._listeners.length;for(;I-- >0;)s._listeners[I](c);s._listeners=null}),this.promise.then=c=>{let I;const C=new pe(l=>{s.subscribe(l),I=l}).then(c);return C.cancel=function(){s.unsubscribe(I)},C},A(function(c,I,C){s.reason||(s.reason=new Xa(c,I,C),o(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(A){this.reason?A(this.reason):this._listeners?this._listeners.push(A):this._listeners=[A]}unsubscribe(A){if(!this._listeners)return;const o=this._listeners.indexOf(A);o!==-1&&this._listeners.splice(o,1)}static source(){let A;return{token:new ql(function(o){A=o}),cancel:A}}}var rF=ql;const Vl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vl).forEach(t=>{let[A,o]=t;Vl[o]=A});var oF=Vl;const ZA=function t(A){const o=new AI(A),s=TQ(AI.prototype.request,o);return De.extend(s,AI.prototype,o,{allOwnKeys:!0}),De.extend(s,o,null,{allOwnKeys:!0}),s.create=function(c){return t(bs(A,c))},s}(Gl);ZA.Axios=AI,ZA.CanceledError=Xa,ZA.CancelToken=rF,ZA.isCancel=J_,ZA.VERSION=Z_,ZA.toFormData=Gg,ZA.AxiosError=qt,ZA.Cancel=ZA.CanceledError,ZA.all=function(t){return pe.all(t)},ZA.spread=function(t){return function(A){return t.apply(null,A)}},ZA.isAxiosError=function(t){return De.isObject(t)&&t.isAxiosError===!0},ZA.mergeConfig=bs,ZA.AxiosHeaders=So,ZA.formToJSON=t=>x_(De.isHTMLForm(t)?new FormData(t):t),ZA.getAdapter=j_.getAdapter,ZA.HttpStatusCode=oF,ZA.default=ZA;var di=ZA;const nF=()=>{};function Za(){const t={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:nF};return t.promise=new pe((A,o)=>{t.resolve=s=>{t.isFinished||(t.isResolved=!0,t.isFinished=!0,A(s),t.value=s)},t.reject=s=>{t.isFinished||(t.isRejected=!0,t.isFinished=!0,o(s))}}),t}const iI=new Map,rI=new Map,to=new Map;let wA=function(t){return t.WIN_10="Windows 10",t.WIN_81="Windows 8.1",t.WIN_8="Windows 8",t.WIN_7="Windows 7",t.WIN_VISTA="Windows Vista",t.WIN_SERVER_2003="Windows Server 2003",t.WIN_XP="Windows XP",t.WIN_2000="Windows 2000",t.ANDROID="Android",t.HARMONY_OS="HarmonyOS",t.OPEN_BSD="Open BSD",t.SUN_OS="Sun OS",t.LINUX="Linux",t.IOS="iOS",t.MAC_OS="Mac OS",t.CHROMIUM_OS="Chromium OS",t.QNX="QNX",t.UNIX="UNIX",t.BEOS="BeOS",t.OS_2="OS/2",t.SEARCH_BOT="Search Bot",t}({}),Rt=function(t){return t.CHROME="Chrome",t.SAFARI="Safari",t.EDGE="Edge",t.FIREFOX="Firefox",t.OPERA="OPR",t.QQ="QQBrowser",t.WECHAT="MicroMessenger",t}({});const eR=new mU;let Lr=eR.getResult(),jl=null;function Et(t){if(!jl){Lr=eR.getResult();const A=function(l){if(l.engine.name==="Blink"&&l.browser.name!=="WeChat")return Rt.CHROME;switch(l.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return Rt.CHROME;case"Safari":case"Mobile Safari":return Rt.SAFARI;case"Edge":return Rt.EDGE;case"Firefox":return Rt.FIREFOX;case"QQ":case"QQBrowser":return Rt.QQ;case"Opera":return Rt.OPERA;case"WeChat":return Rt.WECHAT;default:return l.browser.name||""}}(Lr),o=tR(Lr),s=function(l){return l.os.name==="Windows"?l.os.version?l.os.name+" "+l.os.version:l.os.name:l.os.name||""}(Lr),c=Lr.os.version,I=tR(Lr,!1),C=Lr.device.type;if(!(A&&o&&s&&c))return{name:A,version:o,os:s,osVersion:c,browserVersion:I,deviceType:C};jl={name:A,version:o,os:s,osVersion:c,browserVersion:I,deviceType:C}}return jl}function tR(t){let A,o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return A=t.engine.name==="Blink"?t.engine.version||"":t.browser.version||"",o?A.split(".")[0]:A}function oI(){return Et().os}function AR(){const t=Et();return"".concat(t.os," ").concat(t.osVersion)}function nI(){const t=Et();return!!(Lr.engine.name==="WebKit"&&t.os===wA.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&t.name!==Rt.SAFARI||gi()&&t.name!==Rt.SAFARI)}function Wo(){return Et().name===Rt.CHROME}function KA(){return Et().name===Rt.SAFARI}function iR(){return Et().name===Rt.EDGE}function zt(){return Et().name===Rt.FIREFOX}function gi(){return Et().os===wA.IOS}function $l(t){const A=Et();return!(A.name!==Rt.CHROME||!A.osVersion)&&Number(A.version)>=t}function rR(t){const A=Et();return!(A.name!==Rt.CHROME||!A.osVersion)&&Number(A.version)<t}function oR(t){const A=Et();return!(A.name!==Rt.EDGE||!A.osVersion)&&Number(A.version)>=t}function nR(t){const A=Et();return!(A.name!==Rt.SAFARI||!A.osVersion)&&Number(A.version)>=t}function sR(t,A,o){const s=Et();if(s.os!==wA.IOS||!s.osVersion)return!1;const c=s.osVersion.split(".");return A&&Number(c[0])===t&&Number(c[1])<A||Number(c[0])<t}function aR(t,A,o){const s=Et();if(s.name!==Rt.SAFARI||!s.osVersion||!s.browserVersion)return!1;const c=s.browserVersion.split(".");return o?A&&Number(c[0])===t&&Number(c[1])<A||Number(c[0])<t:A?Number(c[0])===t&&Number(c[1])<=A||Number(c[0])<t:Number(c[0])<=t}function cR(t){const A=Et();return!(A.name!==Rt.OPERA||!A.osVersion)&&Number(A.version)>=t}function gR(){const t=Et();if(t.os!==wA.IOS||!t.osVersion)return!1;const A=t.osVersion.split(".");return Number(A[0])<14||Number(A[0])===14&&Number(A[1])<=6}function vs(){const t=Et();if(t.os!==wA.IOS||!t.osVersion)return!1;const A=t.osVersion.split(".");return Number(A[0])===15}function Wl(){const t=Et();if(t.os!==wA.IOS||!t.osVersion)return!1;const A=t.osVersion.split(".");return Number(A[0])===16}function IR(){const t=Et();if(t.os!==wA.IOS||!t.osVersion)return!1;const A=t.osVersion.split(".");return Number(A[0])===15&&Number(A[1])>=1}function lr(){return KA()&&navigator.maxTouchPoints>0}function ER(){return Et().name===Rt.WECHAT}function CR(){return window.navigator.appVersion&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)!==null&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}function Xl(){const t=oI();return function(){const{deviceType:A}=Et();return A==="mobile"||A==="tablet"}()||t===wA.ANDROID||t===wA.IOS||t===wA.HARMONY_OS}function Xo(){const t=Et();return t.name!==Rt.EDGE&&t.name!==Rt.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function sI(){return oI()===wA.ANDROID}function za(){const t=Et();return sI()&&(t.name===Rt.CHROME||t.name===Rt.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}function Kt(t,A,o){return(A=function(s){var c=function(I,C){if(typeof I!="object"||!I)return I;var l=I[Symbol.toPrimitive];if(l!==void 0){var d=l.call(I,"string");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(s);return typeof c=="symbol"?c:c+""}(A))in t?Object.defineProperty(t,A,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[A]=o,t}function lR(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function ve(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?lR(Object(o),!0).forEach(function(s){Kt(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):lR(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}let G=function(t){return t.UNEXPECTED_ERROR="UNEXPECTED_ERROR",t.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",t.TIMEOUT="TIMEOUT",t.INVALID_PARAMS="INVALID_PARAMS",t.NOT_READABLE="NOT_READABLE",t.NOT_SUPPORTED="NOT_SUPPORTED",t.INVALID_OPERATION="INVALID_OPERATION",t.OPERATION_ABORTED="OPERATION_ABORTED",t.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",t.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",t.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",t.DATACHANNEL_FAILED="DATACHANNEL_FAILED",t.NETWORK_ERROR="NETWORK_ERROR",t.NETWORK_TIMEOUT="NETWORK_TIMEOUT",t.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",t.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",t.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",t.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",t.ELECTRON_IS_NULL="ELECTRON_IS_NULL",t.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",t.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",t.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",t.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",t.PERMISSION_DENIED="PERMISSION_DENIED",t.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",t.TRACK_IS_DISABLED="TRACK_IS_DISABLED",t.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",t.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",t.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",t.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",t.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",t.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",t.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",t.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",t.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",t.UID_CONFLICT="UID_CONFLICT",t.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",t.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",t.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",t.INVALID_TRACK="INVALID_TRACK",t.SENDER_NOT_FOUND="SENDER_NOT_FOUND",t.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",t.SET_ANSWER_FAILED="SET_ANSWER_FAILED",t.ICE_FAILED="ICE_FAILED",t.PC_CLOSED="PC_CLOSED",t.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",t.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",t.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",t.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",t.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",t.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",t.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",t.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",t.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",t.INVALID_REMOTE_USER="INVALID_REMOTE_USER",t.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",t.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",t.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",t.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",t.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",t.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",t.WS_ABORT="WS_ABORT",t.WS_DISCONNECT="WS_DISCONNECT",t.WS_ERR="WS_ERR",t.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",t.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",t.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",t.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",t.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",t.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",t.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",t.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",t.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",t.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",t.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",t.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",t.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",t.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",t.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",t.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",t.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",t.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",t.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",t.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",t.INVALID_PLUGIN="INVALID_PLUGIN",t.DISCONNECT_P2P="DISCONNECT_P2P",t.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",t.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",t.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",t.CREATE_DATACHANNEL_ERROR="CREATE_DATACHANNEL_ERROR",t.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",t.PROHIBITED_OPERATION="PROHIBITED_OPERATION",t.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",t.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED",t}({}),Ae=class extends Error{constructor(t){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0;super(A),Kt(this,"code",void 0),Kt(this,"message",void 0),Kt(this,"data",void 0),Kt(this,"name","AgoraRTCException"),this.code=t,this.message="AgoraRTCError ".concat(this.code,": ").concat(A),this.data=o}toString(){return this.data?"data: ".concat(JSON.stringify(this.data),`
`).concat(this.stack):"".concat(this.stack)}print(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"error",A=arguments.length>1?arguments[1]:void 0;return t==="error"&&(A||console).error(this.toString()),t==="warning"&&(A||console).warn(this.toString()),this}throw(t){throw this.print("error",t),this}};function Do(t,A){if(typeof t!="boolean")throw new Ae(G.INVALID_PARAMS,"Invalid ".concat(A,": The value is of the boolean type."))}function yA(t,A,o){if(!Re(o).call(o,t))throw new Ae(G.INVALID_PARAMS,"".concat(A," can only be set as ").concat(JSON.stringify(o)))}function bt(t,A){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e4;if(t<o||t>s||(!(arguments.length>4&&arguments[4]!==void 0)||arguments[4])&&!function(c){return typeof c=="number"&&c%1==0}(t))throw new Ae(G.INVALID_PARAMS,"invalid ".concat(A,": the value range is [").concat(o,", ").concat(s,"]. integer only"))}function Zl(t,A){if(typeof t!="number"){if(!(t.min||t.max||t.ideal||t.exact))throw new Ae(G.INVALID_PARAMS,"".concat(A," is not a valid ConstrainLong"));t.min!==void 0&&bt(t.min,"".concat(A,".min"),0,1/0),t.max!==void 0&&bt(t.max,"".concat(A,".max"),1,1/0),t.exact!==void 0&&bt(t.exact,"".concat(A,".exact"),1,1/0),t.ideal!==void 0&&bt(t.ideal,"".concat(A,".ideal"),1,1/0)}else bt(t,A,1,1/0)}function MA(t,A){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:255,c=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(t==null)throw new Ae(G.INVALID_PARAMS,"".concat(A||"param"," cannot be empty"));if(!uR(t,o,s,c))throw new Ae(G.INVALID_PARAMS,"Invalid ".concat(A||"string param",": Length of the string: [").concat(o,",").concat(s,"].").concat(c?" ASCII characters only.":""))}function wo(t,A){if(!Array.isArray(t))throw new Ae(G.INVALID_PARAMS,"".concat(A," should be an array"))}function Wt(t){return t==null}function uR(t){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:255,s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return typeof t=="string"&&t.length<=o&&t.length>=A&&(!s||function(c){if(typeof c!="string")return!1;for(let I=0;I<c.length;I+=1){const C=c.charCodeAt(I);if(C<0||C>255)return!1}return!0}(t))}var ec=function(t){return t.COVERED="COVERED",t.POSITION="POSITION",t.SIZE="SIZE",t.STYLE="STYLE",t}(ec||{}),zl=function(t){return t.UNMOUNTED="UNMOUNTED",t.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT",t}(zl||{});const dR=new class{constructor(){Kt(this,"_clientSize",null),Kt(this,"getClientWidth",()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth),Kt(this,"getClientHeight",()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight),Kt(this,"getStyle",t=>window.getComputedStyle(t,null)),Kt(this,"checkCssVisibleProperty",t=>{var A;let o=!0;const s=this.getStyle(t),{display:c,visibility:I,opacity:C,filter:l}=s;return(c==="none"||Re(A=["hidden","collapse"]).call(A,I)||Number(C)<.1)&&(o=!1),!!o&&(l&&l.split(" ").filter(d=>{var h;const Q=d.split("(")[0];return Re(h=["brightness","blur","opacity"]).call(h,Q)}).map(d=>{const[h,Q]=d.split(/\(|\)/);return[h,Number(Q.match(/^[0-9\.]+/))]}).forEach(d=>{const[h,Q]=d;switch(h){case"brightness":(Q<.1||Q>3)&&(o=!1);break;case"blur":Q>3&&(o=!1);break;case"opacity":Q<.1&&(o=!1)}}),o)}),Kt(this,"checkPropertyUpToAllParentNodes",(t,A)=>{let o=!0,s=!0;const c=C=>A(C);let I=t;for(;I&&s;)c(I)||(o=!1,s=!1),I=I.parentElement,I||(s=!1);return o}),Kt(this,"checkActualCssVisibleIncludeInherit",t=>this.checkPropertyUpToAllParentNodes(t,this.checkCssVisibleProperty)),Kt(this,"getSizeAboutClient",t=>{const{width:A,height:o,left:s,right:c,top:I,bottom:C}=t.getBoundingClientRect(),l=this.getClientWidth(),d=this.getClientHeight();return{width:A,height:o,left:s,right:c,top:I,bottom:C,clientWidth:l,clientHeight:d,clientMin:Math.min(l,d)}}),Kt(this,"checkActualSize",()=>{const{width:t,height:A,clientMin:o}=this._clientSize;return this.checkSizeIsVisible(t,A,o)}),Kt(this,"elementFromPoint",(t,A)=>document.elementFromPoint?document.elementFromPoint(t,A):null),Kt(this,"checkCoverForAPoint",(t,A,o)=>{const s=this.elementFromPoint(t,A);return s!==null&&s!==o}),Kt(this,"getPointPositionList",()=>{const{width:t,height:A,left:o,top:s}=this._clientSize,c=t/6,I=A/6,C=[],l=10**6;for(let d=0;d<5;d++)for(let h=0;h<5;h++){const Q=(o*l+(d===0?.1:d===4?(c*d*l-1e5)/l:c*d)*l)/l,_=(s*l+(h===0?.1:h===4?(I*h*l-1e5)/l:I*h)*l)/l;C.push({x:Q,y:_})}return[...C]}),Kt(this,"checkElementCover",t=>this.getPointPositionList().map(A=>this.checkCoverForAPoint(A.x,A.y,t)).filter(A=>!!A).length>6),Kt(this,"checkSizeIsVisible",(t,A,o)=>(t>50||o/t<=10)&&(A>50||o/A<=10)),Kt(this,"checkSizeOfPartInClient",()=>{const{left:t,right:A,top:o,bottom:s,clientHeight:c,clientWidth:I,clientMin:C}=this._clientSize;let l,d,h,Q;if(t<0)l=0;else{if(!(t<I))return!1;l=t}if(A<0)return!1;if(d=A<I?A:I,o<0)h=0;else{if(!(o<c))return!1;h=o}if(s<0)return!1;Q=s<c?s:c;const _=d-l,S=Q-h;return this.checkSizeIsVisible(_,S,C)}),Kt(this,"returnHiddenResult",t=>(this._clientSize=null,{visible:!1,reason:t})),Kt(this,"checkOneElementVisible",t=>{if(t instanceof HTMLElement){if(this.checkElementIsMountedOnDom(t)){if(this.checkActualCssVisibleIncludeInherit(t)){if(this._clientSize=this.getSizeAboutClient(t),this.checkElementCover(t))return this.returnHiddenResult(ec.COVERED);{const A=this.checkActualSize(),o=this.checkSizeOfPartInClient();return A&&!o?this.returnHiddenResult(ec.POSITION):A?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(ec.SIZE)}}return this.returnHiddenResult(ec.STYLE)}return this.returnHiddenResult(zl.UNMOUNTED)}return this.returnHiddenResult(zl.INVALID_HTML_ELEMENT)}),Kt(this,"checkElementIsMountedOnDom",t=>this.checkPropertyUpToAllParentNodes(t,A=>A.nodeName.toUpperCase()!=="HTML"?A.parentElement!==null:!!document.documentElement))}};function eu(t){return new TextEncoder().encode(t)}const hR=function(t,A){const o=new Uint8Array(t.byteLength+A.byteLength);return o.set(new Uint8Array(t),0),o.set(new Uint8Array(A),t.byteLength),o},tu=async t=>function(A,o){let s="";return new Uint8Array(A).forEach(c=>{s+=c.toString(o).padStart(2,"0")}),s}(await crypto.subtle.digest("SHA-256",eu(t)),16);let Xt=class{constructor(){Kt(this,"_events",{}),Kt(this,"addListener",this.on)}getListeners(t){return this._events[t]?this._events[t].map(A=>A.listener):[]}on(t,A){this._events[t]||(this._events[t]=[]);const o=this._events[t];this._indexOfListener(o,A)===-1&&o.push({listener:A,once:!1})}once(t,A){this._events[t]||(this._events[t]=[]);const o=this._events[t];this._indexOfListener(o,A)===-1&&o.push({listener:A,once:!0})}off(t,A){if(!this._events[t])return;const o=this._events[t],s=this._indexOfListener(o,A);s!==-1&&o.splice(s,1),this._events[t].length===0&&delete this._events[t]}removeAllListeners(t){t?delete this._events[t]:this._events={}}emit(t){this._events[t]||(this._events[t]=[]);const A=this._events[t].map(I=>I);for(var o=arguments.length,s=new Array(o>1?o-1:0),c=1;c<o;c++)s[c-1]=arguments[c];for(let I=0;I<A.length;I+=1){const C=A[I];C.once&&this.off(t,C.listener),C.listener.apply(this,s||[])}}safeEmit(t){for(var A=arguments.length,o=new Array(A>1?A-1:0),s=1;s<A;s++)o[s-1]=arguments[s];[...this._events[t]||[]].forEach(c=>{c.once&&this.off(t,c.listener);try{c.listener.apply(this,o)}catch(I){console.error("safeEmit event:".concat(t," error ").concat(I==null?void 0:I.toString()))}})}_indexOfListener(t,A){let o=t.length;for(;o--;)if(t[o].listener===A)return o;return-1}},tc=null;function BR(){if(tc)return tc;if(window.electron)return tc=window.electron;if(!window.require)return null;try{return tc=window.require("electron"),tc}catch{return null}}let fA=function(t){return t.CREATE_CLIENT="createClient",t.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",t.SET_AREA="setArea",t.PRELOAD="PRELOAD",t.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",t.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",t.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",t.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",t.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",t.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",t.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",t.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",t.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",t.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",t.START_PROXY_SERVER="Client.startProxyServer",t.STOP_PROXY_SERVER="Client.stopProxyServer",t.SET_PROXY_SERVER="Client.setProxyServer",t.SET_TURN_SERVER="Client.setTurnServer",t.SET_CLIENT_ROLE="Client.setClientRole",t.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",t.ENABLE_DUAL_STREAM="Client.enableDualStream",t.DISABLE_DUAL_STREAM="Client.disableDualStream",t.JOIN="Client.join",t.LEAVE="Client.leave",t.PUBLISH="Client.publish",t.UNPUBLISH="Client.unpublish",t.SUBSCRIBE="Client.subscribe",t.MASS_SUBSCRIBE="Client.massSubscribe",t.MASS_UNSUBSCRIBE="Client.massUnsubscribe",t.UNSUBSCRIBE="Client.unsubscribe",t.RENEW_TOKEN="Client.renewToken",t.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",t.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",t.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",t.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",t.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",t.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",t.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",t.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",t.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",t.START_LIVE_STREAMING="Client.startLiveStreaming",t.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",t.STOP_LIVE_STREAMING="Client.stopLiveStreaming",t.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",t.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",t.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",t.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",t.SET_CONFIG_DISTRIBUTE="_configDistribute",t.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",t.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",t.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",t.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",t.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",t.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",t.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",t.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",t.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",t.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",t.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",t.LOCAL_VIDEO_SEND_SEI_DATA="LocalVideoTrack.sendSeiData",t.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",t.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",t.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",t.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",t.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",t.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",t.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",t.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",t.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",t.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",t.STREAM_TYPE_CHANGE="streamTypeChange",t.CONNECTION_STATE_CHANGE="connectionStateChange",t.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage",t.IMAGE_MODERATION_UPLOAD="imageModerationUpload",t}({}),eA=function(t){return t.TRACER="tracer",t}({});function pR(t){return bt(t.timeout,"config.timeout",0,1e5),bt(t.timeoutFactor,"config.timeoutFactor",0,100,!1),bt(t.maxRetryCount,"config.maxRetryConfig",0,1/0),bt(t.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}let sF=function(t){return t[t.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",t[t.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",t[t.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY",t}({}),St=function(t){return t.LEAVE="LEAVE",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.UID_BANNED="UID_BANNED",t.FALLBACK="FALLBACK",t.IP_BANNED="IP_BANNED",t.CHANNEL_BANNED="CHANNEL_BANNED",t.LICENSE_MISSING="LICENSE_MISSING",t.LICENSE_EXPIRED="LICENSE_EXPIRED",t.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",t.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",t.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",t.LICENSE_ILLEGAL="LICENSE_ILLEGAL",t.TOKEN_EXPIRE="TOKEN_EXPIRE",t}({});function aI(t){if(!Array.isArray(t)||t.length<1)return!1;try{t.forEach(A=>{if(!A.urls)throw Error()})}catch{return!1}return!0}function QR(t){return MA(t.turnServerURL,"turnServerURL"),MA(t.username,"username"),MA(t.password,"password"),t.udpport&&bt(t.udpport,"udpport",1,99999,!0),t.forceturn&&Do(t.forceturn,"forceturn"),t.security&&Do(t.security,"security"),t.tcpport&&bt(t.tcpport,"tcpport",1,99999,!0),!0}function fR(t){return t.level!==void 0&&yA(t.level,"level",[1,2,3]),t.delay!==void 0&&bt(t.delay,"delay",0,3e3,!0),!0}let st=function(t){return t.CONNECTION_STATE_CHANGE="connection-state-change",t.MEDIA_RECONNECT_START="media-reconnect-start",t.MEDIA_RECONNECT_END="media-reconnect-end",t.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",t.USER_JOINED="user-joined",t.USER_LEAVED="user-left",t.USER_PUBLISHED="user-published",t.USER_UNPUBLISHED="user-unpublished",t.USER_INFO_UPDATED="user-info-updated",t.CLIENT_BANNED="client-banned",t.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",t.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",t.VOLUME_INDICATOR="volume-indicator",t.CRYPT_ERROR="crypt-error",t.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",t.NETWORK_QUALITY="network-quality",t.STREAM_TYPE_CHANGED="stream-type-changed",t.STREAM_FALLBACK="stream-fallback",t.RECEIVE_METADATA="receive-metadata",t.STREAM_MESSAGE="stream-message",t.LIVE_STREAMING_ERROR="live-streaming-error",t.LIVE_STREAMING_WARNING="live-streaming-warning",t.EXCEPTION="exception",t.ERROR="error",t.P2P_LOST="p2p_lost",t.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",t.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",t.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",t.PUBLISHED_USER_LIST="published-user-list",t.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",t.CONTENT_INSPECT_ERROR="content-inspect-error",t.CONTENT_INSPECT_RESULT="content-inspect-result",t.IMAGE_MODERATION_CONNECTION_STATE_CHANGE="image-moderation-connection-state-change",t}({}),xA=function(t){return t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.MULTI_IP="MULTI_IP",t.TIMEOUT="TIMEOUT",t.OFFLINE="OFFLINE",t.LEAVE="LEAVE",t.P2P_FAILED="P2P_FAILED",t.FALLBACK="FALLBACK",t}({}),Ti=function(t){return t.ONLINE="ONLINE",t.OFFLINE="OFFLINE",t}({}),Ms=function(t){return t.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",t.ONLINE="ONLINE",t.OFFLINE="OFFLINE",t}({});function YA(t,A){for(var o=arguments.length,s=new Array(o>2?o-2:0),c=2;c<o;c++)s[c-2]=arguments[c];return t.getListeners(A).length===0?pe.reject(new Ae(G.UNEXPECTED_ERROR,"can not emit promise")):new pe((I,C)=>{t.emit(A,...s,I,C)})}function Mt(t,A){if(t.getListeners(A).length===0)return pe.resolve();for(var o=arguments.length,s=new Array(o>2?o-2:0),c=2;c<o;c++)s[c-2]=arguments[c];return YA(t,A,...s)}function zi(t,A){if(t.getListeners(A).length===0)return null;for(var o=arguments.length,s=new Array(o>2?o-2:0),c=2;c<o;c++)s[c-2]=arguments[c];return Ac(t,A,...s)}function Ac(t,A){let o=null,s=null;for(var c=arguments.length,I=new Array(c>2?c-2:0),C=2;C<c;C++)I[C-2]=arguments[C];if(t.emit(A,...I,l=>{o=l},l=>{s=l}),s!==null)throw s;if(o===null)throw new Ae(G.UNEXPECTED_ERROR,"handler is not sync");return o}const EA=new class extends Xt{set networkState(t){this.emit(Ms.NETWORK_STATE_CHANGE,t,this._networkState),t===Ti.ONLINE?this.emit(Ms.ONLINE):t===Ti.OFFLINE&&(this.onlineWaiter=new pe(A=>{this.once(Ms.ONLINE,()=>{this.onlineWaiter=void 0,A(Ti.ONLINE)})}),this.emit(Ms.OFFLINE)),this._networkState=t}get networkState(){return this._networkState}get isOnline(){return this._networkState===Ti.ONLINE}constructor(){super(),Kt(this,"_moduleName","network-indicator"),Kt(this,"_networkState",Ti.ONLINE),Kt(this,"onlineWaiter",void 0),window.addEventListener("online",()=>{this.networkState=Ti.ONLINE}),window.addEventListener("offline",()=>{this.networkState=Ti.OFFLINE})}};function cI(t,A){const o=t.indexOf(A);o!==-1&&t.splice(o,1)}function Os(t){const A=[];return t.forEach(o=>{A.indexOf(o)===-1&&A.push(o)}),A}function gI(t){pe!==void 0?pe.resolve().then(t):setTimeout(t,0)}function CA(t){return JSON.parse(JSON.stringify(t))}function Mn(t){try{return CA(t)}catch{return t}}const _R={};function Zo(t,A){_R[A]||(_R[A]=!0,t())}function On(t){const A=window.atob(t),o=new Uint8Array(new ArrayBuffer(A.length));for(let s=0;s<A.length;s+=1)o[s]=A.charCodeAt(s);return o}function zo(t){let A="";for(let o=0;o<t.length;o+=1)A+=String.fromCharCode(t[o]);return window.btoa(A)}function RR(t){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,o=new TextEncoder().encode(t);if(o.length>A)o=o.slice(0,A);else if(o.length<A){const s=new Uint8Array(A);s.set(o),o=s}return o}function yR(){for(var t=arguments.length,A=new Array(t),o=0;o<t;o++)A[o]=arguments[o];const s=Mr(A).call(A,(C,l)=>C+l.length,0),c=new Uint8Array(new ArrayBuffer(s));let I=0;return A.forEach(C=>{c.set(C,I),I+=C.length}),c}function Ao(t){return window.TextEncoder?new TextEncoder().encode(t).length:t.length}function mR(t){let A=0;return(/DingTalk/i.test(navigator.userAgent)||/AliApp/i.test(navigator.userAgent))&&t.realFormData&&(t=t.realFormData),t.forEach(o=>{A+=typeof o=="string"?Ao(o):o.size}),A+138}function aF(t){const A=new Ae(G.TIMEOUT,"timeout");return new pe((o,s)=>{window.setTimeout(()=>s(A),t)})}function OA(t){return new pe(A=>{window.setTimeout(A,t)})}function kt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:7,A=arguments.length>1?arguments[1]:void 0;const o=Math.random().toString(16).substr(2,t).toLowerCase();return o.length===t?"".concat(A).concat(o):"".concat(A).concat(o)+kt(t-o.length,"")}function Ls(){return kt(32,"").toUpperCase()}const II=()=>{},SR=new class{constructor(){Kt(this,"fnMap",new Map)}throttleByKey(t,A,o,s){for(var c=arguments.length,I=new Array(c>4?c-4:0),C=4;C<c;C++)I[C-4]=arguments[C];if(this.fnMap.has(A)){const l=this.fnMap.get(A);if(l.threshold!==o){l.fn(...l.args),clearTimeout(l.timer);const d=window.setTimeout(()=>{const h=this.fnMap.get(A);h&&h.fn(...h.args),this.fnMap.delete(A)},o);this.fnMap.set(A,{fn:t,threshold:o,timer:d,args:I,skipFn:s})}else l.skipFn&&l.skipFn(...l.args),this.fnMap.set(A,ve(ve({},l),{},{fn:t,args:I,skipFn:s}))}else{const l=window.setTimeout(()=>{const d=this.fnMap.get(A);d&&d.fn(...d.args),this.fnMap.delete(A)},o);this.fnMap.set(A,{fn:t,threshold:o,timer:l,args:I,skipFn:s})}}},DR=SR.throttleByKey.bind(SR);function wR(t){return typeof t=="object"&&t!==null&&!(t instanceof RegExp)}function Au(t,A){if(!wR(t)||!wR(A)||Array.isArray(t)&&!Array.isArray(A)||!Array.isArray(t)&&Array.isArray(A))return A;if(Array.isArray(A)&&Array.isArray(t)){const o=[...t];for(let s=0;s<A.length;s++)o[s]=Au(t[s],A[s]);return o}{const o=ve({},t);for(const s in A)Object.prototype.hasOwnProperty.call(A,s)&&(Object.prototype.hasOwnProperty.call(t,s)?o[s]=Au(t[s],A[s]):o[s]=A[s]);return o}}function NR(t,A){let o=[0];if(o=new Array(A).fill(0),t===0)return o;let s=0;for(;t>0&&(o[s]=255&t,t>>=8,s++,s!==A););return o}function iu(t){return typeof t=="number"?t:t.exact||t.ideal||t.max||t.min||0}function TR(t){const A="0123456789abcdef";function o(W){let X,Z="";for(X=0;X<=3;X++)Z+=A.charAt(W>>8*X+4&15)+A.charAt(W>>8*X&15);return Z}function s(W,X){const Z=(65535&W)+(65535&X);return(W>>16)+(X>>16)+(Z>>16)<<16|65535&Z}function c(W,X,Z,ie,ce,de){return s(function(Ce,be){return Ce<<be|Ce>>>32-be}(s(s(X,W),s(ie,de)),ce),Z)}function I(W,X,Z,ie,ce,de,Ce){return c(X&Z|~X&ie,W,X,ce,de,Ce)}function C(W,X,Z,ie,ce,de,Ce){return c(X&ie|Z&~ie,W,X,ce,de,Ce)}function l(W,X,Z,ie,ce,de,Ce){return c(X^Z^ie,W,X,ce,de,Ce)}function d(W,X,Z,ie,ce,de,Ce){return c(Z^(X|~ie),W,X,ce,de,Ce)}const h=function(W){let X;const Z=1+(W.length+8>>6),ie=new Array(16*Z);for(X=0;X<16*Z;X++)ie[X]=0;for(X=0;X<W.length;X++)ie[X>>2]|=W.charCodeAt(X)<<X%4*8;return ie[X>>2]|=128<<X%4*8,ie[16*Z-2]=8*W.length,ie}(t);let Q,_,S,w,k,v=1732584193,b=-271733879,P=-1732584194,K=271733878;for(Q=0;Q<h.length;Q+=16)_=v,S=b,w=P,k=K,v=I(v,b,P,K,h[Q+0],7,-680876936),K=I(K,v,b,P,h[Q+1],12,-389564586),P=I(P,K,v,b,h[Q+2],17,606105819),b=I(b,P,K,v,h[Q+3],22,-1044525330),v=I(v,b,P,K,h[Q+4],7,-176418897),K=I(K,v,b,P,h[Q+5],12,1200080426),P=I(P,K,v,b,h[Q+6],17,-1473231341),b=I(b,P,K,v,h[Q+7],22,-45705983),v=I(v,b,P,K,h[Q+8],7,1770035416),K=I(K,v,b,P,h[Q+9],12,-1958414417),P=I(P,K,v,b,h[Q+10],17,-42063),b=I(b,P,K,v,h[Q+11],22,-1990404162),v=I(v,b,P,K,h[Q+12],7,1804603682),K=I(K,v,b,P,h[Q+13],12,-40341101),P=I(P,K,v,b,h[Q+14],17,-1502002290),b=I(b,P,K,v,h[Q+15],22,1236535329),v=C(v,b,P,K,h[Q+1],5,-165796510),K=C(K,v,b,P,h[Q+6],9,-1069501632),P=C(P,K,v,b,h[Q+11],14,643717713),b=C(b,P,K,v,h[Q+0],20,-373897302),v=C(v,b,P,K,h[Q+5],5,-701558691),K=C(K,v,b,P,h[Q+10],9,38016083),P=C(P,K,v,b,h[Q+15],14,-660478335),b=C(b,P,K,v,h[Q+4],20,-405537848),v=C(v,b,P,K,h[Q+9],5,568446438),K=C(K,v,b,P,h[Q+14],9,-1019803690),P=C(P,K,v,b,h[Q+3],14,-187363961),b=C(b,P,K,v,h[Q+8],20,1163531501),v=C(v,b,P,K,h[Q+13],5,-1444681467),K=C(K,v,b,P,h[Q+2],9,-51403784),P=C(P,K,v,b,h[Q+7],14,1735328473),b=C(b,P,K,v,h[Q+12],20,-1926607734),v=l(v,b,P,K,h[Q+5],4,-378558),K=l(K,v,b,P,h[Q+8],11,-2022574463),P=l(P,K,v,b,h[Q+11],16,1839030562),b=l(b,P,K,v,h[Q+14],23,-35309556),v=l(v,b,P,K,h[Q+1],4,-1530992060),K=l(K,v,b,P,h[Q+4],11,1272893353),P=l(P,K,v,b,h[Q+7],16,-155497632),b=l(b,P,K,v,h[Q+10],23,-1094730640),v=l(v,b,P,K,h[Q+13],4,681279174),K=l(K,v,b,P,h[Q+0],11,-358537222),P=l(P,K,v,b,h[Q+3],16,-722521979),b=l(b,P,K,v,h[Q+6],23,76029189),v=l(v,b,P,K,h[Q+9],4,-640364487),K=l(K,v,b,P,h[Q+12],11,-421815835),P=l(P,K,v,b,h[Q+15],16,530742520),b=l(b,P,K,v,h[Q+2],23,-995338651),v=d(v,b,P,K,h[Q+0],6,-198630844),K=d(K,v,b,P,h[Q+7],10,1126891415),P=d(P,K,v,b,h[Q+14],15,-1416354905),b=d(b,P,K,v,h[Q+5],21,-57434055),v=d(v,b,P,K,h[Q+12],6,1700485571),K=d(K,v,b,P,h[Q+3],10,-1894986606),P=d(P,K,v,b,h[Q+10],15,-1051523),b=d(b,P,K,v,h[Q+1],21,-2054922799),v=d(v,b,P,K,h[Q+8],6,1873313359),K=d(K,v,b,P,h[Q+15],10,-30611744),P=d(P,K,v,b,h[Q+6],15,-1560198380),b=d(b,P,K,v,h[Q+13],21,1309151649),v=d(v,b,P,K,h[Q+4],6,-145523070),K=d(K,v,b,P,h[Q+11],10,-1120210379),P=d(P,K,v,b,h[Q+2],15,718787259),b=d(b,P,K,v,h[Q+9],21,-343485551),v=s(v,_),b=s(b,S),P=s(P,w),K=s(K,k);return o(v)+o(b)+o(P)+o(K)}let cF=1,EI=console,$A=class{static setLogger(t){EI=t}constructor(t){Kt(this,"lockingPromise",pe.resolve()),Kt(this,"locks",0),Kt(this,"name",""),Kt(this,"lockId",void 0),this.lockId=cF++,t&&(this.name=t),EI.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is created."))}get isLocked(){return this.locks>0}lock(t){let A;this.locks+=1,EI.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is locked, current queue ").concat(this.locks,". ").concat(typeof t=="string"?t:""));const o=new pe(c=>{A=()=>{this.locks-=1,EI.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is not locked, current queue ").concat(this.locks,". ").concat(typeof t=="string"?t:"")),c()}}),s=this.lockingPromise.then(()=>A);return this.lockingPromise=this.lockingPromise.then(()=>o),s}};function ks(t,A){return function(o,s,c){const I=c.value;if(typeof I!="function")throw new Error("Cannot use mutex on object property.");return c.value=async function(){const C=this[A];if(!C)throw new Error("mutex property key ".concat(A," doesn't exist on ").concat(t));const l=await C.lock("From ".concat(t,".").concat(s));try{for(var d=arguments.length,h=new Array(d),Q=0;Q<d;Q++)h[Q]=arguments[Q];return await I.apply(this,h)}finally{l()}},c}}const hA={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function ru(t,A){const o=Math.floor(A.timeout*Math.pow(A.timeoutFactor,t));return Math.min(A.maxRetryTimeout,o)}function kr(t,A,o,s){const c=Object.assign({},hA,s);let I=c.timeout;const C=async()=>{await function(h){return new pe(Q=>{window.setTimeout(Q,h)})}(I),I*=c.timeoutFactor,I=Math.min(c.maxRetryTimeout,I)};let l=!1;const d=new pe(async(h,Q)=>{A=A||(()=>!1),o=o||(()=>!0);for(let _=0;_<c.maxRetryCount;_+=1){if(l)return Q(new Ae(G.OPERATION_ABORTED));try{const S=await t();if(!A(S,_)||_+1===c.maxRetryCount)return h(S);await C()}catch(S){if(!o(S,_)||_+1===c.maxRetryCount)return Q(S);await C()}}});return d.cancel=()=>l=!0,d}class bR{constructor(A){Kt(this,"input",[]),Kt(this,"size",void 0),this.size=A}add(A){this.input.push(A),this.input.length>this.size&&this.input.splice(0,1)}mean(){var A;return this.input.length===0?0:Mr(A=this.input).call(A,(o,s)=>o+s)/this.input.length}}let CI,lI=0,ou=0;function nu(t,A,o,s){return new pe((c,I)=>{A.responseType=A.responseType||"json",A.data&&!o?(A.data=JSON.stringify(A.data),lI+=Ao(A.data)):o&&(A.data.size?lI+=A.data.size:A.data instanceof FormData?lI+=mR(A.data):lI+=Ao(JSON.stringify(A.data))),A.headers=A.headers||{},A.headers["Content-Type"]=A.headers["Content-Type"]||"application/json",A.method="POST",A.url=t,di.request(A).then(C=>{typeof C.data=="string"?ou+=Ao(C.data):C.data instanceof ArrayBuffer||C.data instanceof Uint8Array?ou+=C.data.byteLength:ou+=Ao(JSON.stringify(C.data)),c(C.data)}).catch(C=>{di.isCancel(C)?I(new Ae(G.OPERATION_ABORTED,"cancel token canceled")):C.code==="ECONNABORTED"?I(new Ae(G.NETWORK_TIMEOUT,C.message)):C.response?I(new Ae(G.NETWORK_RESPONSE_ERROR,C.response.status)):I(new Ae(G.NETWORK_ERROR,C.message))})})}async function gF(t,A){const o=new Blob([A.data],{type:"buffer"});return await nu(t,ve(ve({},A),{},{data:o,headers:{"Content-Type":"application/octet-stream"}}),!0)}const vR=()=>window.isSecureContext!==void 0,er=function(t){if(t.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return t;const A=t.match(/([0-9]+\.[0-9]+\.[0-9]+)\-alpha\.([0-9]+)/);if(A&&A[1]&&A[2]){const s=A[1],c=A[2];return"".concat(s,".").concat(c)}const o=t.match(/([0-9]+\.[0-9]+\.[0-9]+)\-special\.([0-9]+)/);if(o&&o[1]&&o[2]){const s=o[1],c=o[2];return"".concat(s,".").concat(100*(Number(c)+1))}return"4.0.0.999"}("4.22.0"),su=function(){try{return JSON.parse("true")===!0}catch{return!0}}();let Ln=function(t){return t.Default="default",t.Auto="auto",t.Relay="relay",t.SdRtn="sd-rtn",t}({});const au={MIN_FRAME_RATE:1,MAX_FRAME_RATE:30,MAX_THRESHOLD_FRAMERATE:30,BITRATE_MIN_THRESHOLD:100,BITRATE_MAX_THRESHOLD:100,MAX_SCALE:5,BWE_SCALE_UP_THRESHOLD:.6,BWE_SCALE_DOWN_THRESHOLD:.6,PERF_SCALE_UP_THRESHOLD:.7,PERF_SCALE_DOWN_THRESHOLD:.6,MOTION_RESOLUTION_FACTOR:.8,MOTION_BITRATE_FACTOR:.6,DETAIL_FRAMERATE_FACTOR:.8,DETAIL_BITRATE_FACTOR:.6,BALANCE_RESOLUTION_FACTOR:.9,BALANCE_FRAMERATE_FACTOR:.9,BALANCE_BITRATE_FACTOR:.6,OVERUSE_TIMES_THRESHOLD:10,UNDERUSE_TIMES_THRESHOLD:40},cu="v4.22.0-0-g8569241d-dirty(8/15/2024, 7:04:06 PM)",rA=ve(ve({PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:"edge.agora.io",TURN_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:250,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:"edge.agora.io",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,DATASTREAM_MAX_RETRANSMITS:10,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],USE_NEW_NETWORK_CONFIG:!1,AUTO_RESET_AUDIO_ROUTE:!1,PLUGIN_INFO:[],OVERUSE_DETECTOR_PARAMS:au,ENABLE_AG_ADAPTATION:!0,FORCE_AG_HIGH_FRAMERATE:!1,FORCE_SUPPORT_AG_ADAPTATION:!1,CUSTOM_ADAPTATION_DEFAULT_MODE:"",ENCODER_CONFIG_LIMIT:{},CAMERA_CAPTURE_CONFIG:void 0,HIDE_NO_POSTER:!1,AP_CACHE_NUM:10,AP_UPDATE_INTERVAL:12e4,AP_CACHE_LIFETIME:12e4,MAX_PRELOAD_ASYNC_LENGTH:3,ENABLE_PRELOAD:!0},{ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,ENABLE_USER_LICENSE_CHECK:!0,USE_PUB_RTX:!0,USE_SUB_RTX:!0,DISABLE_FEC:void 0,ENABLE_NTP_REPORT:!1,ENABLE_INSTANT_VIDEO:!1,ENABLE_DATASTREAM_2:!1,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,USE_XR:!0,ENABLE_LOSSBASED_BWE:!0,ENABLE_AUT_CC:!1,ENABLE_CC_FALLBACK:void 0,ENABLE_PREALLOC_PC:!1,SUBSCRIBE_TWCC:!0,PUBLISH_TWCC:!1,ENABLE_SVC:!1,ENABLE_SVC_DEFAULT_CODECS:["H264","VP8","VP9","AV1"],SVC:[],ENABLE_FULL_LINK_AV_SYNC:!1,SVC_MODE:null,PRE_SUB_NUM:2,ENABLE_PRE_SUB:!1,ENABLE_AUT_FEEDBACK:!1}),{},{USE_CANDIDATE_FROM_AP_DETAIL:!1});function vt(t,A,o){var s,c,I;Re(s=Object.keys(rA)).call(s,t)&&(!o&&Re(c=Object.keys(en)).call(c,t)||(rA[t]=A,t==="ENABLE_VIDEO_SEI"&&A===!0&&(rA.ENABLE_ENCODED_TRANSFORM=!0),t==="USE_NEW_NETWORK_CONFIG"&&A&&(I=!!A,rA.USE_NEW_NETWORK_CONFIG=I,I&&(rA.WEBCS_DOMAIN=["webrtc2-2.ap.sd-rtn.com"],rA.WEBCS_DOMAIN_BACKUP_LIST=["webrtc2-4.ap.sd-rtn.com"],rA.CDS_AP=["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],rA.ACCOUNT_REGISTER=["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],rA.EVENT_REPORT_DOMAIN="web-2.statscollector.sd-rtn.com",rA.EVENT_REPORT_BACKUP_DOMAIN="statscollector-1.agora.io",rA.GATEWAY_DOMAINS=["edge.sd-rtn.com"])),t==="ENABLE_PRE_SUB"&&A&&(rA.ENABLE_INSTANT_VIDEO=!0,rA.ENABLE_PREALLOC_PC=!0),t==="ENABLE_SVC"&&A&&(rA.ENABLE_AUT_CC=!0)))}function J(t){return rA[t]}const en={};var it=function(t){return t.SET_SESSION_ID="SET_SESSION_ID",t.SET_P2P_ID="SET_P2P_id",t.SET_DC_ID="SET_DC_id",t.SET_UID="SET_UID",t.SET_INT_UID="SET_INT_UID",t.SET_PUB_ID="SET_PUB_ID",t.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",t.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",t.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",t.AVOID_JOIN_START="AVOID_JOIN_START",t.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",t.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",t.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",t.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",t.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",t.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",t.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",t.KEY_METRIC_DESCRIPTION_START="KEY_METRIC_DESCRIPTION_START",t.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",t.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",t.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",t.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",t.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",t.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",t.RESET_KEY_METRICS="RESET_KEY_METRICS",t.SET_USE_P2P="SET_USE_P2P",t.SET_TRANSPORT_TYPE="SET_TRANSPORT_TYPE",t}(it||{});class IF{constructor(A,o,s,c){Kt(this,"state",void 0),this.state={codec:A,audioCodec:o,mode:s,clientId:c,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled",useP2P:!1,p2pTransport:Ln.Default}}dispatch(A){this.state=function(o,s){switch(s.type){case it.SET_SESSION_ID:return ve(ve({},o),{},{sessionId:s.sessionId});case it.SET_P2P_ID:return ve(ve({},o),{},{p2pId:s.p2pId});case it.SET_UID:return ve(ve({},o),{},{uid:s.uid});case it.SET_INT_UID:return ve(ve({},o),{},{intUid:s.intUid});case it.SET_PUB_ID:return ve(ve({},o),{},{pubId:s.pubId});case it.KEY_METRIC_CLIENT_CREATED:return ve(ve({},o),{},{keyMetrics:ve(ve({},o.keyMetrics),{},{clientCreated:s.metric})});case it.KEY_METRIC_JOIN_START:return ve(ve({},o),{},{keyMetrics:ve(ve({},o.keyMetrics),{},{joinStart:s.metric})});case it.AVOID_JOIN_START:return ve(ve({},o),{},{avoidJoinStart:s.avoidJoinStart});case it.KEY_METRIC_JOIN_END:return ve(ve({},o),{},{keyMetrics:ve(ve({},o.keyMetrics),{},{joinEnd:s.metric})});case it.KEY_METRIC_REQUEST_AP_START:return ve(ve({},o),{},{keyMetrics:ve(ve({},o.keyMetrics),{},{requestAPStart:s.metric})});case it.KEY_METRIC_REQUEST_AP_END:return ve(ve({},o),{},{keyMetrics:ve(ve({},o.keyMetrics),{},{requestAPEnd:s.metric})});case it.KEY_METRIC_JOIN_GATEWAY_START:return ve(ve({},o),{},{keyMetrics:ve(ve({},o.keyMetrics),{},{joinGatewayStart:s.metric})});case it.KEY_METRIC_JOIN_GATEWAY_END:return ve(ve({},o),{},{keyMetrics:ve(ve({},o.keyMetrics),{},{joinGatewayEnd:s.metric})});case it.KEY_METRIC_PEER_CONNECTION_START:return ve(ve({},o),{},{keyMetrics:ve(ve({},o.keyMetrics),{},{peerConnectionStart:s.metric})});case it.KEY_METRIC_PEER_CONNECTION_END:return ve(ve({},o),{},{keyMetrics:ve(ve({},o.keyMetrics),{},{peerConnectionEnd:s.metric})});case it.KEY_METRIC_DESCRIPTION_START:return ve(ve({},o),{},{keyMetrics:ve(ve({},o.keyMetrics),{},{descriptionStart:s.metric})});case it.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return ve(ve({},o),{},{keyMetrics:ve(ve({},o.keyMetrics),{},{signalChannelOpen:s.metric})});case it.KEY_METRIC_ICE_CONNECTION_END:return ve(ve({},o),{},{keyMetrics:ve(ve({},o.keyMetrics),{},{iceConnectionEnd:s.metric})});case it.KEY_METRIC_PUBLISH:{const c=o.keyMetrics.publish,I=c.findIndex(C=>C.trackId===s.metric.trackId);return I!==-1?(c[I]=ve(ve({},c[I]),s.metric),ve(ve({},o),{},{keyMetrics:ve(ve({},o.keyMetrics),{},{publish:[...c]})})):ve(ve({},o),{},{keyMetrics:ve(ve({},o.keyMetrics),{},{publish:[...o.keyMetrics.publish,s.metric]})})}case it.KEY_METRIC_SUBSCRIBE:{const c=o.keyMetrics.subscribe,I=c.findIndex(C=>C.userId===s.metric.userId&&C.type===s.metric.type);return I!==-1?(c[I]=ve(ve({},c[I]),s.metric),ve(ve({},o),{},{keyMetrics:ve(ve({},o.keyMetrics),{},{subscribe:[...c]})})):ve(ve({},o),{},{keyMetrics:ve(ve({},o.keyMetrics),{},{subscribe:[...o.keyMetrics.subscribe,s.metric]})})}case it.SET_CLOUD_PROXY_SERVER_MODE:return o.cloudProxyServerMode=s.mode,o;case it.RECORD_JOIN_CHANNEL_SERVICE:return typeof s.index!="number"?o.joinChannelServiceRecords=[...o.joinChannelServiceRecords,s.record]:(o.joinChannelServiceRecords[s.index]=ve(ve({},o.joinChannelServiceRecords[s.index]),s.record),o.joinChannelServiceRecords=[...o.joinChannelServiceRecords]),o;case it.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return o.joinChannelServiceRecords=[],o;case it.RESET_KEY_METRICS:return o.keyMetrics={publish:[],subscribe:[]},o;case it.SET_USE_P2P:return ve(ve({},o),{},{useP2P:s.val});case it.SET_TRANSPORT_TYPE:return ve(ve({},o),{},{p2pTransport:s.val});default:return o}}(this.state,A)}set sessionId(A){this.dispatch({type:it.SET_SESSION_ID,sessionId:A})}get sessionId(){return this.state.sessionId}set codec(A){this.state.codec=A}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(A){this.dispatch({type:it.SET_P2P_ID,p2pId:A})}get p2pId(){return this.state.p2pId}set dcId(A){this.dispatch({type:it.SET_DC_ID,dcId:A})}get dcId(){return this.state.dcId}set uid(A){this.dispatch({type:it.SET_UID,uid:A})}get uid(){return this.state.uid}set intUid(A){this.dispatch({type:it.SET_INT_UID,intUid:A})}get intUid(){return this.state.intUid}set pubId(A){this.dispatch({type:it.SET_PUB_ID,pubId:A})}get pubId(){return this.state.pubId}set cloudProxyServerMode(A){this.dispatch({type:it.SET_CLOUD_PROXY_SERVER_MODE,mode:A})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useP2P(A){this.dispatch({type:it.SET_USE_P2P,val:A})}get useP2P(){return this.state.useP2P}set p2pTransport(A){this.dispatch({type:it.SET_TRANSPORT_TYPE,val:A})}get p2pTransport(){return this.state.p2pTransport}clientCreated(){this.dispatch({type:it.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:it.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.dispatch({type:it.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:it.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:it.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:it.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:it.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:it.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:it.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}descriptionStart(){this.dispatch({type:it.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:it.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:it.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(A,o,s,c){this.dispatch({type:it.KEY_METRIC_PUBLISH,metric:ve(ve({trackId:A,type:o},s&&{publishStart:s}),c&&{publishEnd:c})})}subscribe(A,o,s,c,I,C,l){this.dispatch({type:it.KEY_METRIC_SUBSCRIBE,metric:ve(ve(ve(ve(ve({userId:A,type:o},s&&{subscribeStart:s}),c&&{subscribeEnd:c}),I&&{firstFrame:I}),C&&{streamAdded:C}),l&&{firstDecoded:l})})}massSubscribe(A,o,s,c){A.forEach(I=>{this.dispatch({type:it.KEY_METRIC_SUBSCRIBE,metric:ve(ve(ve({userId:I.userId,type:I.type},o&&{subscribeStart:o}),s&&{subscribeEnd:s}),c&&{firstFrame:c})})})}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(A,o){A.service==="gateway"&&Array.isArray(A.urls)&&(A.urls=A.urls.map(s=>s.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2")));try{return typeof o!="number"?(this.dispatch({type:it.RECORD_JOIN_CHANNEL_SERVICE,record:ve(ve({},A),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(o<0||o>=this.state.joinChannelServiceRecords.length||this.dispatch({type:it.RECORD_JOIN_CHANNEL_SERVICE,record:A,index:o}),o)}catch{return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:it.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:it.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch{return[]}}get avoidJoinStart(){return this.state.avoidJoinStart}set avoidJoinStart(A){this.dispatch({type:it.AVOID_JOIN_START,avoidJoinStart:A})}}let uI=function(t){return t.h264="h264",t.h265="h265",t.vp8="vp8",t.vp9="vp9",t.av1="av1",t}({});(function(t){t.opus="opus",t.pcma="pcma",t.pcmu="pcmu",t.g722="g722"})({});const MR=128,EF=96,OR=1e3,Us=10;let CF=0;function oA(t,A,o){return(A=function(s){var c=function(I,C){if(typeof I!="object"||!I)return I;var l=I[Symbol.toPrimitive];if(l!==void 0){var d=l.call(I,"string");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(s);return typeof c=="symbol"?c:c+""}(A))in t?Object.defineProperty(t,A,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[A]=o,t}function LR(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function Xe(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?LR(Object(o),!0).forEach(function(s){oA(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):LR(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}const kR=new class extends Xt{constructor(){super(...arguments),oA(this,"currentUploadLogID",0)}reportLogUploadError(t){const{errorRange:A}=t;A[A.length-1]&&A[A.length-1]>this.currentUploadLogID&&(this.currentUploadLogID=A[A.length-1],this.emit("REPORT_LOG_UPLOAD",t))}};class lF{constructor(A){oA(this,"logger",void 0),oA(this,"prefixLists",[]),this.logger=A}debug(){for(var A=arguments.length,o=new Array(A),s=0;s<A;s++)o[s]=arguments[s];this.logger.debug(...this.prefixLists,...o)}info(){for(var A=arguments.length,o=new Array(A),s=0;s<A;s++)o[s]=arguments[s];this.logger.info(...this.prefixLists,...o)}warning(){for(var A=arguments.length,o=new Array(A),s=0;s<A;s++)o[s]=arguments[s];this.logger.warning(...this.prefixLists,...o)}error(){for(var A=arguments.length,o=new Array(A),s=0;s<A;s++)o[s]=arguments[s];this.logger.error(...this.prefixLists,...o)}prefix(A){return this.prefixLists.push(A),this}popPrefix(){return this.prefixLists.pop(),this}}function gu(){const t=new Date;return t.toTimeString().split(" ")[0]+":"+t.getMilliseconds()}function UR(){const t=new Date,A=/((\d+:){2}\d+)/.exec(new Date().toUTCString());return A?(A==null?void 0:A[0])+":"+t.getUTCMilliseconds():t.toTimeString().split(" ")[0]+":"+t.getMilliseconds()}const tr={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},dI=Date.now(),ic=t=>{for(const A in tr)if(Object.prototype.hasOwnProperty.call(tr,A)&&tr[A]===t)return A;return"DEFAULT"},N=new class{constructor(){oA(this,"proxyServerURL",void 0),oA(this,"logLevel",tr.DEBUG),oA(this,"uploadState","collecting"),oA(this,"uploadLogWaitingList",[]),oA(this,"uploadLogUploadingList",[]),oA(this,"uploadErrorCount",0),oA(this,"currentLogID",0),oA(this,"url",void 0),oA(this,"extLog",(t,A)=>{this.appendLogToWaitingList(t,...A)})}debug(){for(var t=arguments.length,A=new Array(t),o=0;o<t;o++)A[o]=arguments[o];const s=[tr.DEBUG].concat(A);this.log.apply(this,s)}info(){for(var t=arguments.length,A=new Array(t),o=0;o<t;o++)A[o]=arguments[o];const s=[tr.INFO].concat(A);this.log.apply(this,s)}warning(){for(var t=arguments.length,A=new Array(t),o=0;o<t;o++)A[o]=arguments[o];const s=[tr.WARNING].concat(A);this.log.apply(this,s)}warn(){this.warning(...arguments)}error(){for(var t=arguments.length,A=new Array(t),o=0;o<t;o++)A[o]=arguments[o];const s=[tr.ERROR].concat(A);this.log.apply(this,s)}upload(){for(var t=arguments.length,A=new Array(t),o=0;o<t;o++)A[o]=arguments[o];const s=[tr.DEBUG].concat(A);this.uploadLog.apply(this,s)}setLogLevel(t){t=Math.min(Math.max(0,t),4),this.logLevel=t}enableLogUpload(){vt("UPLOAD_LOG",!0)}disableLogUpload(){vt("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(t){this.proxyServerURL=t}prefix(t){return new lF(this).prefix(t)}log(){for(var t=arguments.length,A=new Array(t),o=0;o<t;o++)A[o]=arguments[o];if(Date.now()-dI<100)return void setTimeout(()=>{this.log(...A)},Date.now()-dI);const s=Math.max(0,Math.min(4,A[0]));if(A[0]=gu()+" Agora-SDK [".concat(ic(s),"]:"),this.appendLogToWaitingList(s,...A),s<this.logLevel)return;const c=gu()+" %cAgora-SDK [".concat(ic(s),"]:");let I=[];if(!J("USE_NEW_LOG"))switch(s){case tr.DEBUG:I=[c,"color: #64B5F6;"].concat(A.slice(1)),console.log.apply(console,I);break;case tr.INFO:I=[c,"color: #1E88E5; font-weight: bold;"].concat(A.slice(1)),console.log.apply(console,I);break;case tr.WARNING:I=[c,"color: #FB8C00; font-weight: bold;"].concat(A.slice(1)),console.warn.apply(console,I);break;case tr.ERROR:I=[c,"color: #B00020; font-weight: bold;"].concat(A.slice(1)),console.error.apply(console,I)}}uploadLog(){for(var t=arguments.length,A=new Array(t),o=0;o<t;o++)A[o]=arguments[o];if(Date.now()-dI<100)return void setTimeout(()=>{this.uploadLog(...A)},Date.now()-dI);const s=Math.max(0,Math.min(4,A[0]));A[0]=gu()+" Agora-SDK [".concat(ic(s),"]:"),this.appendLogToWaitingList(s,...A)}appendLogToWaitingList(t){if(!J("UPLOAD_LOG"))return;for(var A=arguments.length,o=new Array(A>1?A-1:0),s=1;s<A;s++)o[s-1]=arguments[s];Array.isArray(o[0])?o[0][0]=UR()+" Agora-SDK [".concat(ic(t),"]:"):o[0]=UR()+" Agora-SDK [".concat(ic(t),"]:");let c="";o.forEach(I=>{typeof I=="object"&&(I=JSON.stringify(I)),c+="".concat(I," ")}),this.uploadLogWaitingList.push({payload_str:c,log_level:t,log_item_id:this.currentLogID++}),this.uploadState==="uploading"&&this.uploadLogUploadingList.length===0&&this.uploadLogInterval()}startUpload(){this.uploadState="uploading",this.uploadLogUploadingList.length===0&&this.uploadLogInterval()}async uploadLogs(){const t=this.uploadLogUploadingList,A={sdk_version:er,process_id:J("PROCESS_ID"),payload:JSON.stringify(t)};return kr(async()=>{const o=await di.post(this.url||(this.proxyServerURL?"https://".concat(this.proxyServerURL,"/ls/?h=").concat(J("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(J("LOG_UPLOAD_SERVER"),"/upload/v1")),A,{responseType:"text"});if(o.data!=="OK"){const s=new Error("unexpected upload log response");throw s.response=o,s}},()=>(this.uploadLogUploadingList=[],!1),o=>{const s={status:-1,message:o.message,errorRange:t.map(c=>c.log_item_id)};return o.response?(s.status=o.response.status,s.data=o.response.data,s.headers=o.response.headers):o.request&&(s.status=o.request.status),kR.reportLogUploadError(s),!0},{timeout:J("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:J("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")})}uploadLogInterval(){this.uploadLogUploadingList.length===0&&this.uploadLogWaitingList.length===0||(this.uploadLogUploadingList.length===0&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,J("UPLOAD_LOG_LENGTH_EACH_TIME"))),this.uploadLogs().then(()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout(()=>this.uploadLogInterval(),J("UPLOAD_LOG_INTERVAL"))}).catch(t=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout(()=>this.uploadLogInterval(),J("UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1")):window.setTimeout(()=>this.uploadLogInterval(),J("UPLOAD_LOG_RETRY_INTERVAL_V1"))}))}};var PR;function uF(t){return MA(t.reportId,"params.reportId",0,100,!1),MA(t.category,"params.category",0,100,!1),MA(t.event,"params.event",0,100,!1),MA(t.label,"params.label",0,100,!1),bt(t.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}(PR={}).FREE="free",PR.UPLOADING="uploading",function(t){t[t.MISC=0]="MISC",t[t.INTERNAL_EVENT=1]="INTERNAL_EVENT",t[t.PUBLIC_EVENT=2]="PUBLIC_EVENT",t[t.WEB_EVENT=3]="WEB_EVENT",t[t.INTERNAL_API=4]="INTERNAL_API",t[t.WEB_API=5]="WEB_API",t[t.PUBLIC_API=6]="PUBLIC_API"}({});const dF={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};let LA=function(t){return t.PUBLISH="publish",t.SUBSCRIBE="subscribe",t.WS_COMPRESSOR_INIT="ws_compressor_init",t.SESSION_INIT="session_init",t.JOIN_CHOOSE_SERVER="join_choose_server",t.REQ_USER_ACCOUNT="req_user_account",t.JOIN_GATEWAY="join_gateway",t.REJOIN_GATEWAY="rejoin_gateway",t.STREAM_SWITCH="stream_switch",t.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",t.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",t.FIRST_VIDEO_RECEIVED="first_video_received",t.FIRST_AUDIO_RECEIVED="first_audio_received",t.FIRST_VIDEO_DECODE="first_video_decode",t.FIRST_AUDIO_DECODE="first_audio_decode",t.ON_ADD_AUDIO_STREAM="on_add_audio_stream",t.ON_ADD_VIDEO_STREAM="on_add_video_stream",t.ON_UPDATE_STREAM="on_update_stream",t.ON_REMOVE_STREAM="on_remove_stream",t.USER_ANALYTICS="req_user_analytics",t.PC_STATS="pc_stats",t.UPDATE_REMOTE_RTPCAPABILITIES="update_remote_rtpCapabilities",t}({}),Zt=function(t){return t.SESSION="io.agora.pb.Wrtc.Session",t.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",t.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",t.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",t.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",t.PUBLISH="io.agora.pb.Wrtc.Publish",t.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",t.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",t.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",t.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",t.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",t.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",t.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",t.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",t.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",t.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",t.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",t.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",t.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",t.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",t.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",t.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",t.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",t.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",t.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",t.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",t.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",t.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",t.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",t.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed",t.PC_STATS="io.agora.pb.Wrtc.PCStats",t.UPDATE_REMOTE_RTPCAPABILITIES="io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities",t}({});(function(t){t[t.WORKER_EVENT=156]="WORKER_EVENT",t[t.AP_WORKER_EVENT=160]="AP_WORKER_EVENT"})({});let hF=function(t){return t[t.SESSION=26]="SESSION",t[t.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",t[t.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",t[t.JOIN_GATEWAY=28]="JOIN_GATEWAY",t[t.PUBLISH=30]="PUBLISH",t[t.SUBSCRIBE=29]="SUBSCRIBE",t[t.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",t[t.STREAM_SWITCH=32]="STREAM_SWITCH",t[t.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",t[t.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",t[t.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",t[t.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",t[t.API_INVOKE=41]="API_INVOKE",t[t.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",t[t.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",t[t.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",t[t.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",t[t.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",t[t.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",t[t.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",t[t.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",t[t.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",t[t.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",t[t.WORKER_EVENT=156]="WORKER_EVENT",t[t.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",t[t.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",t[t.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",t[t.USER_ANALYTICS=1e4]="USER_ANALYTICS",t[t.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED",t}({});class rc{constructor(){oA(this,"baseInfoMap",new Map),oA(this,"proxyServer",void 0),oA(this,"eventUploadTimer",void 0),oA(this,"setSessionIdTimer",void 0),oA(this,"url",void 0),oA(this,"backupUrl",void 0),oA(this,"_appId",void 0),oA(this,"keyEventUploadPendingItems",[]),oA(this,"normalEventUploadPendingItems",[]),oA(this,"apiInvokeUploadPendingItems",[]),oA(this,"apiInvokeCount",0),oA(this,"ltsList",[]),oA(this,"lastSendNormalEventTime",Date.now()),oA(this,"customReportCounterTimer",void 0),oA(this,"customReportCount",0),oA(this,"extApiInvoke",async A=>{for(const o of A){const s=Xe(Xe({},o),{},{sid:null,invokeId:++this.apiInvokeCount,tag:eA.TRACER});this.sendApiInvoke(s)}}),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),J("EVENT_REPORT_SEND_INTERVAL")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),J("EVENT_REPORT_SEND_INTERVAL"))}getBaseInfoBySessionId(A){return this.baseInfoMap.get(A)}adjustSessionStartTime(A){if(!this.baseInfoMap.has(A)&&!this.baseInfoMap.get(A))return void N.error("adjust session ".concat(A," start time, sid is not exist or info is undefined"));const o=this.baseInfoMap.get(A),s=Date.now(),c=o.startTime;o.startTime=s,N.debug("rewrite session ".concat(A," startTime: ").concat(s," , ").concat(s-c,"ms")),this.baseInfoMap.set(A,o)}setAppId(A){this._appId=A}reportApiInvoke(A,o,s){o.timeout=o.timeout||6e4,o.reportResult=o.reportResult===void 0||o.reportResult;const c=Date.now();this.apiInvokeCount+=1;const I=this.apiInvokeCount,C=()=>({tag:o.tag,invokeId:I,sid:A,name:o.name,apiInvokeTime:c,options:o.options,states:o.states||null}),l=!!J("SHOW_REPORT_INVOKER_LOG");l&&N.info("".concat(o.name," start"),o.options);let d=!1;OA(o.timeout).then(()=>{d||(this.sendApiInvoke(Xe(Xe({},C()),{},{error:G.API_INVOKE_TIMEOUT,success:!1})),N.debug("".concat(o.name," timeout")))});const h=new Ae(G.UNEXPECTED_ERROR,"".concat(o.name,": this api invoke is end"));return{onSuccess:Q=>{const _=()=>{if(d)throw h;return d=!0,this.sendApiInvoke(Xe(Xe({},C()),{},{success:!0},o.reportResult&&{result:Q})),l&&N.info("".concat(o.name," onSuccess")),Q};return s?DR(_,o.name+"Success",s,()=>d=!0):_()},onError:Q=>{const _=()=>{if(d)throw Q;d=!0,this.sendApiInvoke(Xe(Xe({},C()),{},{success:!1,error:Q})),l&&N.info("".concat(o.name," onFailure"),Q.toString())};return s?DR(_,o.name+"Error",s,()=>d=!0):_()}}}sessionInit(A,o){if(this.baseInfoMap.has(A))return;const s=Date.now(),c=this.createBaseInfo(A,s);c.cname=o.cname;const I=Object.assign({},{willUploadConsoleLog:J("UPLOAD_LOG"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:su?"global":"oversea",areas:J("AREAS")&&J("AREAS").join(",")},o.extend),{stringUid:C,channelProfile:l,channelMode:d,isABTestSuccess:h,lsid:Q,clientRole:_}=o,S=Date.now(),w=Xe(Xe({},c),{},{eventType:LA.SESSION_INIT,appid:o.appid,browser:navigator.userAgent,buildFormat:o.buildFormat,build:cu,lts:S,elapse:S-s,extend:JSON.stringify(I),mode:o.mode,process:J("PROCESS_ID"),appType:J("APP_TYPE"),success:!0,version:er,stringUid:C,channelProfile:l,channelMode:d,isABTestSuccess:h,lsid:Q,clientType:Re(k=window.navigator.userAgent).call(k,"AgoraWebView")?42:20,clientRole:_,serviceId:J("PROCESS_ID"),extensionID:J("PLUGIN_INFO").join(",")||""});var k;this.send({type:Zt.SESSION,data:w},!0)}joinChooseServer(A,o){const s=this.baseInfoMap.get(A);if(!s)return;const c=s.info,I=Date.now(),C=Xe(Xe({},c),{},{eventType:LA.JOIN_CHOOSE_SERVER,lts:I,eventElapse:o.elapse||I-o.lts,chooseServerAddr:o.csAddr,errorCode:o.ec,elapse:I-s.startTime,success:o.succ,chooseServerAddrList:JSON.stringify(o.serverList),uid:o.uid?parseInt(o.uid):null,cid:o.cid?parseInt(o.cid):null,chooseServerIp:o.csIp||"",opid:o.opid,unilbsServerIds:o.unilbsServerIds,extend:o.extend||void 0,isHttp3:o.isHttp3});this.send({type:Zt.JOIN_CHOOSE_SERVER,data:C},!0)}reqUserAccount(A,o){const s=this.baseInfoMap.get(A);if(!s)return;const c=s.info,I=Date.now(),C=Xe(Xe({},c),{},{eventType:LA.REQ_USER_ACCOUNT,lts:I,success:o.success,serverAddress:o.serverAddr,stringUid:o.stringUid,uid:o.uid,errorCode:o.errorCode,elapse:o.elapse||I-s.startTime,eventElapse:I-o.lts,extend:JSON.stringify(o.extend)});this.send({type:Zt.REQ_USER_ACCOUNT,data:C},!0)}joinGateway(A,o){const s=this.baseInfoMap.get(A);if(!s)return;const c=s.info;o.vid&&(c.vid=o.vid),c.uid=o.uid,c.cid=o.cid;const I=Date.now(),{firstSuccess:C,avoidJoinStartTime:l}=o,d=I-(C&&l?l:s.startTime),h=Xe(Xe({},c),{},{eventType:LA.JOIN_GATEWAY,lts:I,gatewayAddr:o.addr,success:o.succ,errorCode:o.ec,errorMsg:o.errorMsg||"",elapse:d,eventElapse:I-o.lts,firstSuccess:C,signalChannel:o.signalChannel,preload:o.preload?1:0});o.succ&&(s.lastJoinSuccessTime=I),this.send({type:Zt.JOIN_GATEWAY,data:h},!0)}joinChannelTimeout(A,o){const s=this.baseInfoMap.get(A);if(!s)return;const c=Date.now(),I=Xe(Xe({},s.info),{},{lts:c,timeout:o,elapse:c-s.startTime});this.send({type:Zt.JOIN_CHANNEL_TIMEOUT,data:I},!0)}publish(A,o){const s=this.baseInfoMap.get(A);if(!s)return;const c=s.info,I=Date.now(),C=Xe(Xe({},c),{},{eventType:LA.PUBLISH,lts:I,eventElapse:o.eventElapse,elapse:I-s.startTime,success:o.succ,errorCode:o.ec,videoName:o.videoName,audioName:o.audioName,screenName:o.screenName,screenshare:o.screenshare,audio:o.audio,video:o.video,p2pid:o.p2pid,publishRequestid:o.publishRequestid});this.send({type:Zt.PUBLISH,data:C},!0)}subscribe(A,o,s){const c=this.baseInfoMap.get(A);if(!c)return;const I=c.info,C=Date.now(),l=Xe(Xe({},I),{},{eventType:LA.SUBSCRIBE,lts:C,eventElapse:o.eventElapse,elapse:C-c.startTime,success:o.succ,errorCode:o.ec,video:o.video,audio:o.audio,subscribeRequestid:o.subscribeRequestid,p2pid:o.p2pid,preSsrc:o.preSsrc?1:0},s&&{extend:JSON.stringify({isMassSubscribe:!0})});typeof o.peerid=="string"?l.peerSuid=o.peerid:l.peer=o.peerid,this.send({type:Zt.SUBSCRIBE,data:l},!0)}wsCompressorInit(A){var o;const s=[...Fi(o=this.baseInfoMap).call(o)],c=s.length?s[0]:"UnableToGetSid",I=this.baseInfoMap.get(c);if(!I)return;const C=I.info,l=Date.now(),d=Xe(Xe({},C),{},{eventType:LA.WS_COMPRESSOR_INIT,lts:l,eventElapse:A.eventElapse,elapse:l-I.startTime,status:A.status?1:2});this.send({type:Zt.WS_COMPRESSOR_INIT,data:d},!0)}firstRemoteVideoDecode(A,o,s,c){const I=this.baseInfoMap.get(A);if(!I)return;const C=I.info,l=Date.now(),d=Xe(Xe(Xe({},C),c),{},{elapse:l-I.startTime,eventType:o,lts:l,firstDecodeFrame:Math.max((c.firstFrame||l)-I.startTime,0),apEnd:Math.max(c.apEnd-I.startTime,0),apStart:Math.max(c.apStart-I.startTime,0),joinGwEnd:Math.max(c.joinGwEnd-I.startTime,0),joinGwStart:Math.max(c.joinGwStart-I.startTime,0),pcEnd:Math.max(c.pcEnd-I.startTime,0),pcStart:Math.max(c.pcStart-I.startTime,0),subscriberEnd:Math.max(c.subscriberEnd-I.startTime,0),subscriberStart:Math.max(c.subscriberStart-I.startTime,0),videoAddNotify:Math.max(c.videoAddNotify-I.startTime,0)});this.send({type:s,data:d},!0)}firstRemoteFrame(A,o,s,c){const I=this.baseInfoMap.get(A);if(!I)return;const C=I.info,l=Date.now(),d=Xe(Xe(Xe({},C),c),{},{elapse:l-I.startTime,eventType:o,lts:l});this.send({type:s,data:d},!0)}pcStats(A,o){const s=this.baseInfoMap.get(A);if(!s)return;const c=s.info,I=Date.now(),C=Xe(Xe(Xe({},c),o),{},{vid:c.vid===void 0?0:Number(c.vid),elapse:I-s.startTime,eventType:LA.PC_STATS,lts:I,preallocation:o.preallocation?1:0});this.send({type:Zt.PC_STATS,data:C},!0)}updateRemoteRTPCapabilities(A,o){if(A){const s=this.baseInfoMap.get(A);if(!s)return;const c=s.info,I=Date.now(),C=Xe(Xe(Xe({},c),o),{},{vid:c.vid===void 0?0:Number(c.vid),eventType:LA.UPDATE_REMOTE_RTPCAPABILITIES,lts:I});this.send({type:Zt.UPDATE_REMOTE_RTPCAPABILITIES,data:C},!0)}}onGatewayStream(A,o,s,c){const I=this.baseInfoMap.get(A);if(!I)return;const C=I.info,l=Date.now(),d=Xe(Xe(Xe({},C),c),{},{eventType:o,lts:l});this.send({type:s,data:d},!0)}streamSwitch(A,o){const s=this.baseInfoMap.get(A);if(!s)return;const c=s.info,I=Date.now(),C=Xe(Xe({},c),{},{eventType:LA.STREAM_SWITCH,lts:I,isDual:o.isdual,elapse:I-s.startTime,success:o.succ});this.send({type:Zt.STREAM_SWITCH,data:C},!0)}requestProxyAppCenter(A,o){const s=this.baseInfoMap.get(A);if(!s)return;const c=s.info,I=Date.now(),C=Xe(Xe({},c),{},{eventType:LA.REQUEST_PROXY_APPCENTER,lts:I,eventElapse:I-o.lts,elapse:I-s.startTime,APAddr:o.APAddr,workerManagerList:o.workerManagerList,response:o.response,errorCode:o.ec,success:o.succ});this.send({type:Zt.REQUEST_PROXY_APPCENTER,data:C},!0)}requestProxyWorkerManager(A,o){const s=this.baseInfoMap.get(A);if(!s)return;const c=s.info,I=Date.now(),C=Xe(Xe({},c),{},{eventType:LA.REQUEST_PROXY_WORKER_MANAGER,lts:I,eventElapse:I-o.lts,elapse:I-s.startTime,workerManagerAddr:o.workerManagerAddr,response:o.response,errorCode:o.ec,success:o.succ});this.send({type:Zt.REQUEST_PROXY_WORKER_MANAGER,data:C},!0)}setProxyServer(A){this.proxyServer=A,A?N.debug("reportProxyServerurl: ".concat(A)):N.debug("disable reportProxyServerurl: ".concat(A))}peerPublishStatus(A,o){const s=this.baseInfoMap.get(A);if(!s)return;const c=s.info,I=Date.now(),C=Xe(Xe({},c),{},{subscribeElapse:o.subscribeElapse,peer:o.peer,peerPublishDuration:Math.max(o.audioPublishDuration,o.videoPublishDuration),audiotag:o.audioPublishDuration>0?1:-1,videotag:o.videoPublishDuration>0?1:-1,lts:I,elapse:I-s.startTime,joinChannelSuccessElapse:I-(s.lastJoinSuccessTime||I),peerPublishDurationVideo:o.videoPublishDuration,peerPublishDurationAudio:o.audioPublishDuration});this.send({type:Zt.PEER_PUBLISH_STATUS,data:C},!0)}workerEvent(A,o){const s=this.baseInfoMap.get(A);if(!s)return;const c=s.info,I=Date.now();(function(C,l,d){const h=C[l];if(!h||typeof h!="string")return[C];C[l]="";const Q=Ao(JSON.stringify(C));let _=0;const S=[];let w=0;for(let k=0;k<h.length;k++)w+=h.charCodeAt(k)<=127?1:3,w<=d-Q||(S[S.length]=ve(ve({},C),{},{[l]:h.substring(_,k)}),_=k,w=h.charCodeAt(k)<=127?1:3);return _!==h.length-1&&(S[S.length]=ve(ve({},C),{},{[l]:h.substring(_)})),S})(Xe(Xe(Xe({},c),o),{},{elapse:I-s.startTime,lts:I,productType:"WebRTC"}),"payload",1300).forEach(C=>this.send({type:Zt.WORKER_EVENT,data:C},!0))}apworkerEvent(A,o){const s=this.baseInfoMap.get(A);if(!s)return;const c=s.info,I=Date.now(),C=Xe(Xe(Xe({},c),o),{},{elapse:I-s.startTime,lts:I});this.send({type:Zt.AP_WORKER_EVENT,data:C},!0)}joinWebProxyAP(A,o){const s=this.baseInfoMap.get(A);if(!s)return;const c=s.info,I=Date.now(),C=Xe(Xe(Xe({},c),o),{},{elapse:I-s.startTime,lts:I,extend:o.extend||void 0});this.send({type:Zt.JOIN_WEB_PROXY_AP,data:C},!0)}WebSocketQuit(A,o){const s=this.baseInfoMap.get(A);if(!s)return;const c=s.info,I=Date.now(),C=Xe(Xe(Xe({},c),o),{},{elapse:I-s.startTime,lts:I});this.send({type:Zt.WEBSOCKET_QUIT,data:C},!0)}async sendCustomReportMessage(A,o){if(this.customReportCount+=o.length,this.customReportCount>J("CUSTOM_REPORT_LIMIT"))throw new Ae(G.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval(()=>{this.customReportCount=0},5e3));const s=Date.now(),c=o.map(I=>({type:Zt.USER_ANALYTICS,data:Xe(Xe({sid:A},I),{},{lts:s})}));try{J("NEW_REPORT_SERVER")?await this.postDataToStatsCollector2(c):await this.postDataToStatsCollector(c)}catch(I){throw N.error("send custom report message failed",I.toString()),new Ae(G.CUSTOM_REPORT_SEND_FAILED,I.message)}}sendApiInvoke(A){const o=J("NOT_REPORT_EVENT");if(A.tag&&Re(o)&&Re(o).call(o,A.tag))return!1;if(A.sid===null)return this.apiInvokeUploadPendingItems.push(A),!1;const s=this.baseInfoMap.get(A.sid);if(!s)return this.apiInvokeUploadPendingItems.push(A),!1;const{cname:c,uid:I,cid:C}=s.info;let l;if(A.lts=A.lts||Date.now(),A.error)if(A.error instanceof Ae){const{code:h,message:Q}=A.error;l=h||Q||A.error.toString()}else l=A.error.toString();const d={invokeId:A.invokeId,sid:A.sid,cname:c,cid:C,uid:I,lts:A.lts,success:A.success,elapse:A.lts-s.startTime,execElapse:A.lts-A.apiInvokeTime,apiName:A.name,options:A.options?JSON.stringify(A.options):void 0,execStates:A.states?JSON.stringify(A.states):void 0,execResult:A.result?JSON.stringify(A.result):void 0,errorCode:A.error?l:void 0,errorMsg:A.error?JSON.stringify(A.error):void 0};return this.send({type:Zt.API_INVOKE,data:d},!1),!0}appendSessionId(){rc.__CLIENT_LIST__.forEach(A=>{if(A._sessionId){const o=this.apiInvokeUploadPendingItems.length;for(let s=0;s<o;s++){const c=this.apiInvokeUploadPendingItems.shift();c&&(c.sid=A._sessionId,this.sendApiInvoke(Object.assign({},c)))}}})}send(A,o){if(o)return this.keyEventUploadPendingItems.push(A),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(A),this.normalEventUploadPendingItems.length>J("NORMAL_EVENT_QUEUE_CAPACITY")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(A,o){const s=[],c=[];for(;A.length;){const C=A.shift();s.length<20?s.push(C):c.push(C)}A.push(...c);for(const C of[...s]){var I;this.ltsList.indexOf(C.data.lts)!==-1?(C.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(C.data.lts)):(this.ltsList.push(C.data.lts),Pa(I=this.ltsList).call(I,(l,d)=>l-d))}return o||(this.lastSendNormalEventTime=Date.now()),J("ENABLE_EVENT_REPORT")&&s.length&&(J("NEW_REPORT_SERVER")?this.postDataToStatsCollector2(s):this.postDataToStatsCollector(s)).catch((C=>l=>{J("EVENT_REPORT_RETRY")&&(o?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(C):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(C),this.normalEventUploadPendingItems.length>J("NORMAL_EVENT_QUEUE_CAPACITY")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-J("NORMAL_EVENT_QUEUE_CAPACITY")),N.warning("report: drop normal events"))))})(s)),A}async postDataToStatsCollector2(A){EA.networkState===Ti.OFFLINE&&await pe.race([EA.onlineWaiter,OA(2*hA.maxRetryTimeout)]);const o=I=>{let C=new Uint8Array;return I.forEach(l=>{const d=eu(JSON.stringify(l.data)),h=new ArrayBuffer(5),Q=(S=>{let w=0;return Object.entries(Zt).forEach(k=>{let[v,b]=k;b===S.type&&(w=hF[v])}),w})(l),_=new DataView(h);_.setUint16(0,d.byteLength,!0),_.setUint8(2,255&Q),_.setUint8(3,Q>>>8&255),_.setUint8(4,Q>>>16&255),C=hR(C,new Uint8Array(h)),C=hR(C,d)}),C},s="event";let c=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(J("NEW_REPORT_SERVER_DOMAINS")[0],"&p=443&d=").concat(s):"https://".concat(J("NEW_REPORT_SERVER_DOMAINS")[0],"/").concat(s);for(let I=0;I<2;I+=1){I===1&&(c=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(J("NEW_REPORT_SERVER_DOMAINS")[1],"&p=443&d=").concat(s):"https://".concat(J("NEW_REPORT_SERVER_DOMAINS")[1],"/").concat(s));try{await nu(c,{timeout:1e4,data:o(A),headers:Xe(Xe({biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0)}catch(C){if(I===1)throw C;continue}return}}async postDataToStatsCollector(A){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const s={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:A.map(C=>JSON.stringify(C)),vid:(C=>{const l=C&&C.data.sid&&this.baseInfoMap.get(C.data.sid);return l&&l.info.vid&&+l.info.vid||0})(A[0])};EA.networkState===Ti.OFFLINE&&await pe.race([EA.onlineWaiter,OA(2*hA.maxRetryTimeout)]);const c=o?"/events/proto-raws":"/events/messages";let I=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(J("EVENT_REPORT_DOMAIN"),"&p=").concat(J("STATS_COLLECTOR_PORT"),"&d=").concat(c):"https://".concat(J("EVENT_REPORT_DOMAIN"),":").concat(J("STATS_COLLECTOR_PORT")).concat(c));for(let C=0;C<2;C+=1){C===1&&(I=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(J("EVENT_REPORT_BACKUP_DOMAIN"),"&p=").concat(J("STATS_COLLECTOR_PORT"),"&d=").concat(c):"https://".concat(J("EVENT_REPORT_BACKUP_DOMAIN"),":").concat(J("STATS_COLLECTOR_PORT")).concat(c)));try{o?await gF(I,{timeout:1e4,data:s}):await nu(I,{timeout:1e4,data:s})}catch(l){if(C===1)throw l;continue}return}}createBaseInfo(A,o){const s=Object.assign({},dF);return s.sid=A,this.baseInfoMap.set(A,{info:s,startTime:o}),s}reportResourceTiming(A,o){const s=performance.getEntriesByName(A),c=s[s.length-1];c&&this.reportApiInvoke(o,{name:"Client.resourceTiming",options:c,tag:eA.TRACER}).onSuccess()}}function Pe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(A,o,s){const c=s.value;if(typeof c=="function"){const I=t.className||A.__className__||(A.constructor.name==="AgoraRTCClient"?"Client":A.constructor.name);s.value=function(){for(var C=arguments.length,l=new Array(C),d=0;d<C;d++)l[d]=arguments[d];let h=l;if(t.argsMap)try{h=t.argsMap(this,...l)}catch(_){N.warning(_),h=[]}try{JSON.stringify(h)}catch{N.warning("arguments for method ".concat(I,".").concat(String(o)," not serializable for apiInvoke.")),h=[]}const Q=(t.report||Me).reportApiInvoke(this._sessionId||null,{name:"".concat(I,".").concat(String(o)),options:h,tag:eA.TRACER,reportResult:t.reportResult},t.throttleTime);try{const _=c.apply(this,l);return _ instanceof pe?_.then(S=>(Q.onSuccess(t.reportResult&&S),S)).catch(S=>{throw Q.onError(S),S}):(Q.onSuccess(t.reportResult&&_),_)}catch(_){throw Q.onError(_),_}}}return s}}oA(rc,"__CLIENT_LIST__",[]);const Me=new rc;kR.on("REPORT_LOG_UPLOAD",t=>{t.networkState=EA.networkState,Me.reportApiInvoke(null,{name:"logUploadError",options:t,tag:eA.TRACER}).onSuccess("logUploadError")});const BF=["CHINA","GLOBAL"],JA=function(){const t="us".concat("erna","me"),A="pa".concat("sswo","rd"),o=["t","s","t"];o.splice(1,0,"e");const s=o.join(""),c=[];for(let l=0;l<6;l++)c.push("1");const I=c.join(""),C={};return C[t]=s,C[A]=I,Object.assign(C,{turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=JA,su||(rA.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],rA.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],rA.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],rA.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],rA.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],rA.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],rA.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",rA.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",rA.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",rA.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",rA.AREAS=["NORTH_AMERICA","OVERSEA"]);const GR=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],tn=[];function kn(t,A){return!!A&&tn.some(o=>o.uid===t&&o.channelName===A)}rc.__CLIENT_LIST__=tn;var pF=lf.forEach,FR=rg("forEach")?[].forEach:function(t){return pF(this,t,arguments.length>1?arguments[1]:void 0)};Lt({target:"Array",proto:!0,forced:[].forEach!=FR},{forEach:FR});var QF=Ir("Array").forEach,fF=$r,_F=jA,RF=M,yF=QF,Iu=Array.prototype,mF={DOMTokenList:!0,NodeList:!0},SF=function(t){var A=t.forEach;return t===Iu||RF(Iu,t)&&A===Iu.forEach||_F(mF,fF(t))?yF:A},DF=g(SF),wF=jr,KR=cg;Lt({target:"Object",stat:!0,forced:E(function(){KR(1)})},{keys:function(t){return KR(wF(t))}});var xR=g(Ui.Object.keys),NF=g(bh),TF=Lt,bF=Ka,vF=D([].reverse),YR=[1,2];TF({target:"Array",proto:!0,forced:String(YR)===String(YR.reverse())},{reverse:function(){return bF(this)&&(this.length=this.length),vF(this)}});var MF=Ir("Array").reverse,OF=M,LF=MF,Eu=Array.prototype,kF=function(t){var A=t.reverse;return t===Eu||OF(Eu,t)&&A===Eu.reverse?LF:A},JR=kF,UF=g(JR),PF=Lt,HR=Ka,GF=fg,FF=_e,qR=PE,KF=yo,xF=cr,YF=Og,JF=IA,HF=hC,qF=Af("slice"),VF=JF("species"),Cu=Array,jF=Math.max;PF({target:"Array",proto:!0,forced:!qF},{slice:function(t,A){var o,s,c,I=xF(this),C=KF(I),l=qR(t,C),d=qR(A===void 0?C:A,C);if(HR(I)&&(o=I.constructor,(GF(o)&&(o===Cu||HR(o.prototype))||FF(o)&&(o=o[VF])===null)&&(o=void 0),o===Cu||o===void 0))return HF(I,l,d);for(s=new(o===void 0?Cu:o)(jF(d-l,0)),c=0;l<d;l++,c++)l in I&&YF(s,c,I[l]);return s.length=c,s}});var $F=Ir("Array").slice,WF=M,XF=$F,lu=Array.prototype,ZF=function(t){var A=t.slice;return t===lu||WF(lu,t)&&A===lu.slice?XF:A},zF=g(ZF);function Ne(t,A,o,s,c){var I,C,l,d={};return DF(I=xR(s)).call(I,function(h){d[h]=s[h]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=NF(C=UF(l=zF(o).call(o)).call(l)).call(C,function(h,Q){return Q(t,A,h)||h},d),c&&d.initializer!==void 0&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),d.initializer===void 0&&(ZQ(t,A,d),d=null),d}let uu=function(t){return t.L1T1="L1T1",t.L1T2="L1T2",t.L1T3="L1T3",t.L1T3_KEY="L1T3_KEY",t.L2T1_KEY="L2T1_KEY",t.L2T2_KEY="L2T2_KEY",t.L2T3_KEY="L2T3_KEY",t.L3T1_KEY="L3T1_KEY",t.L3T2_KEY="L3T2_KEY",t.L3T3_KEY="L3T3_KEY",t}({}),xi=function(t){return t.CERTIFICATE="certificate",t.CODEC="codec",t.CANDIDATE_PAIR="candidate-pair",t.LOCAL_CANDIDATE="local-candidate",t.REMOTE_CANDIDATE="remote-candidate",t.INBOUND="inbound-rtp",t.TRACK="track",t.OUTBOUND="outbound-rtp",t.PC="peer-connection",t.REMOTE_INBOUND="remote-inbound-rtp",t.REMOTE_OUTBOUND="remote-outbound-rtp",t.TRANSPORT="transport",t.CSRC="csrc",t.DATA_CHANNEL="data-channel",t.STREAM="stream",t.SENDER="sender",t.RECEIVER="receiver",t}({}),hI=function(t){return t[t.ACCESS_POINT=101]="ACCESS_POINT",t[t.UNILBS=201]="UNILBS",t[t.STRING_UID_ALLOCATOR=901]="STRING_UID_ALLOCATOR",t}({}),du=function(t){return t[t.IIIEGAL_APPID=1]="IIIEGAL_APPID",t[t.IIIEGAL_UID=2]="IIIEGAL_UID",t[t.INTERNAL_ERROR=3]="INTERNAL_ERROR",t}({}),ur=function(t){return t[t.INVALID_VENDOR_KEY=5]="INVALID_VENDOR_KEY",t[t.INVALID_CHANNEL_NAME=7]="INVALID_CHANNEL_NAME",t[t.INTERNAL_ERROR=8]="INTERNAL_ERROR",t[t.NO_AUTHORIZED=9]="NO_AUTHORIZED",t[t.DYNAMIC_KEY_TIMEOUT=10]="DYNAMIC_KEY_TIMEOUT",t[t.NO_ACTIVE_STATUS=11]="NO_ACTIVE_STATUS",t[t.DYNAMIC_KEY_EXPIRED=13]="DYNAMIC_KEY_EXPIRED",t[t.STATIC_USE_DYNAMIC_KEY=14]="STATIC_USE_DYNAMIC_KEY",t[t.DYNAMIC_USE_STATIC_KEY=15]="DYNAMIC_USE_STATIC_KEY",t[t.USER_OVERLOAD=16]="USER_OVERLOAD",t[t.FORBIDDEN_REGION=18]="FORBIDDEN_REGION",t[t.CANNOT_MEET_AREA_DEMAND=19]="CANNOT_MEET_AREA_DEMAND",t}({}),Ii=function(t){return t[t.NO_FLAG_SET=100]="NO_FLAG_SET",t[t.FLAG_SET_BUT_EMPTY=101]="FLAG_SET_BUT_EMPTY",t[t.INVALID_FALG_SET=102]="INVALID_FALG_SET",t[t.FLAG_SET_BUT_NO_RE=103]="FLAG_SET_BUT_NO_RE",t[t.INVALID_SERVICE_ID=104]="INVALID_SERVICE_ID",t[t.NO_SERVICE_AVAILABLE=200]="NO_SERVICE_AVAILABLE",t[t.NO_SERVICE_AVAILABLE_P2P=201]="NO_SERVICE_AVAILABLE_P2P",t[t.NO_SERVICE_AVAILABLE_VOICE=202]="NO_SERVICE_AVAILABLE_VOICE",t[t.NO_SERVICE_AVAILABLE_WEBRTC=203]="NO_SERVICE_AVAILABLE_WEBRTC",t[t.NO_SERVICE_AVAILABLE_CDS=204]="NO_SERVICE_AVAILABLE_CDS",t[t.NO_SERVICE_AVAILABLE_CDN=205]="NO_SERVICE_AVAILABLE_CDN",t[t.NO_SERVICE_AVAILABLE_TDS=206]="NO_SERVICE_AVAILABLE_TDS",t[t.NO_SERVICE_AVAILABLE_REPORT=207]="NO_SERVICE_AVAILABLE_REPORT",t[t.NO_SERVICE_AVAILABLE_APP_CENTER=208]="NO_SERVICE_AVAILABLE_APP_CENTER",t[t.NO_SERVICE_AVAILABLE_ENV0=209]="NO_SERVICE_AVAILABLE_ENV0",t[t.NO_SERVICE_AVAILABLE_VOET=210]="NO_SERVICE_AVAILABLE_VOET",t[t.NO_SERVICE_AVAILABLE_STRING_UID=211]="NO_SERVICE_AVAILABLE_STRING_UID",t[t.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]="NO_SERVICE_AVAILABLE_WEBRTC_UNILBS",t[t.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]="NO_SERVICE_AVAILABLE_UNILBS_FLV",t}({}),Ue=function(t){return t[t.K_TIMESTAMP_EXPIRED=2]="K_TIMESTAMP_EXPIRED",t[t.K_CHANNEL_PERMISSION_INVALID=3]="K_CHANNEL_PERMISSION_INVALID",t[t.K_CERTIFICATE_INVALID=4]="K_CERTIFICATE_INVALID",t[t.K_CHANNEL_NAME_EMPTY=5]="K_CHANNEL_NAME_EMPTY",t[t.K_CHANNEL_NOT_FOUND=6]="K_CHANNEL_NOT_FOUND",t[t.K_TICKET_INVALID=7]="K_TICKET_INVALID",t[t.K_CHANNEL_CONFLICTED=8]="K_CHANNEL_CONFLICTED",t[t.K_SERVICE_NOT_READY=9]="K_SERVICE_NOT_READY",t[t.K_SERVICE_TOO_HEAVY=10]="K_SERVICE_TOO_HEAVY",t[t.K_UID_BANNED=14]="K_UID_BANNED",t[t.K_IP_BANNED=15]="K_IP_BANNED",t[t.K_CHANNEL_BANNED=16]="K_CHANNEL_BANNED",t[t.K_AUTO_REBALANCE=28]="K_AUTO_REBALANCE",t[t.WARN_NO_AVAILABLE_CHANNEL=103]="WARN_NO_AVAILABLE_CHANNEL",t[t.WARN_LOOKUP_CHANNEL_TIMEOUT=104]="WARN_LOOKUP_CHANNEL_TIMEOUT",t[t.WARN_LOOKUP_CHANNEL_REJECTED=105]="WARN_LOOKUP_CHANNEL_REJECTED",t[t.WARN_OPEN_CHANNEL_TIMEOUT=106]="WARN_OPEN_CHANNEL_TIMEOUT",t[t.WARN_OPEN_CHANNEL_REJECTED=107]="WARN_OPEN_CHANNEL_REJECTED",t[t.WARN_REQUEST_DEFERRED=108]="WARN_REQUEST_DEFERRED",t[t.ERR_DYNAMIC_KEY_TIMEOUT=109]="ERR_DYNAMIC_KEY_TIMEOUT",t[t.ERR_NO_AUTHORIZED=110]="ERR_NO_AUTHORIZED",t[t.ERR_VOM_SERVICE_UNAVAILABLE=111]="ERR_VOM_SERVICE_UNAVAILABLE",t[t.ERR_NO_CHANNEL_AVAILABLE_CODE=112]="ERR_NO_CHANNEL_AVAILABLE_CODE",t[t.ERR_MASTER_VOCS_UNAVAILABLE=114]="ERR_MASTER_VOCS_UNAVAILABLE",t[t.ERR_INTERNAL_ERROR=115]="ERR_INTERNAL_ERROR",t[t.ERR_NO_ACTIVE_STATUS=116]="ERR_NO_ACTIVE_STATUS",t[t.ERR_INVALID_UID=117]="ERR_INVALID_UID",t[t.ERR_DYNAMIC_KEY_EXPIRED=118]="ERR_DYNAMIC_KEY_EXPIRED",t[t.ERR_STATIC_USE_DYANMIC_KE=119]="ERR_STATIC_USE_DYANMIC_KE",t[t.ERR_DYNAMIC_USE_STATIC_KE=120]="ERR_DYNAMIC_USE_STATIC_KE",t[t.ERR_NO_VOCS_AVAILABLE=2e3]="ERR_NO_VOCS_AVAILABLE",t[t.ERR_NO_VOS_AVAILABLE=2001]="ERR_NO_VOS_AVAILABLE",t[t.ERR_JOIN_CHANNEL_TIMEOUT=2002]="ERR_JOIN_CHANNEL_TIMEOUT",t[t.ERR_REPEAT_JOIN_CHANNEL=2003]="ERR_REPEAT_JOIN_CHANNEL",t[t.ERR_JOIN_BY_MULTI_IP=2004]="ERR_JOIN_BY_MULTI_IP",t[t.ERR_NOT_JOINED=2011]="ERR_NOT_JOINED",t[t.ERR_REPEAT_JOIN_REQUEST=2012]="ERR_REPEAT_JOIN_REQUEST",t[t.ERR_INVALID_VENDOR_KEY=2013]="ERR_INVALID_VENDOR_KEY",t[t.ERR_INVALID_CHANNEL_NAME=2014]="ERR_INVALID_CHANNEL_NAME",t[t.ERR_INVALID_STRINGUID=2015]="ERR_INVALID_STRINGUID",t[t.ERR_TOO_MANY_USERS=2016]="ERR_TOO_MANY_USERS",t[t.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]="ERR_SET_CLIENT_ROLE_TIMEOUT",t[t.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]="ERR_SET_CLIENT_ROLE_NO_PERMISSION",t[t.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]="ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",t[t.ERR_PUBLISH_REQUEST_INVALID=2020]="ERR_PUBLISH_REQUEST_INVALID",t[t.ERR_SUBSCRIBE_REQUEST_INVALID=2021]="ERR_SUBSCRIBE_REQUEST_INVALID",t[t.ERR_NOT_SUPPORTED_MESSAGE=2022]="ERR_NOT_SUPPORTED_MESSAGE",t[t.ERR_ILLEAGAL_PLUGIN=2023]="ERR_ILLEAGAL_PLUGIN",t[t.ERR_REJOIN_TOKEN_INVALID=2024]="ERR_REJOIN_TOKEN_INVALID",t[t.ERR_REJOIN_USER_NOT_JOINED=2025]="ERR_REJOIN_USER_NOT_JOINED",t[t.ERR_INVALID_OPTIONAL_INFO=2027]="ERR_INVALID_OPTIONAL_INFO",t[t.ILLEGAL_AES_PASSWORD=2028]="ILLEGAL_AES_PASSWORD",t[t.ILLEGAL_CLIENT_ROLE_LEVEL=2029]="ILLEGAL_CLIENT_ROLE_LEVEL",t[t.ERR_TOO_MANY_BROADCASTERS=2031]="ERR_TOO_MANY_BROADCASTERS",t[t.ERR_TOO_MANY_SUBSCRIBERS=2032]="ERR_TOO_MANY_SUBSCRIBERS",t[t.ERR_LICENSE_MISSING=32769]="ERR_LICENSE_MISSING",t[t.ERR_LICENSE_EXPIRED=32771]="ERR_LICENSE_EXPIRED",t[t.ERR_LICENSE_MINUTES_EXCEEDED=32773]="ERR_LICENSE_MINUTES_EXCEEDED",t[t.ERR_LICENSE_PERIOD_INVALID=32774]="ERR_LICENSE_PERIOD_INVALID",t[t.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]="ERR_LICENSE_MULTIPLE_SDK_SERVICE",t[t.ERR_LICENSE_ILLEGAL=32783]="ERR_LICENSE_ILLEGAL",t[t.ERR_TEST_RECOVER=9e3]="ERR_TEST_RECOVER",t[t.ERR_TEST_TRYNEXT=9001]="ERR_TEST_TRYNEXT",t[t.ERR_TEST_RETRY=9002]="ERR_TEST_RETRY",t}({}),Ut=function(t){return t.CONNECTING="connecting",t.CONNECTED="connected",t.RECONNECTING="reconnecting",t.CLOSED="closed",t}({}),xe=function(t){return t.WS_CONNECTED="ws_connected",t.WS_RECONNECTING="ws_reconnecting",t.WS_CLOSED="ws_closed",t.WS_RECONNECT_WAITTING_FINISH="ws_reconnect_waitting_finish",t.WS_RECONNECT_CREATE_CONNECTION="ws_reconnect_create_connection",t.ON_BINARY_DATA="on_binary_data",t.REQUEST_RECOVER="request_recover",t.REQUEST_JOIN_INFO="request_join_info",t.REQUEST_REJOIN_INFO="req_rejoin_info",t.IS_P2P_DISCONNECTED="is_p2p_dis",t.DISCONNECT_P2P="dis_p2p",t.ABORT_P2P_EXECUTION="abort_p2p_execution",t.NEED_RENEW_SESSION="need-sid",t.REPORT_JOIN_GATEWAY="report_join_gateway",t.REQUEST_TIMEOUT="request_timeout",t.REQUEST_SUCCESS="request_success",t.JOIN_RESPONSE="join_response",t.PRE_CONNECT_PC="pre_connect_pc",t.P2P_CONNECTION="p2p_connection",t.P2P_REMOTE_CANDIDATE_UPDATE="p2p_remote_candidate_update",t.P2P_SUBSCRIBE="p2p_subscribe",t.P2P_UNSUBSCRIBE="p2p_unsubscribe",t.P2P_EXCHANGE_SDP="p2p_exchange_sdp",t.P2P_ON_ADD_VIDEO_STREAM="p2p_on_add_video_stream",t.P2P_ON_ADD_AUDIO_STREAM="p2p_on_add_audio_stream",t}({}),Ke=function(t){return t.PING="ping",t.PING_BACK="ping_back",t.JOIN="join_v3",t.REJOIN="rejoin_v3",t.LEAVE="leave",t.SET_CLIENT_ROLE="set_client_role",t.PUBLISH="publish",t.PUBLISH_DATASTREAM="publish_datastream",t.UNPUBLISH="unpublish",t.UNPUBLISH_DATASTREAM="unpublish_datastream",t.SUBSCRIBE="subscribe",t.PRE_SUBSCRIBE="pre_subscribe",t.SUBSCRIBE_DATASTREAM="subscribe_datastream",t.SUBSCRIBE_STREAMS="subscribe_streams",t.UNSUBSCRIBE="unsubscribe",t.UNSUBSCRIBE_DATASTREAM="unsubscribe_datastream",t.UNSUBSCRIBE_STREAMS="unsubscribe_streams",t.SUBSCRIBE_CHANGE="subscribe_change",t.TRAFFIC_STATS="traffic_stats",t.RENEW_TOKEN="renew_token",t.SWITCH_VIDEO_STREAM="switch_video_stream",t.DEFAULT_VIDEO_STREAM="default_video_stream",t.SET_FALLBACK_OPTION="set_fallback_option",t.GATEWAY_INFO="gateway_info",t.CONTROL="control",t.SEND_METADATA="send_metadata",t.DATA_STREAM="data_stream",t.PICK_SVC_LAYER="pick_svc_layer",t.RESTART_ICE="restart_ice",t.CONNECT_PC="connect_pc",t.SET_VIDEO_PROFILE="set_video_profile",t.SET_PARAMETER="set_parameter",t.SET_RTM2_FLAG="set_rtm2_flag",t}({}),oc=function(t){return t.WRTC_STATS="wrtc_stats",t.WS_INFLATE_DATA_LENGTH="ws_inflate_data_length",t.DENOISER_STATS="denoiser_stats",t.EXTENSION_USAGE_STATS="extension_usage_stats",t}({}),rt=function(t){return t.ON_USER_ONLINE="on_user_online",t.ON_USER_OFFLINE="on_user_offline",t.ON_STREAM_FALLBACK_UPDATE="on_stream_fallback_update",t.ON_PUBLISH_STREAM="on_publish_stream",t.ON_UPLINK_STATS="on_uplink_stats",t.ON_P2P_LOST="on_p2p_lost",t.ON_REMOVE_STREAM="on_remove_stream",t.ON_ADD_AUDIO_STREAM="on_add_audio_stream",t.ON_ADD_VIDEO_STREAM="on_add_video_stream",t.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="on_token_privilege_will_expire",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE="on_token_privilege_did_expire",t.ON_USER_BANNED="on_user_banned",t.ON_USER_LICENSE_BANNED="on_user_license_banned",t.ON_NOTIFICATION="on_notification",t.ON_CRYPT_ERROR="on_crypt_error",t.MUTE_AUDIO="mute_audio",t.MUTE_VIDEO="mute_video",t.UNMUTE_AUDIO="unmute_audio",t.UNMUTE_VIDEO="unmute_video",t.ON_P2P_OK="on_p2p_ok",t.RECEIVE_METADATA="receive_metadata",t.ON_DATA_STREAM="on_data_stream",t.ON_RTP_CAPABILITY_CHANGE="on_rtp_capability_change",t.ON_REMOTE_DATASTREAM_UPDATE="on_remote_datastream_update",t.ON_REMOTE_FULL_DATASTREAM_INFO="on_remote_full_datastream_info",t.ENABLE_LOCAL_VIDEO="enable_local_video",t.DISABLE_LOCAL_VIDEO="disable_local_video",t.ENABLE_LOCAL_AUDIO="enable_local_audio",t.DISABLE_LOCAL_AUDIO="disable_local_audio",t.ON_PUBLISHED_USER_LIST="on_published_user_list",t}({}),Ei=function(t){return t.SEND_ONLY="SEND_ONLY",t.RECEIVE_ONLY="RECEIVE_ONLY",t}({}),Je=function(t){return t.CONNECTED="websocket:connected",t.RECONNECTING="websocket:reconnecting",t.WILL_RECONNECT="websocket:will_reconnect",t.CLOSED="websocket:closed",t.FAILED="websocket:failed",t.ON_MESSAGE="websocket:on_message",t.REQUEST_NEW_URLS="websocket:request_new_urls",t.RECONNECT_WAITTING_FINISH="websocket:reconnect_waitting_finish",t.RECONNECT_CREATE_CONNECTION="websocket:reconnect_create_connection",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE="websocket:on_token_privilege_did_expire",t}({});class z extends Ae{constructor(A){super(A,arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",arguments.length>2?arguments[2]:void 0),L(this,"name","AgoraRTCException")}print(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"error";return super.print(A,N)}throw(){super.throw(N)}}function BI(t){if(typeof t!="string"||!/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(t))throw N.error("Invalid Channel Name ".concat(t)),new z(G.INVALID_PARAMS,"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")}function pI(t){if(!function(A){return typeof A=="number"&&Math.floor(A)===A&&0<=A&&A<=4294967295}(t)&&!uR(t,1,255))throw new z(G.INVALID_PARAMS,"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]");typeof t=="string"&&N.warn("You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.")}let No=function(t){return t.TRANSCODE="mix_streaming",t.RAW="raw_streaming",t}({});const eK={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},hu={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function Bu(t,A){MA(t.url,"".concat(A,".url"),1,1e3,!1),Wt(t.x)||bt(t.x,"".concat(A,".x"),0,1e4),Wt(t.y)||bt(t.y,"".concat(A,".y"),0,1e4),Wt(t.width)||bt(t.width,"".concat(A,".width"),0,1e4),Wt(t.height)||bt(t.height,"".concat(A,".height"),0,1e4),Wt(t.zOrder)||bt(t.zOrder,"".concat(A,".zOrder"),0,255),Wt(t.alpha)||bt(t.alpha,"".concat(A,".alpha"),0,1,!1)}const tK={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""};let An=function(t){return t.WARNING="@live_uap-warning",t.ERROR="@line_uap-error",t.PUBLISH_STREAM_STATUS="@live_uap-publish-status",t.WORKER_STATUS="@live_uap-worker-status",t.REQUEST_NEW_ADDRESS="@live_uap-request-address",t}({}),pu=function(t){return t.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager",t}({}),_A=function(t){return t[t.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",t[t.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",t[t.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",t[t.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",t[t.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",t[t.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",t[t.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",t[t.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",t[t.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",t[t.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",t[t.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",t[t.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",t[t.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",t[t.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",t[t.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",t[t.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",t[t.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",t[t.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",t[t.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",t[t.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",t[t.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN",t}({});function VR(t){if(!t.channelName)throw new z(G.INVALID_PARAMS,"invalid channelName in info");if(typeof t.uid!="number")throw new z(G.INVALID_PARAMS,"invalid uid in info, uid must be a number");return t.token&&MA(t.token,"info.token",1,2047),pI(t.uid),BI(t.channelName),!0}let Ci=function(t){return t[t.SetSdkProfile=0]="SetSdkProfile",t[t.SetSourceChannel=1]="SetSourceChannel",t[t.SetSourceUserId=2]="SetSourceUserId",t[t.SetDestChannel=3]="SetDestChannel",t[t.StartPacketTransfer=4]="StartPacketTransfer",t[t.StopPacketTransfer=5]="StopPacketTransfer",t[t.UpdateDestChannel=6]="UpdateDestChannel",t[t.Reconnect=7]="Reconnect",t[t.SetVideoProfile=8]="SetVideoProfile",t}({}),To=function(t){return t.NETWORK_DISCONNECTED="NETWORK_DISCONNECTED",t.NETWORK_CONNECTED="NETWORK_CONNECTED",t.PACKET_JOINED_SRC_CHANNEL="PACKET_JOINED_SRC_CHANNEL",t.PACKET_JOINED_DEST_CHANNEL="PACKET_JOINED_DEST_CHANNEL",t.PACKET_SENT_TO_DEST_CHANNEL="PACKET_SENT_TO_DEST_CHANNEL",t.PACKET_RECEIVED_VIDEO_FROM_SRC="PACKET_RECEIVED_VIDEO_FROM_SRC",t.PACKET_RECEIVED_AUDIO_FROM_SRC="PACKET_RECEIVED_AUDIO_FROM_SRC",t.PACKET_UPDATE_DEST_CHANNEL="PACKET_UPDATE_DEST_CHANNEL",t.PACKET_UPDATE_DEST_CHANNEL_REFUSED="PACKET_UPDATE_DEST_CHANNEL_REFUSED",t.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE",t}({}),yi=function(t){return t.RELAY_STATE_IDLE="RELAY_STATE_IDLE",t.RELAY_STATE_CONNECTING="RELAY_STATE_CONNECTING",t.RELAY_STATE_RUNNING="RELAY_STATE_RUNNING",t.RELAY_STATE_FAILURE="RELAY_STATE_FAILURE",t}({}),Ps=function(t){return t.RELAY_OK="RELAY_OK",t.SERVER_CONNECTION_LOST="SERVER_CONNECTION_LOST",t.SRC_TOKEN_EXPIRED="SRC_TOKEN_EXPIRED",t.DEST_TOKEN_EXPIRED="DEST_TOKEN_EXPIRED",t}({}),yt=function(t){return t.High="high",t.Low="low",t.Audio="audio",t.Screen="screen",t.ScreenLow="screen_low",t}({}),HA=function(t){return t.DISCONNECT="disconnect",t.CONNECTION_STATE_CHANGE="connection-state-change",t.NETWORK_QUALITY="network-quality",t.STREAM_TYPE_CHANGE="stream-type-change",t.IS_P2P_DISCONNECTED="is-p2p-dis",t.DISCONNECT_P2P="dis-p2p",t.REQUEST_NEW_GATEWAY_LIST="req-gate-url",t.NEED_RENEW_SESSION="need-sid",t.REQUEST_P2P_CONNECTION_PARAMS="request-p2p-connection-params",t.JOIN_RESPONSE="join-response",t.RESET_CONNECTION_EVENTS="reset-connection-events",t.PRE_CONNECT_PC="pre-connect_pc",t}({}),QI=function(t){return t.P2P_DISCONNECTED="P2P_DISCONNECTED",t.A_ROUND_WS_FAILED="A_ROUND_WS_FAILED",t.TIMEOUT="TIMEOUT",t.UNKNOWN_REASON="UNKNOWN_REASON",t}({}),NA=function(t){return t[t.Nothing=0]="Nothing",t[t.Audio=1]="Audio",t[t.LwoVideo=2]="LwoVideo",t[t.Video=4]="Video",t[t.Data=8]="Data",t[t.DataStream0=256]="DataStream0",t[t.DataStream1=512]="DataStream1",t[t.DataStream2=1024]="DataStream2",t[t.DataStream3=2048]="DataStream3",t[t.DataStream4=4096]="DataStream4",t[t.DataStream5=8192]="DataStream5",t[t.DataStream6=16384]="DataStream6",t[t.DataStream7=32768]="DataStream7",t}({}),dt=function(t){return t.CHINA="CHINA",t.ASIA="ASIA",t.NORTH_AMERICA="NORTH_AMERICA",t.EUROPE="EUROPE",t.JAPAN="JAPAN",t.INDIA="INDIA",t.KOREA="KOREA",t.HKMC="HKMC",t.US="US",t.OCEANIA="OCEANIA",t.SOUTH_AMERICA="SOUTH_AMERICA",t.AFRICA="AFRICA",t.OVERSEA="OVERSEA",t.GLOBAL="GLOBAL",t.EXTENSIONS="EXTENSIONS",t}({});const jR=[dt.AFRICA,dt.ASIA,dt.CHINA,dt.EUROPE,dt.GLOBAL,dt.INDIA,dt.JAPAN,dt.NORTH_AMERICA,dt.OCEANIA,dt.OVERSEA,dt.SOUTH_AMERICA];let WA=function(t){return t.CHINA="CN",t.ASIA="AS",t.NORTH_AMERICA="NA",t.EUROPE="EU",t.JAPAN="JP",t.INDIA="IN",t.KOREA="KR",t.HKMC="HK",t.US="US",t.OCEANIA="OC",t.SOUTH_AMERICA="SA",t.AFRICA="AF",t.OVERSEA="OVERSEA",t.GLOBAL="GLOBAL",t.EXTENSIONS="GLOBAL",t}({});const fI={CHINA:{},ASIA:{CODE:WA.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_SERVER_TYPE3:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:WA.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_SERVER_TYPE3:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:WA.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_SERVER_TYPE3:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:WA.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","uap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_SERVER_TYPE3:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:WA.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_SERVER_TYPE3:["india.webrtc-cloud-proxy.sd-rtn.com"]},KOREA:{CODE:WA.KOREA,WEBCS_DOMAIN:["ap-web-1-korea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-korea.agora.io"],PROXY_CS:["proxy-ap-web-korea.agora.io"],CDS_AP:["cds-ap-web-korea.agora.io","cds-ap-web-korea2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-korea.agora.io","sua-ap-web-korea2.agora.io"],UAP_AP:["uap-ap-web-korea.agora.io","uap-ap-web-korea2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_SERVER_TYPE3:["korea.webrtc-cloud-proxy.sd-rtn.com"]},HKMC:{CODE:WA.HKMC,WEBCS_DOMAIN:["ap-web-1-hkmc.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-hkmc.agora.io"],PROXY_CS:["proxy-ap-web-hkmc.agora.io"],CDS_AP:["cds-ap-web-hkmc.agora.io","cds-ap-web-hkmc2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-hkmc.agora.io","sua-ap-web-hkmc2.agora.io"],UAP_AP:["uap-ap-web-hkmc.agora.io","uap-ap-web-hkmc2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-hkmc.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-hkmc.agora.io"],LOG_UPLOAD_SERVER:["logservice-hkmc.agora.io"],PROXY_SERVER_TYPE3:["hkmc.webrtc-cloud-proxy.sd-rtn.com"]},US:{CODE:WA.US,WEBCS_DOMAIN:["ap-web-1-us.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-us.agora.io"],PROXY_CS:["proxy-ap-web-us.agora.io"],CDS_AP:["cds-ap-web-us.agora.io","cds-ap-web-us2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-us.agora.io","sua-ap-web-us2.agora.io"],UAP_AP:["uap-ap-web-us.agora.io","uap-ap-web-us2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_SERVER_TYPE3:["us.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:WA.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:WA.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:WA.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_SERVER_TYPE3:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:WA.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_SERVER_TYPE3:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:WA.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_SERVER_TYPE3:["africa.webrtc-cloud-proxy.sd-rtn.com"]},EXTENSIONS:{}};su&&(fI.CHINA={CODE:WA.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_SERVER_TYPE3:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]});let Qu=function(t){return t.UPDATE_BITRATE_LIMIT="update_bitrate_limit",t}({});class $R extends Xt{constructor(A,o){super(),L(this,"onICEConnectionStateChange",void 0),L(this,"onConnectionStateChange",void 0),L(this,"onDTLSTransportStateChange",void 0),L(this,"onDTLSTransportError",void 0),L(this,"onICETransportStateChange",void 0),L(this,"onFirstAudioReceived",void 0),L(this,"onFirstVideoReceived",void 0),L(this,"onFirstAudioDecoded",void 0),L(this,"onFirstVideoDecoded",void 0),L(this,"onFirstVideoDecodedTimeout",void 0),L(this,"onSelectedLocalCandidateChanged",void 0),L(this,"onSelectedRemoteCandidateChanged",void 0),L(this,"getLocalVideoStats",void 0)}}class WR extends $R{constructor(A,o){super(A,o),L(this,"establishPromise",void 0)}}let Oe=function(t){return t.VIDEO="video",t.AUDIO="audio",t}({}),bi=function(t){return t[t.UDP=0]="UDP",t[t.TCP=1]="TCP",t[t.RELAY=2]="RELAY",t}({}),bo=function(t){return t[t.FIRST_CONNECTION=0]="FIRST_CONNECTION",t[t.TCP_RESTART=1]="TCP_RESTART",t[t.RELAY_RESTART=2]="RELAY_RESTART",t[t.OLD_FIRST_CONNECTION=10]="OLD_FIRST_CONNECTION",t[t.OLD_RESTART=11]="OLD_RESTART",t[t.DISCONNECTED_OR_FAILED=20]="DISCONNECTED_OR_FAILED",t}({}),Ie=function(t){return t.LocalVideoTrack="videoTrack",t.LocalAudioTrack="audioTrack",t.LocalVideoLowTrack="videoLowTrack",t}({}),mt=function(t){return t.New="new",t.Connected="connected",t.Reconnecting="reconnecting",t.Disconnected="disconnected",t}({}),Ge=function(t){return t.StateChange="stateChange",t.IceConnectionStateChange="iceConnectionStateChange",t.RequestMuteLocal="requestMuteLocal",t.RequestUnmuteLocal="requestUnmuteLocal",t.RequestRePublish="requestRePublish",t.RequestRePublishDataChannel="requestRePublishDataChannel",t.RequestReSubscribe="requestReSubscribe",t.RequestUploadStats="requestUploadStats",t.RequestUpload="requestUpload",t.MediaReconnectStart="MediaReconnectStart",t.MediaReconnectEnd="MediaReconnectEnd",t.NeedSignalRTT="NeedSignalRTT",t.RequestRestartICE="RequestRestartIce",t.PeerConnectionStateChange="PeerConnectionStateChange",t.RequestReconnect="RequestReconnect",t.RequestReconnectPC="RequestReconnectPC",t.RequestUnpublishForReconnectPC="RequestUnpublishForReconnectPC",t.P2PLost="P2PLost",t.UpdateVideoEncoder="UpdateVideoEncoder",t.ConnectionTypeChange="ConnectionTypeChange",t.RequestLowStreamParameter="RequestLowStreamParameter",t.QueryClientConnectionState="QueryClientConnectionState",t.LocalCandidate="LocalCandidate",t.RequestP2PMuteLocal="requestP2PMuteLocal",t.RequestP2PUnPublish="RequestP2PUnPublish",t.RequestP2PUnmuteRemote="RequestP2PUnmuteRemote",t.RequestP2PMuteRemote="RequestP2PMuteRemote",t.RequestP2PRestartICE="RequestP2PRestartICE",t}({}),dr=function(t){return t.CONNECTING="CONNECTING",t.RECONNECTING="RECONNECTING",t.CONNECTED="CONNECTED",t.CLOSED="CLOSED",t}({}),hr=function(t){return t[t.CONNECT_AP=0]="CONNECT_AP",t[t.AP_CONNECTED=1]="AP_CONNECTED",t[t.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",t[t.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",t[t.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",t[t.CONNECT_WORKER=5]="CONNECT_WORKER",t[t.WORKER_CONNECTED=6]="WORKER_CONNECTED",t[t.CLOSED=7]="CLOSED",t}({}),bA=function(t){return t.CONNECTION_STATE_CHANGE="connection-state-change",t.STATE_CHANGE="state-change",t.INSPECT_RESULT="inspect-result",t.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",t.REQUEST_NEW_WORKER_URL="request-new-worker-url",t}({}),XR=function(t){return t.CONNECTED="transmitter:connected",t.RECONNECTING="transmitter:reconnecting",t.WILL_RECONNECT="transmitter:will_reconnect",t.CLOSED="transmitter:closed",t.FAILED="transmitter:failed",t.ON_MESSAGE="transmitter:on_message",t.REQUEST_NEW_URLS="transmitter:request_new_urls",t.RECONNECT_WAITTING_FINISH="transmitter:reconnect_waitting_finish",t.RECONNECT_CREATE_CONNECTION="transmitter:reconnect_create_connection",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE="transmitter:on_token_privilege_did_expire",t.TO_CONNECT_DATACHANNEL="transmitter:to_connect_datachannel",t.FAILBACK="transmitter:failback",t.PRE_CONNECT_PC="transmitter:pre_connect_pc",t}({}),io=function(t){return t.CAMERA_CHANGED="camera-changed",t.MICROPHONE_CHANGED="microphone-changed",t.PLAYBACK_DEVICE_CHANGED="playback-device-changed",t.AUDIO_AUTOPLAY_FAILED="audio-autoplay-failed",t.AUTOPLAY_FAILED="autoplay-failed",t.AUDIO_CONTEXT_STATE_CHANGED="audio-context-state-changed",t.SECURITY_POLICY_VIOLATION="security-policy-violation",t}({}),Ar=function(t){return t.CONNECTING="CONNECTING",t.RECONNECTING="RECONNECTING",t.CONNECTED="CONNECTED",t.CLOSED="CLOSED",t}({}),Ur=function(t){return t.CONNECTION_STATE_CHANGE="connection-state-change",t.STATE_CHANGE="state-change",t.INSPECT_RESULT="inspect-result",t.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",t.REQUEST_NEW_WORKER_URL="request-new-worker-url",t}({}),Gs=function(t){return t[t.CONNECT_AP=0]="CONNECT_AP",t[t.AP_CONNECTED=1]="AP_CONNECTED",t[t.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",t[t.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",t[t.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",t[t.CONNECT_WORKER=5]="CONNECT_WORKER",t[t.WORKER_CONNECTED=6]="WORKER_CONNECTED",t[t.CLOSED=7]="CLOSED",t}({}),nA=function(t){return t.CALL="call",t.CANDIDATE="candidate",t.PUBLISH="publish",t.UNPUBLISH="unpublish",t.CONTROL="control",t.RESTART_ICE="restart_ice",t.ACK="ack",t.RESPONSE="response",t.JOIN="join",t.CHECK="check",t}({}),Fs=function(t){return t.ABORT="abort",t}({}),rn=function(t){return t.MUTE_LOCAL_AUDIO="mute_local_audio",t.MUTE_LOCAL_VIDEO="mute_local_video",t.UNMUTE_LOCAL_AUDIO="unmute_local_audio",t.UNMUTE_LOCAL_VIDEO="unmute_local_video",t}({}),AK=function(t){return t.P2P_TOKEN_TIMEOUT="p2p_token_timeout",t.P2P_TOKEN_CHANGED="p2p_token_changed",t}({});const iK={[hI.ACCESS_POINT]:{[Ii.NO_FLAG_SET]:{desc:"flag is zero",retry:!1},[Ii.FLAG_SET_BUT_EMPTY]:{desc:"flag is empty",retry:!1},[Ii.INVALID_FALG_SET]:{desc:"invalid flag",retry:!1},[Ii.FLAG_SET_BUT_NO_RE]:{desc:"flag set unilbs but no request",retry:!1},[Ii.INVALID_SERVICE_ID]:{desc:"invalid service id",retry:!1},[Ii.NO_SERVICE_AVAILABLE]:{desc:"no service available",retry:!0},[Ii.NO_SERVICE_AVAILABLE_P2P]:{desc:"no unilbs p2p service available",retry:!0},[Ii.NO_SERVICE_AVAILABLE_VOICE]:{desc:"no unilbs voice service available",retry:!0},[Ii.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:"no unilbs webrtc service available",retry:!0},[Ii.NO_SERVICE_AVAILABLE_CDS]:{desc:"no cds service available",retry:!0},[Ii.NO_SERVICE_AVAILABLE_CDN]:{desc:"no cdn dispatcher service available",retry:!0},[Ii.NO_SERVICE_AVAILABLE_TDS]:{desc:"no tds service available",retry:!0},[Ii.NO_SERVICE_AVAILABLE_REPORT]:{desc:"no unilbs report service available",retry:!0},[Ii.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:"no app center service available",retry:!0},[Ii.NO_SERVICE_AVAILABLE_ENV0]:{desc:"no unilbs sig env0 service available",retry:!0},[Ii.NO_SERVICE_AVAILABLE_VOET]:{desc:"no unilbs voet service available",retry:!0},[Ii.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:"no string uid service available",retry:!0},[Ii.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:"no webrtc unilbs service available",retry:!0}},[hI.UNILBS]:{[ur.INVALID_VENDOR_KEY]:{desc:"invalid vendor key, can not find appid",retry:!1},[ur.INVALID_CHANNEL_NAME]:{desc:"invalid channel name",retry:!1},[ur.INTERNAL_ERROR]:{desc:"unilbs internal error",retry:!1},[ur.NO_AUTHORIZED]:{desc:"invalid token, authorized failed",retry:!1},[ur.DYNAMIC_KEY_TIMEOUT]:{desc:"dynamic key or token timeout",retry:!1},[ur.NO_ACTIVE_STATUS]:{desc:"no active status",retry:!1},[ur.DYNAMIC_KEY_EXPIRED]:{desc:"dynamic key expired",retry:!1},[ur.STATIC_USE_DYNAMIC_KEY]:{desc:"static use dynamic key",retry:!1},[ur.DYNAMIC_USE_STATIC_KEY]:{desc:"dynamic use static key",retry:!1},[ur.USER_OVERLOAD]:{desc:"amount of users over load",retry:!1},[ur.FORBIDDEN_REGION]:{desc:"the request is forbidden in this area",retry:!1},[ur.CANNOT_MEET_AREA_DEMAND]:{desc:"unable to allocate services in this area",retry:!1}},[hI.STRING_UID_ALLOCATOR]:{[du.IIIEGAL_APPID]:{desc:"invalid appid",retry:!1},[du.IIIEGAL_UID]:{desc:"invalid string uid",retry:!1},[du.INTERNAL_ERROR]:{desc:"string uid allocator internal error",retry:!0}}};function Ks(t){const A=iK[Math.floor(t/1e4)];if(!A)return{desc:"unknown error",retry:!1};const o=A[t%1e4];if(!o){if(Math.floor(t/1e4)===hI.ACCESS_POINT){const s=t%1e4;if(s.toString()[0]==="1")return{desc:t.toString(),retry:!1};if(s.toString()[0]==="2")return{desc:t.toString(),retry:!0}}return{desc:"unknown error",retry:!1}}return o}const rK={[Ue.K_TIMESTAMP_EXPIRED]:{desc:"K_TIMESTAMP_EXPIRED",action:"failed"},[Ue.K_CHANNEL_PERMISSION_INVALID]:{desc:"K_CHANNEL_PERMISSION_INVALID",action:"failed"},[Ue.K_CERTIFICATE_INVALID]:{desc:"K_CERTIFICATE_INVALID",action:"failed"},[Ue.K_CHANNEL_NAME_EMPTY]:{desc:"K_CHANNEL_NAME_EMPTY",action:"failed"},[Ue.K_CHANNEL_NOT_FOUND]:{desc:"K_CHANNEL_NOT_FOUND",action:"failed"},[Ue.K_TICKET_INVALID]:{desc:"K_TICKET_INVALID",action:"failed"},[Ue.K_CHANNEL_CONFLICTED]:{desc:"K_CHANNEL_CONFLICTED",action:"failed"},[Ue.K_SERVICE_NOT_READY]:{desc:"K_SERVICE_NOT_READY",action:"tryNext"},[Ue.K_SERVICE_TOO_HEAVY]:{desc:"K_SERVICE_TOO_HEAVY",action:"tryNext"},[Ue.K_UID_BANNED]:{desc:"K_UID_BANNED",action:"failed"},[Ue.K_IP_BANNED]:{desc:"K_IP_BANNED",action:"failed"},[Ue.K_AUTO_REBALANCE]:{desc:"k_AUTO_REBALANCE",action:"recover"},[Ue.ERR_INVALID_VENDOR_KEY]:{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"},[Ue.ERR_INVALID_CHANNEL_NAME]:{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"},[Ue.WARN_NO_AVAILABLE_CHANNEL]:{desc:"WARN_NO_AVAILABLE_CHANNEL",action:"failed"},[Ue.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:"WARN_LOOKUP_CHANNEL_TIMEOUT",action:"tryNext"},[Ue.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:"WARN_LOOKUP_CHANNEL_REJECTED",action:"failed"},[Ue.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:"WARN_OPEN_CHANNEL_TIMEOUT",action:"tryNext"},[Ue.WARN_OPEN_CHANNEL_REJECTED]:{desc:"WARN_OPEN_CHANNEL_REJECTED",action:"failed"},[Ue.WARN_REQUEST_DEFERRED]:{desc:"WARN_REQUEST_DEFERRED",action:"failed"},[Ue.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:"ERR_DYNAMIC_KEY_TIMEOUT",action:"failed"},[Ue.ERR_NO_AUTHORIZED]:{desc:"ERR_NO_AUTHORIZED",action:"failed"},[Ue.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:"ERR_VOM_SERVICE_UNAVAILABLE",action:"tryNext"},[Ue.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:"ERR_NO_CHANNEL_AVAILABLE_CODE",action:"failed"},[Ue.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:"ERR_MASTER_VOCS_UNAVAILABLE",action:"tryNext"},[Ue.ERR_INTERNAL_ERROR]:{desc:"ERR_INTERNAL_ERROR",action:"tryNext"},[Ue.ERR_NO_ACTIVE_STATUS]:{desc:"ERR_NO_ACTIVE_STATUS",action:"failed"},[Ue.ERR_INVALID_UID]:{desc:"ERR_INVALID_UID",action:"failed"},[Ue.ERR_DYNAMIC_KEY_EXPIRED]:{desc:"ERR_DYNAMIC_KEY_EXPIRED",action:"failed"},[Ue.ERR_STATIC_USE_DYANMIC_KE]:{desc:"ERR_STATIC_USE_DYANMIC_KE",action:"failed"},[Ue.ERR_DYNAMIC_USE_STATIC_KE]:{desc:"ERR_DYNAMIC_USE_STATIC_KE",action:"failed"},[Ue.ERR_NO_VOCS_AVAILABLE]:{desc:"ERR_NO_VOCS_AVAILABLE",action:"tryNext"},[Ue.ERR_NO_VOS_AVAILABLE]:{desc:"ERR_NO_VOS_AVAILABLE",action:"tryNext"},[Ue.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:"ERR_JOIN_CHANNEL_TIMEOUT",action:"tryNext"},[Ue.ERR_JOIN_BY_MULTI_IP]:{desc:"ERR_JOIN_BY_MULTI_IP",action:"recover"},[Ue.ERR_NOT_JOINED]:{desc:"ERR_NOT_JOINED",action:"failed"},[Ue.ERR_REPEAT_JOIN_REQUEST]:{desc:"ERR_REPEAT_JOIN_REQUEST",action:"quit"},[Ue.ERR_REPEAT_JOIN_CHANNEL]:{desc:"ERR_REPEAT_JOIN_CHANNEL",action:"quit"},[Ue.ERR_INVALID_STRINGUID]:{desc:"ERR_INVALID_STRINGUID",action:"failed"},[Ue.ERR_TOO_MANY_USERS]:{desc:"ERR_TOO_MANY_USERS",action:"tryNext"},[Ue.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[Ue.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[Ue.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",action:"success"},[Ue.ERR_PUBLISH_REQUEST_INVALID]:{desc:"ERR_PUBLISH_REQUEST_INVALID",action:"failed"},[Ue.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:"ERR_SUBSCRIBE_REQUEST_INVALID",action:"failed"},[Ue.ERR_NOT_SUPPORTED_MESSAGE]:{desc:"ERR_NOT_SUPPORTED_MESSAGE",action:"failed"},[Ue.ERR_ILLEAGAL_PLUGIN]:{desc:"ERR_ILLEAGAL_PLUGIN",action:"failed"},[Ue.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:"ILLEGAL_CLIENT_ROLE_LEVEL",action:"failed"},[Ue.ERR_REJOIN_TOKEN_INVALID]:{desc:"ERR_REJOIN_TOKEN_INVALID",action:"failed"},[Ue.ERR_REJOIN_USER_NOT_JOINED]:{desc:"ERR_REJOIN_NOT_JOINED",action:"failed"},[Ue.ERR_INVALID_OPTIONAL_INFO]:{desc:"ERR_INVALID_OPTIONAL_INFO",action:"quit"},[Ue.ERR_TEST_RECOVER]:{desc:"ERR_TEST_RECOVER",action:"recover"},[Ue.ERR_TEST_TRYNEXT]:{desc:"ERR_TEST_TRYNEXT",action:"recover"},[Ue.ERR_TEST_RETRY]:{desc:"ERR_TEST_RETRY",action:"recover"},[Ue.ILLEGAL_AES_PASSWORD]:{desc:"ERR_TEST_RETRY",action:"failed"},[Ue.ERR_TOO_MANY_BROADCASTERS]:{desc:"ERR_TOO_MANY_BROADCASTERS",action:"failed"},[Ue.ERR_TOO_MANY_SUBSCRIBERS]:{desc:"ERR_TOO_MANY_SUBSCRIBERS",action:"failed"},[Ue.ERR_LICENSE_ILLEGAL]:{desc:"ERR_LICENSE_ILLEGAL",action:"quit"},[Ue.ERR_LICENSE_MISSING]:{desc:"ERR_LICENSE_MISSING",action:"quit"},[Ue.ERR_LICENSE_EXPIRED]:{desc:"ERR_LICENSE_EXPIRED",action:"quit"},[Ue.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:"ERR_LICENSE_MINUTES_EXCEEDED",action:"quit"},[Ue.ERR_LICENSE_PERIOD_INVALID]:{desc:"ERR_LICENSE_PERIOD_INVALID",action:"quit"},[Ue.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:"ERR_LICENSE_MULTIPLE_SDK_SERVICE",action:"quit"}};function nc(t){return rK[t]||{desc:"UNKNOWN_ERROR_".concat(t),action:"failed"}}function ZR(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function fu(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?ZR(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ZR(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}function zR(t){return t.every(A=>A.readyState===WebSocket.CLOSED||A.readyState===WebSocket.CLOSING)}function ey(t,A){if(typeof t=="string")return t;const{proxy:o,host:s,port:c}=t;if(A){const I=J("JOIN_GATEWAY_FALLBACK_PORT")||443;return I===443?"wss://".concat(s,"/ws/?p=").concat(Number(c)+150):"wss://".concat(s,":").concat(I,"/ws/?p=").concat(Number(c)+150)}return o?"wss://".concat(o,"/ws/?h=").concat(s,"&p=").concat(c):"wss://".concat(s,":").concat(c)}const oK=/wss:\/\/(.+)\/ws\/\?h=(.+)&p=([0-9]+)\/?/,nK=/wss:\/\/(.+)\/ws\/\?p=([0-9]+)\/?/,sK=/wss:\/\/(.+):([0-9]+)\/?/,aK=/wss:\/\/(.[^\/]+)\/?/;let cK=0;class gK{constructor(A,o){L(this,"id",0),L(this,"store",void 0),L(this,"recordIndex",void 0),L(this,"websockets",[]),L(this,"try443PortDuration",2e3),L(this,"forceCloseWSDuration",5e3),L(this,"try443PortTimeout",null),L(this,"forceCloseTimeout",null),L(this,"isTry443PortFailed",!1),L(this,"isNormalPortFailed",!1),L(this,"useDoubleDomain",!1),L(this,"useProxy",!1),L(this,"startTime",Date.now()),this.id=++cK,this.try443PortDuration=J("JOIN_GATEWAY_TRY_443PORT_DURATION")||2e3,this.forceCloseWSDuration=A||5e3,this.store=o}closeAllWebsockets(){this.websockets.forEach(A=>{A.onopen=null,A.onclose=null,A.onmessage=null,A.close()}),this.websockets.length=0}clearTimeout(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout)}logger(){var A;const o=Date.now()-this.startTime;for(var s=arguments.length,c=new Array(s),I=0;I<s;I++)c[I]=arguments[I];N.debug("[choose-best-ws ".concat((A=this.store)===null||A===void 0?void 0:A.clientId," ").concat(this.id,"] ").concat(o,"ms:"),...c)}createWebSocket(A,o,s){this.logger("createWebSocket:",A,{isTry443Port:o,hasTimeoutDetection:s});const c=J("GATEWAY_DOMAINS"),I=Date.now(),C=[],l=c.find(Q=>{var _;return Re(_=A.host).call(_,Q)});l||(this.useDoubleDomain=!1);const d=[];if(this.useDoubleDomain)c.forEach(Q=>{d.push(ey(fu(fu({},A),{},{host:A.host.replace(l,Q)}),o))});else{const Q=fu({},A);if(o&&l){const _=c.find(S=>S!==l);_&&(Q.host=Q.host.replace(l,_))}d.push(ey(Q,o))}try{d.forEach(Q=>{const _=new WebSocket(Q);_.binaryType="arraybuffer",C.push(_),this.logger("ws is connecting:",_.url)})}catch(Q){if(this.logger("ws create failed"),C.forEach(_=>_.close()),C.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(A,o,s);if(!o&&Number(A.port)!==443)return this.createWebSocket(A,!0,s);throw new z(G.WS_ERR,"init websocket failed! Error: ".concat(Q.toString()))}const h=Za();return this.store&&this.store.recordJoinChannelService({urls:C.map(Q=>Q.url),service:"gateway"},this.recordIndex),C.forEach(Q=>{Q.onopen=()=>{this.logger("onopen: ws ".concat(Q.url," open cost ").concat(Date.now()-I,"ms")),this.websockets.forEach(_=>{_!==Q&&(_.onopen=null,_.onclose=null,_.onmessage=null,_.close(),this.logger("close backup websocket: ".concat(_.url)))}),this.websockets.length=0,h.resolve(Q)},Q.onclose=_=>{this.logger("onclose: ws ".concat(Q.url," closed cost ").concat(Date.now()-I,"ms state: ").concat(Q.readyState)),o?this.isTry443PortFailed=zR(C):this.isNormalPortFailed=zR(C),this.logger("443: ".concat(this.useProxy?"not try":this.isTry443PortFailed?"failed":"trying"," 47xx: ").concat(this.isNormalPortFailed?"failed":"trying")),(o&&this.isTry443PortFailed||!o&&(this.isTry443PortFailed||this.useProxy)&&this.isNormalPortFailed)&&(this.logger("onclose: all websocket is closed, ".concat(_.reason)),h.reject({code:_.code,reason:QI.A_ROUND_WS_FAILED}))},Q.onmessage=_=>this.logger("".concat(Q.url," onmessage: ").concat(_.data))}),this.websockets.push(...C),s||(()=>{const Q=()=>{this.logger("5s timeout close un-opens, isWebsocket created: ",h.isResolved),this.websockets.forEach(_=>_.readyState!==WebSocket.OPEN&&_.close())};if(o||this.useProxy)return this.logger("add 5s timeout at ".concat(o?"try-443":"proxy"," condition")),this.forceCloseTimeout=window.setTimeout(Q,this.forceCloseWSDuration);this.try443PortTimeout=window.setTimeout(()=>{if(this.logger("2s timeout, isWebsocket created: ",h.isResolved),h.isResolved)return Q();Et().os===wA.MAC_OS&&zt()&&Q(),this.createWebSocket(A,!0,!0).then(_=>h.resolve(_)).catch(_=>{this.isNormalPortFailed&&h.reject(_),this.logger("try 443 port to create ws failed")}),this.forceCloseTimeout=window.setTimeout(Q,this.forceCloseWSDuration)},this.try443PortDuration)})(),h.promise}chooseBestWebsocket(A,o,s,c){return this.useDoubleDomain=!!o,typeof A=="string"&&(A=function(I){let C,l,d;return[,C,l,d]=I.match(oK)||[],C||([,l,d]=I.match(nK)||[]),l&&d||([,l,d]=I.match(sK)||[]),l&&d||([,l]=I.match(aK)||[]),l||N.warning("un-destructible url: ",I),{proxy:C,host:l,port:d||"443"}}(A)),this.recordIndex=c,this.useProxy=!!A.proxy,s&&this.useProxy&&(N.warn("cannot use 443 only when use proxy"),s=!1),this.createWebSocket(A,!!s,!1).finally(()=>this.clearTimeout())}}function ty(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}class Ay extends Xt{get url(){return this.websocket&&this.websocket.url||null}get reconnectMode(){return this._reconnectMode}set reconnectMode(A){var o;Re(o=["tryNext","recover"]).call(o,A)&&this.resetReconnectCount(A),this._reconnectMode=A}get state(){return this._state}set state(A){A!==this._state&&(this._state=A,this._state==="reconnecting"?this.emit(Je.RECONNECTING,this.reconnectReason):this._state==="connected"?this.emit(Je.CONNECTED):this._state==="closed"?this.emit(Je.CLOSED):this._state==="failed"&&this.emit(Je.FAILED))}resetReconnectCount(A){N.debug("websocket reset reconnect count, reason: "+A),this.reconnectCount=0}constructor(A,o){let s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],I=arguments.length>4&&arguments[4]!==void 0&&arguments[4],C=arguments.length>5?arguments[5]:void 0;super(),L(this,"connectionID",0),L(this,"currentURLIndex",0),L(this,"urls",[]),L(this,"_reconnectMode","tryNext"),L(this,"reconnectReason",void 0),L(this,"_initMutex",new $A("websocket")),L(this,"name",void 0),L(this,"_state","closed"),L(this,"reconnectInterrupter",void 0),L(this,"websocket",void 0),L(this,"retryConfig",void 0),L(this,"reconnectCount",0),L(this,"forceCloseTimeout",5e3),L(this,"onlineReconnectListener",void 0),L(this,"useCompress",void 0),L(this,"tryDoubleDomain",!1),L(this,"use443PortOnly",!1),L(this,"wsInflateLength",0),L(this,"wsDeflateLength",0),L(this,"closeEstablishingWs",()=>{}),L(this,"store",void 0),L(this,"joinGatewayRecordIndex",void 0),this.store=C,this.name=A,this.retryConfig=function(_){for(var S=1;S<arguments.length;S++){var w=arguments[S]!=null?arguments[S]:{};S%2?ty(Object(w),!0).forEach(function(k){L(_,k,w[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(w)):ty(Object(w)).forEach(function(k){Object.defineProperty(_,k,Object.getOwnPropertyDescriptor(w,k))})}return _}({},o),this.useCompress=s,this.tryDoubleDomain=c,this.use443PortOnly=I;const{timeout:l,timeoutFactor:d}=o,h=Math.max(300,Math.floor(3*l/5)),Q=Math.max(1.2,Math.floor(8*d)/10);Ti.ONLINE&&(this.retryConfig.timeout=h,this.retryConfig.timeoutFactor=Q),EA.on(Ms.NETWORK_STATE_CHANGE,(_,S)=>{_!==S&&(this.resetReconnectCount("network state change: ".concat(S," -> ").concat(_)),_===Ti.ONLINE?(this.retryConfig.timeout=h,this.retryConfig.timeoutFactor=Q):(this.retryConfig.timeout=l,this.retryConfig.timeoutFactor=d))})}getConnection(){return this.websocket||void 0}async init(A){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3;const s=await this._initMutex.lock();this.forceCloseTimeout=o,this.urls=A,this.state="connecting";try{const c=Za(),I=this.urls[this.currentURLIndex];J("ENABLE_PREALLOC_PC")&&this.emit(XR.PRE_CONNECT_PC),this.createWebSocketConnection(I).then(c.resolve).catch(c.reject),this.once(Je.CLOSED,()=>{c.reject(new Ae(G.WS_DISCONNECT))}),this.once(Je.CONNECTED,c.resolve),await c.promise}catch{}finally{s()}}close(A,o){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const s=this.websocket;o?setTimeout(()=>s.close(),500):s.close(),this.websocket=void 0}this.state=A?"failed":"closed",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(A,o){if(!this.websocket)return void N.warning("[".concat(this.name,"] can not reconnect, no websocket"));A!==void 0&&(this.reconnectMode=A),N.debug("[".concat(this.name,"] reconnect is triggered initiative")),typeof this.joinGatewayRecordIndex=="number"&&this.store&&this.store.recordJoinChannelService({status:"error",errors:[new Error(o)]},this.joinGatewayRecordIndex);const s=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),s&&s.bind(this.websocket)({code:9999,reason:o})}sendMessage(A){let o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new Ae(G.WS_ABORT,"websocket is not ready");try{o||(A=JSON.stringify(A)),this.websocket.send(A)}catch(s){throw new Ae(G.WS_ERR,"send websocket message error"+s.toString())}}setWsInflateData(A){this.wsDeflateLength=this.wsDeflateLength+A.originLength,this.wsInflateLength=this.wsInflateLength+A.compressedLength}getWsInflateData(){const A=this.wsInflateLength,o=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:A,wsDeflateLength:o}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(A){var o;const s=Za();this.connectionID+=1,this.joinGatewayRecordIndex=void 0;const c=Q=>{var _;(_=this.store)===null||_===void 0||_.signalChannelOpen(),N.debug("[".concat(this.name,"] websocket opened:"),Q),this.reconnectMode="retry",this.state="connected",this.resetReconnectCount("opened"),s.resolve()},I=async Q=>{var _;if(N.debug("[".concat(this.name,"] websocket close ").concat((_=this.websocket)===null||_===void 0?void 0:_.url,", code: ").concat(Q.code,", reason: ").concat(Q.reason,", current mode: ").concat(this.reconnectMode)),this.reconnectCount>=this.retryConfig.maxRetryCount)s.reject(new Ae(G.WS_DISCONNECT,"websocket close: ".concat(Q.code))),this.close();else{this.state==="connected"&&(this.reconnectReason=Q.reason,this.state="reconnecting");const S=zi(this,Je.WILL_RECONNECT,this.reconnectMode,Q.reason)||this.reconnectMode,w=await this.reconnectWithAction(S);if(this.state==="closed")return void N.debug("[".concat(this.connectionID,"] ws is closed, no need to reconnect"));if(!w)return s.reject(new Ae(G.WS_DISCONNECT,"websocket reconnect failed: ".concat(Q.code))),this.close(!0);s.resolve()}},C=Q=>{this.emit(Je.ON_MESSAGE,Q)},l=Q=>{N.warn("[".concat(this.connectionID,"] ws open error ").concat(Q))};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),J("GATEWAY_WSS_ADDRESS")&&this.name.startsWith("gateway")&&(A=J("GATEWAY_WSS_ADDRESS")),N.debug("[".concat(this.name,"] start connect, url:"),A);const d=(o=this.store)===null||o===void 0?void 0:o.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"});try{var h;const Q=await this.chooseBestWebsocketConnection(A);this.websocket=Q,c&&c(this.websocket.url),this.websocket.onclose=I,this.websocket.onmessage=C,this.websocket.onerror=l,(h=this.store)===null||h===void 0||h.recordJoinChannelService({endTs:Date.now(),status:"success"},d),this.joinGatewayRecordIndex=d}catch(Q){const _=this.state==="closed",S=Q instanceof Ae,w=S&&Q.code===G.WS_ABORT,k=S&&Q.code===G.WS_ERR,v=S?Q.message:Q&&(Q.reason||Q.toString());N.warning("[choose-best-ws] chooseBestWebsocket error: ".concat(v)),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:w?"aborted":"error",errors:[Q]},d),_||k?(s.reject(_?new Ae(G.WS_DISCONNECT,"websocket is closed: ".concat(v)):new Ae(G.WS_ERR,"init websocket failed: ".concat(v))),k&&N.error("[".concat(this.name,"] init websocket failed: ").concat(v))):I&&I(Q)}return s.promise}async reconnectWithAction(A){let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount||this.urls.length===0||this.state==="closed")return!1;N.warning("[choose-best-ws] action: =>",A),this.onlineReconnectListener||EA.isOnline||!EA.onlineWaiter||(this.onlineReconnectListener=EA.onlineWaiter.then(()=>{this.onlineReconnectListener=void 0}));let s=!0;if(this.reconnectInterrupter=()=>s=!1,o){const C=ru(this.reconnectCount,this.retryConfig);N.debug("[".concat(this.name,"] wait ").concat(C,"ms to reconnect websocket, mode: ").concat(A)),await pe.race([OA(C),this.onlineReconnectListener||new pe(()=>{})])}if(this._state==="closed"||!s)return!1;this.reconnectCount+=1;const c=async(C,l)=>{this.emit(Je.RECONNECT_CREATE_CONNECTION,l),await this.createWebSocketConnection(C)};try{if(A==="retry")this.emit(Je.RECONNECT_WAITTING_FINISH,A),await c(this.urls[this.currentURLIndex],A);else if(A==="tryNext"){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return this.reconnectWithAction("recover",!1);N.debug("[".concat(this.name,"] websocket url length: ").concat(this.urls.length," current index: ").concat(this.currentURLIndex)),this.emit(Je.RECONNECT_WAITTING_FINISH,A),await c(this.urls[this.currentURLIndex],A)}else A==="recover"&&(N.debug("[".concat(this.name,"] request new urls")),this.resetReconnectCount("recover mode"),this.emit(Je.RECONNECT_WAITTING_FINISH,A),this.urls=await YA(this,Je.REQUEST_NEW_URLS),this.currentURLIndex=0,await c(this.urls[this.currentURLIndex],A))}catch(C){var I;N.error("[".concat(this.name,"] reconnect failed ").concat(C&&C.toString()));const l=C==null||(I=C.data)===null||I===void 0?void 0:I.desc;return Array.isArray(l)&&Re(l).call(l,"dynamic key expired")?(this.emit(Je.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):this.reconnectWithAction(A,o)}return!0}}class _u extends Ay{constructor(A,o){super(A,o,arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3&&arguments[3]!==void 0&&arguments[3],arguments.length>4&&arguments[4]!==void 0&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(A,o){const s=Za(),c=function(C,l){return new gK(C,l)}(this.forceCloseTimeout,this.store);this.closeEstablishingWs=()=>{N.debug("[choose-best-ws] close establishing websockets"),c.closeAllWebsockets(),s.reject(new Ae(G.WS_ABORT,"choose best websocket aborted"))};const I=J("GATEWAY_DOMAINS");return N.debug("[choose-best-ws] currentDomain: ",A,", domains: ",I,"total: ".concat(this.urls.length),"current: ".concat(this.currentURLIndex+1)),c.chooseBestWebsocket(A,this.tryDoubleDomain,this.use443PortOnly,o).then(s.resolve).catch(s.reject),s.promise.finally(()=>{this.closeEstablishingWs=void 0})}}class sc extends Ay{constructor(A,o){super(A,o,arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3&&arguments[3]!==void 0&&arguments[3],arguments.length>4&&arguments[4]!==void 0&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(A,o){return new pe((s,c)=>{let I=!1;const C=[];this.closeEstablishingWs=()=>{N.debug("[choose-best-ws] close establishing websockets"),C.forEach(k=>{k.onclose=null,k.onopen=null,k.onmessage=null,k.close()}),c(new Ae(G.WS_ABORT,"choose best websocket aborted"))};const l=J("GATEWAY_DOMAINS");let d;const h=A.indexOf("?h="),Q=l.find(k=>h!==-1?Re(A).call(A,k,h):Re(A).call(A,k));N.debug("[choose-best-ws] currentDomain: ",Q,", domains: ",l);let _=!this.tryDoubleDomain||!Q;if(!_&&Q){var S;const k=Date.now();try{l.forEach(v=>{const b=h===-1?A.replace(Q,v):A.substr(0,h)+A.substr(h).replace(Q,v),P=new WebSocket(b);P.binaryType="arraybuffer",C.push(P),N.debug("[choose-best-ws] ws is connecting:",P.url)})}catch{for(N.debug("[choose-best-ws] ws create failed, fallback to single url"),C.forEach(b=>b.close());C.length;)C.pop();_=!0}(S=this.store)===null||S===void 0||S.recordJoinChannelService({urls:C.map(v=>v.url),service:"gateway"},o),C.forEach(v=>{v.onopen=()=>{if(I)return;const b=Date.now()-k;N.debug("[choose-best-ws] ws open cost ".concat(b,"ms")),C.filter(P=>P!==v).forEach(P=>{N.debug("[choose-best-ws]close backup websocket: ".concat(P.url)),P.close()}),I=!0,s(v)},v.onclose=b=>{d=b,!I&&(C.find(P=>!(P.readyState===WebSocket.CLOSED||P.readyState===WebSocket.CLOSING))||(N.debug("[choose-best-ws] all websocket is closed"),I=!0,c(d)))},v.onmessage=b=>{N.debug("[choose-best-ws]".concat(v.url," onmessage: ").concat(b.data))}}),OA(this.forceCloseTimeout).then(()=>{C.forEach(v=>{v.readyState!==WebSocket.OPEN&&v.close()})})}if(_){var w;let k;N.debug("[choose-best-ws] use single url: ",A),(w=this.store)===null||w===void 0||w.recordJoinChannelService({urls:[A],service:"gateway"},o);try{k=new WebSocket(A),C.push(k),k.binaryType="arraybuffer"}catch(v){const b=new Ae(G.WS_ERR,"init websocket failed! Error: ".concat(v.toString()));return N.error("[".concat(this.name,"]").concat(b)),void c(b)}k.onopen=()=>{s(k)},k.onclose=v=>{c(v)},k.onmessage=v=>{N.debug("[choose-best-ws]".concat(k.url," onmessage: ").concat(v.data))},OA(this.forceCloseTimeout).then(()=>{k&&k.readyState!==WebSocket.OPEN&&k.close()})}}).then(s=>(this.closeEstablishingWs=void 0,s)).catch(s=>{throw this.closeEstablishingWs=void 0,s})}}class IK extends Xt{get connectionState(){return this._connectionState}set connectionState(A){A!==this._connectionState&&(this._connectionState=A,A===Ut.CONNECTED?this.emit(xe.WS_CONNECTED):A===Ut.RECONNECTING?this.emit(xe.WS_RECONNECTING,this._websocketReconnectReason):A===Ut.CLOSED&&this.emit(xe.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(A,o){super(),L(this,"_disconnectedReason",void 0),L(this,"_websocketReconnectReason",void 0),L(this,"_connectionState",Ut.CLOSED),L(this,"reconnectToken",void 0),L(this,"websocket",void 0),L(this,"openConnectionTime",void 0),L(this,"clientId",void 0),L(this,"lastMsgTime",Date.now()),L(this,"uploadCache",[]),L(this,"uploadCacheInterval",void 0),L(this,"rttRolling",new bR(5)),L(this,"pingpongTimer",void 0),L(this,"wsInflateDataTimer",void 0),L(this,"pingpongTimeoutCount",0),L(this,"joinResponse",void 0),L(this,"multiIpOption",void 0),L(this,"initError",void 0),L(this,"spec",void 0),L(this,"store",void 0),L(this,"onWebsocketMessage",s=>{if(s.data instanceof ArrayBuffer)return void this.emit(xe.ON_BINARY_DATA,s.data);const c=JSON.parse(s.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(c,"_id")){const I="res-@".concat(c._id);this.emit(I,c._result,c._message)}else if(Object.prototype.hasOwnProperty.call(c,"_type")){if(this.emit(c._type,c._message),c._type===rt.ON_NOTIFICATION&&this.handleNotification(c._message),c._type===rt.ON_USER_BANNED)switch(c._message.error_code){case 14:this.close(St.UID_BANNED);break;case 15:this.close(St.IP_BANNED);break;case 16:this.close(St.CHANNEL_BANNED)}if(c._type===rt.ON_USER_LICENSE_BANNED)switch(c._message.error_code){case Ue.ERR_LICENSE_MISSING:this.close(St.LICENSE_MISSING);break;case Ue.ERR_LICENSE_EXPIRED:this.close(St.LICENSE_EXPIRED);break;case Ue.ERR_LICENSE_MINUTES_EXCEEDED:this.close(St.LICENSE_MINUTES_EXCEEDED);break;case Ue.ERR_LICENSE_PERIOD_INVALID:this.close(St.LICENSE_PERIOD_INVALID);break;case Ue.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(St.LICENSE_MULTIPLE_SDK_SERVICE);break;case Ue.ERR_LICENSE_ILLEGAL:this.close(St.LICENSE_ILLEGAL);break;default:this.close()}}}),this.clientId=A.clientId,this.spec=A,this.store=o,this.websocket=new _u("gateway-".concat(this.clientId),this.spec.retryConfig,!0,J("JOIN_GATEWAY_USE_DUAL_DOMAIN"),J("JOIN_GATEWAY_USE_443PORT_ONLY"),o),this.handleWebsocketEvents(),window.addEventListener("offline",()=>{this.connectionState===Ut.CONNECTED&&this.reconnect("retry",xA.OFFLINE)})}async request(A,o,s,c){const I=kt(6,""),C={_id:I,_type:A,_message:o},l=this.websocket.connectionID,d=()=>new pe((k,v)=>{if(this.connectionState===Ut.CONNECTED)return k();const b=()=>{this.off(xe.WS_CLOSED,P),k()},P=()=>{this.off(xe.WS_CONNECTED,b),v(new z(G.WS_ABORT))};this.once(xe.WS_CONNECTED,b),this.once(xe.WS_CLOSED,P),A!==Ke.PUBLISH&&A!==Ke.PUBLISH_DATASTREAM&&A!==Ke.SUBSCRIBE&&A!==Ke.SUBSCRIBE_DATASTREAM&&A!==Ke.UNSUBSCRIBE&&A!==Ke.UNSUBSCRIBE_DATASTREAM&&A!==Ke.UNPUBLISH&&A!==Ke.UNPUBLISH_DATASTREAM&&A!==Ke.CONTROL&&A!==Ke.RESTART_ICE||this.once(xe.DISCONNECT_P2P,()=>{v(new z(G.DISCONNECT_P2P))}),A!==Ke.PUBLISH&&A!==Ke.RESTART_ICE||this.once(xe.ABORT_P2P_EXECUTION,()=>{v(new z(G.DISCONNECT_P2P))})});if(this.connectionState!==Ut.CONNECTING&&this.connectionState!==Ut.RECONNECTING||A===Ke.JOIN||A===Ke.REJOIN||await d(),this.websocket.sendMessage(C,!0),c)return;const h=new pe((k,v)=>{let b=!1;const P=(W,X)=>{b=!0,k({isSuccess:W==="success",message:X||{}}),this.off(xe.WS_CLOSED,K),this.off(xe.WS_RECONNECTING,K),this.emit(xe.REQUEST_SUCCESS,A,o)};this.once("res-@".concat(I),P);const K=()=>{v(new z(G.WS_ABORT,"type: ".concat(A))),this.off(xe.WS_CLOSED,K),this.off(xe.WS_RECONNECTING,K),this.off("res-@".concat(I),P)};this.once(xe.WS_CLOSED,K),this.once(xe.WS_RECONNECTING,K),OA(J("SIGNAL_REQUEST_TIMEOUT")).then(()=>{this.websocket.connectionID!==l||b||(N.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(A)),this.emit(xe.REQUEST_TIMEOUT,A,o))})});let Q=null;try{Q=await h}catch(k){if(this.connectionState===Ut.CLOSED||A===Ke.LEAVE)throw new z(G.WS_ABORT);return!this.spec.forceWaitGatewayResponse||s?k.throw():A===Ke.JOIN||A===Ke.REJOIN?null:(await d(),await this.request(A,o))}if(Q.isSuccess)return Q.message;const _=Number(Q.message.error_code||Q.message.code),S=nc(_),w=new z(G.UNEXPECTED_RESPONSE,"".concat(S.desc,": ").concat(Q.message.error_str),{code:_,data:Q.message,desc:S.desc});return S.action==="success"?Q.message:(N.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(A,", error_code: ").concat(_,", message: ").concat(S.desc,", action: ").concat(S.action)),_===Ue.ERR_TOO_MANY_BROADCASTERS?((A===Ke.JOIN||A===Ke.REJOIN)&&(this.initError=w,this.close()),w.throw()):S.action==="failed"?w.throw():S.action==="quit"?(this.initError=w,this.close(),w.throw()):(_===Ue.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=Q.message.option,N.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",xA.MULTI_IP)):this.reconnect(S.action,xA.SERVER_ERROR),A===Ke.JOIN||A===Ke.REJOIN?null:await this.request(A,o)))}waitMessage(A,o){return new pe(s=>{const c=I=>{(!o||o(I))&&(this.off(A,c),s(I))};this.on(A,c)})}uploadWRTCStats(A){if(!this.store.sessionId)return void N.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const o={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:A};this.upload(oc.WRTC_STATS,o)}upload(A,o){const s={_type:A,_message:o};try{this.websocket.sendMessage(s)}catch{const I=J("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(s),this.uploadCache.length>I&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==Ut.CONNECTED)return;const C=this.uploadCache.splice(0,1)[0];this.uploadCache.length===0&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(C._type,C._message)},J("UPLOAD_CACHE_INTERVAL")||2e3))}}send(A,o){const s={_type:A,_message:o};this.websocket.sendMessage(s)}init(A,o){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new pe((s,c)=>{this.once(xe.WS_CONNECTED,()=>s(this.joinResponse)),this.once(xe.WS_CLOSED,()=>c(this.initError||new z(G.WS_ABORT))),this.connectionState=Ut.CONNECTING,this.websocket.init(A).catch(c),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval(()=>{this.handleWsInflateData()},2e4)})}close(A){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=A||St.LEAVE,this.connectionState=Ut.CLOSED,N.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close()}async join(){if(!this.joinResponse){this.emit(xe.ABORT_P2P_EXECUTION);const A=await YA(this,xe.REQUEST_JOIN_INFO),o=await this.request(Ke.JOIN,A);if(!o)return this.emit(xe.REPORT_JOIN_GATEWAY,QI.TIMEOUT,this.url||""),!1;this.joinResponse=o,this.emit(xe.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=Ut.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new z(G.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");const A=Ac(this,xe.REQUEST_REJOIN_INFO);A.token=this.reconnectToken;const o=await this.request(Ke.REJOIN,A);return!!o&&(this.connectionState=Ut.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),o.peers&&o.peers.forEach(s=>{this.emit(rt.ON_USER_ONLINE,{uid:s.uid}),s.audio&&this.emit(rt.ON_ADD_AUDIO_STREAM,{uid:s.uid,uint_id:s.uint_id,audio:!0,ssrcId:s.audio_ssrc}),s.video&&this.emit(rt.ON_ADD_VIDEO_STREAM,{uid:s.uid,uint_id:s.uint_id,video:!0,ssrcId:s.video_ssrc}),s.audio_mute?this.emit(rt.MUTE_AUDIO,{uid:s.uid}):this.emit(rt.UNMUTE_AUDIO,{uid:s.uid}),s.video_mute?this.emit(rt.MUTE_VIDEO,{uid:s.uid}):this.emit(rt.UNMUTE_VIDEO,{uid:s.uid}),s.audio_enable_local?this.emit(rt.ENABLE_LOCAL_AUDIO,{uid:s.uid}):this.emit(rt.DISABLE_LOCAL_AUDIO,{uid:s.uid}),s.video_enable_local?this.emit(rt.ENABLE_LOCAL_VIDEO,{uid:s.uid}):this.emit(rt.DISABLE_LOCAL_VIDEO,{uid:s.uid}),s.audio||s.video||this.emit(rt.ON_REMOVE_STREAM,{uid:s.uid,uint_id:s.uint_id})}),!0)}reconnect(A,o){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(A,o)}handleNotification(A){N.debug("[".concat(this.clientId,"] receive notification: "),A);const o=nc(A.code);if(o.action!=="success"){if(o.action!=="failed")return o.action==="quit"?(o.desc==="ERR_REPEAT_JOIN_CHANNEL"&&this.close(St.UID_BANNED),void this.close()):void this.reconnect(o.action,xA.SERVER_ERROR);N.error("[".concat(this.clientId,"] ignore error: "),o.desc)}}handlePingPong(){if(!this.websocket||this.websocket.state!=="connected")return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const A=J("PING_PONG_TIME_OUT"),o=Date.now();this.pingpongTimeoutCount>=A&&(N.warning("[".concat(this.clientId,"] PING-PONG Timeout. Last Socket Message: ").concat(o-this.lastMsgTime,"ms")),o-this.lastMsgTime>J("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",xA.TIMEOUT):this.request(Ke.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;const s=Date.now()-o;this.rttRolling.add(s),J("REPORT_STATS")&&this.send(Ke.PING_BACK,{pingpongElapse:s})}).catch(s=>{})}handleWsInflateData(){const{wsInflateLength:A,wsDeflateLength:o}=this.websocket.getWsInflateData();A!==0&&o!==0&&this.upload(oc.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:o,ws_inflate_length:A})}handleWebsocketEvents(){this.websocket.on(Je.RECONNECT_WAITTING_FINISH,A=>{this.emit(xe.WS_RECONNECT_WAITTING_FINISH,A)}),this.websocket.on(Je.RECONNECT_CREATE_CONNECTION,A=>{this.emit(xe.WS_RECONNECT_CREATE_CONNECTION,A)}),this.websocket.on(Je.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(Je.CLOSED,()=>{this.connectionState=Ut.CLOSED}),this.websocket.on(Je.FAILED,()=>{this._disconnectedReason=St.NETWORK_ERROR,this.connectionState=Ut.CLOSED}),this.websocket.on(Je.RECONNECTING,A=>{this._websocketReconnectReason=A,this.joinResponse=void 0,this.connectionState===Ut.CONNECTED?this.connectionState=Ut.RECONNECTING:this.connectionState=Ut.CONNECTING}),this.websocket.on(Je.WILL_RECONNECT,(A,o,s)=>{const c=Ac(this,xe.IS_P2P_DISCONNECTED),I=c||A!=="retry";c&&A==="retry"&&(N.debug("".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),A="tryNext",o=QI.P2P_DISCONNECTED),I&&(N.debug("".concat(this.clientId," will renewSession, reconnect mode: ").concat(A)),this.emit(xe.REPORT_JOIN_GATEWAY,o||QI.UNKNOWN_REASON,this.url||""),this.reconnectToken=void 0,this.emit(xe.DISCONNECT_P2P)),s(A)}),this.websocket.on(Je.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch(A=>{N.warning("[".concat(this.clientId,"] rejoin failed ").concat(A)),this.reconnect("tryNext",xA.SERVER_ERROR)}):this.join().catch(A=>{if(this.emit(xe.REPORT_JOIN_GATEWAY,A,this.url||""),A instanceof z){if(A.code===G.UNEXPECTED_RESPONSE&&A.data.code===Ue.ERR_NO_AUTHORIZED)return this.initError=new z(G.CAN_NOT_GET_GATEWAY_SERVER,"AgoraRTCError CAN_NOT_GET_GATEWAY_SERVER: dynamic key expired"),N.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",xA.SERVER_ERROR);N.error("[".concat(this.clientId,"] join gateway request failed"),A.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",xA.SERVER_ERROR):(this.initError=A,this.close())}})}),this.websocket.on(Je.REQUEST_NEW_URLS,(A,o)=>{YA(this,xe.REQUEST_RECOVER,this.multiIpOption).then(A).catch(o)}),this.websocket.on(Je.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(rt.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}),this.websocket.on(XR.PRE_CONNECT_PC,()=>{this.emit(xe.PRE_CONNECT_PC)})}}let lA=function(t){return t[t.CHOOSE_SERVER=11]="CHOOSE_SERVER",t[t.CLOUD_PROXY=18]="CLOUD_PROXY",t[t.CLOUD_PROXY_5=20]="CLOUD_PROXY_5",t[t.CLOUD_PROXY_FALLBACK=26]="CLOUD_PROXY_FALLBACK",t}({});function iy(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function _I(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?iy(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):iy(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}function xs(t){return t.match(/^[\.\:\d]+$/)?"".concat(t.replace(/[^\d]/g,"-"),".").concat(J("TURN_DOMAIN")):(N.info("Unidentified as ip: ".concat(t,", use as host")),t)}function Ru(t,A){t.addresses||(t.addresses=[]);const o=function(l,d){if(J("CONNECT_GATEWAY_WITHOUT_DOMAIN"))return l.map(_=>{let{ip:S,port:w}=_;return{address:"".concat(S,":").concat(w)}});const h=J("GATEWAY_DOMAINS");let Q=h[1]&&Re(d).call(d,h[1])?1:0;return l.map(_=>{let{domain_prefix:S,port:w,ip:k}=_;if(S)return{address:"".concat(S,".").concat(h[Q++%h.length],":").concat(w)};const v=/^[\.\:\d]+$/.test(k),b=v?"".concat(k.replace(/[^\d]/g,"-"),".").concat(h[Q++%h.length],":").concat(w):"".concat(k,":").concat(w);return v||N.info("Unidentified as ip: ".concat(k,", use as host")),{ip:k,port:w,address:b}})}(t.addresses,A),s=Array.isArray(t.detail)&&t.detail[18];if(s&&typeof s=="string"){const l=s.split(";");for(let d=0;d<l.length;d++){var c;const h=Ai(c=l[d]).call(c);o[d]&&h&&(o[d].ip6=h)}}const I=t.detail&&t.detail.candidate;let C;if(I){const[l,d]=I.split(":");l&&d&&(C={port:Number(d),ip:l,address:"".concat(l,":").concat(d)})}return{gatewayAddrs:o,apGatewayAddress:C,uid:t.uid,cid:t.cid,cert:t.cert,vid:t.detail&&t.detail[8],uni_lbs_ip:t.detail&&t.detail[1],res:t,csIp:t.detail&&t.detail[502]}}function vi(t){return typeof t=="number"?t:t.exact||t.ideal||t.max||t.min||0}function ry(t){const A=t._encoderConfig;if(!A)return{};const o={resolution:A.width&&A.height?"".concat(vi(A.width),"x").concat(vi(A.height)):void 0,maxVideoBW:A.bitrateMax,minVideoBW:A.bitrateMin};return typeof A.frameRate=="number"?(o.maxFrameRate=A.frameRate,o.minFrameRate=A.frameRate):A.frameRate&&(o.maxFrameRate=A.frameRate.max||A.frameRate.ideal||A.frameRate.exact||A.frameRate.min,o.minFrameRate=A.frameRate.min||A.frameRate.ideal||A.frameRate.exact||A.frameRate.max),o}function oy(t){return t>=0&&t<.17?1:t>=.17&&t<.36?2:t>=.36&&t<.59?3:t>=.59&&t<=1?4:t>1?5:0}function ac(t,A){let o,s,c;switch(A){case lA.CHOOSE_SERVER:s=4096,c="choose server";break;case lA.CLOUD_PROXY:s=1048576,c="proxy";break;case lA.CLOUD_PROXY_5:s=4194304,c="proxy5";break;case lA.CLOUD_PROXY_FALLBACK:s=4194310,c="proxy fallback";break;default:throw new z(G.UNEXPECTED_ERROR,"multi unlibs response transformer get unknown service id",{csIp:t.detail&&t.detail[502],retry:!1})}if(t.response_body.forEach(I=>{I.buffer&&I.buffer.flag===s&&(o={code:I.buffer.code,addresses:(I.buffer.edges_services||[]).map(C=>_I(_I({},C),{},{ticket:I.buffer.cert})),server_ts:t.enter_ts,uid:I.buffer.uid,cid:I.buffer.cid,cname:I.buffer.cname,detail:_I(_I({},I.buffer.detail),t.detail),flag:I.buffer.flag,opid:t.opid,cert:I.buffer.cert})}),!o)throw new z(G.MULTI_UNILBS_RESPONSE_ERROR,"cannot parse response ".concat(c," from multi unilbs response"),{csIp:t.detail&&t.detail[502]});return o}async function ny(t,A){return await pe.all(t.addresses.map(async o=>({address:xs(o.ip),tcpport:o.port,udpport:o.port,username:A&&J("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?A.toString():JA.username,password:A&&J("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?await tu(A.toString()):JA.password})))}function yu(t,A){const o=A.getMediaStreamTrack(!0).getSettings(),s=A.videoHeight||o.height,c=A.videoWidth||o.width;return s&&c?Math.max(Math.min(s,c)/Math.min(vi(t.height),vi(t.width)),1):(N.warning("can't get ori-track's height, default scale down 4 times for low stream"),4)}function on(t){let{candidateType:A,relayProtocol:o,type:s,address:c,port:I,protocol:C}=t;return s==="local-candidate"?{candidateType:A,relayProtocol:o,protocol:C}:{candidateType:A,relayProtocol:o,address:c,port:I,protocol:C}}var Br,EK=g(JR),CK=Ir("Array").values,lK=$r,uK=jA,dK=M,hK=CK,mu=Array.prototype,BK={DOMTokenList:!0,NodeList:!0},pK=function(t){var A=t.values;return t===mu||dK(mu,t)&&A===mu.values||uK(BK,lK(t))?hK:A},vo=g(pK),sy=Fe,QK=D,fK=je,_K=E,Su=cg,RK=Da,yK=nt,mK=jr,SK=QA,Ys=Object.assign,ay=Object.defineProperty,DK=QK([].concat),wK=!Ys||_K(function(){if(sy&&Ys({b:1},Ys(ay({},"a",{enumerable:!0,get:function(){ay(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},A={},o=Symbol(),s="abcdefghijklmnopqrst";return t[o]=7,s.split("").forEach(function(c){A[c]=c}),Ys({},t)[o]!=7||Su(Ys({},A)).join("")!=s})?function(t,A){for(var o=mK(t),s=arguments.length,c=1,I=RK.f,C=yK.f;s>c;)for(var l,d=SK(arguments[c++]),h=I?DK(Su(d),I(d)):Su(d),Q=h.length,_=0;Q>_;)l=h[_++],sy&&!fK(C,d,l)||(o[l]=d[l]);return o}:Ys,NK=Ri,TK=eB,bK=xo,vK=je,MK=jr,OK=function(t,A,o,s){try{return s?A(NK(o)[0],o[1]):A(o)}catch(c){TK(t,"throw",c)}},LK=Xh,kK=fg,UK=yo,cy=Og,PK=eC,GK=Eg,gy=Array,Un=D,Du=2147483647,FK=/[^\0-\u007E]/,Iy=/[.\u3002\uFF0E\uFF61]/g,Ey="Overflow: input needs wider integers to process",Cy=RangeError,KK=Un(Iy.exec),Js=Math.floor,wu=String.fromCharCode,ly=Un("".charCodeAt),uy=Un([].join),nn=Un([].push),xK=Un("".replace),YK=Un("".split),JK=Un("".toLowerCase),dy=function(t){return t+22+75*(t<26)},HK=function(t,A,o){var s=0;for(t=o?Js(t/700):t>>1,t+=Js(t/A);t>455;)t=Js(t/35),s+=36;return Js(s+36*t/(t+38))},qK=function(t){var A=[];t=function(P){for(var K=[],W=0,X=P.length;W<X;){var Z=ly(P,W++);if(Z>=55296&&Z<=56319&&W<X){var ie=ly(P,W++);(64512&ie)==56320?nn(K,((1023&Z)<<10)+(1023&ie)+65536):(nn(K,Z),W--)}else nn(K,Z)}return K}(t);var o,s,c=t.length,I=128,C=0,l=72;for(o=0;o<t.length;o++)(s=t[o])<128&&nn(A,wu(s));var d=A.length,h=d;for(d&&nn(A,"-");h<c;){var Q=Du;for(o=0;o<t.length;o++)(s=t[o])>=I&&s<Q&&(Q=s);var _=h+1;if(Q-I>Js((Du-C)/_))throw Cy(Ey);for(C+=(Q-I)*_,I=Q,o=0;o<t.length;o++){if((s=t[o])<I&&++C>Du)throw Cy(Ey);if(s==I){for(var S=C,w=36;;){var k=w<=l?1:w>=l+26?26:w-l;if(S<k)break;var v=S-k,b=36-k;nn(A,wu(dy(k+v%b))),S=Js(v/b),w+=36}nn(A,wu(dy(S))),l=HK(C,_,h==d),C=0,h++}}C++,I++}return uy(A,"")},VK=Lt,Nu=Fe,jK=ml,Tu=U,hy=xo,pr=D,RI=Jo,Qr=Qg,$K=EC,bu=jA,vu=wK,Hs=function(t){var A=MK(t),o=kK(this),s=arguments.length,c=s>1?arguments[1]:void 0,I=c!==void 0;I&&(c=bK(c,s>2?arguments[2]:void 0));var C,l,d,h,Q,_,S=GK(A),w=0;if(!S||this===gy&&LK(S))for(C=UK(A),l=o?new this(C):gy(C);C>w;w++)_=I?c(A[w],w):A[w],cy(l,w,_);else for(Q=(h=PK(A,S)).next,l=o?new this:[];!(d=vK(Q,h)).done;w++)_=I?OK(h,c,[d.value,w],!0):d.value,cy(l,w,_);return l.length=w,l},Pr=zC,WK=xC.codeAt,XK=function(t){var A,o,s=[],c=YK(xK(JK(t),Iy,"."),".");for(A=0;A<c.length;A++)o=c[A],nn(s,KK(FK,o)?"xn--"+qK(o):o);return uy(s,".")},Mo=Xi,ZK=Ho,zK=_g,By=d1,py=Dn,ex=py.set,yI=py.getterFor("URL"),tx=By.URLSearchParams,Ax=By.getState,cc=Tu.URL,Mu=Tu.TypeError,mI=Tu.parseInt,ix=Math.floor,Qy=Math.pow,fr=pr("".charAt),Gr=pr(/./.exec),gc=pr([].join),rx=pr(1 .toString),ox=pr([].pop),qs=pr([].push),Ou=pr("".replace),nx=pr([].shift),sx=pr("".split),Ic=pr("".slice),SI=pr("".toLowerCase),ax=pr([].unshift),Lu="Invalid scheme",Pn="Invalid host",fy="Invalid port",_y=/[a-z]/i,cx=/[\d+-.a-z]/i,ku=/\d/,gx=/^0x/i,Ix=/^[0-7]+$/,Ex=/^\d+$/,Ry=/^[\da-f]+$/i,Cx=/[\0\t\n\r #%/:<>?@[\\\]^|]/,lx=/[\0\t\n\r #/:<>?@[\\\]^|]/,ux=/^[\u0000-\u0020]+/,dx=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,hx=/[\t\n\r]/g,Ec=function(t){var A,o,s,c;if(typeof t=="number"){for(A=[],o=0;o<4;o++)ax(A,t%256),t=ix(t/256);return gc(A,".")}if(typeof t=="object"){for(A="",s=function(I){for(var C=null,l=1,d=null,h=0,Q=0;Q<8;Q++)I[Q]!==0?(h>l&&(C=d,l=h),d=null,h=0):(d===null&&(d=Q),++h);return h>l&&(C=d,l=h),C}(t),o=0;o<8;o++)c&&t[o]===0||(c&&(c=!1),s===o?(A+=o?":":"::",c=!0):(A+=rx(t[o],16),o<7&&(A+=":")));return"["+A+"]"}return t},DI={},yy=vu({},DI,{" ":1,'"':1,"<":1,">":1,"`":1}),my=vu({},yy,{"#":1,"?":1,"{":1,"}":1}),Uu=vu({},my,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),sn=function(t,A){var o=WK(t,0);return o>32&&o<127&&!bu(A,t)?t:encodeURIComponent(t)},wI={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Cc=function(t,A){var o;return t.length==2&&Gr(_y,fr(t,0))&&((o=fr(t,1))==":"||!A&&o=="|")},Sy=function(t){var A;return t.length>1&&Cc(Ic(t,0,2))&&(t.length==2||(A=fr(t,2))==="/"||A==="\\"||A==="?"||A==="#")},Bx=function(t){return t==="."||SI(t)==="%2e"},Pu={},Dy={},Gu={},wy={},Ny={},Fu={},Ty={},by={},NI={},TI={},Ku={},xu={},Yu={},Ju={},vy={},Hu={},Vs={},ro={},My={},Gn={},Oo={},qu=function(t,A,o){var s,c,I,C=Mo(t);if(A){if(c=this.parse(C))throw Mu(c);this.searchParams=null}else{if(o!==void 0&&(s=new qu(o,!0)),c=this.parse(C,null,s))throw Mu(c);(I=Ax(new tx)).bindURL(this),this.searchParams=I}};qu.prototype={type:"URL",parse:function(t,A,o){var s,c,I,C,l,d=this,h=A||Pu,Q=0,_="",S=!1,w=!1,k=!1;for(t=Mo(t),A||(d.scheme="",d.username="",d.password="",d.host=null,d.port=null,d.path=[],d.query=null,d.fragment=null,d.cannotBeABaseURL=!1,t=Ou(t,ux,""),t=Ou(t,dx,"$1")),t=Ou(t,hx,""),s=Hs(t);Q<=s.length;){switch(c=s[Q],h){case Pu:if(!c||!Gr(_y,c)){if(A)return Lu;h=Gu;continue}_+=SI(c),h=Dy;break;case Dy:if(c&&(Gr(cx,c)||c=="+"||c=="-"||c=="."))_+=SI(c);else{if(c!=":"){if(A)return Lu;_="",h=Gu,Q=0;continue}if(A&&(d.isSpecial()!=bu(wI,_)||_=="file"&&(d.includesCredentials()||d.port!==null)||d.scheme=="file"&&!d.host))return;if(d.scheme=_,A)return void(d.isSpecial()&&wI[d.scheme]==d.port&&(d.port=null));_="",d.scheme=="file"?h=Ju:d.isSpecial()&&o&&o.scheme==d.scheme?h=wy:d.isSpecial()?h=by:s[Q+1]=="/"?(h=Ny,Q++):(d.cannotBeABaseURL=!0,qs(d.path,""),h=My)}break;case Gu:if(!o||o.cannotBeABaseURL&&c!="#")return Lu;if(o.cannotBeABaseURL&&c=="#"){d.scheme=o.scheme,d.path=Pr(o.path),d.query=o.query,d.fragment="",d.cannotBeABaseURL=!0,h=Oo;break}h=o.scheme=="file"?Ju:Fu;continue;case wy:if(c!="/"||s[Q+1]!="/"){h=Fu;continue}h=NI,Q++;break;case Ny:if(c=="/"){h=TI;break}h=ro;continue;case Fu:if(d.scheme=o.scheme,c==Br)d.username=o.username,d.password=o.password,d.host=o.host,d.port=o.port,d.path=Pr(o.path),d.query=o.query;else if(c=="/"||c=="\\"&&d.isSpecial())h=Ty;else if(c=="?")d.username=o.username,d.password=o.password,d.host=o.host,d.port=o.port,d.path=Pr(o.path),d.query="",h=Gn;else{if(c!="#"){d.username=o.username,d.password=o.password,d.host=o.host,d.port=o.port,d.path=Pr(o.path),d.path.length--,h=ro;continue}d.username=o.username,d.password=o.password,d.host=o.host,d.port=o.port,d.path=Pr(o.path),d.query=o.query,d.fragment="",h=Oo}break;case Ty:if(!d.isSpecial()||c!="/"&&c!="\\"){if(c!="/"){d.username=o.username,d.password=o.password,d.host=o.host,d.port=o.port,h=ro;continue}h=TI}else h=NI;break;case by:if(h=NI,c!="/"||fr(_,Q+1)!="/")continue;Q++;break;case NI:if(c!="/"&&c!="\\"){h=TI;continue}break;case TI:if(c=="@"){S&&(_="%40"+_),S=!0,I=Hs(_);for(var v=0;v<I.length;v++){var b=I[v];if(b!=":"||k){var P=sn(b,Uu);k?d.password+=P:d.username+=P}else k=!0}_=""}else if(c==Br||c=="/"||c=="?"||c=="#"||c=="\\"&&d.isSpecial()){if(S&&_=="")return"Invalid authority";Q-=Hs(_).length+1,_="",h=Ku}else _+=c;break;case Ku:case xu:if(A&&d.scheme=="file"){h=Hu;continue}if(c!=":"||w){if(c==Br||c=="/"||c=="?"||c=="#"||c=="\\"&&d.isSpecial()){if(d.isSpecial()&&_=="")return Pn;if(A&&_==""&&(d.includesCredentials()||d.port!==null))return;if(C=d.parseHost(_))return C;if(_="",h=Vs,A)return;continue}c=="["?w=!0:c=="]"&&(w=!1),_+=c}else{if(_=="")return Pn;if(C=d.parseHost(_))return C;if(_="",h=Yu,A==xu)return}break;case Yu:if(!Gr(ku,c)){if(c==Br||c=="/"||c=="?"||c=="#"||c=="\\"&&d.isSpecial()||A){if(_!=""){var K=mI(_,10);if(K>65535)return fy;d.port=d.isSpecial()&&K===wI[d.scheme]?null:K,_=""}if(A)return;h=Vs;continue}return fy}_+=c;break;case Ju:if(d.scheme="file",c=="/"||c=="\\")h=vy;else{if(!o||o.scheme!="file"){h=ro;continue}if(c==Br)d.host=o.host,d.path=Pr(o.path),d.query=o.query;else if(c=="?")d.host=o.host,d.path=Pr(o.path),d.query="",h=Gn;else{if(c!="#"){Sy(gc(Pr(s,Q),""))||(d.host=o.host,d.path=Pr(o.path),d.shortenPath()),h=ro;continue}d.host=o.host,d.path=Pr(o.path),d.query=o.query,d.fragment="",h=Oo}}break;case vy:if(c=="/"||c=="\\"){h=Hu;break}o&&o.scheme=="file"&&!Sy(gc(Pr(s,Q),""))&&(Cc(o.path[0],!0)?qs(d.path,o.path[0]):d.host=o.host),h=ro;continue;case Hu:if(c==Br||c=="/"||c=="\\"||c=="?"||c=="#"){if(!A&&Cc(_))h=ro;else if(_==""){if(d.host="",A)return;h=Vs}else{if(C=d.parseHost(_))return C;if(d.host=="localhost"&&(d.host=""),A)return;_="",h=Vs}continue}_+=c;break;case Vs:if(d.isSpecial()){if(h=ro,c!="/"&&c!="\\")continue}else if(A||c!="?")if(A||c!="#"){if(c!=Br&&(h=ro,c!="/"))continue}else d.fragment="",h=Oo;else d.query="",h=Gn;break;case ro:if(c==Br||c=="/"||c=="\\"&&d.isSpecial()||!A&&(c=="?"||c=="#")){if((l=SI(l=_))===".."||l==="%2e."||l===".%2e"||l==="%2e%2e"?(d.shortenPath(),c=="/"||c=="\\"&&d.isSpecial()||qs(d.path,"")):Bx(_)?c=="/"||c=="\\"&&d.isSpecial()||qs(d.path,""):(d.scheme=="file"&&!d.path.length&&Cc(_)&&(d.host&&(d.host=""),_=fr(_,0)+":"),qs(d.path,_)),_="",d.scheme=="file"&&(c==Br||c=="?"||c=="#"))for(;d.path.length>1&&d.path[0]==="";)nx(d.path);c=="?"?(d.query="",h=Gn):c=="#"&&(d.fragment="",h=Oo)}else _+=sn(c,my);break;case My:c=="?"?(d.query="",h=Gn):c=="#"?(d.fragment="",h=Oo):c!=Br&&(d.path[0]+=sn(c,DI));break;case Gn:A||c!="#"?c!=Br&&(c=="'"&&d.isSpecial()?d.query+="%27":d.query+=c=="#"?"%23":sn(c,DI)):(d.fragment="",h=Oo);break;case Oo:c!=Br&&(d.fragment+=sn(c,yy))}Q++}},parseHost:function(t){var A,o,s;if(fr(t,0)=="["){if(fr(t,t.length-1)!="]"||(A=function(c){var I,C,l,d,h,Q,_,S=[0,0,0,0,0,0,0,0],w=0,k=null,v=0,b=function(){return fr(c,v)};if(b()==":"){if(fr(c,1)!=":")return;v+=2,k=++w}for(;b();){if(w==8)return;if(b()!=":"){for(I=C=0;C<4&&Gr(Ry,b());)I=16*I+mI(b(),16),v++,C++;if(b()=="."){if(C==0||(v-=C,w>6))return;for(l=0;b();){if(d=null,l>0){if(!(b()=="."&&l<4))return;v++}if(!Gr(ku,b()))return;for(;Gr(ku,b());){if(h=mI(b(),10),d===null)d=h;else{if(d==0)return;d=10*d+h}if(d>255)return;v++}S[w]=256*S[w]+d,++l!=2&&l!=4||w++}if(l!=4)return;break}if(b()==":"){if(v++,!b())return}else if(b())return;S[w++]=I}else{if(k!==null)return;v++,k=++w}}if(k!==null)for(Q=w-k,w=7;w!=0&&Q>0;)_=S[w],S[w--]=S[k+Q-1],S[k+--Q]=_;else if(w!=8)return;return S}(Ic(t,1,-1)),!A))return Pn;this.host=A}else if(this.isSpecial()){if(t=XK(t),Gr(Cx,t)||(A=function(c){var I,C,l,d,h,Q,_,S=sx(c,".");if(S.length&&S[S.length-1]==""&&S.length--,(I=S.length)>4)return c;for(C=[],l=0;l<I;l++){if((d=S[l])=="")return c;if(h=10,d.length>1&&fr(d,0)=="0"&&(h=Gr(gx,d)?16:8,d=Ic(d,h==8?1:2)),d==="")Q=0;else{if(!Gr(h==10?Ex:h==8?Ix:Ry,d))return c;Q=mI(d,h)}qs(C,Q)}for(l=0;l<I;l++)if(Q=C[l],l==I-1){if(Q>=Qy(256,5-I))return null}else if(Q>255)return null;for(_=ox(C),l=0;l<C.length;l++)_+=C[l]*Qy(256,3-l);return _}(t),A===null))return Pn;this.host=A}else{if(Gr(lx,t))return Pn;for(A="",o=Hs(t),s=0;s<o.length;s++)A+=sn(o[s],DI);this.host=A}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return bu(wI,this.scheme)},shortenPath:function(){var t=this.path,A=t.length;!A||this.scheme=="file"&&A==1&&Cc(t[0],!0)||t.length--},serialize:function(){var t=this,A=t.scheme,o=t.username,s=t.password,c=t.host,I=t.port,C=t.path,l=t.query,d=t.fragment,h=A+":";return c!==null?(h+="//",t.includesCredentials()&&(h+=o+(s?":"+s:"")+"@"),h+=Ec(c),I!==null&&(h+=":"+I)):A=="file"&&(h+="//"),h+=t.cannotBeABaseURL?C[0]:C.length?"/"+gc(C,"/"):"",l!==null&&(h+="?"+l),d!==null&&(h+="#"+d),h},setHref:function(t){var A=this.parse(t);if(A)throw Mu(A);this.searchParams.update()},getOrigin:function(){var t=this.scheme,A=this.port;if(t=="blob")try{return new js(t.path[0]).origin}catch{return"null"}return t!="file"&&this.isSpecial()?t+"://"+Ec(this.host)+(A!==null?":"+A:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(Mo(t)+":",Pu)},getUsername:function(){return this.username},setUsername:function(t){var A=Hs(Mo(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var o=0;o<A.length;o++)this.username+=sn(A[o],Uu)}},getPassword:function(){return this.password},setPassword:function(t){var A=Hs(Mo(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var o=0;o<A.length;o++)this.password+=sn(A[o],Uu)}},getHost:function(){var t=this.host,A=this.port;return t===null?"":A===null?Ec(t):Ec(t)+":"+A},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Ku)},getHostname:function(){var t=this.host;return t===null?"":Ec(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,xu)},getPort:function(){var t=this.port;return t===null?"":Mo(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||((t=Mo(t))==""?this.port=null:this.parse(t,Yu))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+gc(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Vs))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){(t=Mo(t))==""?this.query=null:(fr(t,0)=="?"&&(t=Ic(t,1)),this.query="",this.parse(t,Gn)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){(t=Mo(t))!=""?(fr(t,0)=="#"&&(t=Ic(t,1)),this.fragment="",this.parse(t,Oo)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var js=function(t){var A=$K(this,Mi),o=zK(arguments.length,1)>1?arguments[1]:void 0,s=ex(A,new qu(t,!1,o));Nu||(A.href=s.serialize(),A.origin=s.getOrigin(),A.protocol=s.getProtocol(),A.username=s.getUsername(),A.password=s.getPassword(),A.host=s.getHost(),A.hostname=s.getHostname(),A.port=s.getPort(),A.pathname=s.getPathname(),A.search=s.getSearch(),A.searchParams=s.getSearchParams(),A.hash=s.getHash())},Mi=js.prototype,_r=function(t,A){return{get:function(){return yI(this)[t]()},set:A&&function(o){return yI(this)[A](o)},configurable:!0,enumerable:!0}};if(Nu&&(Qr(Mi,"href",_r("serialize","setHref")),Qr(Mi,"origin",_r("getOrigin")),Qr(Mi,"protocol",_r("getProtocol","setProtocol")),Qr(Mi,"username",_r("getUsername","setUsername")),Qr(Mi,"password",_r("getPassword","setPassword")),Qr(Mi,"host",_r("getHost","setHost")),Qr(Mi,"hostname",_r("getHostname","setHostname")),Qr(Mi,"port",_r("getPort","setPort")),Qr(Mi,"pathname",_r("getPathname","setPathname")),Qr(Mi,"search",_r("getSearch","setSearch")),Qr(Mi,"searchParams",_r("getSearchParams")),Qr(Mi,"hash",_r("getHash","setHash"))),RI(Mi,"toJSON",function(){return yI(this).serialize()},{enumerable:!0}),RI(Mi,"toString",function(){return yI(this).serialize()},{enumerable:!0}),cc){var Oy=cc.createObjectURL,Ly=cc.revokeObjectURL;Oy&&RI(js,"createObjectURL",hy(Oy,cc)),Ly&&RI(js,"revokeObjectURL",hy(Ly,cc))}ZK(js,"URL"),VK({global:!0,forced:!jK,sham:!Nu},{URL:js});var px=Lt,Qx=E,fx=_g,ky=Xi,_x=ml,Uy=$e("URL");px({target:"URL",stat:!0,forced:!(_x&&Qx(function(){Uy.canParse()}))},{canParse:function(t){var A=fx(arguments.length,1),o=ky(t),s=A<2||arguments[1]===void 0?void 0:ky(arguments[1]);try{return!!new Uy(o,s)}catch{return!1}}});var Py=g(Ui.URL);const kA={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1,supportRequestVideoFrameCallback:!1,supportWebCrypto:!1};function Ct(){return kA}function Gy(){return"setSinkId"in HTMLAudioElement.prototype&&(!J("RESTRICTION_SET_PLAYBACK_DEVICE")||(Wo()||iR())&&!Xl())}function Fy(){return!kA.supportUnifiedPlan||J("CHROME_FORCE_PLAN_B")&&Xo()}let UA=function(t){return t.IOS_15_16_INTERRUPTION_START="ios15_16-interruption-start",t.IOS_15_16_INTERRUPTION_END="ios15_16-interruption-end",t.IOS_INTERRUPTION_START="ios-interruption-start",t.IOS_INTERRUPTION_END="ios-interruption-end",t.STATE_CHANGE="state-change",t}({});function $s(t,A,o){return{sampleRate:t,stereo:A,bitrate:o}}function gt(t,A,o,s,c){return{width:t,height:A,frameRate:o,bitrateMin:s,bitrateMax:c}}function Rr(t,A,o,s,c){return{width:{max:t},height:{max:A},frameRate:o,bitrateMin:s,bitrateMax:c}}function Vu(t,A){return{numSpatialLayers:t,numTemporalLayers:A}}const Rx={"90p":gt(160,90),"90p_1":gt(160,90),"120p":gt(160,120,15,30,65),"120p_1":gt(160,120,15,30,65),"120p_3":gt(120,120,15,30,50),"120p_4":gt(212,120),"180p":gt(320,180,15,30,140),"180p_1":gt(320,180,15,30,140),"180p_3":gt(180,180,15,30,100),"180p_4":gt(240,180,15,30,120),"240p":gt(320,240,15,40,200),"240p_1":gt(320,240,15,40,200),"240p_3":gt(240,240,15,40,140),"240p_4":gt(424,240,15,40,220),"360p":gt(640,360,15,80,400),"360p_1":gt(640,360,15,80,400),"360p_3":gt(360,360,15,80,260),"360p_4":gt(640,360,30,80,600),"360p_6":gt(360,360,30,80,400),"360p_7":gt(480,360,15,80,320),"360p_8":gt(480,360,30,80,490),"360p_9":gt(640,360,15,80,800),"360p_10":gt(640,360,24,80,800),"360p_11":gt(640,360,24,80,1e3),"480p":gt(640,480,15,100,500),"480p_1":gt(640,480,15,100,500),"480p_2":gt(640,480,30,100,1e3),"480p_3":gt(480,480,15,100,400),"480p_4":gt(640,480,30,100,750),"480p_6":gt(480,480,30,100,600),"480p_8":gt(848,480,15,100,610),"480p_9":gt(848,480,30,100,930),"480p_10":gt(640,480,10,100,400),"720p":gt(1280,720,15,120,1130),"720p_auto":gt(1280,720,30,900,3e3),"720p_1":gt(1280,720,15,120,1130),"720p_2":gt(1280,720,30,120,2e3),"720p_3":gt(1280,720,30,120,1710),"720p_5":gt(960,720,15,120,910),"720p_6":gt(960,720,30,120,1380),"1080p":gt(1920,1080,15,120,2080),"1080p_1":gt(1920,1080,15,120,2080),"1080p_2":gt(1920,1080,30,120,3e3),"1080p_3":gt(1920,1080,30,120,3150),"1080p_5":gt(1920,1080,60,120,4780),"1440p":gt(2560,1440,30,120,4850),"1440p_1":gt(2560,1440,30,120,4850),"1440p_2":gt(2560,1440,60,120,7350),"4k":gt(3840,2160,30,120,8910),"4k_1":gt(3840,2160,30,120,8910),"4k_3":gt(3840,2160,60,120,13500)},yx={"480p":Rr(640,480,5),"480p_1":Rr(640,480,5),"480p_2":Rr(640,480,30),"480p_3":Rr(640,480,15),"720p":Rr(1280,720,5),"720p_auto":gt(1280,720,30,900,3e3),"720p_1":Rr(1280,720,5),"720p_2":Rr(1280,720,30),"720p_3":Rr(1280,720,15),"1080p":Rr(1920,1080,5),"1080p_1":Rr(1920,1080,5),"1080p_2":Rr(1920,1080,30),"1080p_3":Rr(1920,1080,15)},mx={"1SL1TL":Vu(1,1),"3SL3TL":Vu(3,3),"2SL3TL":Vu(2,3)};function oo(t){return t||(t="480p_1"),typeof t=="string"?Object.assign({},Rx[t]):t}function ju(t){return typeof t=="string"?Object.assign({},yx[t]):t}function bI(t){return typeof t=="string"?Object.assign({},mx[t]):t}const Sx={speech_low_quality:$s(16e3,!1),speech_standard:$s(32e3,!1,18),music_standard:$s(48e3,!1),standard_stereo:$s(48e3,!0,56),high_quality:$s(48e3,!1,128),high_quality_stereo:$s(48e3,!0,192)};function vI(t){return typeof t=="string"?Object.assign({},Sx[t]):t}const Ws=[];function Ky(t){return yA(t,"mediaSource",["screen","window","application"]),!0}let ye=function(t){return t.NEED_RENEGOTIATE="@need_renegotiate",t.NEED_REPLACE_TRACK="@need_replace_track",t.NEED_REPLACE_MIXING_TRACK="@need_replace_mixing_track",t.NEED_CLOSE="@need_close",t.NEED_ENABLE_TRACK="@need_enable_track",t.NEED_DISABLE_TRACK="@need_disable_track",t.NEED_SESSION_ID="@need_sid",t.SET_OPTIMIZATION_MODE="@set_optimization_mode",t.GET_STATS="@get_stats",t.GET_RTC_STATS="@get_rtc_stats",t.GET_LOW_VIDEO_TRACK="@get_low_video_track",t.NEED_RESET_REMOTE_SDP="@need_reset_remote_sdp",t.NEED_UPDATE_VIDEO_ENCODER="@need_update_video_encoder",t.NEED_UPDATE_VIDEO_SEND_PARAMETERS="@need_update_video_send_parameters",t.NEED_MUTE_TRACK="@need_mute_track",t.NEED_UNMUTE_TRACK="@need_unmute_track",t}({}),xt=function(t){return t.SCREEN_TRACK="screen_track",t.CUSTOM_TRACK="custome_track",t.LOW_STREAM="low_stream",t}({}),Xs=function(t){return t[t.HIGH_STREAM=0]="HIGH_STREAM",t[t.LOW_STREAM=1]="LOW_STREAM",t}({}),Dx=function(t){return t[t.HIGH_STREAM=0]="HIGH_STREAM",t[t.LOW_STREAM=1]="LOW_STREAM",t}({}),wx=function(t){return t[t.DISABLE=0]="DISABLE",t[t.LOW_STREAM=1]="LOW_STREAM",t[t.AUDIO_ONLY=2]="AUDIO_ONLY",t}({}),Fn=function(t){return t.TRANSCEIVER_UPDATED="transceiver-updated",t.SEI_TO_SEND="sei-to-send",t.SEI_RECEIVED="sei-received",t.TRACK_UPDATED="track-updated",t}({}),Zs=function(t){return t.SOURCE_STATE_CHANGE="source-state-change",t.TRACK_ENDED="track-ended",t.BEAUTY_EFFECT_OVERLOAD="beauty-effect-overload",t.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",t.CLOSED="closed",t}({}),zs=function(t){return t.FIRST_FRAME_DECODED="first-frame-decoded",t.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",t.VIDEO_STATE_CHANGED="video-state-changed",t}({}),ea=function(t){return t.AUDIO="audio",t.VIDEO="video",t.DATA="data",t}({}),Yi=function(t){return t.AUDIO_SOURCE_STATE_CHANGE="audio_source_state_change",t.RECEIVE_TRACK_BUFFER="receive_track_buffer",t.ON_AUDIO_BUFFER="on_audio_buffer",t.UPDATE_SOURCE="update_source",t}({});(function(t){t.UPDATE_TRACK_SOURCE="update-track-source"})({});const $u={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},Wu={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},xy={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receivePacketsDiscarded:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},Nx={uplinkNetworkQuality:0,downlinkNetworkQuality:0},Yy={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};let li=function(t){return t.ON_TRACK="on_track",t.ON_NODE="on_node",t}({}),Ji=function(t){return t.REQUEST_UPDATE_CONSTRAINTS="request_update_constraints",t.REQUEST_CONSTRAINTS="request_constraints",t}({}),lc=function(t){return t.IDLE="IDLE",t.INITING="INITING",t.INITEND="INITEND",t}({}),Kn=function(t){return t.STATE_CHANGE="state_change",t.RECORDING_DEVICE_CHANGED="recordingDeviceChanged",t.PLAYOUT_DEVICE_CHANGED="playoutDeviceChanged",t.CAMERA_DEVICE_CHANGED="cameraDeviceChanged",t}({}),ii=function(t){return t.NONE="none",t.INIT="init",t.CANPLAY="canplay",t.PLAYING="playing",t.PAUSED="paused",t.SUSPEND="suspend",t.STALLED="stalled",t.WAITING="waiting",t.ERROR="error",t.DESTROYED="destroyed",t.ABORT="abort",t.ENDED="ended",t.EMPTIED="emptied",t.LOADEDDATA="loadeddata",t}({}),no=function(t){return t[t.VideoStateStopped=0]="VideoStateStopped",t[t.VideoStateStarting=1]="VideoStateStarting",t[t.VideoStateDecoding=2]="VideoStateDecoding",t[t.VideoStateFrozen=3]="VideoStateFrozen",t}({});const Xu={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};let MI=function(t){return t.OPEN="open",t.MESSAGE="message",t.CLOSE="close",t.CLOSING="closing",t.ERROR="error",t}({});function It(t,A,o,s,c){var I,C,l={};return Object.keys(s).forEach(function(d){l[d]=s[d]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=Mr(I=EK(C=o.slice()).call(C)).call(I,function(d,h){return h(t,A,d)||d},l),c&&l.initializer!==void 0&&(l.value=l.initializer?l.initializer.call(c):void 0,l.initializer=void 0),l.initializer===void 0&&(Object.defineProperty(t,A,l),l=null),l}function re(t,A,o){return(A=function(s){var c=function(I,C){if(typeof I!="object"||!I)return I;var l=I[Symbol.toPrimitive];if(l!==void 0){var d=l.call(I,"string");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(s);return typeof c=="symbol"?c:c+""}(A))in t?Object.defineProperty(t,A,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[A]=o,t}function Jy(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function Jt(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?Jy(Object(o),!0).forEach(function(s){re(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Jy(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}class Hy extends Xt{set _mediaStreamTrack(A){A!==this.mediaStreamTrack&&(this.safeEmit(Fn.TRACK_UPDATED,A),this.mediaStreamTrack=A)}get _mediaStreamTrack(){return this.mediaStreamTrack}constructor(A,o){super(),re(this,"trackMediaType",void 0),re(this,"_ID",void 0),re(this,"_rtpTransceiver",void 0),re(this,"_lowRtpTransceiver",void 0),re(this,"_hints",[]),re(this,"_isClosed",!1),re(this,"_originMediaStreamTrack",void 0),re(this,"mediaStreamTrack",void 0),re(this,"_external",{}),this._ID=o||kt(8,"track-"),this._originMediaStreamTrack=A,this.mediaStreamTrack=A,function(s){Re(Ws).call(Ws,s)||Ws.push(s)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(A){return A||Zo(()=>{var o;Me.reportApiInvoke(null,{name:fA.GET_MEDIA_STREAM_TRACK,options:[],tag:eA.TRACER}).onSuccess(((o=this._mediaStreamTrack)===null||o===void 0?void 0:o.label)||"")},this.mediaStreamTrack.id||this.getTrackId()),this._mediaStreamTrack}getRTCRtpTransceiver(A){return A===Xs.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(A){const o=Ws.indexOf(A);o!==-1&&Ws.splice(o,1)}(this),this.emit(Zs.CLOSED),this.removeAllListeners(Fn.SEI_RECEIVED)}_updateRtpTransceiver(A,o){if(o===Xs.LOW_STREAM){if(this._lowRtpTransceiver===A)return;this._lowRtpTransceiver=A}else{if(this._rtpTransceiver===A)return;this._rtpTransceiver=A}this.emit(Fn.TRANSCEIVER_UPDATED,A,o)}}class ta extends Hy{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}constructor(A,o){super(A,o),re(this,"_enabled",!0),re(this,"_muted",!1),re(this,"_isExternalTrack",!1),re(this,"_isClosed",!1),re(this,"_enabledMutex",void 0),re(this,"processor",void 0),re(this,"_processorContext",void 0),re(this,"_handleTrackEnded",()=>{this.onTrackEnded()}),this._enabledMutex=new $A("".concat(this.getTrackId())),A.addEventListener("ended",this._handleTrackEnded)}getTrackLabel(){var A,o;return(A=(o=this._originMediaStreamTrack)===null||o===void 0?void 0:o.label)!==null&&A!==void 0?A:""}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,N.debug("[".concat(this.getTrackId(),"] close")),this.emit(ye.NEED_CLOSE),super.close())}async _updateOriginMediaStreamTrack(A,o){let s=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this._isExternalTrack=s,A!==this._originMediaStreamTrack&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),o&&this._originMediaStreamTrack.stop()),A.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=A,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await Mt(this,ye.NEED_REPLACE_TRACK,this),this.processor&&this._processorContext&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this._processorContext}))}_getDefaultPlayerConfig(){return{}}onTrackEnded(){N.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(Zs.TRACK_ENDED)}stateCheck(A,o){if(N.debug("check track state, [muted: ".concat(this._muted,", enabled: ").concat(this._enabled,"] to [").concat(A,": ").concat(o,"]")),Do(o,A),this._enabled&&this._muted&&A==="enabled"&&o===!1)throw new Ae(G.TRACK_STATE_UNREACHABLE,"cannot set enabled while the track is muted").print("error",N);if(!this._enabled&&!this._muted&&A==="muted"&&o===!0)throw new Ae(G.TRACK_STATE_UNREACHABLE,"cannot set muted while the track is disabled").print("error",N)}getProcessorStats(){return this._processorContext&&this._processorContext.gatherStats()||[]}getProcessorUsage(){return this._processorContext?this._processorContext.gatherUsage():pe.resolve([])}}const qy=window.AudioContext||window.webkitAudioContext;let Hi=null;const Nt=new class extends Xt{constructor(){super(...arguments),re(this,"prevState",void 0),re(this,"curState",void 0),re(this,"currentTime",void 0),re(this,"currentTimeStuckAt",void 0),re(this,"interruptDetectorTrack",void 0),re(this,"onLocalAudioTrackMute",()=>{N.info("ios15-interruption-start"),this.emit(UA.IOS_15_16_INTERRUPTION_START)}),re(this,"onLocalAudioTrackUnmute",async()=>{N.info("ios15-interruption-end"),this.curState!=="running"||this.duringInterruption?N.info("ios15-interruption-end-canceled"):(Hi&&await Hi.suspend(),this.emit(UA.IOS_15_16_INTERRUPTION_END))})}get duringInterruption(){return this.prevState==="running"&&this.curState==="interrupted"}bindInterruptDetectorTrack(t){N.debug("webaudio bindInterruptDetectorTrack ".concat(t.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=t,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(t){N.debug("webaudio unbindInterruptDetectorTrack ".concat(t.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===t&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function Aa(){if(!Hi){if(function(){if(!qy)return void N.error("your browser is not support web audio");N.info("create audio context");const t=Jt({},J("WEBAUDIO_INIT_OPTIONS"));N.debug("audio context init option:",JSON.stringify(t)),Hi=new qy(t),Nt.curState=Hi.state,Hi.onstatechange=()=>{Nt.prevState=Nt.curState,Nt.curState=Hi?Hi.state:void 0;const{prevState:A,curState:o}=Nt,s=o==="running",c=o==="interrupted",I=A==="running",C=A==="suspended",l=A==="interrupted",d=Et().osVersion;(gi()||lr())&&I&&c&&(N.info("ios".concat(d,"-interruption-start")),Nt.emit(UA.IOS_INTERRUPTION_START)),(gi()||lr())&&(C||l)&&s&&(N.info("ios".concat(d,"-interruption-end")),Nt.emit(UA.IOS_INTERRUPTION_END)),A!==o&&Nt.emit(UA.STATE_CHANGE,o,A)},setInterval(()=>{var A;const o=(A=Hi)===null||A===void 0?void 0:A.currentTime;Nt.currentTime!==o?(Nt.currentTimeStuckAt&&(N.debug("AudioContext current time resume at ".concat(o)),Nt.currentTimeStuckAt=void 0),Nt.currentTime=o):(o!==Nt.currentTimeStuckAt&&(Me.reportApiInvoke(null,{name:"WEB_AUDIO_CURRENT_TIME_STUCK",options:{currentTime:o},tag:eA.TRACER}).onSuccess(),N.warning("AudioContext current time stuck at ".concat(o))),Nt.currentTimeStuckAt=o)},5e3),async function(A){const o=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"];let s,c=!1,I=!1,C=!1;function l(v){A.state==="running"?d(!1):gi()||lr()?A.state==="suspended"&&(d(!0),v&&A.resume().then(h,h)):A.state!=="closed"&&(d(!0),v&&A.resume().then(h,h))}function d(v){if(c!==v){c=v;for(let b=0,P=o;b<P.length;b+=1){const K=P[b];v?window.addEventListener(K,Q,{capture:!0,passive:!0}):window.removeEventListener(K,Q,{capture:!0,passive:!0})}}}function h(){l(!1)}function Q(){l(!0)}function _(v){if(!C)if(s.paused)if(v){let b;S(!1),C=!0;try{b=s.play(),b?b.then(w,w):(s.addEventListener("playing",w),s.addEventListener("abort",w),s.addEventListener("error",w))}catch{w()}}else S(!0);else S(!1)}function S(v){if(I!==v){I=v;for(let b=0,P=o;b<P.length;b++){const K=P[b];v?window.addEventListener(K,k,{capture:!0,passive:!0}):window.removeEventListener(K,k,{capture:!0,passive:!0})}}}function w(){s.removeEventListener("playing",w),s.removeEventListener("abort",w),s.removeEventListener("error",w),C=!1,_(!1)}function k(){_(!0)}if(gi()){const v=A.createMediaStreamDestination(),b=document.createElement("div");b.innerHTML="<audio x-webkit-airplay='deny'></audio>",s=b.children.item(0),s.controls=!1,s.disableRemotePlayback=!0,s.preload="auto",s.srcObject=v.stream,_(!0)}Nt.on(UA.STATE_CHANGE,function(){l(!0)}),l(!1)}(Hi)}(),!Hi)throw new Ae(G.NOT_SUPPORTED,"can not create audio context");return Hi}return Hi}function xn(t){if(function(){if(Zu!==null)return Zu;const s=Aa(),c=s.createBufferSource(),I=s.createGain(),C=s.createGain();c.connect(I),c.connect(C),c.disconnect(I);let l=!1;try{c.disconnect(I)}catch{l=!0}return c.disconnect(),Zu=l,l}())return;const A=t.connect,o=t.disconnect;t.connect=(s,c,I)=>{var C;return t._inputNodes||(t._inputNodes=[]),Re(C=t._inputNodes).call(C,s)||(s instanceof AudioNode?(t._inputNodes.push(s),A.call(t,s,c,I)):A.call(t,s,c)),t},t.disconnect=(s,c,I)=>{o.call(t),s?cI(t._inputNodes,s):t._inputNodes=[];for(const C of t._inputNodes)A.call(t,C)}}let Zu=null;function zu(t,A){let o=!1;const s=1/A;if(J("DISABLE_WEBAUDIO")){const c=window.setInterval(()=>{o?window.clearInterval(c):t(performance.now()/1e3)},1e3*s)}else{const c=Aa();let I=c.createGain();I.gain.value=0,I.connect(c.destination);const C=()=>{if(o)return void(I=null);const l=c.createOscillator();l.onended=C,l.connect(I),l.start(0),l.stop(c.currentTime+s),t(c.currentTime)};C()}return()=>{o=!0}}class Vy{constructor(){re(this,"context",void 0),re(this,"analyserNode",void 0),re(this,"sourceNode",void 0),this.context=Aa(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(A){if(A!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch{}this.sourceNode=A,A==null||A.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode||(!this.context||gi()||lr()||this.context.state!=="running"&&this.context.resume(),!this.analyserNode))return 0;const A=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(A);else{const s=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(s);for(let c=0;c<A.length;++c)A[c]=s[c]/128-1}const o=Mr(A).call(A,(s,c)=>s+c*c,0)/A.length;return Math.max(10*Math.log10(o)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var A,o;(A=this.sourceNode)===null||A===void 0||A.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,(o=this.sourceNode)===null||o===void 0||o.connect(this.analyserNode)}catch{N.warning("rebuild analyser node failed.")}}destroy(){this.updateSource(void 0)}}class jy extends Xt{get processSourceNode(){return this.sourceNode}set processedNode(A){var o;if(!this.isDestroyed&&this._processedNode!==A){try{var s;(s=this.sourceNode)===null||s===void 0||s.disconnect(this.outputNode)}catch{}(o=this._processedNode)===null||o===void 0||o.disconnect(),this._processedNode=A,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),re(this,"outputNode",void 0),re(this,"outputTrack",void 0),re(this,"isPlayed",!1),re(this,"sourceNode",void 0),re(this,"context",void 0),re(this,"audioBufferNode",void 0),re(this,"destNode",void 0),re(this,"audioOutputLevel",0),re(this,"volumeLevelAnalyser",void 0),re(this,"_processedNode",void 0),re(this,"playNode",void 0),re(this,"isDestroyed",!1),re(this,"onNoAudioInput",void 0),re(this,"isNoAudioInput",!1),re(this,"_noAudioInputCount",0),this.context=Aa(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),xn(this.outputNode),this.volumeLevelAnalyser=new Vy}startGetAudioBuffer(A){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(A),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=o=>{this.emit(Yi.ON_AUDIO_BUFFER,function(s){for(let c=0;c<s.outputBuffer.numberOfChannels;c+=1){const I=s.outputBuffer.getChannelData(c);for(let C=0;C<I.length;C+=1)I[C]=0}return s.inputBuffer}(o))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!Ct().webAudioMediaStreamDest)throw new Ae(G.NOT_SUPPORTED,"your browser is not support audio processor");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(A){this.context.state!=="running"&&gI(()=>{Nt.emit("autoplay-failed")}),this.isPlayed=!0,this.playNode=A||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch{}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(A>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;gi()||lr()?this.context.state==="suspended"&&this.context.resume():this.context.state!=="running"&&this.context.resume();const o=this.volumeLevelAnalyser.getAnalyserNode();let s;o.getFloatTimeDomainData?(s=new Float32Array(o.fftSize),o.getFloatTimeDomainData(s)):(s=new Uint8Array(o.fftSize),o.getByteTimeDomainData(s));let c=!1;for(let I=0;I<s.length;I++)s[I]!==0&&(c=!0);return c?(this.isNoAudioInput=!1,!0):(await OA(200),await this.checkHasAudioInput(A?A+1:1)&&c)}getAudioVolume(){return this.outputNode.gain.value}setVolume(A){this.outputNode.gain.setValueAtTime(A,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}disconnect(){var A,o;(A=this.processedNode)===null||A===void 0||A.disconnect(),(o=this.sourceNode)===null||o===void 0||o.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var A;this.processedNode?(A=this.processedNode)===null||A===void 0||A.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode)}}class $y extends jy{get isFreeze(){return!1}constructor(A,o,s){var c;if(super(),re(this,"sourceNode",void 0),re(this,"track",void 0),re(this,"clonedTrack",void 0),re(this,"audioElement",void 0),re(this,"isCurrentTrackCloned",!1),re(this,"isRemoteTrack",!1),re(this,"originVolumeLevelAnalyser",void 0),re(this,"rebuildWebAudio",async()=>{if(N.debug("ready to rebuild web audio, state:",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener("click",this.rebuildWebAudio,!0),void N.debug("rebuild web audio success, current volume status",this.getAccurateVolumeLevel());this.context.resume().then(()=>N.info("resume success")),N.debug("rebuild web audio because of ios 12 bugs"),this.disconnect();const l=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?l.stop():this.isCurrentTrackCloned=!0;const d=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(d),xn(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();const h=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(h,this.context.currentTime),xn(this.outputNode),this.emit(Yi.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=d,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()}),A.kind!=="audio")throw new Ae(G.UNEXPECTED_ERROR);this.track=A;const I=new MediaStream([this.track]);if(this.isRemoteTrack=!!o,this.sourceNode=this.context.createMediaStreamSource(I),xn(this.sourceNode),s){const l=s.clone();l.enabled=!0,this.clonedTrack=l,N.debug("create an unmuted track ".concat(l.id," from the original track ").concat(s.id," to get the volume"));const d=this.context.createMediaStreamSource(new MediaStream([l]));xn(d),this.originVolumeLevelAnalyser=new Vy,this.originVolumeLevelAnalyser.updateSource(d)}this.connect(),this.audioElement=document.createElement("audio"),this.audioElement.srcObject=I;const C=Et();o&&C.os===wA.IOS&&Number((c=C.osVersion)===null||c===void 0?void 0:c.split(".")[0])<15&&(Nt.on(UA.STATE_CHANGE,()=>{this.context.state==="suspended"?document.body.addEventListener("click",this.rebuildWebAudio,!0):this.context.state==="running"&&this.rebuildWebAudio()}),this.checkHasAudioInput().then(l=>{l||document.body.addEventListener("click",this.rebuildWebAudio,!0)}))}updateTrack(A){this.sourceNode.disconnect(),this.track=A,this.isCurrentTrackCloned=!1;const o=new MediaStream([A]);this.sourceNode=this.context.createMediaStreamSource(o),xn(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(Yi.UPDATE_SOURCE),this.audioElement.srcObject=o}destroy(){var A;this.audioElement.srcObject=null,this.audioElement.remove(),Nt.off("state-change",this.rebuildWebAudio),(A=this.originVolumeLevelAnalyser)===null||A===void 0||A.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(A){return this.context.createMediaStreamSource(new MediaStream([A]))}updateOriginTrack(A){const o=A.clone();o.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=o),N.debug("create an unmuted track ".concat(o.id," from the original track ").concat(A.id," to get the volume"));const s=this.context.createMediaStreamSource(new MediaStream([o]));xn(s),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(s)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function Wy(t,A,o){const s=(I,C)=>I?typeof I!="number"?I.max||I.exact||I.ideal||I.min||C:I:C,c={audio:!!o&&{mandatory:{chromeMediaSource:"desktop"}},video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxHeight:s(A.height,1080),maxWidth:s(A.width,1920)}}};return A.frameRate&&typeof A.frameRate!="number"?(c.video.mandatory.maxFrameRate=A.frameRate.max,c.video.mandatory.minFrameRate=A.frameRate.min):typeof A.frameRate=="number"&&(c.video.mandatory.maxFrameRate=A.frameRate),await navigator.mediaDevices.getUserMedia(c)}async function Tx(t,A){const o=await Xy(t.mediaSource),{sourceId:s,audio:c}=await function(I){let C=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new pe((l,d)=>{const h=document.createElement("div");h.innerText="share screen",h.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");const Q=document.createElement("div");Q.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");const _=document.createElement("div");_.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",_.setAttribute("style","height: 12%;");const S=document.createElement("div");S.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");const w=document.createElement("div");w.setAttribute("style","display: flex; justify-content: space-between; padding: 16px 0;");const k=document.createElement("button");k.innerHTML="cancel",k.setAttribute("style","width: 85px;"),k.onclick=()=>{document.body.removeChild(P);const K=new Error("NotAllowedError");K.name="NotAllowedError",d(K)};let v=C;const b=document.createElement("div");if(C){const K=document.createElement("input");K.setAttribute("type","checkbox");const W=document.createElement("span");K.setAttribute("style","margin-right: 6px;"),W.innerText="Share audio",K.checked=v,K.onchange=()=>{v=K.checked},b.appendChild(K),b.appendChild(W)}w.appendChild(b),w.appendChild(k),Q.appendChild(_),Q.appendChild(S),Q.appendChild(w);const P=document.createElement("div");P.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),P.appendChild(h),P.appendChild(Q),document.body.appendChild(P),I.map(K=>{if(K.id){const W=document.createElement("div");W.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");let X=K.thumbnail;try{const{width:Z}=X.getSize();Z>1920&&(X=X.resize({width:1920}))}catch(Z){throw Z&&Z.message.startsWith("Illegal invocation")&&console.error("Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)"),Z}W.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+X.toDataURL()+' /></div><span style="	height: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+K.name.replace(/[\u00A0-\u9999<>\&]/g,function(Z){return"&#"+Z.charCodeAt(0)+";"})+"</span>",W.onclick=()=>{document.body.removeChild(P),l({sourceId:K.id,audio:v})},S.appendChild(W)}})})}(o,A);return await Wy(s,t,c)}async function Xy(t){let A=["window","screen"];t!=="application"&&t!=="window"||(A=["window"]),t==="screen"&&(A=["screen"]);const o=BR();if(!o)throw console.error("failed to fetch electron, please mount it to window"),new Ae(G.ELECTRON_IS_NULL);let s=null;try{var c;s=((c=o.desktopCapturer)===null||c===void 0?void 0:c.getSources({types:A}))||o.ipcRenderer.invoke("DESKTOP_CAPTURER_GET_SOURCES",{types:A})}catch{s=null}s&&s.then||(s=new pe((I,C)=>{o.desktopCapturer.getSources({types:A},(l,d)=>{l?C(l):I(d)})}));try{return await s}catch(I){throw new Ae(G.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,I.toString())}}const ed=new $A("safari");let Zy=!1,zy=!1;async function qi(t,A){let o=0,s=null;for(;o<2;)try{s=await bx(t,A,o>0);break}catch(c){if(c instanceof Ae)throw N.error("[".concat(A,"] ").concat(c.toString())),c;const I=OI(c.name||c.code||c,c.message);if(I.code===G.MEDIA_OPTION_INVALID){N.debug("[".concat(A,"] detect media option invalid, retry")),o+=1,await OA(500);continue}throw N.error("[".concat(A,"] ").concat(I.toString())),I}if(!s)throw new Ae(G.UNEXPECTED_ERROR,"can not find stream after getUserMedia");return s}async function bx(t,A,o){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Ae(G.NOT_SUPPORTED,"can not find getUserMedia");o&&(t.video&&(delete t.video.width,delete t.video.height),t.screen&&(delete t.screen.width,delete t.screen.height));const s=Ct(),c=new MediaStream;if(t.audioSource&&c.addTrack(t.audioSource),t.videoSource&&c.addTrack(t.videoSource),!t.audio&&!t.video&&!t.screen)return N.debug("Using Video Source/ Audio Source"),c;if(t.screen)if(BR())t.screen.sourceId?ia(c,await Wy(t.screen.sourceId,t.screen,t.screenAudio)):ia(c,await Tx(t.screen,t.screenAudio));else if(Wo()&&t.screen.extensionId&&t.screen.mandatory){if(!s.getStreamFromExtension)throw new Ae(G.NOT_SUPPORTED,"This browser does not support screen sharing");N.debug("[".concat(A,'] Screen access on chrome stable, looking for extension"'));const S=await(C=t.screen.extensionId,l=A,new pe((w,k)=>{try{chrome.runtime.sendMessage(C,{getStream:!0},v=>{if(!v||!v.streamId)return N.error("[".concat(l,"] No response from Chrome Plugin. Plugin not installed properly"),v),void k(new Ae(G.CHROME_PLUGIN_NO_RESPONSE,"No response from Chrome Plugin. Plugin not installed properly"));w(v.streamId)})}catch(v){N.error("[".concat(l,"] AgoraRTC screensharing plugin is not accessible(").concat(C,")"),v.toString()),k(new Ae(G.CHROME_PLUGIN_NOT_INSTALL))}}));t.screen.mandatory.chromeMediaSourceId=S,ia(c,await navigator.mediaDevices.getUserMedia({video:{mandatory:t.screen.mandatory}}))}else if(s.getDisplayMedia){var I;t.screen.mediaSource&&Ky(t.screen.mediaSource);const S={width:t.screen.width,height:t.screen.height,frameRate:t.screen.frameRate,displaySurface:(I=t.screen.displaySurface)!==null&&I!==void 0?I:t.screen.mediaSource==="screen"?"monitor":t.screen.mediaSource},{selfBrowserSurface:w,surfaceSwitching:k,systemAudio:v}=t.screen,b={selfBrowserSurface:w,surfaceSwitching:k,systemAudio:v};!w&&delete b.selfBrowserSurface,!k&&delete b.surfaceSwitching,!v&&delete b.systemAudio,N.debug("[".concat(A,"] getDisplayMedia:"),JSON.stringify({video:S,audio:!!t.screenAudio,controls:b})),ia(c,await navigator.mediaDevices.getDisplayMedia(Jt({video:S,audio:!!t.screenAudio},b)))}else{if(!zt())throw N.error("[".concat(A,"] This browser does not support screenSharing")),new Ae(G.NOT_SUPPORTED,"This browser does not support screen sharing");{t.screen.mediaSource&&Ky(t.screen.mediaSource);const S={video:{mediaSource:t.screen.mediaSource,width:t.screen.width,height:t.screen.height,frameRate:t.screen.frameRate}};N.debug("[".concat(A,"] getUserMedia: ").concat(JSON.stringify(S))),ia(c,await navigator.mediaDevices.getUserMedia(S))}}var C,l;if(!t.video&&!t.audio)return c;let d={video:t.video,audio:t.audio},h=J("MEDIA_DEVICE_CONSTRAINTS");if(h)try{typeof h=="string"&&(h=JSON.parse(h)),d=Au(d,h)}catch{}N.debug("[".concat(A,"] GetUserMedia"),JSON.stringify(d)),Et();let Q,_=null;(KA()||gi()||nI())&&(_=await ed.lock());try{Q=await navigator.mediaDevices.getUserMedia(d)}catch(S){throw _&&_(),S}return d.audio&&(Zy=!0),d.video&&(zy=!0),ia(c,Q),_&&_(),c}function OI(t,A){switch(t){case"Starting video failed":case"OverconstrainedError":case"TrackStartError":return new Ae(G.MEDIA_OPTION_INVALID,"".concat(t,": ").concat(A));case"NotFoundError":case"DevicesNotFoundError":return new Ae(G.DEVICE_NOT_FOUND,"".concat(t,": ").concat(A));case"NotSupportedError":return new Ae(G.NOT_SUPPORTED,"".concat(t,": ").concat(A));case"NotReadableError":return new Ae(G.NOT_READABLE,"".concat(t,": ").concat(A));case"InvalidStateError":case"NotAllowedError":case"PERMISSION_DENIED":case"PermissionDeniedError":return new Ae(G.PERMISSION_DENIED,"".concat(t,": ").concat(A));case"ConstraintNotSatisfiedError":return new Ae(G.CONSTRAINT_NOT_SATISFIED,"".concat(t,": ").concat(A));default:return N.error("getUserMedia unexpected error",t),new Ae(G.UNEXPECTED_ERROR,"".concat(t,": ").concat(A))}}function ia(t,A){const o=t.getVideoTracks()[0],s=t.getAudioTracks()[0],c=A.getVideoTracks()[0],I=A.getAudioTracks()[0];I&&(s&&t.removeTrack(s),t.addTrack(I)),c&&(o&&t.removeTrack(o),t.addTrack(c))}const Vi=new class extends Xt{get state(){return this._state}set state(t){t!==this._state&&(this.emit(Kn.STATE_CHANGE,t),this._state=t)}constructor(){super(),re(this,"_state",lc.IDLE),re(this,"isAccessMicrophonePermission",!1),re(this,"isAccessCameraPermission",!1),re(this,"lastAccessMicrophonePermission",!1),re(this,"lastAccessCameraPermission",!1),re(this,"checkdeviceMatched",!1),re(this,"deviceInfoMap",new Map),this.init().then(()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",this.updateDevicesInfo.bind(this)),window.setInterval(()=>{(J("ENUMERATE_DEVICES_INTERVAL")||(sI()||oI()===wA.HARMONY_OS)&&Xo())&&this.updateDevicesInfo()},J("ENUMERATE_DEVICES_INTERVAL_TIME"))}).catch(t=>N.error(t.toString()))}async enumerateDevices(t,A){let o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return new Ae(G.NOT_SUPPORTED,"enumerateDevices() not supported.").throw();const s=await navigator.mediaDevices.enumerateDevices(),c=this.checkMediaDeviceInfoIsOk(s);let I=!this.isAccessMicrophonePermission&&t,C=!this.isAccessCameraPermission&&A;c.audio&&(I=!1),c.video&&(C=!1);let l=null,d=null,h=null;if(!o&&(I||C)){if(ed.isLocked&&(N.debug("[device manager] wait GUM lock"),(await ed.lock())(),N.debug("[device manager] GUM unlock")),Zy&&(I=!1,this.isAccessMicrophonePermission=!0),zy&&(C=!1,this.isAccessCameraPermission=!0),N.debug("[device manager] check media device permissions",t,A,I,C),I&&C){try{h=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(Q){const _=OI(Q.name||Q.code||Q,Q.message);if(_.code===G.PERMISSION_DENIED)throw _;N.warning("getUserMedia failed in getDevices",_)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(I){try{l=await navigator.mediaDevices.getUserMedia({audio:t})}catch(Q){const _=OI(Q.name||Q.code||Q,Q.message);if(_.code===G.PERMISSION_DENIED)throw _;N.warning("getUserMedia failed in getDevices",_)}this.isAccessMicrophonePermission=!0}else if(C){try{d=await navigator.mediaDevices.getUserMedia({video:A})}catch(Q){const _=OI(Q.name||Q.code||Q,Q.message);if(_.code===G.PERMISSION_DENIED)throw _;N.warning("getUserMedia failed in getDevices",_)}this.isAccessCameraPermission=!0}N.debug("[device manager] mic permission",t,"cam permission",A)}try{const Q=await navigator.mediaDevices.enumerateDevices();return l&&l.getTracks().forEach(_=>_.stop()),d&&d.getTracks().forEach(_=>_.stop()),h&&h.getTracks().forEach(_=>_.stop()),l=null,d=null,h=null,Q}catch(Q){return l&&l.getTracks().forEach(_=>_.stop()),d&&d.getTracks().forEach(_=>_.stop()),h&&h.getTracks().forEach(_=>_.stop()),l=null,d=null,h=null,new Ae(G.ENUMERATE_DEVICES_FAILED,Q.toString()).throw()}}async getRecordingDevices(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(await this.enumerateDevices(!0,!1,t)).filter(A=>A.kind==="audioinput")}async getCamerasDevices(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(await this.enumerateDevices(!1,!0,t)).filter(A=>A.kind==="videoinput")}async getSpeakers(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(await this.enumerateDevices(!0,!1,t)).filter(A=>A.kind==="audiooutput")}searchDeviceIdByName(t){let A=null;return this.deviceInfoMap.forEach(o=>{o.device.label===t&&(A=o.device.deviceId)}),A}async getDeviceById(t){const A=(await this.enumerateDevices(!0,!0,!0)).find(o=>o.deviceId===t);if(!A)throw new Ae(G.DEVICE_NOT_FOUND,"deviceId: ".concat(t));return A}async init(){this.state=lc.INITING;try{await this.updateDevicesInfo(),this.state=lc.INITEND}catch(t){throw N.warning("Device Detection functionality cannot start properly.",t.toString()),this.state=lc.IDLE,(typeof isSecureContext=="boolean"?isSecureContext:location.protocol==="https:"||location.protocol==="file:"||location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="::1")||new Ae(G.WEB_SECURITY_RESTRICT,"Your context is limited by web security, please try using https protocol or localhost.").throw(),t}}async updateDevicesInfo(){const t=await this.enumerateDevices(!0,!0,!0),A=Date.now(),o=[];if(t[0]&&t[0].label&&this.checkdeviceMatched===!1){this.checkdeviceMatched=!0;const c=t.find(C=>C.kind==="audioinput"&&C.deviceId==="default"),I=t.find(C=>C.kind==="audiooutput"&&C.deviceId==="default");c&&I?I.groupId===c.groupId?N.debug("[device-check] default input ".concat(c.label," and output ").concat(I.label," is the same group")):N.warning("[device-check] default input ".concat(c.label," and output ").concat(I.label," is not the same group")):N.debug("[device-check] default input or output not found")}const s=this.checkMediaDeviceInfoIsOk(t);if(t.forEach(c=>{if(!c.deviceId)return;const I=this.deviceInfoMap.get("".concat(c.kind,"_").concat(c.deviceId));if((I?I.state:"INACTIVE")!=="ACTIVE"){const C={initAt:A,updateAt:A,device:c,state:"ACTIVE"};this.deviceInfoMap.set("".concat(c.kind,"_").concat(c.deviceId),C),o.push(C)}I&&(I.updateAt=A)}),this.deviceInfoMap.forEach((c,I)=>{c.state==="ACTIVE"&&c.updateAt!==A&&(c.state="INACTIVE",o.push(c))}),this.state!==lc.INITEND)return s.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(s.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));o.forEach(c=>{switch(c.device.kind){case"audioinput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(Kn.RECORDING_DEVICE_CHANGED,c);break;case"videoinput":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(Kn.CAMERA_DEVICE_CHANGED,c);break;case"audiooutput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(Kn.PLAYOUT_DEVICE_CHANGED,c)}}),s.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),s.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(t){const A=t.filter(c=>c.kind==="audioinput"),o=t.filter(c=>c.kind==="videoinput"),s={audio:!1,video:!1};for(const c of A)if(c.label&&c.deviceId){s.audio=!0;break}for(const c of o)if(c.label&&c.deviceId){s.video=!0;break}return s}};let td=!1;const ji=new class extends Xt{constructor(){super(...arguments),re(this,"onAutoplayFailed",void 0),re(this,"onAudioAutoplayFailed",void 0)}};function em(){if(Et(),!td){const t=A=>{A.preventDefault(),td=!1,za()?document.body.removeEventListener("click",t,!0):(document.body.removeEventListener("touchstart",t,!0),document.body.removeEventListener("mousedown",t,!0))};td=!0,za()?document.body.addEventListener("click",t,!0):(document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0)),N.info("detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web"),ji.onAutoplayFailed?ji.onAutoplayFailed():ji.onAudioAutoplayFailed?N.warning(`AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.

  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .`):N.warning(`We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.

  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.

  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .`),ji.emit("autoplay-failed")}}function tm(t,A,o,s){if(!t)return;const c=Me.getBaseInfoBySessionId(t);if(!c)return;const I=c.info,C=Date.now(),l=Jt(Jt({},I),{},{vid:I.vid===void 0?0:Number(I.vid),lts:C,elapse:C-c.startTime,cbRegistered:ji.onAutoplayFailed||ji.onAudioAutoplayFailed?1:-1,errorMsg:o,mediaType:A,trackId:s,extend:void 0});Me.send({type:Zt.AUTOPLAY_FAILED,data:l},!0)}const vx=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","error"],hi=new class{constructor(){re(this,"onAutoplayFailed",void 0),re(this,"elementMap",new Map),re(this,"elementStateMap",new Map),re(this,"elementsNeedToResume",[]),re(this,"sinkIdMap",new Map),re(this,"autoResumeAfterInterruption",t=>{Array.from(this.elementMap.entries()).forEach(A=>{let[o,s]=A;const c=this.elementStateMap.get(o),I=s.srcObject.getAudioTracks()[0],C=I&&I.readyState;if(N.debug("resume after interrupted, ele: ".concat(c," audio: ").concat(C," ").concat(t)),C==="live"){if(t)return s.pause(),void s.play();if(Nt.curState==="running")return vs()?(s.pause(),void s.play()):void(c&&c==="paused"&&s.play())}})}),re(this,"autoResumeAfterInterruptionOnIOS15_16",()=>{Array.from(this.elementMap.entries()).forEach(t=>{let[A,o]=t;const s=o.srcObject.getAudioTracks()[0];s&&s.readyState==="live"&&(N.debug("auto resume after interruption inside autoResumeAfterInterruptionOnIOS15"),o.pause(),o.play())})}),this.autoResumeAudioElement(),Nt.on(UA.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),Nt.on(UA.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),Nt.on(UA.STATE_CHANGE,()=>{gi()&&Nt.prevState==="suspended"&&Nt.curState==="running"&&this.autoResumeAfterInterruption()})}async setSinkID(t,A){const o=this.elementMap.get(t);if(this.sinkIdMap.set(t,A),o)try{await o.setSinkId(A)}catch(s){throw new Ae(G.PERMISSION_DENIED,"can not set sink id: "+s.toString())}}play(t,A,o,s){if(this.elementMap.has(A))return;const c=document.createElement("audio");c.autoplay=!0,c.srcObject=new MediaStream([t]),this.bindAudioElementEvents(A,c),this.elementMap.set(A,c),this.elementStateMap.set(A,ii.INIT),this.setVolume(A,o);const I=this.sinkIdMap.get(A);if(I)try{c.setSinkId(I).catch(l=>{N.warning("[".concat(A,"] set sink id failed"),l.toString())})}catch(l){N.warning("[".concat(A,"] set sink id failed"),l.toString())}const C=c.play();C&&C.then&&C.catch(l=>{s&&tm(s,"audio",l.message,A),N.warning("audio element play warning",l.toString()),this.elementMap.has(A)&&l.name==="NotAllowedError"&&(N.warning("detected audio element autoplay failed"),this.elementsNeedToResume.push(c),gI(()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),em()}))})}updateTrack(t,A){const o=this.elementMap.get(t);o&&(o.srcObject=new MediaStream([A]))}isPlaying(t){return this.elementMap.has(t)&&this.elementStateMap.get(t)==="playing"}setVolume(t,A){const o=this.elementMap.get(t);o&&(A=Math.max(0,Math.min(100,A)),o.volume=A/100)}stop(t){const A=this.elementMap.get(t);if(this.sinkIdMap.delete(t),!A)return;const o=this.elementsNeedToResume.indexOf(A);this.elementsNeedToResume.splice(o,1),A.srcObject=null,A.remove(),this.elementMap.delete(t),this.elementStateMap.delete(t)}bindAudioElementEvents(t,A){vx.forEach(o=>{A.addEventListener(o,s=>{const c=this.elementStateMap.get(t),I=s.type==="pause"?"paused":s.type;if(N.debug("[".concat(t,"] audio-element-status change ").concat(c," => ").concat(I)),s.type==="error"){const C=A==null?void 0:A.error;C&&N.error("[".concat(t,"] media error, code: ").concat(C.code,", message: ").concat(C.message))}this.elementStateMap.set(t,I)})})}getPlayerState(t){return this.elementStateMap.get(t)||"uninit"}autoResumeAudioElement(){const t=()=>{this.elementsNeedToResume.forEach(A=>{A.play().then(o=>{N.debug("Auto resume audio element success")}).catch(o=>{N.warning("Auto resume audio element failed!",o)})}),this.elementsNeedToResume=[]};new pe(A=>{document.body?A():window.addEventListener("load",()=>A())}).then(()=>{za()?document.body.addEventListener("click",t,!0):(document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0))})}};function sA(){return function(t,A,o){const s=o.value;return typeof s=="function"&&(o.value=function(){this._isClosed&&new Ae(G.INVALID_OPERATION,"[".concat(this.getTrackId(),"] cannot operate a closed track")).print("warning",N);for(var c=arguments.length,I=new Array(c),C=0;C<c;C++)I[C]=arguments[C];const l=s.apply(this,I);return l instanceof pe?new pe((d,h)=>{l.then(d).catch(h)}):l}),o}}class Am extends Xt{constructor(A){super(),re(this,"name","VideoProcessorDestination"),re(this,"ID","0"),re(this,"_source",void 0),re(this,"videoContext",void 0),re(this,"inputTrack",void 0),this.videoContext=A}get kind(){return"video"}get enabled(){return!0}pipe(){throw new Ae(G.NOT_SUPPORTED,"VideoProcessor cannot pipe to any other Processor")}unpipe(){throw new Ae(G.NOT_SUPPORTED,"VideoProcessor cannot unpipe to any other Processor")}enable(){}disable(){}updateInput(A){if(A.context!==this.videoContext)throw new Error(`ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.
Probably you are making pipeline like this:
videoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).`);A.track&&A.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=A.track,this.emit(li.ON_TRACK,A.track))}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(li.ON_TRACK,void 0)}}class im extends Xt{set chained(A){this._chained=A}get chained(){return this._chained}constructor(A,o){super(),re(this,"constraintsMap",new Map),re(this,"statsRegistry",[]),re(this,"usageRegistry",[]),re(this,"trackId",void 0),re(this,"direction",void 0),re(this,"_chained",!1),this.trackId=A,this.direction=o}async getConstraints(){return await YA(this,Ji.REQUEST_CONSTRAINTS)}async requestApplyConstraints(A,o){var s;return N.info("processor ".concat(o.name," requestApplyConstraints for ").concat(this.trackId)),A&&this.constraintsMap.set(o,A),Mt(this,Ji.REQUEST_UPDATE_CONSTRAINTS,Array.from(vo(s=this.constraintsMap).call(s)))}async requestRevertConstraints(A){var o;if(this.constraintsMap.has(A))return N.info("processor ".concat(A.name," requestRevertConstraints for ").concat(this.trackId)),this.constraintsMap.delete(A),Mt(this,Ji.REQUEST_UPDATE_CONSTRAINTS,Array.from(vo(o=this.constraintsMap).call(o)))}registerStats(A,o,s){this.statsRegistry.find(c=>c.processorID===A.ID&&c.processorName===A.name&&c.type===o)||this.statsRegistry.push({processorName:A.name,processorID:A.ID,type:o,cb:s})}unregisterStats(A,o){const s=this.statsRegistry.findIndex(c=>c.processorID===A.ID&&c.processorName===A.name&&c.type===o);s!==-1&&this.statsRegistry.splice(s,1)}gatherStats(){const A=[];for(const{processorID:o,processorName:s,type:c,cb:I}of this.statsRegistry)try{const C=I();A.push({processorID:o,processorName:s,type:c,stats:C})}catch(C){N.error(new Ae(G.UNEXPECTED_ERROR,C.message))}return A}registerUsage(A,o){this.usageRegistry.find(s=>s.processorID===A.ID&&s.processorName===A.name)||this.usageRegistry.push({processorID:A.ID,processorName:A.name,cb:o})}unregisterUsage(A){const o=this.usageRegistry.findIndex(s=>s.processorID===A.ID&&s.processorName===A.name);o!==-1&&this.usageRegistry.splice(o,1)}async gatherUsage(){const A=[];if(!this.chained)return[];for(const{cb:o}of this.usageRegistry)try{let s=o();s instanceof pe&&(s=await s),A.push(Jt(Jt({},s),{},{direction:this.direction}))}catch(s){N.error("gather extension usage error",s)}return A}getDirection(){return this.direction}}class rm extends Xt{constructor(A){super(),re(this,"name","AudioProcessorDestination"),re(this,"ID","0"),re(this,"inputTrack",void 0),re(this,"inputNode",void 0),re(this,"audioProcessorContext",void 0),re(this,"_source",void 0),this.audioProcessorContext=A}get kind(){return"audio"}get enabled(){return!0}pipe(){throw new Ae(G.NOT_SUPPORTED,"AudioProcessorDestination cannot pipe to any other Processor")}unpipe(){throw new Ae(G.NOT_SUPPORTED,"AudioProcessor cannot unpipe to any other Processor")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(li.ON_TRACK,void 0),this.emit(li.ON_NODE,void 0)}updateInput(A){if(A.context!==this.audioProcessorContext)throw new Error(`ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.
        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).`);A.track&&this.inputTrack!==A.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=A.track,this.emit(li.ON_TRACK,this.inputTrack)),A.node&&this.inputNode!==A.node&&(this.audioProcessorContext.chained=!0,this.inputNode=A.node,this.emit(li.ON_NODE,this.inputNode))}}class om extends Xt{set chained(A){this._chained=A}get chained(){return this._chained}constructor(A,o,s){super(),re(this,"constraintsMap",new Map),re(this,"statsRegistry",[]),re(this,"audioContext",void 0),re(this,"trackId",void 0),re(this,"direction",void 0),re(this,"usageRegistry",[]),re(this,"_chained",!1),this.audioContext=A,this.trackId=o,this.direction=s}async getConstraints(){return YA(this,Ji.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(A,o){var s;return N.info("processor ".concat(o.name," requestApplyConstraints for ").concat(this.trackId)),A&&this.constraintsMap.set(o,A),Mt(this,Ji.REQUEST_UPDATE_CONSTRAINTS,Array.from(vo(s=this.constraintsMap).call(s)))}async requestRevertConstraints(A){var o;if(this.constraintsMap.has(A))return this.constraintsMap.delete(A),Mt(this,Ji.REQUEST_UPDATE_CONSTRAINTS,Array.from(vo(o=this.constraintsMap).call(o)))}registerStats(A,o,s){this.statsRegistry.find(c=>c.processorID===A.ID&&c.processorName===A.name&&c.type===o)||this.statsRegistry.push({processorName:A.name,processorID:A.ID,type:o,cb:s})}unregisterStats(A,o){const s=this.statsRegistry.findIndex(c=>c.processorID===A.ID&&c.processorName===A.name&&c.type===o);s!==-1&&this.statsRegistry.splice(s,1)}gatherStats(){const A=[];for(const{processorID:o,processorName:s,type:c,cb:I}of this.statsRegistry)try{const C=I();A.push({processorID:o,processorName:s,type:c,stats:C})}catch(C){N.error(new Ae(G.UNEXPECTED_ERROR,C.message))}return A}registerUsage(A,o){this.usageRegistry.find(s=>s.processorID===A.ID&&s.processorName===A.name)||this.usageRegistry.push({processorID:A.ID,processorName:A.name,cb:o})}unregisterUsage(A){const o=this.usageRegistry.findIndex(s=>s.processorID===A.ID&&s.processorName===A.name);o!==-1&&this.usageRegistry.splice(o,1)}async gatherUsage(){const A=[];if(!this.chained)return[];for(const{cb:o}of this.usageRegistry)try{let s=o();s instanceof pe&&(s=await s),A.push(Jt(Jt({},s),{},{direction:this.direction}))}catch(s){N.error("gather extension usage error",s)}return A}getDirection(){return this.direction}}class Ad extends Xt{get isPlayed(){return!0}get isFreeze(){return!1}constructor(){super(),re(this,"context",void 0),re(this,"processSourceNode",void 0),re(this,"outputTrack",void 0),re(this,"processedNode",void 0),re(this,"clonedTrack",void 0),re(this,"outputNode",void 0),this.outputNode=new Mx}setVolume(){}createOutputTrack(){throw new Ae(G.NOT_SUPPORTED,"can not create output MediaStreamTrack when WebAudio disabled")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}}class Mx{disconnect(){}connect(){}}function nm(t){return new pe((A,o)=>{let s=!1;const c=document.createElement("video");c.setAttribute("autoplay",""),c.setAttribute("muted",""),c.muted=!0,c.autoplay=!0,c.setAttribute("playsinline",""),c.setAttribute("style","position: fixed; top: 0; left: 0; width: 1px; height: 1px"),document.body.appendChild(c);const I=gi()?"canplay":"playing";c.addEventListener(I,()=>{const C=c.videoWidth,l=c.videoHeight;!C&&zt()||(s=!0,c.srcObject=null,c.remove(),A([C,l]))}),c.srcObject=new MediaStream([t]),c.play().catch(II),setTimeout(()=>{s||(c.srcObject=null,c.remove(),A([c.videoWidth,c.videoHeight]))},4e3)})}function LI(t){const A={};t.facingMode&&(A.facingMode=t.facingMode),t.cameraId&&(A.deviceId={exact:t.cameraId});const o=oo(t.encoderConfig);return o.width!=null&&(A.width=o.width),o.height!=null&&(A.height=o.height),!CR()&&o.frameRate&&(A.frameRate=o.frameRate),iR()&&typeof A.frameRate=="object"&&(A.frameRate.max=60),zt()&&(A.frameRate={ideal:30,max:30}),A}function sm(t){const A={};if(CR()||(t.AGC!==void 0&&(A.autoGainControl=t.AGC),t.AEC!==void 0&&(A.echoCancellation=t.AEC),t.ANS!==void 0&&(A.noiseSuppression=t.ANS,Wo()&&t.ANS&&(A.googHighpassFilter=t.ANS))),t.encoderConfig){const o=vI(t.encoderConfig);A.channelCount=o.stereo?2:1,A.sampleRate=o.sampleRate,A.sampleSize=o.sampleSize}return t.microphoneId&&(A.deviceId={exact:t.microphoneId}),sI()&&(A.sampleRate=void 0),A}const Ox=t=>{const A=t._encoderConfig;if(!A)return;const{frameRate:o,width:s,height:c}=t.getMediaStreamTrackSettings();let{frameRate:I=o,width:C=s,height:l=c}=A;if(!I||!C||!l)return;C=iu(C),l=iu(l),I=iu(I);const{max:d,min:h}=function(w,k,v){const b=200*Math.pow(v/15,.6)*Math.pow(w*k/640/360,.75);return{min:Math.floor(b),max:Math.floor(4*b)}}(C,l,I),{bitrateMax:Q,bitrateMin:_}=A||{};Q||N.debug("calculate bitrate: [w: ".concat(C,", h: ").concat(l,", fps: ").concat(I,"] => [brMax: ").concat(Q,", brMin: ").concat(_,"]"));const{maxFramerate:S}=J("ENCODER_CONFIG_LIMIT");return S&&typeof S=="number"&&(I=Math.min(I,S)),{frameRate:I,bitrateMax:Q||d,bitrateMin:_||h,scaleResolutionDownBy:1,scale:0}},am=async(t,A,o)=>await(async(s,c,I)=>{const C=function(h){const Q=[];for(let _=0;_<h.length;_+=2)Q.push(parseInt(h.slice(_,_+2),16));return Uint8Array.from(Q)}(TR(""+c+I)).slice(0,16),l=C.slice(0,12),d=await window.crypto.subtle.importKey("raw",C,"AES-GCM",!0,["encrypt"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:"AES-GCM",iv:l},d,s))})(t.buffer,A,o),id=t=>{const A=document.createElement("canvas");return A.width=2,A.height=2,new pe((o,s)=>{A.toBlob(async c=>{if(A.remove(),c){const I=await cm(c);o({buffer:I,width:A.width,height:A.height})}else s(new Ae(G.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))},t,1)})},cm=async t=>{const A=await t.arrayBuffer();return new Uint8Array(A)};var gm,Im,Em,Cm,lm,um,dm,hm,Bm,pm,Qm,fm,_m,Rm,ym,mm,Sm,Dm,Vt,wm,Nm,Tm,bm,vm,Mm,so,Om,Lm,km,Um,Pm,Gm,Fm,Km,xm,Ym,Jm,Hm,qm,qA;let tA=(gm=Pe({argsMap:(t,A)=>[t.getTrackId(),A],throttleTime:300}),Im=Pe({argsMap:(t,A)=>[t.getTrackId(),A]}),Em=sA(),Cm=ks("LocalAudioTrack","_enabledMutex"),lm=Pe({argsMap:(t,A)=>[t.getTrackId(),A]}),um=sA(),dm=ks("LocalAudioTrack","_enabledMutex"),hm=Pe({argsMap:(t,A)=>[t.getTrackId(),A]}),Bm=sA(),pm=sA(),Qm=sA(),fm=Pe({argsMap:t=>[t.getTrackId()]}),_m=sA(),Rm=Pe({argsMap:t=>[t.getTrackId()]}),ym=sA(),mm=Pe({argsMap:t=>[t.getTrackId()]}),Sm=Pe({argsMap:(t,A)=>[t.getTrackId(),A.name]}),Dm=Pe({argsMap:t=>[t.getTrackId()]}),It((Vt=class extends ta{get _source(){return this.initWebAudio()}set _source(t){this._trackSource=t}get processorContext(){return this._processorContext||(this._processorContext=this.initProcessor().processorContext),this._processorContext}get processorDestination(){return this._processorDestination||(this._processorDestination=this.initProcessor().processorDestination),this._processorDestination}get isPlaying(){return this._useAudioElement?hi.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"LocalAudioTrack"}constructor(t,A,o,s){super(t,o),re(this,"trackMediaType",ea.AUDIO),re(this,"_encoderConfig",void 0),re(this,"_trackSource",void 0),re(this,"_enabled",!0),re(this,"_volume",100),re(this,"_useAudioElement",!0),re(this,"_bypassWebAudio",!1),re(this,"processor",void 0),re(this,"_processorContext",void 0),re(this,"_processorDestination",void 0),re(this,"_getOriginVolumeLevel",void 0),this._encoderConfig=A,this._getOriginVolumeLevel=!!s,this._trackSource=new Ad,J("DISABLE_WEBAUDIO")&&(this._bypassWebAudio=!0),J("LOCAL_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1),KA()&&!Hi?setTimeout(()=>this.initWebAudio()):this.initWebAudio()}setVolume(t){bt(t,"volume",0,1e3),this._volume=t,this._source.setVolume(t/100),this._useAudioElement&&hi.setVolume(this.getTrackId(),t);try{if(this._bypassWebAudio)return void N.debug("[".concat(this.getTrackId(),"] setVolume returned because no pass through WebAudio."));const A=this._source.createOutputTrack();this._mediaStreamTrack!==A&&(this._mediaStreamTrack=A,Mt(this,ye.NEED_REPLACE_TRACK,this).then(()=>{N.debug("[".concat(this.getTrackId(),"] replace web audio track success"))}).catch(o=>{N.warning("[".concat(this.getTrackId(),"] replace web audio track failed"),o)}))}catch{}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(t){if(!this._useAudioElement||!Gy())throw new Ae(G.NOT_SUPPORTED,"your browser does not support setting the audio output device");await hi.setSinkID(this.getTrackId(),t)}async setEnabled(t,A,o){return this._setEnabled(t,A,o)}async _setEnabled(t,A,o){if(!o){if(t===this._enabled)return;this.stateCheck("enabled",t)}if(N.info("[".concat(this.getTrackId(),"] start setEnabled"),t),t){this._originMediaStreamTrack.enabled=!0;try{o||(this._enabled=!0),await Mt(this,ye.NEED_ENABLE_TRACK,this),N.info("[".concat(this.getTrackId(),"] setEnabled to ").concat(t," success"))}catch(s){throw o||(this._enabled=!1),N.error("[".concat(this.getTrackId(),"] setEnabled to true error"),s.toString()),s}}else{this._originMediaStreamTrack.enabled=!1,o||(this._enabled=!1);try{await Mt(this,ye.NEED_DISABLE_TRACK,this)}catch(s){throw o||(this._enabled=!0),N.error("[".concat(this.getTrackId(),"] setEnabled to false error"),s.toString()),s}}}async setMuted(t){t!==this._muted&&(this.stateCheck("muted",t),this._muted=t,this._originMediaStreamTrack.enabled=!t,N.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(t)),t?await Mt(this,ye.NEED_MUTE_TRACK,this):await Mt(this,ye.NEED_UNMUTE_TRACK,this))}getStats(){return Zo(()=>{N.warning("[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead")},"localAudioTrackGetStatsWarning"),zi(this,ye.GET_STATS)||Jt({},$u)}setAudioFrameCallback(t){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4096;if(!t)return this._source.removeAllListeners(Yi.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(A),this._source.removeAllListeners(Yi.ON_AUDIO_BUFFER),this._source.on(Yi.ON_AUDIO_BUFFER,o=>t(o))}play(){N.debug("[".concat(this.getTrackId(),"] start audio playback")),this._useAudioElement?(N.debug("[".concat(this.getTrackId(),"] start audio playback in element")),hi.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}stop(){N.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._useAudioElement?hi.stop(this.getTrackId()):this._source.stop()}close(){super.close(),this._processorDestination&&this.unbindProcessorDestinationEvents(this._processorDestination),this._processorContext&&this.unbindProcessorContextEvents(this._processorContext),this.unpipe(),this._processorDestination&&this._processorDestination._source&&this._processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];N.debug("[".concat(this.getTrackId(),"] update player source track")),t&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&hi.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(t,A){this._originMediaStreamTrack!==t&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),A&&this._originMediaStreamTrack.stop()),t.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=t,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this._processorContext&&this.processor.updateInput({track:t,context:this._processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await Mt(this,ye.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(t))}renewMediaStreamTrack(t){return pe.resolve(void 0)}pipe(t){if(this._bypassWebAudio)throw new Ae(G.INVALID_OPERATION,"Can not process AudioTrack when bypassWebAudio set to true.");if(this.processor===t)return t;if(t._source)throw new Ae(G.INVALID_OPERATION,"Processor ".concat(t.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=t,this.processor._source=this,t.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),t}unpipe(){var t;if(!this.processor)return;const A=this.processor;(t=this._source.processSourceNode)===null||t===void 0||t.disconnect(),this.processor._source=!1,this.processor=void 0,A.reset()}bindProcessorDestinationEvents(t){t.on(li.ON_TRACK,async A=>{A?A!==this._mediaStreamTrack&&(this._mediaStreamTrack=A,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(A),await Mt(this,ye.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await Mt(this,ye.NEED_REPLACE_TRACK,this))}),t.on(li.ON_NODE,A=>{this._source.processedNode=A})}unbindProcessorDestinationEvents(t){t.removeAllListeners(li.ON_TRACK),t.removeAllListeners(li.ON_NODE)}bindProcessorContextEvents(t){t.on(Ji.REQUEST_CONSTRAINTS,async A=>{A(this._originMediaStreamTrack.getSettings())})}unbindProcessorContextEvents(t){t.removeAllListeners(Ji.REQUEST_CONSTRAINTS)}initWebAudio(){return this._trackSource instanceof Ad&&(this._trackSource=new $y(this._mediaStreamTrack,!1,this._getOriginVolumeLevel?this._mediaStreamTrack:void 0)),this._trackSource}initProcessor(){const t=new om(this._source.context,this.getTrackId(),"local"),A=new rm(t);return this._processorContext=t,this._processorDestination=A,this.bindProcessorContextEvents(t),this.bindProcessorDestinationEvents(A),this._source.on(Yi.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:t})}),this._useAudioElement&&(this._useAudioElement=!1,this.isPlaying&&(hi.stop(this.getTrackId()),this._source.play()),Mt(this,ye.NEED_REPLACE_MIXING_TRACK,this).then(()=>{N.debug("[".concat(this.getTrackId(),"] replace from origin track to web audio track success"))}).catch(o=>{N.warning("[".concat(this.getTrackId(),"] replace from origin track to web audio track failed"),o)})),{processorContext:t,processorDestination:A}}}).prototype,"setVolume",[gm],Object.getOwnPropertyDescriptor(Vt.prototype,"setVolume"),Vt.prototype),It(Vt.prototype,"setPlaybackDevice",[Im,Em],Object.getOwnPropertyDescriptor(Vt.prototype,"setPlaybackDevice"),Vt.prototype),It(Vt.prototype,"setEnabled",[Cm,lm,um],Object.getOwnPropertyDescriptor(Vt.prototype,"setEnabled"),Vt.prototype),It(Vt.prototype,"setMuted",[dm,hm,Bm],Object.getOwnPropertyDescriptor(Vt.prototype,"setMuted"),Vt.prototype),It(Vt.prototype,"getStats",[pm],Object.getOwnPropertyDescriptor(Vt.prototype,"getStats"),Vt.prototype),It(Vt.prototype,"setAudioFrameCallback",[Qm],Object.getOwnPropertyDescriptor(Vt.prototype,"setAudioFrameCallback"),Vt.prototype),It(Vt.prototype,"play",[fm,_m],Object.getOwnPropertyDescriptor(Vt.prototype,"play"),Vt.prototype),It(Vt.prototype,"stop",[Rm,ym],Object.getOwnPropertyDescriptor(Vt.prototype,"stop"),Vt.prototype),It(Vt.prototype,"close",[mm],Object.getOwnPropertyDescriptor(Vt.prototype,"close"),Vt.prototype),It(Vt.prototype,"pipe",[Sm],Object.getOwnPropertyDescriptor(Vt.prototype,"pipe"),Vt.prototype),It(Vt.prototype,"unpipe",[Dm],Object.getOwnPropertyDescriptor(Vt.prototype,"unpipe"),Vt.prototype),Vt),kI=(wm=Pe({argsMap:(t,A)=>[t.getTrackId(),A]}),Nm=sA(),Tm=ks("MicrophoneAudioTrack","_enabledMutex"),bm=Pe({argsMap:(t,A,o)=>[t.getTrackId(),A,o]}),vm=sA(),Mm=Pe({argsMap:t=>[t.getTrackId()]}),It((so=class extends tA{get __className__(){return"MicrophoneAudioTrack"}constructor(t,A,o,s){super(t,A.encoderConfig?vI(A.encoderConfig):{},s,J("GET_VOLUME_OF_MUTED_AUDIO_TRACK")),re(this,"_config",void 0),re(this,"_deviceName","default"),re(this,"_constraints",void 0),re(this,"_originalConstraints",void 0),re(this,"_enabled",!0),this._config=A,this._constraints=o,this._originalConstraints=o,this._deviceName=t.label,typeof A.bypassWebAudio=="boolean"&&(this._bypassWebAudio=A.bypassWebAudio),(vs()||Wl())&&Nt.bindInterruptDetectorTrack(this)}async setDevice(t){if(N.info("[".concat(this.getTrackId(),"] start set device to ").concat(t)),this._enabled)try{const A=await Vi.getDeviceById(t),o={};o.audio=Jt({},this._constraints),o.audio.deviceId={exact:t},this._originMediaStreamTrack.stop();let s=null;try{s=await qi(o,this.getTrackId())}catch(c){throw N.error("[".concat(this.getTrackId(),"] setDevice failed"),c.toString()),s=await qi({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(s.getAudioTracks()[0],!1),c}await this._updateOriginMediaStreamTrack(s.getAudioTracks()[0],!1),this._deviceName=A.label,this._config.microphoneId=t,this._constraints.deviceId={exact:t}}catch(A){throw N.error("[".concat(this.getTrackId(),"] setDevice error"),A.toString()),A}else try{const A=await Vi.getDeviceById(t);this._deviceName=A.label,this._config.microphoneId=t,this._constraints.deviceId={exact:t}}catch(A){throw N.error("[".concat(this.getTrackId(),"] setDevice error"),A.toString()),A}N.info("[".concat(this.getTrackId(),"] set device to ").concat(t," success"))}async setEnabled(t,A,o){if(A)return N.debug("[".concat(this.getTrackId(),"] setEnabled false (do not close microphone)")),await super._setEnabled(t);if(!o){if(t===this._enabled)return;this.stateCheck("enabled",t)}if(N.info("[".concat(this.getTrackId(),"] start setEnabled"),t),J("AUTO_RESET_AUDIO_ROUTE")&&(gi()||lr())){const C=navigator.audioSession;C&&(t||(C.type="playback"),C.type="auto")}if(!t){var s;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),(s=this._source.clonedTrack)===null||s===void 0||s.stop(),o||(this._enabled=!1);try{await Mt(this,ye.NEED_DISABLE_TRACK,this)}catch(C){throw N.error("[".concat(this.getTrackId(),"] setEnabled false failed"),C.toString()),C}return}const c=Jt({},this._constraints),I=Vi.searchDeviceIdByName(this._deviceName);I&&!c.deviceId&&(c.deviceId=I);try{o||(this._enabled=!0);const C=await qi({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(C.getAudioTracks()[0],!1),await Mt(this,ye.NEED_ENABLE_TRACK,this)}catch(C){throw o||(this._enabled=!1),N.error("[".concat(this.getTrackId(),"] setEnabled true failed"),C.toString()),C}N.info("[".concat(this.getTrackId(),"] setEnabled success"))}close(){super.close(),(vs()||Wl())&&Nt.unbindInterruptDetectorTrack(this)}onTrackEnded(){if((gi()||lr())&&this._enabled&&!this._isClosed&&Nt.duringInterruption){const t=async()=>{Nt.off(UA.IOS_INTERRUPTION_END,t),this._enabled&&!this._isClosed&&(N.debug("[".concat(this.getTrackId(),"] try capture microphone media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};Nt.on(UA.IOS_INTERRUPTION_END,t)}else N.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(Zs.TRACK_ENDED)}async renewMediaStreamTrack(t){const A=t||this._constraints,o=Vi.searchDeviceIdByName(this._deviceName);if(o&&!A.deviceId&&(A.deviceId=o),this._constraints=A,this._enabled){this._originMediaStreamTrack.stop();const s=await qi({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(s.getAudioTracks()[0],!0)}}bindProcessorContextEvents(t){super.bindProcessorContextEvents(t),t.on(Ji.REQUEST_UPDATE_CONSTRAINTS,async(A,o,s)=>{try{const c=Object.assign({},this._originalConstraints,...A);await this.renewMediaStreamTrack(c),o()}catch(c){s(c)}})}unbindProcessorContextEvents(t){super.unbindProcessorContextEvents(t),t.removeAllListeners(Ji.REQUEST_UPDATE_CONSTRAINTS)}}).prototype,"setDevice",[wm,Nm],Object.getOwnPropertyDescriptor(so.prototype,"setDevice"),so.prototype),It(so.prototype,"setEnabled",[Tm,bm,vm],Object.getOwnPropertyDescriptor(so.prototype,"setEnabled"),so.prototype),It(so.prototype,"close",[Mm],Object.getOwnPropertyDescriptor(so.prototype,"close"),so.prototype),so),Lx=(Om=Pe({argsMap:(t,A)=>[t.getTrackId(),A,t.duration]}),Lm=sA(),km=Pe({argsMap:t=>[t.getTrackId()]}),Um=sA(),Pm=Pe({argsMap:t=>[t.getTrackId()]}),Gm=sA(),Fm=Pe({argsMap:t=>[t.getTrackId()]}),Km=sA(),xm=Pe({argsMap:t=>[t.getTrackId()]}),Ym=sA(),Jm=Pe({argsMap:t=>[t.getTrackId()]}),Hm=Pe({argsMap:t=>[t.getTrackId()]}),qm=sA(),It((qA=class extends tA{get __className__(){return"BufferSourceAudioTrack"}constructor(t,A,o,s){super(A.createOutputTrack(),o,s),re(this,"source",void 0),re(this,"_bufferSource",void 0),this._useAudioElement=!1,this.source=t,this._bufferSource=A,this._bufferSource.on(Yi.AUDIO_SOURCE_STATE_CHANGE,c=>{this.safeEmit(Zs.SOURCE_STATE_CHANGE,c)});try{this._mediaStreamTrack=this._source.createOutputTrack()}catch{}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(t){t&&this._bufferSource.updateOptions(t),this._bufferSource.startProcessAudioBuffer()}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer()}seekAudioBuffer(t){this._bufferSource.seekAudioBuffer(t)}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer()}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer()}close(){this.source=null,this._bufferSource.destroy(),super.close()}setAudioBufferPlaybackSpeed(t){bt(t,"speed",0),this._bufferSource.setAudioBufferPlaybackSpeed(t)}}).prototype,"startProcessAudioBuffer",[Om,Lm],Object.getOwnPropertyDescriptor(qA.prototype,"startProcessAudioBuffer"),qA.prototype),It(qA.prototype,"pauseProcessAudioBuffer",[km,Um],Object.getOwnPropertyDescriptor(qA.prototype,"pauseProcessAudioBuffer"),qA.prototype),It(qA.prototype,"seekAudioBuffer",[Pm,Gm],Object.getOwnPropertyDescriptor(qA.prototype,"seekAudioBuffer"),qA.prototype),It(qA.prototype,"resumeProcessAudioBuffer",[Fm,Km],Object.getOwnPropertyDescriptor(qA.prototype,"resumeProcessAudioBuffer"),qA.prototype),It(qA.prototype,"stopProcessAudioBuffer",[xm,Ym],Object.getOwnPropertyDescriptor(qA.prototype,"stopProcessAudioBuffer"),qA.prototype),It(qA.prototype,"close",[Jm],Object.getOwnPropertyDescriptor(qA.prototype,"close"),qA.prototype),It(qA.prototype,"setAudioBufferPlaybackSpeed",[Hm,qm],Object.getOwnPropertyDescriptor(qA.prototype,"setAudioBufferPlaybackSpeed"),qA.prototype),qA);class RA extends tA{get __className__(){return"MixingAudioTrack"}get isActive(){for(const A of this.trackList)if(A._enabled&&!A._isClosed&&!A.muted)return!0;return!1}constructor(){const A=Aa().createMediaStreamDestination();super(A.stream.getAudioTracks()[0],void 0,kt(8,"track-mix-")),re(this,"trackList",void 0),re(this,"destNode",void 0),this._useAudioElement=!1;try{this._mediaStreamTrack=this._source.createOutputTrack()}catch{}this.destNode=A,this.trackList=[]}hasAudioTrack(A){return this.trackList.indexOf(A)!==-1}addAudioTrack(A){this.trackList.indexOf(A)===-1?(N.debug("add ".concat(A.getTrackId()," to mixing track")),A._source.outputNode.connect(this.destNode),this.trackList.push(A),this.updateEncoderConfig()):N.debug("track ".concat(A.getTrackId()," is already added"))}removeAudioTrack(A){if(this.trackList.indexOf(A)!==-1){N.debug("remove ".concat(A.getTrackId()," from mixing track"));try{A._source.outputNode.disconnect(this.destNode)}catch{}cI(this.trackList,A),this.updateEncoderConfig()}}updateEncoderConfig(){const A={};this.trackList.forEach(o=>{o._encoderConfig&&((o._encoderConfig.bitrate||0)>(A.bitrate||0)&&(A.bitrate=o._encoderConfig.bitrate),(o._encoderConfig.sampleRate||0)>(A.sampleRate||0)&&(A.sampleRate=o._encoderConfig.sampleRate),(o._encoderConfig.sampleSize||0)>(A.sampleSize||0)&&(A.sampleSize=o._encoderConfig.sampleSize),o._encoderConfig.stereo&&(A.stereo=!0))}),this._encoderConfig=A}_updateRtpTransceiver(A){this._rtpTransceiver!==A&&(this._rtpTransceiver=A,this.trackList.forEach(o=>{o instanceof RA?o.emit(Fn.TRANSCEIVER_UPDATED,A):o._updateRtpTransceiver(A)}))}}class kx extends jy{set currentState(A){A!==this._currentState&&(this._currentState=A,this.safeEmit(Yi.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(A){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),re(this,"audioBuffer",void 0),re(this,"sourceNode",void 0),re(this,"startPlayTime",0),re(this,"startPlayOffset",0),re(this,"pausePlayTime",0),re(this,"options",void 0),re(this,"currentLoopCount",0),re(this,"currentPlaybackSpeed",100),re(this,"_currentState","stopped"),this.audioBuffer=A,this.options=o,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer?this.audioBuffer.duration:0}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return this.audioBuffer?this.currentState==="stopped"?0:this.currentState==="paused"?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration:0}updateOptions(A){this.currentState==="stopped"?(this.options=A,this.startPlayOffset=this.options.startPlayTime||0):N.warning("can not set audio source options")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState="playing"}pauseProcessAudioBuffer(){this.sourceNode&&this.currentState==="playing"&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState="paused")}seekAudioBuffer(A){this.sourceNode&&(this.sourceNode.onended=null,this.currentState==="playing"&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),this.currentState==="playing"?(this.startPlayOffset=A,this.startSourceNode()):this.currentState==="paused"&&(this.pausePlayTime=A))}resumeProcessAudioBuffer(){this.currentState==="paused"&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState="playing")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch{}this.reset()}}destroy(){this.audioBuffer=null,super.destroy()}setAudioBufferPlaybackSpeed(A){this.sourceNode&&(this.currentState==="playing"&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=A/100),this.currentPlaybackSpeed=A}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const A=this.context.createBufferSource();return A.buffer=this.audioBuffer,A.loop=!!this.options.loop,A.connect(this.outputNode),A.playbackRate.value=this.currentPlaybackSpeed/100,A}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState="stopped",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const Vm=new Map;class rd{get rendFrameRate(){if(this.renderStats&&this.renderStats.curTs!==this.renderStats.lastTs){const A=this.renderStats.curTs-this.renderStats.lastTs,o=(this.renderStats.renderNum-this.renderStats.lastRenderNum)/A;return this.renderStats.lastRenderNum=this.renderStats.renderNum,this.renderStats.lastTs=this.renderStats.curTs,o}return 0}get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(A){A!==this._videoElementStatus&&(N.debug("[".concat(this.trackId,"] video-element-status change ").concat(this._videoElementStatus," => ").concat(A)),this._videoElementStatus=A)}get videoState(){return this._videoState}set videoState(A){var o;A!==this._videoState&&(this._videoState=A,(o=this.onVideoStateChanged)===null||o===void 0||o.call(this,this.videoState))}constructor(A){re(this,"trackId",void 0),re(this,"config",void 0),re(this,"onFirstVideoFrameDecoded",void 0),re(this,"onVideoStateChanged",void 0),re(this,"freezeTimeCounterList",[]),re(this,"renderFreezeAccTime",0),re(this,"isKeepLastFrame",!1),re(this,"timeUpdatedCount",0),re(this,"freezeTime",0),re(this,"playbackTime",0),re(this,"lastTimeUpdatedTime",0),re(this,"autoplayFailed",!1),re(this,"videoTrack",void 0),re(this,"videoElement",void 0),re(this,"cacheVideoElement",void 0),re(this,"renderStats",void 0),re(this,"_videoState",no.VideoStateStopped),re(this,"videoElementCheckInterval",void 0),re(this,"videoElementFreezeTimeout",void 0),re(this,"_videoElementStatus",ii.NONE),re(this,"isGettingVideoDimensions",!1),re(this,"startGetVideoDimensions",()=>{const o=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return N.debug("[".concat(this.trackId,"] current video dimensions:"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(o,500)};!this.isGettingVideoDimensions&&o()}),re(this,"autoResumeAfterInterruption",()=>{this.videoTrack&&this.videoTrack.readyState==="live"&&Nt.curState==="running"&&(N.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(AR())),IR()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))}),re(this,"handleVideoEvents",o=>{switch(o.type){case"play":case"playing":this.startGetVideoDimensions(),this.videoElementStatus=ii.PLAYING;break;case"loadeddata":if(this.videoState=no.VideoStateStarting,this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove()}catch{}this.cacheVideoElement=void 0}break;case"canplay":this.videoElementStatus=ii.CANPLAY;break;case"stalled":this.videoElementStatus=ii.STALLED;break;case"suspend":this.videoElementStatus=ii.SUSPEND;break;case"pause":this.videoElementStatus=ii.PAUSED,gi()||lr()||KA()&&this.autoplayFailed||!this.videoTrack||this.videoTrack.readyState!=="live"||(N.debug("[track-".concat(this.trackId,"] video element paused, auto resume")),this.videoElement.play());break;case"waiting":this.videoElementStatus=ii.WAITING;break;case"abort":this.videoElementStatus=ii.ABORT;break;case"ended":this.videoElementStatus=ii.ENDED;break;case"emptied":this.videoElementStatus=ii.EMPTIED;break;case"error":{const s=this.videoElement.error;s?(this.videoElementStatus=ii.ERROR,N.error("[".concat(this.trackId,"] media error: ").concat(s.message," (").concat(s.code,")"))):N.debug("[".concat(this.trackId,"] media not been an error."));break}case"timeupdate":{const s=performance.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=s);const c=s-this.lastTimeUpdatedTime,I=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=s,Lo.lastVisibleTime<Lo.lastHiddenTime||I<Lo.lastHiddenTime||I<Lo.lastVisibleTime)return;for(c>J("VIDEO_FREEZE_DURATION")&&(this.freezeTime+=c),this.playbackTime+=c;this.playbackTime>=6e3;){this.playbackTime-=6e3;const C=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(C),this.freezeTime=Math.max(0,this.freezeTime-6e3)}break}}}),re(this,"autoResumeAfterInterruptionOnIOS15_16",()=>{this.videoTrack&&this.videoTrack.readyState==="live"&&(N.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(AR())),IR()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))}),this.trackId=A.trackId,this.config=A,A.element instanceof HTMLVideoElement?this.videoElement=A.element:this.videoElement=document.createElement("video"),Nt.on(UA.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),Nt.on(UA.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16)}getVideoElement(){return this.videoElement}getContainerElement(){var A;return(A=this.videoElement.parentElement)!==null&&A!==void 0?A:void 0}updateConfig(A){this.config=A,this.trackId=A.trackId,A.element!==this.videoElement&&(this.destroy(),this.videoElement=A.element),this.videoTrack&&this.initVideoElement()}updateVideoTrack(A){this.videoTrack!==A&&(this.videoTrack=A,this.initVideoElement())}play(A){const o=this.videoElement.play();o&&o.catch&&o.catch(c=>{A&&tm(A,"video",c.message,this.trackId),c.name==="NotAllowedError"?(N.warning("detected video element autoplay failed",c),this.autoplayFailed=!0,this.handleAutoPlayFailed()):N.warning("[".concat(this.trackId,"] play warning: "),c)});const s=Et();if((s.name==="Safari"&&Number(s.version)===15||vs())&&o&&o.then){const c=()=>{this.config.mirror&&(this.videoElement.style.transform="rotateY(180deg)")};o.then(c).catch(c)}}getCurrentFrame(){const A=document.createElement("canvas");A.width=this.videoElement.videoWidth,A.height=this.videoElement.videoHeight;const o=A.getContext("2d");if(!o)return N.error("create canvas context failed!"),new ImageData(2,2);o.drawImage(this.videoElement,0,0,A.width,A.height);const s=o.getImageData(0,0,A.width,A.height);return A.remove(),s}async getCurrentFrameToUint8Array(A){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const s=document.createElement("canvas");s.width=this.videoElement.videoWidth,s.height=this.videoElement.videoHeight;const c=s.getContext("2d");return c?(c.drawImage(this.videoElement,0,0,s.width,s.height),new pe((I,C)=>{s.toBlob(async l=>{if(s.remove(),l){const d=await cm(l);I({buffer:d,width:s.width,height:s.height})}else C(new Ae(G.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))},A,o<0?.1:o>1?1:o)})):await id(A)}destroy(){this.renderStats=void 0,Nt.off(UA.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),Nt.off(UA.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[],this.videoState=no.VideoStateStopped}initVideoElement(){if(this.videoElementStatus=ii.INIT,!this.videoElementCheckInterval&&(jm.forEach(I=>{this.videoElement.addEventListener(I,this.handleVideoEvents)}),this.videoElementCheckInterval=window.setInterval(()=>{(function(I){return I!==document.body&&document.body.contains(I)})(this.videoElement)||(this.videoElementStatus=ii.DESTROYED)},1e3),J("ENABLE_VIDEO_FRAME_CALLBACK"))){var A,o;let I;const C=()=>{document.visibilityState==="visible"&&(document.removeEventListener("visibilitychange",C),this.videoElementFreezeTimeout=window.setTimeout(l,J("VIDEO_FREEZE_DURATION")))},l=()=>{this.videoElementFreezeTimeout=void 0,this.videoState===no.VideoStateDecoding&&(document.visibilityState==="visible"?this.videoState=no.VideoStateFrozen:document.addEventListener("visibilitychange",C))},d=(h,Q)=>{if(this.videoElementStatus===ii.PLAYING){if(this.renderStats?(this.renderStats.renderNum++,this.renderStats.curTs=Q.mediaTime):this.renderStats={lastTs:Q.mediaTime,curTs:Q.mediaTime,lastRenderNum:0,renderNum:0},I){const w=Q.presentationTime-I.presentationTime;this.videoState===no.VideoStateStarting&&(this.videoState=no.VideoStateDecoding),this.videoState===no.VideoStateDecoding&&this.onVideoStateChanged&&(this.videoElementFreezeTimeout&&window.clearTimeout(this.videoElementFreezeTimeout),this.videoElementFreezeTimeout=window.setTimeout(l,J("VIDEO_FREEZE_DURATION"))),w<J("VIDEO_FREEZE_DURATION")&&this.videoState===no.VideoStateFrozen&&(this.videoState=no.VideoStateDecoding),w>J("VIDEO_FREEZE_DURATION")&&Lo.lastVisibleTime>=Lo.lastHiddenTime&&I.timestamp>Lo.lastVisibleTime&&I.timestamp>Lo.lastHiddenTime&&(this.renderFreezeAccTime+=w)}I=Jt(Jt({},Q),{},{timestamp:h})}var _,S;J("ENABLE_VIDEO_FRAME_CALLBACK")&&((_=(S=this.videoElement).requestVideoFrameCallback)===null||_===void 0||_.call(S,d))};(A=(o=this.videoElement).requestVideoFrameCallback)===null||A===void 0||A.call(o,d)}this.videoElement.controls=!1,this.videoElement.setAttribute("playsinline",""),sI()&&!J("HIDE_NO_POSTER")&&(this.videoElement.poster="noposter");const s=Et();s.name==="Safari"&&Number(s.version)===15||vs()||!this.config.mirror||(this.videoElement.style.transform="rotateY(180deg)"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit="cover",this.videoElement.setAttribute("muted",""),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,zt()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,zt()&&this.videoElement.load());const c=this.videoElement.play();c!==void 0&&c.catch(I=>{N.debug("[".concat(this.trackId,"] playback interrupted"),I.toString())})}resetVideoElement(){jm.forEach(A=>{this.videoElement&&this.videoElement.removeEventListener(A,this.handleVideoEvents)}),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.videoElementStatus=ii.NONE}handleAutoPlayFailed(){const A=o=>{o.preventDefault(),this.videoElement.play().then(()=>{N.debug("[".concat(this.trackId,"] Video element for trackId:").concat(this.trackId," autoplay resumed."))}).catch(s=>{N.error(s)}),this.autoplayFailed=!1,za()?document.body.removeEventListener("click",A,!0):(document.body.removeEventListener("touchstart",A,!0),document.body.removeEventListener("mousedown",A,!0))};za()?document.body.addEventListener("click",A,!0):(document.body.addEventListener("touchstart",A,!0),document.body.addEventListener("mousedown",A,!0)),em()}}const jm=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","timeupdate","error"];class $m extends rd{constructor(A){super(A),re(this,"container",void 0),re(this,"slot",void 0),this.slot=A.element,this.updateConfig(A)}updateConfig(A){this.config=A,this.trackId=A.trackId;const o=A.element;o!==this.slot&&(this.destroy(),this.slot=o),this.createElements()}updateVideoTrack(A){this.videoTrack!==A&&(this.videoTrack=A,this.createElements())}play(A){var o;(o=this.container)!==null&&o!==void 0&&o.contains(this.videoElement)&&super.play(A)}getCurrentFrame(){var A;return(A=this.container)!==null&&A!==void 0&&A.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(A){var o;let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return(o=this.container)!==null&&o!==void 0&&o.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(A,s):await id(A)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement("video"),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch{}this.container=void 0}}createElements(){this.container||(this.container=document.createElement("div")),this.container.id="agora-video-player-".concat(this.trackId),this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="relative",this.container.style.overflow="hidden",this.videoTrack?(this.container.style.backgroundColor="black",J("KEEP_LAST_FRAME")&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),this.slot.appendChild(this.container)}mountedVideoElement(){var A;!this.container||(A=this.container)!==null&&A!==void 0&&A.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id="video_".concat(this.trackId),this.videoElement.className="agora_video_player",this.videoElement.style.width="100%",this.videoElement.style.height="100%",this.videoElement.style.position="absolute",this.videoElement.style.left="0",this.videoElement.style.top="0"}unmountedVideoElement(){var A;if((A=this.container)!==null&&A!==void 0&&A.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement)}catch{}this.videoElement=document.createElement("video")}}resetVideoElement(){var A;(A=this.container)!==null&&A!==void 0&&A.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement("video"))}getContainerElement(){return this.container}}var Wm,Xm,Zm,zm,eS,tS,AS,iS,rS,oS,nS,sS,aS,cS,gS,IS,ES,CS,lS,uS,dS,hS,BS,pS,at,QS,fS,_S,RS,yS,mS,SS,DS,$i;let Ft=(Wm=Pe({argsMap:(t,A,o)=>[t.getTrackId(),typeof A=="string"?A:A instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",o]}),Xm=sA(),Zm=Pe({argsMap:t=>[t.getTrackId()]}),zm=ks("LocalVideoTrack","_enabledMutex"),eS=Pe({argsMap:(t,A)=>[t.getTrackId(),A]}),tS=sA(),AS=ks("LocalVideoTrack","_enabledMutex"),iS=Pe({argsMap:(t,A)=>[t.getTrackId(),A]}),rS=sA(),oS=Pe({argsMap:(t,A)=>[t.getTrackId(),A]}),nS=sA(),sS=sA(),aS=Pe({argsMap:(t,A,o)=>[t.getTrackId(),A,o]}),cS=sA(),gS=sA(),IS=sA(),ES=sA(),CS=sA(),lS=sA(),uS=sA(),dS=Pe({argsMap:(t,A)=>[t.getTrackId(),A.name]}),hS=Pe({argsMap:t=>[t.getTrackId()]}),BS=Pe({argsMap:t=>[t.getTrackId()]}),pS=Pe({argsMap:(t,A,o)=>[t.getTrackId(),A.label,o]}),at=class wN extends ta{get videoHeight(){if(KA()){const{height:A}=this._mediaStreamTrack.getSettings();return this._videoHeight=A,this._videoHeight}return this._videoHeight}get videoWidth(){if(KA()){const{width:A}=this._mediaStreamTrack.getSettings();return this._videoWidth=A,this._videoWidth}return this._videoWidth}get isPlaying(){return!(!this._player||this._player.videoElementStatus!==ii.PLAYING)}get processorDestination(){return this._processorDestination}get processorContext(){return this._processorContext}set processorContext(A){this._processorContext=A}get __className__(){return"LocalVideoTrack"}constructor(A,o,s,c,I,C){if(super(A,I),re(this,"trackMediaType",ea.VIDEO),re(this,"_player",void 0),re(this,"isUseScaleResolutionDownBy",!1),re(this,"_videoVisibleTimer",null),re(this,"_previousVideoVisibleStatus",void 0),re(this,"_clearPreviousVideoVisibleStatus",()=>this._previousVideoVisibleStatus=void 0),re(this,"_encoderConfig",void 0),re(this,"_scalabilityMode",{numSpatialLayers:1,numTemporalLayers:1}),re(this,"_optimizationMode",void 0),re(this,"_videoHeight",void 0),re(this,"_videoWidth",void 0),re(this,"_forceBitrateLimit",void 0),re(this,"_enabled",!0),re(this,"_processorDestination",void 0),re(this,"_processorContext",void 0),KA()){const{width:l,height:d}=A.getSettings();this._videoWidth=l,this._videoHeight=d}else this.updateMediaStreamTrackResolution();if(this._encoderConfig=o,this._scalabilityMode=s,this._optimizationMode=c,this._hints=C||[],this._hints.indexOf(xt.SCREEN_TRACK)===-1)this.updateBitrateFromProfile();else if(function(l,d,h){const Q=Et();return!(Q.name!==l||!Q.osVersion)&&Number(Q.version)===d}(Rt.CHROME,115)&&oI().indexOf("Windows")!==-1){const l=function(d,h){if("VideoFrame"in window&&"TransformStream"in window&&Ct().supportWebRTCInsertableStream){const Q=new MediaStreamTrackProcessor(d),_=new MediaStreamTrackGenerator({kind:"video"});let S,w,k=Date.now();const v=()=>{b&&(clearInterval(b),b=void 0),S&&(S.close(),S=void 0),d.stop(),w=void 0,_.removeEventListener("ended",v)};let b=window.setInterval(()=>{if(w&&S&&Date.now()-k>1e3)try{_.readyState==="live"?w.enqueue(S.clone()):v()}catch{v()}},1e3);const P=new TransformStream({transform:(K,W)=>{_.readyState==="live"?(w=W,k=Date.now(),S===void 0?(S=K,W.enqueue(K.clone())):(W.enqueue(S),S=K)):K.close()}});return _.addEventListener("ended",v),Q.readable.pipeThrough(P).pipeTo(_.writable),_}}(A);l&&(N.info("local screen video track begin to inject frame"),this._mediaStreamTrack=l)}o&&this._hints.indexOf(xt.CUSTOM_TRACK)!==-1&&this.setEncoderConfiguration(o),this._processorContext=new im(this.getTrackId(),"local"),this._processorDestination=new Am(this.processorContext),this.bindProcessorDestinationEvents()}play(A){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof A=="string"){const c=document.getElementById(A);c?A=c:(N.warning("[".concat(this.getTrackId(),'] can not find "#').concat(A,'" element, use document.body')),A=document.body)}N.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(A instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(o));const s=Jt(Jt(Jt({},this._getDefaultPlayerConfig()),o),{},{trackId:this.getTrackId(),element:A});this._player?this._player.updateConfig(s):(A instanceof HTMLVideoElement?this._player=new rd(s):this._player=new $m(s),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{const c=this.getVideoElementVisibleStatus();this.safeEmit(Zs.VIDEO_ELEMENT_VISIBLE_STATUS,c)}catch{}},J("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,N.debug("[".concat(this.getTrackId(),"] stop video playback")))}async setEnabled(A,o){if(!o){if(A===this._enabled)return;this.stateCheck("enabled",A)}if(N.info("[".concat(this.getTrackId(),"] start setEnabled"),A),!A){this._originMediaStreamTrack.enabled=!1;try{await Mt(this,ye.NEED_DISABLE_TRACK,this)}catch(s){throw N.error("[".concat(this.getTrackId(),"] setEnabled to false error"),s.toString()),s}return o||(this._enabled=!1),void N.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}this._originMediaStreamTrack.enabled=!0;try{await Mt(this,ye.NEED_ENABLE_TRACK,this)}catch(s){throw N.error("[".concat(this.getTrackId(),"] setEnabled to true error"),s.toString()),s}N.info("[".concat(this.getTrackId(),"] setEnabled to true success")),o||(this._enabled=!0)}async setMuted(A){A!==this._muted&&(this.stateCheck("muted",A),this._muted=A,this._originMediaStreamTrack.enabled=!A,N.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(A)),A?await Mt(this,ye.NEED_MUTE_TRACK,this):await Mt(this,ye.NEED_UNMUTE_TRACK,this))}async setEncoderConfiguration(A,o){if(!this._enabled)throw new Ae(G.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");if(A=oo(A),this._forceBitrateLimit&&(A.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:A.bitrateMax,A.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:A.bitrateMin),A.width||A.height||A.frameRate){const s=LI({encoderConfig:A});(KA()||gi()||lr())&&(s.deviceId=void 0),N.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(A),JSON.stringify(s));try{await this._originMediaStreamTrack.applyConstraints(s),this.updateMediaStreamTrackResolution()}catch(c){const I=new Ae(G.UNEXPECTED_ERROR,c.toString());throw N.error("[".concat(this.getTrackId(),"] applyConstraints error"),I.toString()),I}}this._encoderConfig=A,this._hints.indexOf(xt.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await Mt(this,ye.NEED_UPDATE_VIDEO_ENCODER,this)}catch(s){return s.throw(N)}}getStats(){return Zo(()=>{N.warning("[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead")},"localVideoTrackGetStatsWarning"),zi(this,ye.GET_STATS)||Jt({},Wu)}async setBeautyEffect(A){N.error("LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect")}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(A){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(A,o):await id(A)}async setBitrateLimit(A){if(N.debug("[".concat(this.getTrackId(),"] set bitrate limit, ").concat(JSON.stringify(A))),A){this._forceBitrateLimit=A,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<A.max_bitrate?this._encoderConfig.bitrateMax:A.max_bitrate:this._encoderConfig.bitrateMax=A.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=A.min_bitrate);try{await Mt(this,ye.NEED_UPDATE_VIDEO_ENCODER,this)}catch(o){return o.throw(N)}}}async setOptimizationMode(A){if(A!=="motion"&&A!=="detail"&&A!=="balanced")return void N.error(G.INVALID_PARAMS,"optimization mode must be motion, detail or balanced");const o=this._optimizationMode;try{this._optimizationMode=A,await Mt(this,ye.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this)}catch(s){throw this._optimizationMode=o,N.error("[".concat(this.getTrackId(),"] set optimization mode failed"),s.toString()),s}N.info("[".concat(this.getTrackId(),"] set optimization mode success (").concat(A,")"))}setScalabiltyMode(A){if(A.numSpatialLayers===1&&A.numTemporalLayers!==1)return N.error(G.INVALID_PARAMS,"scalability mode currently not supported, no SVC."),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=A,N.info("[".concat(this.getTrackId(),"] set scalability mode success (").concat(A,")"))}updateMediaStreamTrackResolution(){nm(this._originMediaStreamTrack).then(A=>{let[o,s]=A;this._videoHeight=s,this._videoWidth=o}).catch(II)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:"contain"}}async setSenderConfiguration(A){if(!this._enabled)throw new Ae(G.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");N.debug("[".concat(this.getTrackId(),"] setSenderConfiguration applyConstraints"),JSON.stringify(A)),A=oo(A),this._forceBitrateLimit&&(A.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:A.bitrateMax,A.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:A.bitrateMin),this._encoderConfig=A,this._hints.indexOf(xt.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await Mt(this,ye.NEED_UPDATE_VIDEO_ENCODER,this)}catch(o){return o.throw(N)}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:A,height:o,frameRate:s}=this.getMediaStreamTrackSettings();if(!A||!o||!s)return;const{bitrateMax:c,bitrateMin:I}=this._encoderConfig;if(I==null||c==null){const{max:C,min:l}=function(d,h,Q,_,S){const w=J("BITRATE_ADAPTER_TYPE");if(w==="DEFAULT_BITRATE")return{min:_,max:S};if(S===void 0){var k;const b=Math.floor(200*Math.pow(Q/15,.6)*Math.pow(d*h/640/360,.75));S=w==="STANDARD_BITRATE"?4*b:2*b,_=(k=_)!==null&&k!==void 0?k:b}else{var v;_=(v=_)!==null&&v!==void 0?v:Math.floor(S/10)}return{min:_,max:S}}(A,o,s,I,c);this._encoderConfig.bitrateMin=l,this._encoderConfig.bitrateMax=C,N.debug("[".concat(this.getTrackId(),"] update bitrate from profile, [w: ").concat(A,", h: ").concat(o,", fps: ").concat(s,"] => [brMax: ").concat(C,", brMin: ").concat(l,"]"))}}getVideoElementVisibleStatus(){try{var A,o;const s=this==null||(A=this._player)===null||A===void 0?void 0:A.getContainerElement(),c={track:this,element:this==null||(o=this._player)===null||o===void 0?void 0:o.getVideoElement(),slot:s==null?void 0:s.parentElement},{element:I,slot:C}=c;if(this.isPlaying&&I instanceof HTMLVideoElement&&C instanceof HTMLElement){const l=dR.checkOneElementVisible(I),d=Object.assign({},l);if(d.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=d.visible;const h=Me.reportApiInvoke(null,{tag:eA.TRACER,name:fA.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});d.visible?h.onSuccess("Video is visible"):h.onSuccess("Invisible because of ".concat(d.reason))}return d}return}catch(s){throw new Ae(G.GET_VIDEO_ELEMENT_VISIBLE_ERROR,s.message)}}async renewMediaStreamTrack(A){}pipe(A){if(this.processor===A)return A;if(A._source)throw new Ae(G.INVALID_OPERATION,"Processor ".concat(A.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=A,this.processor._source=this,A.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),A}unpipe(){if(!this.processor)return;const A=this.processor;this.processor._source=void 0,this.processor=void 0,A.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}clone(A){let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=this._encoderConfig;A&&(s=Jt(Jt({},s),oo(A))),s=Mn(s);const c=kt(8,"track-video-cloned-"),I=new wN(o?this._mediaStreamTrack.clone():this._mediaStreamTrack,s,Mn(this._scalabilityMode),this._optimizationMode,c,Mn(this._hints));return A&&s&&I.setEncoderConfiguration(s),N.debug("clone video track from ".concat(this.getTrackId()," to ").concat(c,", clone ").concat(o)),I}async replaceTrack(A,o){if(!(A instanceof MediaStreamTrack))throw new Ae(G.INVALID_PARAMS,"track should be an instance of MediaStreamTrack");if(A.kind!=="video")throw new Ae(G.INVALID_PARAMS,"track should be a video MediaStreamTrack");await this._updateOriginMediaStreamTrack(A,o,!0),this.updateMediaStreamTrackResolution()}sendSeiData(A){if(Zo(()=>{Me.reportApiInvoke(null,{name:fA.LOCAL_VIDEO_SEND_SEI_DATA,options:[],tag:eA.TRACER}).onSuccess("")},this._mediaStreamTrack.id||this.getTrackId()),!J("ENABLE_VIDEO_SEI")||!J("ENABLE_ENCODED_TRANSFORM"))return void N.warning('To send/receive SEI, please call AgoraRTC.setParameter("ENABLE_VIDEO_SEI", true) before instantiate IAgoraRtcClient');if(A instanceof Uint8Array==0)return new Ae(G.INVALID_PARAMS,"Invalid argument type, ILocalVideoTrack.sendSeiData() only accept Uint8Array argument.").throw();const o=this.getRTCRtpTransceiver();if(!o)return void N.warning("Video track is not published, SEI can not be send");const s=o.sender.getParameters();if(s.codecs.length===0)return;const c=s.codecs[0].mimeType.toLocaleLowerCase();c==="video/h264"?this.safeEmit("sei-to-send",A):N.warning("SEI is not supported by ".concat(c))}bindProcessorDestinationEvents(){this.processorDestination.on(li.ON_TRACK,async A=>{A?A!==this._mediaStreamTrack&&(this._mediaStreamTrack=A,this._updatePlayerSource(),await Mt(this,ye.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await Mt(this,ye.NEED_REPLACE_TRACK,this))})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(li.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(Ji.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(Ji.REQUEST_CONSTRAINTS)}},It(at.prototype,"play",[Wm,Xm],Object.getOwnPropertyDescriptor(at.prototype,"play"),at.prototype),It(at.prototype,"stop",[Zm],Object.getOwnPropertyDescriptor(at.prototype,"stop"),at.prototype),It(at.prototype,"setEnabled",[zm,eS,tS],Object.getOwnPropertyDescriptor(at.prototype,"setEnabled"),at.prototype),It(at.prototype,"setMuted",[AS,iS,rS],Object.getOwnPropertyDescriptor(at.prototype,"setMuted"),at.prototype),It(at.prototype,"setEncoderConfiguration",[oS,nS],Object.getOwnPropertyDescriptor(at.prototype,"setEncoderConfiguration"),at.prototype),It(at.prototype,"getStats",[sS],Object.getOwnPropertyDescriptor(at.prototype,"getStats"),at.prototype),It(at.prototype,"setBeautyEffect",[aS,cS],Object.getOwnPropertyDescriptor(at.prototype,"setBeautyEffect"),at.prototype),It(at.prototype,"getCurrentFrameData",[gS],Object.getOwnPropertyDescriptor(at.prototype,"getCurrentFrameData"),at.prototype),It(at.prototype,"getCurrentFrameImage",[IS],Object.getOwnPropertyDescriptor(at.prototype,"getCurrentFrameImage"),at.prototype),It(at.prototype,"setBitrateLimit",[ES],Object.getOwnPropertyDescriptor(at.prototype,"setBitrateLimit"),at.prototype),It(at.prototype,"setOptimizationMode",[CS],Object.getOwnPropertyDescriptor(at.prototype,"setOptimizationMode"),at.prototype),It(at.prototype,"setScalabiltyMode",[lS],Object.getOwnPropertyDescriptor(at.prototype,"setScalabiltyMode"),at.prototype),It(at.prototype,"updateMediaStreamTrackResolution",[uS],Object.getOwnPropertyDescriptor(at.prototype,"updateMediaStreamTrackResolution"),at.prototype),It(at.prototype,"pipe",[dS],Object.getOwnPropertyDescriptor(at.prototype,"pipe"),at.prototype),It(at.prototype,"unpipe",[hS],Object.getOwnPropertyDescriptor(at.prototype,"unpipe"),at.prototype),It(at.prototype,"close",[BS],Object.getOwnPropertyDescriptor(at.prototype,"close"),at.prototype),It(at.prototype,"replaceTrack",[pS],Object.getOwnPropertyDescriptor(at.prototype,"replaceTrack"),at.prototype),at),od=(QS=Pe({argsMap:(t,A)=>[t.getTrackId(),A]}),fS=sA(),_S=ks("CameraVideoTrack","_enabledMutex"),RS=Pe({argsMap:(t,A)=>[t.getTrackId(),A]}),yS=sA(),mS=Pe({argsMap:(t,A)=>[t.getTrackId(),A]}),SS=sA(),DS=Pe({argsMap:t=>[t.getTrackId()]}),$i=class NN extends Ft{get __className__(){return"CameraVideoTrack"}constructor(A,o,s,c,I,C){super(A,oo(o.encoderConfig),c,I,C),re(this,"_config",void 0),re(this,"_originalConstraints",void 0),re(this,"_constraints",void 0),re(this,"_enabled",!0),re(this,"_deviceName","default"),re(this,"tryResumeVideoForIOS15_16WeChat",async()=>{(vs()||Wl())&&!function(){const l=Et();if(l.os!==wA.IOS||!l.osVersion)return!1;const d=l.osVersion.split(".");return Number(d[0])===15&&Number(d[1])>=2}()&&ER()&&this._enabled&&!this._isClosed&&(N.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS 15 device on WeChat.")),await this.renewMediaStreamTrack())}),this._config=o,this._originalConstraints=s,this._constraints=s,this._deviceName=A.label,this._encoderConfig=oo(this._config.encoderConfig),Nt.on(UA.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),Nt.on(UA.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents()}async setDevice(A){return typeof A=="string"?this._setDeviceById(A):A.deviceId?this._setDeviceById(A.deviceId):A.facingMode?this._setDeviceByFacingModel(A.facingMode):void 0}async _setDeviceById(A){if(N.info("[".concat(this.getTrackId(),"] set device to ").concat(A)),this._enabled)try{const o=await Vi.getDeviceById(A),s={};s.video=Jt({},this._constraints),s.video.deviceId={exact:A},s.video.facingMode=void 0,this._originMediaStreamTrack.stop();let c=null;try{c=await qi(s,this.getTrackId())}catch(I){throw N.error("[".concat(this.getTrackId(),"] setDevice failed"),I.toString()),c=await qi({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(c.getVideoTracks()[0],!1),I}await this._updateOriginMediaStreamTrack(c.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=o.label,this._config.cameraId=A,this._constraints.deviceId={exact:A}}catch(o){throw N.error("[".concat(this.getTrackId(),"] setDevice error"),o.toString()),o}else try{const o=await Vi.getDeviceById(A);this._deviceName=o.label,this._config.cameraId=A,this._constraints.deviceId={exact:A}}catch(o){throw N.error("[".concat(this.getTrackId(),"] setDevice error"),o.toString()),o}N.info("[".concat(this.getTrackId(),"] setDevice success"))}async _setDeviceByFacingModel(A){N.info("[".concat(this.getTrackId(),"] set facingMode ").concat(A));const o={video:Jt(Jt({},this._constraints),{},{deviceId:void 0,facingMode:{exact:A}})};if(this._enabled){this._originMediaStreamTrack.stop();let s=null;try{s=await qi(o,this.getTrackId())}catch(c){throw N.error("[".concat(this.getTrackId(),"] setDeviceByFacingModel failed"),c.toString()),s=await qi({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(s.getVideoTracks()[0],!1),c}await this._updateOriginMediaStreamTrack(s.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution()}this._deviceName="",this._config.facingMode=A,this._config.cameraId=void 0,this._constraints=Jt({},o.video),N.info("[".concat(this.getTrackId(),"] setDeviceByFacingModel success"))}async setEnabled(A,o){if(!o){if(A===this._enabled)return;this.stateCheck("enabled",A)}if(N.info("[".concat(this.getTrackId(),"] start setEnabled"),A),A){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else{const s=await qi({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(s.getVideoTracks()[0],!1)}await Mt(this,ye.NEED_ENABLE_TRACK,this)}catch(s){throw N.error("[".concat(this.getTrackId(),"] setEnabled true error"),s.toString()),s}this.updateMediaStreamTrackResolution(),N.info("[".concat(this.getTrackId(),"] setEnabled to true success")),o||(this._enabled=!0)}else{this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),o||(this._enabled=!1);try{await Mt(this,ye.NEED_DISABLE_TRACK,this)}catch(s){throw N.error("[".concat(this.getTrackId(),"] setEnabled to false error"),s.toString()),s}N.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}}async setEncoderConfiguration(A,o){if(!this._enabled)throw new Ae(G.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");A=oo(A),this._forceBitrateLimit&&(A.bitrateMax=this._forceBitrateLimit.max_bitrate||A.bitrateMax,A.bitrateMin=this._forceBitrateLimit.min_bitrate||A.bitrateMin);const s=CA(this._config);s.encoderConfig=A;const c=LI(s);(KA()||gi()||lr())&&(c.deviceId=void 0),N.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(A),JSON.stringify(c));try{await this._originMediaStreamTrack.applyConstraints(c),this.updateMediaStreamTrackResolution()}catch(I){const C=new Ae(G.UNEXPECTED_ERROR,I.toString());throw N.error("[".concat(this.getTrackId(),"] applyConstraints error"),C.toString()),C}this._config=s,this._constraints=c,this._originalConstraints=c,this._encoderConfig=A,this._hints.indexOf(xt.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await Mt(this,ye.NEED_UPDATE_VIDEO_ENCODER,this)}catch(I){return I.throw(N)}}_getDefaultPlayerConfig(){return{mirror:!0,fit:"cover"}}onTrackEnded(){if((gi()||lr())&&this._enabled&&!this._isClosed&&Nt.duringInterruption){const A=async()=>{Nt.off(UA.IOS_INTERRUPTION_END,A),this._enabled&&!this._isClosed&&(N.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};Nt.on(UA.IOS_INTERRUPTION_END,A)}else N.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(Zs.TRACK_ENDED)}async renewMediaStreamTrack(A){const o=A||this._constraints,s=Vi.searchDeviceIdByName(this._deviceName);if(s&&!o.deviceId&&(o.deviceId={exact:s}),this._enabled){const c=await qi({video:o},this.getTrackId());this._constraints=o,await this._updateOriginMediaStreamTrack(c.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}}close(){super.close(),Nt.off(UA.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),Nt.off(UA.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat)}clone(A){let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=this._encoderConfig;A&&(s=Jt(Jt({},s),oo(A))),s=Mn(s);const c=kt(8,"track-cam-cloned-"),I=new NN(o?this._mediaStreamTrack.clone():this._mediaStreamTrack,Mn(Jt(Jt({},this._config),{},{encoderConfig:s})),Mn(this._constraints),Mn(this._scalabilityMode),this._optimizationMode,c);return A&&s&&I.setEncoderConfiguration(s),N.debug("clone track from ".concat(this.getTrackId()," to ").concat(c,", clone ").concat(o)),I}bindProcessorContextEvents(){this.processorContext.on(Ji.REQUEST_UPDATE_CONSTRAINTS,async(A,o,s)=>{try{const c=Object.assign({},this._originalConstraints,...A);await this.renewMediaStreamTrack(c),o()}catch(c){s(c)}}),this.processorContext.on(Ji.REQUEST_CONSTRAINTS,async A=>{A(this._originMediaStreamTrack.getSettings())})}},It($i.prototype,"setDevice",[QS,fS],Object.getOwnPropertyDescriptor($i.prototype,"setDevice"),$i.prototype),It($i.prototype,"setEnabled",[_S,RS,yS],Object.getOwnPropertyDescriptor($i.prototype,"setEnabled"),$i.prototype),It($i.prototype,"setEncoderConfiguration",[mS,SS],Object.getOwnPropertyDescriptor($i.prototype,"setEncoderConfiguration"),$i.prototype),It($i.prototype,"close",[DS],Object.getOwnPropertyDescriptor($i.prototype,"close"),$i.prototype),$i);function nd(t,A,o,s){o.optimizationMode&&(s&&s.width&&s.height?(o.encoderConfig=Jt(Jt({},s),{},{bitrateMin:s.bitrateMin,bitrateMax:s.bitrateMax}),o.optimizationMode!=="motion"&&o.optimizationMode!=="detail"||(A.contentHint=o.optimizationMode,A.contentHint===o.optimizationMode?N.debug("[".concat(t,"] set content hint to"),o.optimizationMode):N.debug("[".concat(t,"] set content hint failed")))):N.warning("[".concat(t,"] can not apply optimization mode bitrate config, no encoderConfig")))}var wS,NS,TS,bS,ir,vS,MS,OS,LS,kS,US,ri;class PS extends Hy{getUserId(){return this._userId}constructor(A,o,s,c){super(A,"track-".concat(A.kind,"-").concat(o,"-").concat(c.clientId,"_").concat(kt(5,""))),re(this,"_userId",void 0),re(this,"_uintId",void 0),re(this,"_isDestroyed",!1),re(this,"store",void 0),re(this,"processor",void 0),re(this,"processorContext",void 0),this._userId=o,this._uintId=s,this.store=c}_updateOriginMediaStreamTrack(A){this._originMediaStreamTrack=A,this._mediaStreamTrack=A,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,N.info("[".concat(this.getTrackId(),"] is destroyed")),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}let ra=(wS=Pe({argsMap:(t,A,o)=>[t.getTrackId(),typeof A=="string"?A:A instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",o]}),NS=Pe({argsMap:t=>[t.getTrackId()]}),TS=Pe({argsMap:(t,A)=>[t.getTrackId(),A.name]}),bS=Pe({argsMap:t=>[t.getTrackId()]}),It((ir=class extends PS{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==ii.PLAYING)}get __className__(){return"RemoteVideoTrack"}constructor(t,A,o,s){super(t,A,o,s),re(this,"_videoVisibleTimer",null),re(this,"_previousVideoVisibleStatus",void 0),re(this,"_clearPreviousVideoVisibleStatus",()=>this._previousVideoVisibleStatus=void 0),re(this,"trackMediaType",ea.VIDEO),re(this,"_videoWidth",void 0),re(this,"_videoHeight",void 0),re(this,"_player",void 0),re(this,"processorDestination",void 0),re(this,"processorContext",void 0),this.updateMediaStreamTrackResolution(),this.processorContext=new im(this.getTrackId(),"remote"),this.processorDestination=new Am(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){return Zo(()=>{N.warning("[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead")},"remoteVideoTrackGetStatsWarning"),zi(this,ye.GET_STATS)||Jt({},Yy)}play(t){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="string"){const s=document.getElementById(t);s?t=s:(N.warning("[".concat(this.getTrackId(),'] can not find "#').concat(t,'" element, use document.body')),t=document.body)}N.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(t instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(A));const o=Jt(Jt({fit:"cover"},A),{},{trackId:this.getTrackId(),element:t});this._player?this._player.updateConfig(o):(t instanceof HTMLVideoElement?this._player=new rd(o):this._player=new $m(o),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),"video",void 0,void 0,Date.now()),this.safeEmit(zs.FIRST_FRAME_DECODED)},this._player.onVideoStateChanged=s=>{this.safeEmit(zs.VIDEO_STATE_CHANGED,s)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{const s=this.getVideoElementVisibleStatus();this.safeEmit(zs.VIDEO_ELEMENT_VISIBLE_STATUS,s)}catch{}},J("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,N.debug("[".concat(this.getTrackId(),"] stop video playback")))}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){nm(this._originMediaStreamTrack).then(t=>{let[A,o]=t;this._videoHeight=o,this._videoWidth=A}).catch(II)}_updatePlayerSource(){N.debug("[".concat(this.getTrackId(),"] update player source track")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var t,A;const o=this==null||(t=this._player)===null||t===void 0?void 0:t.getContainerElement(),s={track:this,element:this==null||(A=this._player)===null||A===void 0?void 0:A.getVideoElement(),slot:o==null?void 0:o.parentElement},{element:c,slot:I}=s;if(this.isPlaying&&c instanceof HTMLVideoElement&&I instanceof HTMLElement){const C=dR.checkOneElementVisible(c),l=Object.assign({},C);if(l.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=l.visible;const d=Me.reportApiInvoke(null,{tag:eA.TRACER,name:fA.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});l.visible?d.onSuccess("Video is visible"):d.onSuccess("Invisible because of ".concat(l.reason))}return l}return}catch(o){throw new Ae(G.GET_VIDEO_ELEMENT_VISIBLE_ERROR,o.message)}}pipe(t){if(this.processor===t)return t;if(t._source)throw new Ae(G.INVALID_OPERATION,"Processor ".concat(t.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=t,this.processor._source=this,t.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),t}unpipe(){if(!this.processor)return;const t=this.processor;this.processor._source=void 0,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(li.ON_TRACK,async t=>{t?t!==this._mediaStreamTrack&&(this._mediaStreamTrack=t,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(li.ON_TRACK)}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents()}_onSei(t){this.emit(Fn.SEI_RECEIVED,t)}}).prototype,"play",[wS],Object.getOwnPropertyDescriptor(ir.prototype,"play"),ir.prototype),It(ir.prototype,"stop",[NS],Object.getOwnPropertyDescriptor(ir.prototype,"stop"),ir.prototype),It(ir.prototype,"pipe",[TS],Object.getOwnPropertyDescriptor(ir.prototype,"pipe"),ir.prototype),It(ir.prototype,"unpipe",[bS],Object.getOwnPropertyDescriptor(ir.prototype,"unpipe"),ir.prototype),ir),oa=(vS=Pe({argsMap:(t,A)=>[t.getTrackId(),A],throttleTime:300}),MS=Pe({argsMap:(t,A)=>[t.getTrackId(),A]}),OS=Pe({argsMap:t=>[t.getTrackId()]}),LS=Pe({argsMap:t=>[t.getTrackId()]}),kS=Pe({argsMap:(t,A)=>[t.getTrackId(),A.name]}),US=Pe({argsMap:t=>[t.getTrackId()]}),It((ri=class extends PS{get isPlaying(){return this._useAudioElement?hi.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"RemoteAudioTrack"}constructor(t,A,o,s){super(t,A,o,s),re(this,"trackMediaType",ea.AUDIO),re(this,"_source",void 0),re(this,"_useAudioElement",!0),re(this,"_volume",100),re(this,"processorContext",void 0),re(this,"processorDestination",void 0),re(this,"_played",!1),re(this,"_bypassWebAudio",!1),J("DISABLE_WEBAUDIO")?(this._source=new Ad,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new $y(t,!0),J("REMOTE_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1)),this._source.once(Yi.RECEIVE_TRACK_BUFFER,()=>{this.safeEmit(zs.FIRST_FRAME_DECODED)}),this.processorContext=new om(this._source.context,this.getTrackId(),"remote"),this.processorDestination=new rm(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(Yi.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})})}setAudioFrameCallback(t){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4096;if(!t)return this._source.removeAllListeners(Yi.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(A),this._source.removeAllListeners(Yi.ON_AUDIO_BUFFER),this._source.on(Yi.ON_AUDIO_BUFFER,o=>t(o))}setVolume(t){this._volume=t,this._useAudioElement?hi.setVolume(this.getTrackId(),t):this._source.setVolume(t/100)}async setPlaybackDevice(t){if(!this._useAudioElement||!Gy())throw new Ae(G.NOT_SUPPORTED,"your browser does not support setting the audio output device");await hi.setSinkID(this.getTrackId(),t)}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){return Zo(()=>{N.warning("[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead")},"remoteAudioTrackGetStatsWarning"),zi(this,ye.GET_STATS)||Jt({},xy)}play(){N.debug("[".concat(this.getTrackId(),"] start audio playback")),this._played=!0,this._useAudioElement?(N.debug("[".concat(this.getTrackId(),"] use audio element to play")),hi.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play()}stop(){N.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._played=!1,this._useAudioElement?hi.stop(this.getTrackId()):this._source.stop()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];N.debug("[".concat(this.getTrackId(),"] update player source track")),t&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&hi.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(t){if(this._bypassWebAudio)throw new Ae(G.NOT_SUPPORTED,"can not pipe extension when WebAudio disabled");if(this.processor===t)return t;if(t._source)throw new Ae(G.INVALID_OPERATION,"Processor ".concat(t.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=t,this.processor._source=this,t.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),t}unpipe(){var t;if(this._bypassWebAudio)throw new Ae(G.NOT_SUPPORTED,"can not unpipe extension when WebAudio disabled");if(!this.processor)return;const A=this.processor;(t=this._source.processSourceNode)===null||t===void 0||t.disconnect(),this.processor._source=!1,this.processor=void 0,A.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(li.ON_TRACK,async t=>{t?t!==this._mediaStreamTrack&&(this._mediaStreamTrack=t,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(t)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}),this.processorDestination.on(li.ON_NODE,t=>{this._source.processedNode=t;const A=!t;this._useAudioElement!==A&&(this._played?(this.stop(),this._useAudioElement=A,this.play()):this._useAudioElement=A)})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(li.ON_TRACK),this.processorDestination.removeAllListeners(li.ON_NODE)}}).prototype,"setVolume",[vS],Object.getOwnPropertyDescriptor(ri.prototype,"setVolume"),ri.prototype),It(ri.prototype,"setPlaybackDevice",[MS],Object.getOwnPropertyDescriptor(ri.prototype,"setPlaybackDevice"),ri.prototype),It(ri.prototype,"play",[OS],Object.getOwnPropertyDescriptor(ri.prototype,"play"),ri.prototype),It(ri.prototype,"stop",[LS],Object.getOwnPropertyDescriptor(ri.prototype,"stop"),ri.prototype),It(ri.prototype,"pipe",[kS],Object.getOwnPropertyDescriptor(ri.prototype,"pipe"),ri.prototype),It(ri.prototype,"unpipe",[US],Object.getOwnPropertyDescriptor(ri.prototype,"unpipe"),ri.prototype),ri);const Lo=new class extends Xt{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),re(this,"_lastHiddenTime",0),re(this,"_lastVisibleTime",0),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),N.debug("document visibility went ".concat(document.visibilityState)),this.emit("VISIBILITY_CHANGE",document.visibilityState)})}};class GS extends Xt{constructor(A,o){super(),re(this,"trackMediaType",ea.DATA),re(this,"_version",1),re(this,"_type",3),re(this,"_config",void 0),re(this,"_originDataChannel",void 0),re(this,"_dataStreamPacketHeader",new ArrayBuffer(4)),re(this,"_dataStreamPacketHandler",{serialize:s=>s,deserialize:s=>s}),re(this,"_datachannelEventMap",new Map),this._config=A,o&&(this._originDataChannel=o,this._bandDataChannelEvents(o)),this._initPacketHeader()}useDataStream(A){this._dataStreamPacketHandler=A}get id(){return this._config.id}get ordered(){return this._config.ordered}get maxRetransmits(){return J("DATASTREAM_MAX_RETRANSMITS")}get metadata(){return this._config.metadata}get readyState(){var A,o;return(A=(o=this._originDataChannel)===null||o===void 0?void 0:o.readyState)!==null&&A!==void 0?A:"connecting"}get _originDataChannelId(){var A,o;return(A=(o=this._originDataChannel)===null||o===void 0?void 0:o.id)!==null&&A!==void 0?A:null}getChannelId(){return this.id}getConfig(){return this._config}_close(){this._originDataChannel&&(this._unbindDataChannelEvents(this._originDataChannel),this._originDataChannel=void 0)}async _waitTillOpen(){return new pe((A,o)=>{if(this._originDataChannel){this._originDataChannel.readyState==="open"&&A();const s=setTimeout(()=>{var c;o(new Ae(G.DATACHANNEL_CONNECTION_TIMEOUT,"Cannot create datachannel, id: ".concat((c=this._originDataChannel)===null||c===void 0?void 0:c.id)))},1e4);this._originDataChannel.onopen=()=>{clearTimeout(s),this._originDataChannel&&this._bandDataChannelEvents(this._originDataChannel),A()},this._originDataChannel.onerror=()=>{throw clearTimeout(s),new Ae(G.DATACHANNEL_CONNECTION_TIMEOUT)}}else o(new Ae(G.DATACHANNEL_CONNECTION_TIMEOUT,"cannot find dataChannel"))})}_updateOriginDataChannel(A){this._originDataChannel=A,this._bandDataChannelEvents(A)}_initPacketHeader(){const A=new DataView(this._dataStreamPacketHeader);A.setUint16(0,this._version),A.setUint8(2,this._type),A.setUint8(3,this._config.id)}_bandDataChannelEvents(A){this._unbindDataChannelEvents(A),[MI.OPEN,MI.CLOSE,MI.ERROR].forEach(o=>{const s=()=>{this.emit(o)};this._datachannelEventMap.set(o,s),A.addEventListener(o,s)})}_unbindDataChannelEvents(A){Array.from(this._datachannelEventMap.entries()).forEach(o=>{let[s,c]=o;A.removeEventListener(s,c)}),this._datachannelEventMap.clear()}}class Ux extends GS{constructor(A){super(A),re(this,"_messageListener",void 0),this._messageListener=o=>{if(o.data.byteLength<this._dataStreamPacketHeader.byteLength)throw Error("invalid byteLength: the byte length must exceed "+this._dataStreamPacketHeader.byteLength);const s=o.data.slice(0,this._dataStreamPacketHeader.byteLength),c=new DataView(s).getUint8(3);if(c!==this.id)return void(J("SHOW_DATASTREAM2_LOG")&&N.debug("invalid datachannel id: ".concat(c," !== ").concat(this.id)));let I=o.data.slice(this._dataStreamPacketHeader.byteLength);I=this._dataStreamPacketHandler.deserialize(I),this.emit(MI.MESSAGE,I)}}_updateOriginDataChannel(A){super._updateOriginDataChannel(A),this._bandRemoteDataChannelEvents()}_close(){this._originDataChannel&&(this._originDataChannel.removeEventListener("message",this._messageListener),super._close())}_bandRemoteDataChannelEvents(){this._originDataChannel&&this._originDataChannel.addEventListener("message",this._messageListener)}}class Px extends GS{send(A){if(this._originDataChannel){let o=A;o=this._dataStreamPacketHandler.serialize(A);const s=new Uint8Array(this._dataStreamPacketHeader.byteLength+o.byteLength);s.set(new Uint8Array(this._dataStreamPacketHeader),0),s.set(new Uint8Array(o),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(s.buffer)}}}function UI(){const t=new Blob([atob("ZnVuY3Rpb24gZShlLHQsbil7bGV0IHI9bmV3IFVpbnQ4QXJyYXkoZSx0LG4pLGE9W10sbz0wO2Zvcig7YS5sZW5ndGg8bjspbyszPG4mJjA9PT1yW29dJiYwPT09cltvKzFdJiYzPT09cltvKzJdJiYoMD09PXJbbyszXXx8MT09PXJbbyszXXx8Mj09PXJbbyszXXx8Mz09PXJbbyszXSk/KGEucHVzaChyW29dLHJbbysxXSxyW28rM10pLG8rPTQpOihhLnB1c2gocltvXSksbysrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYSl9ZnVuY3Rpb24gdChlLHQpe2NvbnN0IG49ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmxlbmd0aDtsZXQgbj1bXSxyPTA7Zm9yKDtyPHQ7KXIrMjx0JiYwPT09ZVtyXSYmMD09PWVbcisxXSYmKDA9PT1lW3IrMl18fDE9PT1lW3IrMl18fDI9PT1lW3IrMl18fDM9PT1lW3IrMl0pPyhuLnB1c2goZVtyXSxlW3IrMV0sMyxlW3IrMl0pLHIrPTMpOihuLnB1c2goZVtyXSkscisrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobil9KHQpLHI9bi5sZW5ndGgsYT1NYXRoLmZsb29yKHIvMjU1KSxvPXIlMjU1LHM9bmV3IFVpbnQ4QXJyYXkoNithKzErcitlLmJ5dGVMZW5ndGgpO3NbMF09MCxzWzFdPTAsc1syXT0wLHNbM109MSxzWzRdPTYsc1s1XT0xMDE7bGV0IGk9MDtmb3IoO2k8YTspc1s2K2ldPTI1NSxpKys7cmV0dXJuIHNbNitpXT1vLGkrKyxzLnNldChuLDYraSkscy5zZXQobmV3IFVpbnQ4QXJyYXkoZSksNitpK3IpLHMuYnVmZmVyfW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2FmYXJpIik+LTEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDaHJvbWUiKSYmKHNlbGYub25ydGN0cmFuc2Zvcm09bj0+e2NvbnN0IHI9bi50cmFuc2Zvcm1lcjtsZXQgYT1bXTtyLm9wdGlvbnMucG9ydC5vbm1lc3NhZ2U9ZT0+e2UuZGF0YS5zZWkmJmEucHVzaChlLmRhdGEuc2VpKX0sc2VsZi5wb3N0TWVzc2FnZSgic3RhcnRlZCIpO2NvbnN0IG89ci5yZWFkYWJsZS5nZXRSZWFkZXIoKSxzPXIud3JpdGFibGUuZ2V0V3JpdGVyKCk7InJ4Ij09PXIub3B0aW9ucy5uYW1lP2Z1bmN0aW9uIHQobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgdD1mdW5jdGlvbih0KXtjb25zdCBuPW5ldyBEYXRhVmlldyh0LmRhdGEpO2xldCByPTA7Zm9yKDtyKzQ8dC5kYXRhLmJ5dGVMZW5ndGg7KXtpZigwPT09bi5nZXRVaW50OChyKzApJiYwPT09bi5nZXRVaW50OChyKzEpJiYwPT09bi5nZXRVaW50OChyKzIpJiYxPT09bi5nZXRVaW50OChyKzMpJiY2PT09bi5nZXRVaW50OChyKzQpKXtsZXQgYT1yKzYsbz0wLHM9MDtmb3IoOzI1NT09PShzPW4uZ2V0VWludDgoYSsrKSk7KW8rPTI1NTtvKz1zO2NvbnN0IGk9ZSh0LmRhdGEsYSxvKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaSl9cisrfXJldHVybiBudWxsfShyLnZhbHVlKTt0JiZuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7c2VpOnR9KX1zLndyaXRlKHIudmFsdWUpLG4ub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQobil9fSkpfShyKToidHgiPT09ci5vcHRpb25zLm5hbWUmJmZ1bmN0aW9uIGUobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgZT1hLnNoaWZ0KCk7ZSYmKHIudmFsdWUuZGF0YT10KHIudmFsdWUuZGF0YSxlKSl9cy53cml0ZShyLnZhbHVlKSxuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7dHJhbnNmb3JtZWQ6ITB9KSxlKG4pfX0pKX0ocil9LHNlbGYucG9zdE1lc3NhZ2UoInJlZ2lzdGVyZWQiKSk7Cg==")],{type:"text/javascript"});return setTimeout(()=>Py.revokeObjectURL(t),0),new Worker(Py.createObjectURL(t))}const PI=new Map,GI=new Map;function Gx(t,A,o){let s=new Uint8Array(t,A,o),c=[],I=0;for(;c.length<o;)I+3<o&&s[I]===0&&s[I+1]===0&&s[I+2]===3&&(s[I+3]===0||s[I+3]===1||s[I+3]===2||s[I+3]===3)?(c.push(s[I],s[I+1],s[I+3]),I+=4):(c.push(s[I]),I++);return new Uint8Array(c)}const FI=new Map;async function Fx(t,A){if(!Ct().supportWebRTCEncodedTransform)return void N.warning("browser not support video encoded transform");if(FI.has(t)||!t.track)return;const o={track:t.track};if(Wo()){if(!t.createEncodedStreams)return void N.warning("browser not support createEncodedStreams() API");let c=null;try{c=t.createEncodedStreams()}catch(l){return void N.error("create video-encoded-streams error",l&&l.message)}let I=[];A.on("sei-to-send",l=>{I.push(l)});const C=new TransformStream({transform(l,d){o.controller||(o.controller=d),t.track&&t.track.id!==o.track.id&&(N.debug("video track changed: ".concat(o.track.id," => ").concat(t.track.id)),o.track.removeEventListener("ended",s),o.track=t.track,o.track.addEventListener("ended",s));const h=I.shift();h&&(l.data=function(Q,_){const S=function(K){const W=K.length;let X=[],Z=0;for(;Z<W;)Z+2<W&&K[Z]===0&&K[Z+1]===0&&(K[Z+2]===0||K[Z+2]===1||K[Z+2]===2||K[Z+2]===3)?(X.push(K[Z],K[Z+1],3,K[Z+2]),Z+=3):(X.push(K[Z]),Z++);return new Uint8Array(X)}(_),w=S.length,k=Math.floor(w/255),v=w%255,b=new Uint8Array(6+k+1+w+Q.byteLength);b[0]=0,b[1]=0,b[2]=0,b[3]=1,b[4]=6,b[5]=101;let P=0;for(;P<k;)b[6+P]=255,P++;return b[6+P]=v,P++,b.set(S,6+P),b.set(new Uint8Array(Q),6+P+w),b.buffer}(l.data,h)),d.enqueue(l)}});c.readable.pipeThrough(C).pipeTo(c.writable)}else{if(!KA())return;{if(typeof RTCRtpScriptTransform>"u")return void N.warning("browser not support RTCRtpScriptTransform");const c=UI(),I=new MessageChannel;await new pe(l=>c.onmessage=d=>{d.data==="registered"&&l(void 0)});const C=new RTCRtpScriptTransform(c,{name:"tx",port:I.port2},[I.port2]);t.transform=C,await new pe(l=>c.onmessage=d=>{d.data==="started"&&l(void 0)}),A.on("sei-to-send",l=>{I.port1.postMessage({sei:l})}),I.port1.onmessage=l=>{var d;l.data.transformed&&t.track&&((d=t.track)===null||d===void 0?void 0:d.id)!==o.track.id&&(N.debug("video track changed: ".concat(o.track.id," => ").concat(t.track.id)),o.track.removeEventListener("ended",s),o.track=t.track,o.track.addEventListener("ended",s))},o.worker=c}}function s(){if(t.track){if(this.id!==t.track.id)return;t.track.removeEventListener("ended",s)}const c=FI.get(t);if(c){FI.delete(t);try{var I,C;(I=c.controller)===null||I===void 0||I.terminate(),(C=c.worker)===null||C===void 0||C.terminate()}catch(l){N.warning(l&&l.message)}}}FI.set(t,o),t.track.addEventListener("ended",s)}const uc=new Map;(function(){const t=Et();kA.getDisplayMedia=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),kA.getStreamFromExtension=t.name===Rt.CHROME&&Number(t.version)>34,kA.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;const A=new RTCPeerConnection;let o=!1;try{A.addTransceiver("audio"),o=!0}catch{}return A.close(),o}(),kA.supportMinBitrate=t.name===Rt.CHROME||t.name===Rt.EDGE,kA.supportSetRtpSenderParameters=function(){const A=Et();return!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!Xo()||!(!KA()&&!nI())||A.name===Rt.FIREFOX&&Number(A.version)>=64)}(),t.name===Rt.SAFARI&&(Number(t.version)>=14?kA.supportDualStream=!0:kA.supportDualStream=!1),kA.webAudioMediaStreamDest=function(){const A=Et();return!(A.name===Rt.SAFARI&&Number(A.version)<12)}(),kA.supportReplaceTrack=!!window.RTCRtpSender&&typeof RTCRtpSender.prototype.replaceTrack=="function",kA.supportWebGL=typeof WebGLRenderingContext<"u",kA.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,Xo()||(kA.webAudioWithAEC=!0),kA.supportShareAudio=function(){const A=Et();return(A.os===wA.WIN_10||A.os===wA.WIN_81||A.os===wA.WIN_7||A.os===wA.LINUX||A.os===wA.MAC_OS||A.os===wA.CHROMIUM_OS)&&A.name===Rt.CHROME&&Number(A.version)>=74}(),kA.supportDataChannel=!!($l(76)||function(A){const o=Et();return!(o.name!==Rt.FIREFOX||!o.osVersion)&&Number(o.version)>=A}(68)||nR(14)),kA.supportPCSetConfiguration=function(){const A=window.RTCPeerConnection;return!zt()&&!!A&&A.prototype.setConfiguration instanceof Function}(),kA.supportWebRTCEncodedTransform=function(){const A=Et();return A.name==="Chrome"&&Number(A.version)>=86||A.name==="Safari"&&Number(A.version)>=15}(),kA.supportWebRTCInsertableStream=function(){const A=Et();return(A.name===Rt.CHROME||A.name===Rt.EDGE)&&Number(A.version)>=94&&"MediaStreamTrackGenerator"in window&&"MediaStreamTrackProcessor"in window}(),kA.supportRequestVideoFrameCallback="requestVideoFrameCallback"in HTMLVideoElement.prototype,kA.supportWebCrypto=typeof window<"u"&&window.crypto!==void 0&&window.crypto.subtle!==void 0,gI(()=>{kA.supportDualStreamEncoding=function(){const A=Et();return!!J("DISABLE_WEBAUDIO")||A.name==="Safari"&&Number(A.version)>=14||!!(A.name==="Chrome"&&/Windows/i.test(A.os||"")&&Number(A.version)>=100&&J("CHROME_DUAL_STREAM_USE_ENCODING"))}(),N.info("browser compatibility",JSON.stringify(kA),JSON.stringify(t))})})();class Yn extends Xt{constructor(A,o){super(),L(this,"signal",void 0),L(this,"token",void 0),L(this,"tokenTimeout",void 0),L(this,"tokenInterval",void 0),L(this,"_sequence",0),L(this,"userMap",new Map),L(this,"encoder",new TextEncoder),this.signal=A,this.token=o;const s=()=>{this.signal.connectionState===Ut.CONNECTED&&this.check(),this.userMap.size===0?this.tokenInterval=window.setTimeout(s,1e3):this.tokenInterval=window.setTimeout(s,3*J("P2P_TOKEN_INTERVAL"))};s()}async send(A,o,s,c,I){var C,l,d;if(this.userMap.size===0)return;const h=Array.from(vo(C=this.userMap).call(C))[0].token;typeof o!="string"&&(o=JSON.stringify(o)),c=(l=c)!==null&&l!==void 0?l:kt(6,""),I=(d=I)!==null&&d!==void 0?d:this._sequence++;const Q={_id:c,_type:A,_seq:I,_message:o,token:"".concat(this.token,"_").concat(h)};J("SHOW_P2P_LOG")&&N.debug("send message",Q,"noNeedResponse : ".concat(s)),this.splitMessage(JSON.stringify(Q)).forEach(S=>{this.signal.request(Ke.DATA_STREAM,{payload:zo(this.encoder.encode(S))})});const _=new pe((S,w)=>{const k=window.setTimeout(()=>{this.off("res-@".concat(c,"_ack"),v),this.off("res-@".concat(c),P),this.off(Fs.ABORT,b),N.debug("[external-signal] request timeout, type: ".concat(A,", requestId: ").concat(c)),this.userMap.size===0?w(new Ae(G.INVALID_REMOTE_USER)):w(new Ae(G.TIMEOUT))},J("EXTERNAL_SIGNAL_REQUEST_TIMEOUT")),v=()=>{k&&window.clearTimeout(k),this.off(Fs.ABORT,b),s&&S()},b=()=>{k&&window.clearTimeout(k),this.off("res-@".concat(c,"_ack"),v),this.off("res-@".concat(c),P),w(new Ae(G.EXTERNAL_SIGNAL_ABORT,"type: ".concat(A,", requestId: ").concat(c)))};this.once(Fs.ABORT,b),this.once("res-@".concat(c,"_ack"),v);const P=(W,X)=>{K=!0,k&&window.clearTimeout(k),this.off("res-@".concat(c,"_ack"),v),this.off(Fs.ABORT,b),W==="success"?S(X):w(new Ae(G.P2P_MESSAGE_FAILED,"request ".concat(A," failed, requestId: ").concat(c)))};let K=!1;s||(this.once("res-@".concat(c),P),OA(J("SIGNAL_REQUEST_TIMEOUT")).then(()=>{K||N.warning("external_signal request timeout, type: ".concat(A,", requestId: ").concat(c,", ").concat(Q))}))});try{return await _}catch(S){if(S.code===G.TIMEOUT)return await this.send(A,o,s,c,I);throw S}}onMessage(A){var o;const{_uid:s}=A;let c,I=this.userMap.get(s);if(I)c=I.splitMessageMap;else{if(this.userMap.size>0||!("_type"in A)||A._type!==nA.CHECK)return;const{token:h}=A;c=new Map,I={uid:s,isStart:!0,token:h,splitMessageMap:c,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map},this.userMap.set(s,I),this.signal.emit(rt.ON_USER_ONLINE,{uid:s}),this.handleUserOnline()}if("id"in A&&"total"in A){var C;const{id:h,total:Q}=A,_=(C=c.get(h))!==null&&C!==void 0?C:[];if(_.push(A),c.has(h)||c.set(h,_),_.length!==Q)return;{const S=Pa(_).call(_,(w,k)=>w.index-k.index).map(w=>w.payload).join("");c.delete(h),(A=JSON.parse(S))._uid=s}}const{_type:l,token:d}=A;if(Re(o=[nA.ACK,nA.CHECK]).call(o,l))return l===nA.CHECK&&this.handleCheckToken(I,d),void this.receiveMessage(A);d==="".concat(I.token,"_").concat(this.token)?this.handleReceivedMessage(A):N.debug('Receive unexpected message", '.concat(d,", cur_token: ").concat(I.token,"_").concat(this.token),A)}check(){const A={_id:kt(6,""),token:this.token,_type:nA.CHECK};J("SHOW_P2P_LOG")&&N.debug("send message",A),this.signal.request(Ke.DATA_STREAM,{payload:zo(this.encoder.encode(JSON.stringify(A)))})}ack(A){const o={_id:A,_type:nA.ACK,token:this.token};J("SHOW_P2P_LOG")&&N.debug("send message",o),this.signal.request(Ke.DATA_STREAM,{payload:zo(this.encoder.encode(JSON.stringify(o)))})}response(A,o,s){this.send(nA.RESPONSE,JSON.stringify({success:!s,message:o}),!0,A)}handleReceivedMessage(A){const o=()=>{this.userMap.forEach(h=>{const{receivedMessagesMap:Q,nextExpectedSequenceNumber:_}=h;for(;Q.has(_);){const S=Q.get(_);Q.delete(_),this.receiveMessage(S),h.nextExpectedSequenceNumber++}})};if(!A)return void o();const{_uid:s,_seq:c}=A,I=this.userMap.get(s),{receivedMessagesMap:C,isStart:l,nextExpectedSequenceNumber:d}=I;if(c<d)return this.ack(A._id),void N.debug("[external-signal] receive old message, seq: ".concat(c,", ").concat(A._message));C.set(c,A),l&&c===d&&(this.receiveMessage(A),C.delete(d),I.nextExpectedSequenceNumber++,o())}receiveMessage(A){const{_id:o,_type:s,_message:c,_uid:I}=A;if(J("SHOW_P2P_LOG")&&N.debug("receive message",A),o){let C;switch(A._type!==nA.ACK&&(c&&(C=JSON.parse(c)),this.ack(A._id)),A._type){case nA.CANDIDATE:case nA.CONTROL:this.signal.emit(s,C,I);break;case nA.PUBLISH:case nA.UNPUBLISH:case nA.RESTART_ICE:case nA.CALL:C.uid=I,YA(this.signal,s,C).then(l=>{this.response(A._id,l)}).catch(()=>{this.response(A._id,void 0,!0)});break;case nA.ACK:this.getListeners("res-@".concat(o,"_ack")).length>0&&this.emit("res-@".concat(o,"_ack"));break;case nA.RESPONSE:{const{success:l,message:d}=C;this.emit("res-@".concat(o),l?"success":"failed",d);break}}}}splitMessage(A){if(A.length<Yn.MAX_MESSAGE_SIZE)return[A];const o=[],{remoteToken:s}=JSON.parse(A),c=kt(6,"");let I=0,C=800;const l=Math.ceil(A.length/C);for(;A.length>0;){I++;const d={id:c,index:I,total:l,payload:A.slice(0,C),token:"".concat(this.token,"_").concat(s)};JSON.stringify(d).length>Yn.MAX_MESSAGE_SIZE?C-=50:(o.push(d),A=A.slice(C))}return o.map(d=>JSON.stringify(d))}handleCheckToken(A,o){return A.token!==o?(N.debug("token changed, from ".concat(A.token," to ").concat(o)),this.reset(A.uid,o),!1):(this.tokenTimeout&&(window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0),this.tokenTimeout=window.setTimeout(()=>{N.debug("token timeout, ".concat(o)),this.reset(A.uid)},J("MAX_P2P_TIMEOUT")),!0)}async handleUserOnline(){const A=await YA(this.signal,nA.CALL,void 0),o=await this.send(nA.CALL,A);this.signal.emit(xe.P2P_CONNECTION,o,!0)}async reset(A,o){const s=this.userMap.get(A);s&&(this.emit(Fs.ABORT),this.signal.emit(rt.ON_USER_OFFLINE,{uid:s.uid,reason:AK.P2P_TOKEN_CHANGED}),this._sequence=0,this.userMap.clear(),o||(N.debug("change local token from ".concat(o," to ").concat(o)),this.token=kt(6,"")))}clear(){this._sequence=0,this.userMap.clear(),this.tokenInterval&&window.clearTimeout(this.tokenInterval),this.tokenInterval=void 0,this.tokenTimeout&&window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0,this.emit(Fs.ABORT)}}L(Yn,"MAX_SIZE",1),L(Yn,"MAX_MESSAGE_SIZE",1024);class FS extends Xt{get connectionState(){return this._connectionState}set connectionState(A){A!==this._connectionState&&(this._connectionState=A,A===Ut.CONNECTED?this.emit(xe.WS_CONNECTED):A===Ut.RECONNECTING?this.emit(xe.WS_RECONNECTING,this._websocketReconnectReason):A===Ut.CLOSED&&this.emit(xe.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(A,o){super(),L(this,"_disconnectedReason",void 0),L(this,"_websocketReconnectReason",void 0),L(this,"_connectionState",Ut.CLOSED),L(this,"reconnectToken",void 0),L(this,"p2pToken",void 0),L(this,"websocket",void 0),L(this,"openConnectionTime",void 0),L(this,"clientId",void 0),L(this,"lastMsgTime",Date.now()),L(this,"uploadCache",[]),L(this,"uploadCacheInterval",void 0),L(this,"rttRolling",new bR(5)),L(this,"pingpongTimer",void 0),L(this,"pingpongTimeoutCount",0),L(this,"joinResponse",void 0),L(this,"multiIpOption",void 0),L(this,"initError",void 0),L(this,"spec",void 0),L(this,"store",void 0),L(this,"_external_signal",void 0),L(this,"onWebsocketMessage",s=>{if(s.data instanceof ArrayBuffer)return void this.emit(xe.ON_BINARY_DATA,s.data);const c=JSON.parse(s.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(c,"_id")){const I="res-@".concat(c._id);this.emit(I,c._result,c._message)}else if(Object.prototype.hasOwnProperty.call(c,"_type")){switch(c._type){case rt.ON_DATA_STREAM:return void this.handleDataStream(c._message);case rt.MUTE_AUDIO:case rt.MUTE_VIDEO:case rt.ON_P2P_LOST:case rt.ON_USER_ONLINE:return;case rt.ON_USER_OFFLINE:const{uid:I}=c._message;return N.debug("[".concat(this.clientId,"] user-offline uid: ").concat(I)),void this._external_signal.reset(I)}if(this.emit(c._type,c._message),c._type===rt.ON_NOTIFICATION&&this.handleNotification(c._message),c._type===rt.ON_USER_BANNED)switch(c._message.error_code){case 14:this.close(St.UID_BANNED);break;case 15:this.close(St.IP_BANNED);break;case 16:this.close(St.CHANNEL_BANNED)}if(c._type===rt.ON_USER_LICENSE_BANNED)switch(c._message.error_code){case Ue.ERR_LICENSE_MISSING:this.close(St.LICENSE_MISSING);break;case Ue.ERR_LICENSE_EXPIRED:this.close(St.LICENSE_EXPIRED);break;case Ue.ERR_LICENSE_MINUTES_EXCEEDED:this.close(St.LICENSE_MINUTES_EXCEEDED);break;case Ue.ERR_LICENSE_PERIOD_INVALID:this.close(St.LICENSE_PERIOD_INVALID);break;case Ue.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(St.LICENSE_MULTIPLE_SDK_SERVICE);break;case Ue.ERR_LICENSE_ILLEGAL:this.close(St.LICENSE_ILLEGAL);break;default:this.close()}}}),this.clientId=A.clientId,this.spec=A,this.store=o,this.websocket=new _u("gateway-".concat(this.clientId),this.spec.retryConfig,!0,J("JOIN_GATEWAY_USE_DUAL_DOMAIN"),J("JOIN_GATEWAY_USE_443PORT_ONLY"),o),this.handleWebsocketEvents(),window.addEventListener("offline",()=>{this.connectionState===Ut.CONNECTED&&this.reconnect("retry",xA.OFFLINE)}),this.p2pToken=kt(6,""),this._external_signal=new Yn(this,this.p2pToken)}async request(A,o,s,c){const I=kt(6,""),C={_id:I,_type:A,_message:o},l=this.websocket.connectionID,d=()=>new pe((k,v)=>{if(this.connectionState===Ut.CONNECTED)return k();const b=()=>{this.off(xe.WS_CLOSED,P),k()},P=()=>{this.off(xe.WS_CONNECTED,b),v(new Ae(G.WS_ABORT))};this.once(xe.WS_CONNECTED,b),this.once(xe.WS_CLOSED,P)});if(this.connectionState!==Ut.CONNECTING&&this.connectionState!==Ut.RECONNECTING||A===Ke.JOIN||A===Ke.REJOIN||await d(),this.websocket.sendMessage(C,!0),c)return;const h=new pe((k,v)=>{let b=!1;const P=(W,X)=>{b=!0,k({isSuccess:W==="success",message:X||{}}),this.off(xe.WS_CLOSED,K),this.off(xe.WS_RECONNECTING,K),this.emit(xe.REQUEST_SUCCESS,A,o)};this.once("res-@".concat(I),P);const K=()=>{v(new Ae(G.WS_ABORT,"type: ".concat(A))),this.off(xe.WS_CLOSED,K),this.off(xe.WS_RECONNECTING,K),this.off("res-@".concat(I),P)};this.once(xe.WS_CLOSED,K),this.once(xe.WS_RECONNECTING,K),OA(J("SIGNAL_REQUEST_TIMEOUT")).then(()=>{this.websocket.connectionID!==l||b||(N.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(A)),this.emit(xe.REQUEST_TIMEOUT,A,o))})});let Q=null;try{Q=await h}catch(k){if(this.connectionState===Ut.CLOSED||A===Ke.LEAVE)throw new Ae(G.WS_ABORT);return!this.spec.forceWaitGatewayResponse||s?k.throw():A===Ke.JOIN||A===Ke.REJOIN?null:(await d(),await this.request(A,o))}if(Q.isSuccess)return Q.message;const _=Number(Q.message.error_code||Q.message.code),S=nc(_),w=new Ae(G.UNEXPECTED_RESPONSE,"".concat(S.desc,": ").concat(Q.message.error_str),{code:_,data:Q.message,desc:S.desc});return S.action==="success"?Q.message:(N.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(A,", error_code: ").concat(_,", message: ").concat(S.desc,", action: ").concat(S.action)),_===Ue.ERR_TOO_MANY_BROADCASTERS?((A===Ke.JOIN||A===Ke.REJOIN)&&(this.initError=w,this.close()),w.throw()):S.action==="failed"?w.throw():S.action==="quit"?(this.initError=w,this.close(),w.throw()):(_===Ue.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=Q.message.option,N.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",xA.MULTI_IP)):this.reconnect(S.action,xA.SERVER_ERROR),A===Ke.JOIN||A===Ke.REJOIN?null:await this.request(A,o)))}waitMessage(A,o){return new pe(s=>{const c=I=>{(!o||o(I))&&(this.off(A,c),s(I))};this.on(A,c)})}uploadWRTCStats(A){if(!this.store.sessionId)return void N.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const o={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:A};this.upload(oc.WRTC_STATS,o)}upload(A,o){const s={_type:A,_message:o};try{this.websocket.sendMessage(s)}catch{const I=J("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(s),this.uploadCache.length>I&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==Ut.CONNECTED)return;const C=this.uploadCache.splice(0,1)[0];this.uploadCache.length===0&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(C._type,C._message)},J("UPLOAD_CACHE_INTERVAL")||2e3))}}send(A,o){const s={_type:A,_message:o};this.websocket.sendMessage(s)}async sendExtensionMessage(A,o,s){return await this._external_signal.send(A,o,s)}init(A){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new pe((o,s)=>{this.once(xe.WS_CONNECTED,()=>o(this.joinResponse)),this.once(xe.WS_CLOSED,()=>s(this.initError||new Ae(G.WS_ABORT))),this.connectionState=Ut.CONNECTING,this.websocket.init(A).catch(s)})}close(A){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._external_signal.clear(),this._disconnectedReason=A||St.LEAVE,this.connectionState=Ut.CLOSED,N.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),this.p2pToken=kt(6,""),this._external_signal.clear(),this._external_signal=new Yn(this,this.p2pToken)}async join(){if(!this.joinResponse){this.emit(xe.ABORT_P2P_EXECUTION);const A=await YA(this,xe.REQUEST_JOIN_INFO),o=await this.request(Ke.JOIN,A);if(!o)return this.emit(xe.REPORT_JOIN_GATEWAY,G.TIMEOUT,this.url||""),!1;this.joinResponse=o,this.emit(xe.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=Ut.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}reconnect(A,o){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(A,o)}handleDataStream(A){try{var o;const s=On(A.payload),c=new TextDecoder().decode(s),I=JSON.parse(c);"total"in I&&"id"in I||Re(o=Object.values(nA)).call(o,I._type)?(I._uid=A.uid,this._external_signal.onMessage(I)):this.emit(rt.ON_DATA_STREAM,A)}catch{this.emit(rt.ON_DATA_STREAM,A)}}handleNotification(A){N.debug("[".concat(this.clientId,"] receive notification: "),A);const o=nc(A.code);if(o.action!=="success"){if(o.action!=="failed")return o.action==="quit"?(o.desc==="ERR_REPEAT_JOIN_CHANNEL"&&this.close(St.UID_BANNED),void this.close()):void this.reconnect(o.action,xA.SERVER_ERROR);N.error("[".concat(this.clientId,"] ignore error: "),o.desc)}}handlePingPong(){if(!this.websocket||this.websocket.state!=="connected")return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const A=J("PING_PONG_TIME_OUT"),o=Date.now();this.pingpongTimeoutCount>=A&&(N.warning("[".concat(this.clientId,"] PINGPONG Timeout. Last Socket Message: ").concat(o-this.lastMsgTime,"ms")),o-this.lastMsgTime>J("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",xA.TIMEOUT):this.request(Ke.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;const s=Date.now()-o;this.rttRolling.add(s),J("REPORT_STATS")&&this.send(Ke.PING_BACK,{pingpongElapse:s})}).catch(s=>{})}handleWebsocketEvents(){this.websocket.on(Je.RECONNECT_WAITTING_FINISH,A=>{this.emit(xe.WS_RECONNECT_WAITTING_FINISH,A)}),this.websocket.on(Je.RECONNECT_CREATE_CONNECTION,A=>{this.emit(xe.WS_RECONNECT_CREATE_CONNECTION,A)}),this.websocket.on(Je.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(Je.CLOSED,()=>{this.connectionState=Ut.CLOSED}),this.websocket.on(Je.FAILED,()=>{this._disconnectedReason=St.NETWORK_ERROR,this.connectionState=Ut.CLOSED}),this.websocket.on(Je.RECONNECTING,A=>{this._websocketReconnectReason=A,this.joinResponse=void 0,this.connectionState===Ut.CONNECTED?this.connectionState=Ut.RECONNECTING:this.connectionState=Ut.CONNECTING}),this.websocket.on(Je.WILL_RECONNECT,(A,o,s)=>{A!=="retry"?(N.debug("".concat(this.clientId," websocket will_connect event, renewSession reconnectMode is ").concat(A)),this.reconnectToken=void 0):N.debug("".concat(this.clientId," reconnect mode is retry, no need to renew session")),s(A)}),this.websocket.on(Je.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.join().catch(A=>{if(this.emit(xe.REPORT_JOIN_GATEWAY,A,this.url||""),A instanceof Ae&&A.code===G.UNEXPECTED_RESPONSE&&A.data.code===Ue.ERR_NO_AUTHORIZED)return N.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",xA.SERVER_ERROR);N.error("[".concat(this.clientId,"] join gateway request failed"),A.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",xA.SERVER_ERROR):(this.initError=A,this.close())})}),this.websocket.on(Je.REQUEST_NEW_URLS,(A,o)=>{YA(this,xe.REQUEST_RECOVER,this.multiIpOption).then(A).catch(o)}),this.websocket.on(Je.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(rt.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})}}var KS={exports:{}};(function(t,A){t.exports=(()=>{var o={8:(I,C,l)=>{l.r(C),l.d(C,{Parser:()=>tt,Printer:()=>br,parse:()=>qe,print:()=>Bt});const d=`
`,h="".concat("\r").concat(d),Q=" ";let _;function S(Be){return Be>="0"&&Be<="9"}function w(Be){return Be>="!"&&Be<="~"}function k(Be){return w(Be)||Be>="Â"&&Be<="Ã¿"}function v(Be){return Be==="!"||Be>="#"&&Be<="'"||Be>="*"&&Be<="+"||Be>="-"&&Be<="."||Be>="0"&&Be<="9"||Be>="A"&&Be<="Z"||Be>="^"&&Be<="~"}function b(Be){return Be>="1"&&Be<="9"}function P(Be){return Be>="A"&&Be<="Z"||Be>="a"&&Be<="z"}function K(Be){return Be==="d"||Be==="h"||Be==="m"||Be==="s"}function W(Be){return Be>""&&Be<"	"||Be>"\v"&&Be<"\f"||Be>""&&Be<"Ã¿"}function X(Be){return P(Be)||S(Be)||Be==="+"||Be==="/"}function Z(Be){return S(Be)||P(Be)||Be==="+"||Be==="/"||Be==="-"||Be==="_"}function ie(Be){return P(Be)||S(Be)||Be==="+"||Be==="/"}function ce(Be,T){var Y=Object.keys(Be);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(Be);T&&(V=V.filter(function(Ee){return Object.getOwnPropertyDescriptor(Be,Ee).enumerable})),Y.push.apply(Y,V)}return Y}function de(Be){for(var T=1;T<arguments.length;T++){var Y=arguments[T]!=null?arguments[T]:{};T%2?ce(Object(Y),!0).forEach(function(V){Ce(Be,V,Y[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Be,Object.getOwnPropertyDescriptors(Y)):ce(Object(Y)).forEach(function(V){Object.defineProperty(Be,V,Object.getOwnPropertyDescriptor(Y,V))})}return Be}function Ce(Be,T,Y){return T in Be?Object.defineProperty(Be,T,{value:Y,enumerable:!0,configurable:!0,writable:!0}):Be[T]=Y,Be}(function(Be){Be.VERSION="v",Be.ORIGIN="o",Be.SESSION_NAME="s",Be.INFORMATION="i",Be.URI="u",Be.EMAIL="e",Be.PHONE="p",Be.CONNECTION="c",Be.BANDWIDTH="b",Be.TIME="t",Be.REPEAT="r",Be.ZONE_ADJUSTMENTS="z",Be.KEY="k",Be.ATTRIBUTE="a",Be.MEDIA="m"})(_||(_={}));class be{consumeText(T,Y){let V=Y;for(;V<T.length;){const Ee=T[V];if(Ee==="\0"||Ee==="\r"||Ee===d)break;V+=1}if(V-Y==0)throw new Error("Invalid text, at ".concat(T));return V}consumeUnicastAddress(T,Y,V){return this.consumeTill(T,Y,Q)}consumeOneOrMore(T,Y,V){let Ee=Y;for(;V(T[Ee]);)Ee++;if(Ee-Y==0)throw new Error("Invalid rule at ".concat(Y,"."));return Ee}consumeSpace(T,Y){if(T[Y]===Q)return Y+1;throw new Error("Invalid space at ".concat(Y,"."))}consumeIP4Address(T,Y){let V=Y;for(let Ee=0;Ee<4;Ee++)if(V=this.consumeDecimalUChar(T,V),Ee!==3){if(T[V]!==".")throw new Error("Invalid IP4 address.");V++}return V}consumeDecimalUChar(T,Y){let V=Y;for(let Ve=0;Ve<3&&S(T[V]);Ve++,V++);if(V-Y==0)throw new Error("Invalid decimal uchar.");const Ee=parseInt(T.slice(Y,V));if(Ee>=0&&Ee<=255)return V;throw new Error("Invalid decimal uchar")}consumeIP6Address(T,Y){let V=this.consumeHexpart(T,Y);return T[V]===":"&&(V+=1,V=this.consumeIP4Address(T,V)),V}consumeHexpart(T,Y){let V=Y;if(T[V]===":"&&T[V+1]===":"){V+=2;try{V=this.consumeHexseq(T,V)}catch{}return V}if(V=this.consumeHexseq(T,V),T[V]===":"&&T[V+1]===":"){V+=2;try{V=this.consumeHexseq(T,V)}catch{}return V}return V}consumeHexseq(T,Y){let V=Y;for(;V=this.consumeHex4(T,V),T[V]===":"&&T[V+1]!==":";)V+=1;return V}consumeHex4(T,Y){let V=0;for(;V<4;V++)if(!((Ee=T[Y+V])>="0"&&Ee<="9"||Ee>="a"&&Ee<="f"||Ee>="A"&&Ee<="F")){if(V===0)throw new Error("Invalid hex 4");break}var Ee;return Y+V}consumeFQDN(T,Y){let V=Y;for(;S(T[V])||P(T[V])||T[V]==="-"||T[V]===".";)V+=1;if(V-Y<4)throw new Error("Invalid FQDN");return V}consumeExtnAddr(T,Y){return this.consumeOneOrMore(T,Y,k)}consumeMulticastAddress(T,Y,V){switch(V){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(T,Y);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(T,Y);default:try{return this.consumeFQDN(T,Y)}catch{return this.consumeExtnAddr(T,Y)}}}consumeIP6MulticastAddress(T,Y){const V=this.consumeHexpart(T,Y);return T[V]==="/"?this.consumeInteger(T,V+1):V}consumeIP4MulticastAddress(T,Y){let V=Y+3;const Ee=T.slice(Y,V),Ve=parseInt(Ee);if(Ve<224||Ve>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(let Tt=0;Tt<3;Tt++){if(T[V]!==".")throw new Error("Invalid IP4 multicast address.");V+=1,V=this.consumeDecimalUChar(T,V)}return T[V]==="/"&&(V+=1),V=this.consumeTTL(T,V),T[V]==="/"&&(V=this.consumeInteger(T,V)),V}consumeInteger(T,Y){if(!b(T[Y]))throw new Error("Invalid integer.");for(Y+=1;S(T[Y]);)Y+=1;return Y}consumeTTL(T,Y){if(T[Y]==="0")return Y+1;if(!b(T[Y]))throw new Error("Invalid TTL.");Y+=1;for(let V=0;V<2&&S(T[Y]);V++)Y+=1;return Y}consumeToken(T,Y){return this.consumeOneOrMore(T,Y,v)}consumeTime(T,Y){let V=Y;if(T[V]==="0")return V+1;for(b(T[V])&&(V+=1);S(T[V]);)V++;if(V-Y<10)throw new Error("Invalid time");return V}consumeAddress(T,Y){return this.consumeTill(T,Y,Q)}consumeTypedTime(T,Y){let V=Y;return V=this.consumeOneOrMore(T,V,S),K(T[V])?V+1:V}consumeRepeatInterval(T,Y){if(!b(T[Y]))throw new Error("Invalid repeat interval");for(Y+=1;S(T[Y]);)Y+=1;return K(T[Y])&&(Y+=1),Y}consumePort(T,Y){return this.consumeOneOrMore(T,Y,S)}consume(T,Y,V){for(let Ee=0;Ee<V.length;Ee++){if(Y+Ee>=T.length)throw new Error("consume exceeding value length");if(T[Y+Ee]!==V[Ee])throw new Error("consume ".concat(V," failed at ").concat(Ee))}return Y+V.length}consumeTill(T,Y,V){let Ee=Y;for(;Ee<T.length&&(typeof V!="string"||T[Ee]!==V)&&(typeof V!="function"||!V(T[Ee]));)Ee++;return Ee}}class tt extends be{constructor(){super(),Ce(this,"records",[]),Ce(this,"currentLine",0)}parse(T){const Y=this.probeEOL(T);this.records=T.split(Y).filter(pA=>!!Ai(pA).call(pA)).map(this.parseLine),this.currentLine=0;const V=this.parseVersion(),Ee=this.parseOrigin(),Ve=this.parseSessionName(),Tt=this.parseInformation(),mA=this.parseUri(),Di=this.parseEmail(),Ko=this.parsePhone(),RE=this.parseConnection(),yE=this.parseBandWidth(),ar=this.parseTimeFields(),fn=this.parseKey(),pa=this.parseSessionAttribute(),aA=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:V,origin:Ee,sessionName:Ve,information:Tt,uri:mA,emails:Di,phones:Ko,connection:RE,bandwidths:yE,timeFields:ar,key:fn,attributes:pa,mediaDescriptions:aA}}getCurrentRecord(){const T=this.records[this.currentLine];if(!T)throw new Error("Record doesn't exit.");return T}probeEOL(T){for(let Y=0;Y<T.length;Y++)if(T[Y]===d)return T[Y-1]==="\r"?h:d;throw new Error("Invalid newline character.")}parseLine(T,Y){if(T.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");const V=T[0];if(T[1]!=="=")throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:V,value:T.slice(2),line:Y,cur:0}}parseSessionAttribute(){const T=new Pt;for(;this.currentLine<this.records.length;){const Y=this.getCurrentRecord();if(Y.type!==_.ATTRIBUTE)break;const V={attField:this.extractOneOrMore(Y,Ee=>v(Ee)&&Ee!==":"),_cur:0};Y.value[Y.cur]===":"&&(Y.cur+=1,V.attValue=this.extractOneOrMore(Y,W)),T.parse(V),this.currentLine++}return T.digest()}parseMediaAttributes(T){const Y=new dA(T);for(;this.currentLine<this.records.length;){const V=this.getCurrentRecord();if(V.type!==_.ATTRIBUTE)break;const Ee={attField:this.extractOneOrMore(V,Ve=>v(Ve)&&Ve!==":"),_cur:0};V.value[V.cur]===":"&&(V.cur+=1,Ee.attValue=this.extractOneOrMore(V,W)),Y.parse(Ee),this.currentLine++}return Y.digest()}parseKey(){const T=this.getCurrentRecord();if(T.type===_.KEY){if(T.value==="prompt"||T.value==="clear:"||T.value==="base64:"||T.value==="uri:")return T.value;throw this.currentLine++,new Error("Invalid key.")}}parseZone(){const T=this.getCurrentRecord();if(T.type===_.ZONE_ADJUSTMENTS){const Y=[];for(;;)try{const V=this.extract(T,this.consumeTime);this.consumeSpaceForRecord(T);let Ee=!1;T.value[T.cur]==="-"&&(Ee=!0,T.cur+=1);const Ve=this.extract(T,this.consumeTypedTime);Y.push({time:V,typedTime:Ve,back:Ee})}catch{break}if(Y.length===0)throw new Error("Invalid zone adjustments");return this.currentLine++,Y}return[]}parseRepeat(){const T=[];for(;;){const Y=this.getCurrentRecord();if(Y.type!==_.REPEAT)break;{const V=this.extract(Y,this.consumeRepeatInterval),Ee=this.parseTypedTime(Y);T.push({repeatInterval:V,typedTimes:Ee}),this.currentLine++}}return T}parseTypedTime(T){const Y=[];for(;;)try{this.consumeSpaceForRecord(T),Y.push(this.extract(T,this.consumeTypedTime))}catch{break}if(Y.length===0)throw new Error("Invalid typed time.");return Y}parseTime(){const T=this.getCurrentRecord(),Y=this.extract(T,this.consumeTime);this.consumeSpaceForRecord(T);const V=this.extract(T,this.consumeTime);return this.currentLine++,{startTime:Y,stopTime:V}}parseBandWidth(){const T=[];for(;this.currentLine<this.records.length;){const Y=this.getCurrentRecord();if(Y.type!==_.BANDWIDTH)break;{const V=this.extractOneOrMore(Y,v);if(Y.value[Y.cur]!==":")throw new Error("Invalid bandwidth field.");Y.cur++;const Ee=this.extractOneOrMore(Y,S);T.push({bwtype:V,bandwidth:Ee}),this.currentLine++}}return T}parseVersion(){const T=this.getCurrentRecord();if(T.type!==_.VERSION)throw new Error("first sdp record must be version");const Y=T.value.slice(0,this.consumeOneOrMore(T.value,0,S));if(Y.length!==T.value.length)throw new Error('invalid proto version, "v='.concat(T.value,'"'));return this.currentLine++,Y}parseOrigin(){const T=this.getCurrentRecord();if(T.type!==_.ORIGIN)throw new Error("second line of sdp must be origin");const Y=this.extractOneOrMore(T,k);this.consumeSpaceForRecord(T);const V=this.extractOneOrMore(T,S);this.consumeSpaceForRecord(T);const Ee=this.extractOneOrMore(T,S);this.consumeSpaceForRecord(T);const Ve=this.extractOneOrMore(T,v);this.consumeSpaceForRecord(T);const Tt=this.extractOneOrMore(T,v);this.consumeSpaceForRecord(T);const mA=this.extract(T,this.consumeUnicastAddress);return this.currentLine++,{username:Y,sessId:V,sessVersion:Ee,nettype:Ve,addrtype:Tt,unicastAddress:mA}}parseSessionName(){const T=this.getCurrentRecord();if(T.type===_.SESSION_NAME){const Y=this.extract(T,this.consumeText);return this.currentLine++,Y}}parseInformation(){const T=this.getCurrentRecord();if(T.type!==_.INFORMATION)return;const Y=this.extract(T,this.consumeText);return this.currentLine++,Y}parseUri(){const T=this.getCurrentRecord();if(T.type===_.URI)return this.currentLine++,T.value}parseEmail(){const T=[];for(;;){const Y=this.getCurrentRecord();if(Y.type!==_.EMAIL)break;T.push(Y.value),this.currentLine++}return T}parsePhone(){const T=[];for(;;){const Y=this.getCurrentRecord();if(Y.type!==_.PHONE)break;T.push(Y.value),this.currentLine++}return T}parseConnection(){const T=this.getCurrentRecord();if(T.type===_.CONNECTION){const Y=this.extractOneOrMore(T,v);this.consumeSpaceForRecord(T);const V=this.extractOneOrMore(T,v);this.consumeSpaceForRecord(T);const Ee=this.extract(T,this.consumeAddress);return this.currentLine++,{nettype:Y,addrtype:V,address:Ee}}}parseMedia(){const T=this.getCurrentRecord(),Y=this.extract(T,this.consumeToken);this.consumeSpaceForRecord(T);let V=this.extract(T,this.consumePort);T.value[T.cur]==="/"&&(T.cur+=1,V+=this.extract(T,this.consumeInteger)),this.consumeSpaceForRecord(T);const Ee=[];for(Ee.push(this.extract(T,this.consumeToken));T.value[T.cur]==="/";)T.cur+=1,Ee.push(this.extract(T,this.consumeToken));if(Ee.length===0)throw new Error("Invalid proto");const Ve=this.parseFmt(T);return this.currentLine++,{mediaType:Y,port:V,protos:Ee,fmts:Ve}}parseTimeFields(){const T=[];for(;this.getCurrentRecord().type===_.TIME;){const Y=this.parseTime(),V=this.parseRepeat(),Ee=this.parseZone();T.push({time:Y,repeats:V,zones:Ee})}return T}parseMediaDescription(){const T=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===_.MEDIA;){const Y=this.parseMedia(),V=this.parseInformation(),Ee=this.parseConnections(),Ve=this.parseBandWidth(),Tt=this.parseKey(),mA=this.parseMediaAttributes(Y);T.push({media:Y,information:V,connections:Ee,bandwidths:Ve,key:Tt,attributes:mA})}return T}parseConnections(){const T=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===_.CONNECTION;)T.push(this.parseConnection());return T}parseFmt(T){const Y=[];for(;;)try{this.consumeSpaceForRecord(T),Y.push(this.extract(T,this.consumeToken))}catch{break}if(Y.length===0)throw new Error("Invalid fmts");return Y}extract(T,Y){for(var V=arguments.length,Ee=new Array(V>2?V-2:0),Ve=2;Ve<V;Ve++)Ee[Ve-2]=arguments[Ve];const Tt=Y.call(this,T.value,T.cur,...Ee),mA=T.value.slice(T.cur,Tt);return T.cur=Tt,mA}extractOneOrMore(T,Y){const V=this.consumeOneOrMore(T.value,T.cur,Y),Ee=T.value.slice(T.cur,V);return T.cur=V,Ee}consumeSpaceForRecord(T){if(T.value[T.cur]!==Q)throw new Error("Invalid space at ".concat(T.cur,"."));T.cur+=1}}class ft extends be{constructor(){super(...arguments),Ce(this,"attributes",void 0),Ce(this,"digested",!1)}extractOneOrMore(T,Y,V){const Ee=this.consumeOneOrMore(T.attValue,T._cur,Y),Ve=T.attValue.slice(T._cur,Ee),[Tt,mA]=V||[];if(typeof Tt=="number"&&Ve.length<Tt)throw new Error("error in length, should be more or equal than ".concat(Tt," characters."));if(typeof mA=="number"&&Ve.length>mA)throw new Error("error in length, should be less or equal than ".concat(mA," characters."));return T._cur=Ee,Ve}consumeAttributeSpace(T){if(T.attValue[T._cur]!==Q)throw new Error("Invalid space at ".concat(T._cur,"."));T._cur+=1}extract(T,Y){if(!T.attValue)throw new Error("Nothing to extract from attValue.");for(var V=arguments.length,Ee=new Array(V>2?V-2:0),Ve=2;Ve<V;Ve++)Ee[Ve-2]=arguments[Ve];const Tt=Y.call(this,T.attValue,T._cur,...Ee),mA=T.attValue.slice(T._cur,Tt);return T._cur=Tt,mA}atEnd(T){if(!T.attValue)throw new Error;return T._cur>=T.attValue.length}peekChar(T){if(!T.attValue)throw new Error;return T.attValue[T._cur]}peek(T,Y){if(!T.attValue)throw new Error;for(let V=0;V<Y.length;V++)if(Y[V]!==T.attValue[T._cur+V])return!1;return!0}parseIceUfrag(T){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(T,X,[4,256])}parseIcePwd(T){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(T,X,[22,256])}parseIceOptions(T){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");const Y=[];for(;!this.atEnd(T);){Y.push(this.extractOneOrMore(T,X));try{this.consumeAttributeSpace(T)}catch(V){if(this.atEnd(T))break;throw V}}this.attributes.iceOptions=Y}parseFingerprint(T){const Y=this.extract(T,this.consumeToken);this.consumeAttributeSpace(T);const V=this.extract(T,this.consumeTill);this.attributes.fingerprints.push({hashFunction:Y,fingerprint:V})}parseExtmap(T){const Y=this.extractOneOrMore(T,S);let V;this.peekChar(T)==="/"&&(this.extract(T,this.consume,"/"),V=this.extract(T,this.consumeToken)),this.consumeAttributeSpace(T);const Ee=this.extract(T,this.consumeTill,Q),Ve=de(de({entry:parseInt(Y,10)},V&&{direction:V}),{},{extensionName:Ee});this.peekChar(T)===Q&&(this.consumeAttributeSpace(T),Ve.extensionAttributes=this.extract(T,this.consumeTill)),this.attributes.extmaps.push(Ve)}parseSetup(T){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");const Y=this.extract(T,this.consumeTill);if(Y!=="active"&&Y!=="passive"&&Y!=="actpass"&&Y!=="holdconn")throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=Y}}class Pt extends ft{constructor(){super(...arguments),Ce(this,"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(T){if(this.digested)throw new Error("already digested");try{switch(T.attField){case"group":this.parseGroup(T);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(T);break;case"ice-pwd":this.parseIcePwd(T);break;case"ice-options":this.parseIceOptions(T);break;case"fingerprint":this.parseFingerprint(T);break;case"setup":this.parseSetup(T);break;case"tls-id":this.parseTlsId(T);break;case"identity":this.parseIdentity(T);break;case"extmap":this.parseExtmap(T);break;case"msid-semantic":this.parseMsidSemantic(T);break;default:T.ignored=!0,this.attributes.unrecognized.push(T)}}catch(Y){throw console.error("parsing session attribute ".concat(T.attField,' error, "a=').concat(T.attField,":").concat(T.attValue,'"')),Y}if(!T.ignored&&T.attValue&&!this.atEnd(T))throw new Error("attribute parsing error")}digest(){return this.digested=!0,this.attributes}parseGroup(T){const Y=this.extract(T,this.consumeToken),V=[];for(;!this.atEnd(T)&&this.peekChar(T)===Q;)this.consumeAttributeSpace(T),V.push(this.extract(T,this.consumeToken));this.attributes.groups.push({semantic:Y,identificationTag:V})}parseIceLite(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}parseTlsId(T){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(T,Z)}parseIdentity(T){const Y=this.extractOneOrMore(T,ie),V=[];for(;!this.atEnd(T)&&this.peekChar(T)===Q;){this.consumeAttributeSpace(T);const Ee=this.extract(T,this.consumeToken);this.extract(T,this.consume,"=");const Ve=this.extractOneOrMore(T,Tt=>Tt!==Q&&W(Tt));V.push({name:Ee,value:Ve})}this.attributes.identities.push({assertionValue:Y,extensions:V})}parseMsidSemantic(T){this.peekChar(T)===Q&&this.consumeAttributeSpace(T);const Y={semantic:this.extract(T,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(T)}catch{break}if(this.peekChar(T)==="*"){this.extract(T,this.consume,"*"),Y.applyForAll=!0;break}{const V=this.extract(T,this.consumeTill,Q);Y.identifierList.push(V)}}this.attributes.msidSemantic=Y}}class dA extends ft{constructor(T){super(),Ce(this,"attributes",void 0),T.protos.indexOf("RTP")!==-1||T.protos.indexOf("rtp"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(T){if(this.digested)throw new Error("already digested");try{switch(T.attField){case"extmap":this.parseExtmap(T);break;case"setup":this.parseSetup(T);break;case"ice-ufrag":this.parseIceUfrag(T);break;case"ice-pwd":this.parseIcePwd(T);break;case"ice-options":this.parseIceOptions(T);break;case"candidate":this.parseCandidate(T);break;case"remote-candidate":this.parseRemoteCandidate(T);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(T);break;case"rtpmap":this.parseRtpmap(T);break;case"ptime":this.parsePtime(T);break;case"maxptime":this.parseMaxPtime(T);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(T);break;case"ssrc":this.parseSSRC(T);break;case"fmtp":this.parseFmtp(T);break;case"rtcp-fb":this.parseRtcpFb(T);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(T);break;case"mid":this.parseMid(T);break;case"msid":this.parseMsid(T);break;case"imageattr":this.parseImageAttr(T);break;case"rid":this.parseRid(T);break;case"simulcast":this.parseSimulcast(T);break;case"sctp-port":this.parseSctpPort(T);break;case"max-message-size":this.parseMaxMessageSize(T);break;case"ssrc-group":this.parseSSRCGroup(T);break;default:T.ignored=!0,this.attributes.unrecognized.push(T)}}catch(Y){throw console.error("parsing media attribute ".concat(T.attField,' error, "a=').concat(T.attField,":").concat(T.attValue,'"')),Y}if(!T.ignored&&T.attValue&&!this.atEnd(T))throw new Error("attribute parsing error")}parseCandidate(T){const Y=this.extractOneOrMore(T,X,[1,32]);this.consumeAttributeSpace(T);const V=this.extractOneOrMore(T,S,[1,5]);this.consumeAttributeSpace(T);const Ee=this.extract(T,this.consumeToken);this.consumeAttributeSpace(T);const Ve=this.extractOneOrMore(T,S,[1,10]);this.consumeAttributeSpace(T);const Tt=this.extract(T,this.consumeAddress);this.consumeAttributeSpace(T);const mA=this.extract(T,this.consumePort);this.consumeAttributeSpace(T),this.extract(T,this.consume,"typ"),this.consumeAttributeSpace(T);const Di={foundation:Y,componentId:V,transport:Ee,priority:Ve,connectionAddress:Tt,port:mA,type:this.extract(T,this.consumeToken),extension:{}};for(this.peek(T," raddr")&&(this.extract(T,this.consume," raddr"),this.consumeAttributeSpace(T),Di.relAddr=this.extract(T,this.consumeAddress)),this.peek(T," rport")&&(this.extract(T,this.consume," rport"),this.consumeAttributeSpace(T),Di.relPort=this.extract(T,this.consumePort));this.peekChar(T)===Q;){this.consumeAttributeSpace(T);const Ko=this.extract(T,this.consumeToken);this.consumeAttributeSpace(T),Di.extension[Ko]=this.extractOneOrMore(T,w)}this.attributes.candidates.push(Di)}parseRemoteCandidate(T){const Y=[];for(;;){const V=this.extractOneOrMore(T,S,[1,5]);this.consumeAttributeSpace(T);const Ee=this.extract(T,this.consumeAddress);this.consumeAttributeSpace(T);const Ve=this.extract(T,this.consumePort);Y.push({componentId:V,connectionAddress:Ee,port:Ve});try{this.consumeAttributeSpace(T)}catch{break}}this.attributes.remoteCandidatesList.push(Y)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}parseRtpmap(T){const Y=this.extract(T,this.consumeToken);this.consumeAttributeSpace(T);const V=this.extract(T,this.consumeTill,"/");this.extract(T,this.consume,"/");const Ee={encodingName:V,clockRate:this.extractOneOrMore(T,S)};this.atEnd(T)||this.peekChar(T)!=="/"||(this.extract(T,this.consume,"/"),Ee.encodingParameters=parseInt(this.extract(T,this.consumeTill),10));const Ve=this.attributes.payloads.find(Tt=>Tt.payloadType===parseInt(Y,10));Ve?Ve.rtpMap=Ee:this.attributes.payloads.push({payloadType:parseInt(Y,10),rtpMap:Ee,rtcpFeedbacks:[]})}parsePtime(T){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(T,this.consumeTill)}parseMaxPtime(T){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(T,this.consumeTill)}parseDirection(T){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=T.attField}parseSSRC(T){const Y=this.extractOneOrMore(T,S);this.consumeAttributeSpace(T);const V=this.extract(T,this.consumeTill,":");let Ee;this.peekChar(T)===":"&&(this.extract(T,this.consume,":"),Ee=this.extract(T,this.consumeTill));const Ve=this.attributes.ssrcs.find(Tt=>Tt.ssrcId===parseInt(Y,10));Ve?Ve.attributes[V]=Ee:this.attributes.ssrcs.push({ssrcId:parseInt(Y,10),attributes:{[V]:Ee}})}parseFmtp(T){const Y=this.extract(T,this.consumeTill,Q);this.consumeAttributeSpace(T);const V=this.extract(T,this.consumeTill),Ee={};V.split(";").forEach(Tt=>{let[mA,Di]=Tt.split("=");mA=Ai(mA).call(mA);const Ko=typeof Di=="string"?Ai(Di).call(Di):null;typeof mA=="string"&&mA.length>0&&(Ee[mA]=Ko)});const Ve=this.attributes.payloads.find(Tt=>Tt.payloadType===parseInt(Y,10));Ve?Ve.fmtp={parameters:Ee}:this.attributes.payloads.push({payloadType:parseInt(Y,10),rtcpFeedbacks:[],fmtp:{parameters:Ee}})}parseFmtParameters(T){const Y={},V=this.extract(T,this.consumeTill,"=");T._cur++;const Ee=this.extract(T,this.consumeTill,";");for(Y[V]=Ee;T.attValue[T._cur]===";";){const Ve=this.extract(T,this.consumeTill,"=");T._cur++;const Tt=this.extract(T,this.consumeTill,";");Y[Ve]=Tt}return Y}parseRtcpFb(T){let Y="";Y=this.peekChar(T)==="*"?this.extract(T,this.consume,"*"):this.extract(T,this.consumeTill,Q),this.consumeAttributeSpace(T);const V=this.extract(T,this.consumeTill,Q);let Ee;if(V==="trr-int")Ee={type:V,interval:this.extract(T,this.consumeTill)};else{const Ve={type:V};this.peekChar(T)===Q&&(this.consumeAttributeSpace(T),Ve.parameter=this.extract(T,this.consumeToken),this.peekChar(T)===Q&&(Ve.additional=this.extract(T,this.consumeTill))),Ee=Ve}if(Y==="*")this.attributes.rtcpFeedbackWildcards.push(Ee);else{const Ve=this.attributes.payloads.find(Tt=>Tt.payloadType===parseInt(Y,10));Ve?Ve.rtcpFeedbacks.push(Ee):this.attributes.payloads.push({payloadType:parseInt(Y,10),rtcpFeedbacks:[Ee]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}parseRTCP(T){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");const Y={port:this.extract(T,this.consumePort)};this.peekChar(T)===Q&&(this.consumeAttributeSpace(T),Y.netType=this.extractOneOrMore(T,v),this.consumeAttributeSpace(T),Y.addressType=this.extractOneOrMore(T,v),this.consumeAttributeSpace(T),Y.address=this.extract(T,this.consumeAddress)),this.attributes.rtcp=Y}parseMsid(T){const Y={id:this.extractOneOrMore(T,v,[1,64])};this.peekChar(T)===Q&&(this.consumeAttributeSpace(T),Y.appdata=this.extractOneOrMore(T,v,[1,64])),this.attributes.msids.push(Y)}parseImageAttr(T){this.attributes.imageattr.push(T.attValue)}parseRid(T){const Y=this.extractOneOrMore(T,Ee=>P(Ee)||S(Ee)||Ee==="_"||Ee==="-");this.consumeAttributeSpace(T);const V={id:Y,direction:this.extract(T,this.consumeToken),params:[]};if(this.peekChar(T)===Q){if(this.consumeAttributeSpace(T),this.peek(T,"pt=")){this.extract(T,this.consume,"pt=");const Ee=[];for(;;){const Ve=this.extract(T,this.consumeToken);Ee.push(Ve);try{this.extract(T,this.consume,",")}catch{break}}V.payloads=Ee,this.peekChar(T)===Q&&this.extract(T,this.consume,Q)}for(;;){const Ee=this.extract(T,this.consumeToken);switch(Ee){case"depend":{const Ve={type:Ee,rids:this.extract(T,this.consume,"=").split(",")};V.params.push(Ve);break}default:{const Ve={type:Ee};this.peekChar(T)==="="&&(this.extract(T,this.consume,"="),Ve.val=this.extract(T,this.consumeTill,";")),V.params.push(Ve)}}try{this.extract(T,this.consume,";")}catch{break}}}this.attributes.rids.push(V)}parseSimulcast(T){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=T.attValue,this.extract(T,this.consumeTill)}parseSctpPort(T){this.attributes.sctpPort=this.extractOneOrMore(T,S,[1,5])}parseMaxMessageSize(T){this.attributes.maxMessageSize=this.extractOneOrMore(T,S,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(T){this.attributes.mid=this.extract(T,this.consumeToken)}parseSSRCGroup(T){const Y=this.extract(T,this.consumeToken),V=[];for(;;)try{this.consumeAttributeSpace(T);const Ee=this.extract(T,this.consumeInteger);V.push(parseInt(Ee,10))}catch{break}this.attributes.ssrcGroups.push({semantic:Y,ssrcIds:V})}}function jt(Be,T,Y){return T in Be?Object.defineProperty(Be,T,{value:Y,enumerable:!0,configurable:!0,writable:!0}):Be[T]=Y,Be}class br{constructor(){jt(this,"eol",h)}print(T,Y){let V="";return Y&&(this.eol=Y),V+=this.printVersion(T.version),V+=this.printOrigin(T.origin),V+=this.printSessionName(T.sessionName),V+=this.printInformation(T.information),V+=this.printUri(T.uri),V+=this.printEmail(T.emails),V+=this.printPhone(T.phones),V+=this.printConnection(T.connection),V+=this.printBandwidth(T.bandwidths),V+=this.printTimeFields(T.timeFields),V+=this.printKey(T.key),V+=this.printSessionAttributes(T.attributes),V+=this.printMediaDescription(T.mediaDescriptions),V}printVersion(T){return"v=".concat(T).concat(this.eol)}printOrigin(T){return"o=".concat(T.username," ").concat(T.sessId," ").concat(T.sessVersion," ").concat(T.nettype," ").concat(T.addrtype," ").concat(T.unicastAddress).concat(this.eol)}printSessionName(T){return T?"s=".concat(T).concat(this.eol):""}printInformation(T){return T?"i=".concat(T).concat(this.eol):""}printUri(T){return T?"u=".concat(T).concat(this.eol):""}printEmail(T){let Y="";for(const V of T)Y+="e=".concat(V).concat(this.eol);return Y}printPhone(T){let Y="";for(const V of T)Y+="e=".concat(V).concat(this.eol);return Y}printConnection(T){return T?"c=".concat(T.nettype," ").concat(T.addrtype," ").concat(T.address).concat(this.eol):""}printBandwidth(T){let Y="";for(const V of T)Y+="b=".concat(V.bwtype,":").concat(V.bandwidth).concat(this.eol);return Y}printTimeFields(T){let Y="";for(const V of T){Y+="t=".concat(V.time.startTime," ").concat(V.time.startTime).concat(this.eol);for(const Ee of V.repeats)Y+="r=".concat(Ee.repeatInterval," ").concat(Ee.typedTimes.join(" ")).concat(this.eol);V.zoneAdjustments&&(Y+="z=",Y+="z=".concat(V.zoneAdjustments.map(Ee=>"".concat(Ee.time," ").concat(Ee.back?"-":""," ").concat(Ee.typedTime)).join(" ")).concat(this.eol),Y+=this.eol)}return Y}printKey(T){return T?"k=".concat(T).concat(this.eol):""}printAttributes(T){let Y="";for(const V of T)Y+="a=".concat(V.attField).concat(V.attValue?":".concat(V.attValue):"").concat(this.eol);return Y}printMediaDescription(T){let Y="";for(const V of T)Y+=this.printMedia(V.media),Y+=this.printInformation(V.information),Y+=this.printConnections(V.connections),Y+=this.printBandwidth(V.bandwidths),Y+=this.printKey(V.key),Y+=this.printMediaAttributes(V);return Y}printConnections(T){let Y="";for(const V of T)Y+=this.printConnection(V);return Y}printMedia(T){return"m=".concat(T.mediaType," ").concat(T.port," ").concat(T.protos.join("/")," ").concat(T.fmts.join(" ")).concat(this.eol)}printSessionAttributes(T){return new ue(this.eol).print(T)}printMediaAttributes(T){return new Te(this.eol).print(T)}}class se{constructor(T){jt(this,"eol",void 0),this.eol=T}printIceUfrag(T){return T===void 0?"":"a=ice-ufrag:".concat(T).concat(this.eol)}printIcePwd(T){return T===void 0?"":"a=ice-pwd:".concat(T).concat(this.eol)}printIceOptions(T){return T===void 0?"":"a=ice-options:".concat(T.join(Q)).concat(this.eol)}printFingerprints(T){return T.length>0?T.map(Y=>"a=fingerprint:".concat(Y.hashFunction).concat(Q).concat(Y.fingerprint)).join(this.eol)+this.eol:""}printExtmap(T){return T.map(Y=>"a=extmap:".concat(Y.entry).concat(Y.direction?"/".concat(Y.direction):"").concat(Q).concat(Y.extensionName).concat(Y.extensionAttributes?"".concat(Q).concat(Y.extensionAttributes):"").concat(this.eol)).join("")}printSetup(T){return T===void 0?"":"a=setup:".concat(T).concat(this.eol)}printUnrecognized(T){return T.map(Y=>"a=".concat(Y.attField).concat(Y.attValue?":".concat(Y.attValue):"").concat(this.eol)).join("")}}class ue extends se{print(T){let Y="";return Y+=this.printGroups(T.groups),Y+=this.printMsidSemantic(T.msidSemantic),Y+=this.printIceLite(T.iceLite),Y+=this.printIceUfrag(T.iceUfrag),Y+=this.printIcePwd(T.icePwd),Y+=this.printIceOptions(T.iceOptions),Y+=this.printFingerprints(T.fingerprints),Y+=this.printSetup(T.setup),Y+=this.printTlsId(T.tlsId),Y+=this.printIdentity(T.identities),Y+=this.printExtmap(T.extmaps),Y+=this.printUnrecognized(T.unrecognized),Y}printGroups(T){let Y="";return T.length>0&&(Y+=T.map(V=>"a=group:".concat(V.semantic).concat(V.identificationTag.map(Ee=>"".concat(Q).concat(Ee)).join("")).concat(this.eol)).join("")),Y}printIceLite(T){return T===void 0?"":"a=ice-lite"+this.eol}printTlsId(T){return T?"a=tls-id:".concat(T).concat(this.eol):""}printIdentity(T){return T.length===0?"":T.map(Y=>"a=identity:".concat(Y.assertionValue).concat(Y.extensions.map(V=>"".concat(Q).concat(V.name).concat(V.value?"=".concat(V.value):"")))).join(this.eol)+this.eol}printMsidSemantic(T){if(!T)return"";let Y="a=msid-semantic:".concat(T.semantic);return T.applyForAll?Y+="".concat(Q,"*"):T.identifierList.length>0&&(Y+=T.identifierList.map(V=>"".concat(Q).concat(V))),Y+this.eol}}class Te extends se{print(T){const Y=T.attributes;let V="";return V+=this.printRTCP(Y.rtcp),V+=this.printIceUfrag(Y.iceUfrag),V+=this.printIcePwd(Y.icePwd),V+=this.printIceOptions(Y.iceOptions),V+=this.printCandidates(Y.candidates),V+=this.printRemoteCandidatesList(Y.remoteCandidatesList),V+=this.printEndOfCandidates(Y.endOfCandidates),V+=this.printFingerprints(Y.fingerprints),V+=this.printSetup(Y.setup),V+=this.printMid(Y.mid),V+=this.printExtmap(Y.extmaps),V+=this.printRTPRelated(Y),V+=this.printPtime(Y.ptime),V+=this.printMaxPtime(Y.maxPtime),V+=this.printDirection(Y.direction),V+=this.printSSRCGroups(Y.ssrcGroups),V+=this.printSSRC(Y.ssrcs),V+=this.printRTCPMux(Y.rtcpMux),V+=this.printRTCPMuxOnly(Y.rtcpMuxOnly),V+=this.printRTCPRsize(Y.rtcpRsize),V+=this.printMSId(Y.msids),V+=this.printImageattr(Y.imageattr),V+=this.printRid(Y.rids),V+=this.printSimulcast(Y.simulcast),V+=this.printSCTPPort(Y.sctpPort),V+=this.printMaxMessageSize(Y.maxMessageSize),V+=this.printUnrecognized(Y.unrecognized),V}printCandidates(T){return T.map(Y=>"a=candidate:".concat(Y.foundation).concat(Q).concat(Y.componentId).concat(Q).concat(Y.transport).concat(Q).concat(Y.priority).concat(Q).concat(Y.connectionAddress).concat(Q).concat(Y.port).concat(Q,"typ").concat(Q).concat(Y.type).concat(Y.relAddr?"".concat(Q,"raddr").concat(Q).concat(Y.relAddr):"").concat(Y.relPort?"".concat(Q,"rport").concat(Q).concat(Y.relPort):"").concat(Object.keys(Y.extension).map(V=>"".concat(Q).concat(V).concat(Q).concat(Y.extension[V])).join("")).concat(this.eol)).join("")}printRemoteCandidatesList(T){return T.map(Y=>"a=remote-candidates:".concat(Y.join(Q)).concat(this.eol)).join("")}printEndOfCandidates(T){return T===void 0?"":"a=end-of-candidates"+this.eol}printRTPRelated(T){if(!T.payloads)return"";const Y=T.payloads;let V="";V+=T.rtcpFeedbackWildcards.map(Ee=>this.printRTCPFeedback("*",Ee)).join("");for(const Ee of Y)V+=this.printRtpMap(Ee.payloadType,Ee.rtpMap),V+=this.printFmtp(Ee.payloadType,Ee.fmtp),V+=Ee.rtcpFeedbacks.map(Ve=>this.printRTCPFeedback(Ee.payloadType,Ve)).join("");return V}printFmtp(T,Y){if(!Y)return"";const V=Object.keys(Y.parameters);return V.length===1&&Y.parameters[V[0]]===null?"a=fmtp:".concat(T).concat(Q).concat(V[0]).concat(this.eol):"a=fmtp:".concat(T).concat(Q).concat(Object.keys(Y.parameters).map(Ee=>"".concat(Ee,"=").concat(Y.parameters[Ee])).join(";")).concat(this.eol)}printRtpMap(T,Y){return Y?"a=rtpmap:".concat(T).concat(Q).concat(Y.encodingName,"/").concat(Y.clockRate).concat(Y.encodingParameters?"/".concat(Y.encodingParameters):"").concat(this.eol):""}printRTCPFeedback(T,Y){let V="a=rtcp-fb:".concat(T).concat(Q),Ee=Y;return Ee.type==="trr-int"?V+="ttr-int".concat(Q).concat(Ee.interval):(V+="".concat(Ee.type),Ee.parameter&&(V+="".concat(Q).concat(Ee.parameter),Ee.additional&&(V+="".concat(Q).concat(Ee.additional)))),V+this.eol}printPtime(T){return T===void 0?"":"a=ptime:".concat(T).concat(this.eol)}printMaxPtime(T){return T===void 0?"":"a=maxptime:".concat(T).concat(this.eol)}printDirection(T){return T===void 0?"":"a=".concat(T).concat(this.eol)}printSSRC(T){return T.map(Y=>Object.keys(Y.attributes).map(V=>"a=ssrc:".concat(Y.ssrcId.toString(10)).concat(Q).concat(V).concat(Y.attributes[V]?":".concat(Y.attributes[V]):"").concat(this.eol)).join("")).join("")}printRTCPMux(T){return T===void 0?"":"a=rtcp-mux".concat(this.eol)}printRTCPMuxOnly(T){return T===void 0?"":"a=rtcp-mux-only".concat(this.eol)}printRTCPRsize(T){return T===void 0?"":"a=rtcp-rsize".concat(this.eol)}printRTCP(T){if(T===void 0)return"";let Y="a=rtcp:".concat(T.port);return T.netType&&(Y+="".concat(Q).concat(T.netType)),T.addressType&&(Y+="".concat(Q).concat(T.addressType)),T.address&&(Y+="".concat(Q).concat(T.address)),Y+this.eol}printMSId(T){return T.map(Y=>"a=msid:".concat(Y.id).concat(Y.appdata?"".concat(Q).concat(Y.appdata):"").concat(this.eol)).join("")}printImageattr(T){return T.map(Y=>"a=imageattr:".concat(Y).concat(this.eol)).join("")}printRid(T){return T.map(Y=>{let V="a=rid:".concat(Y.id).concat(Q).concat(Y.direction);return Y.payloads&&(V+="".concat(Q,"pt=").concat(Y.payloads.join(","))),Y.params.length>0&&(V+="".concat(Q).concat(Y.params.map(Ee=>Ee.type==="depend"?"depend=".concat(Ee.rids.join(",")):"".concat(Ee.type,"=").concat(Ee.val)).join(";"))),V+this.eol}).join("")}printSimulcast(T){return T===void 0?"":"a=simulcast:".concat(T).concat(this.eol)}printSCTPPort(T){return T===void 0?"":"a=sctp-port:".concat(T).concat(this.eol)}printMaxMessageSize(T){return T===void 0?"":"a=max-message-size:".concat(T).concat(this.eol)}printMid(T){return T===void 0?"":"a=mid:".concat(T).concat(this.eol)}printSSRCGroups(T){return T.map(Y=>"a=ssrc-group:".concat(Y.semantic).concat(Y.ssrcIds.map(V=>"".concat(Q).concat(V.toString(10))).join("")).concat(this.eol)).join("")}}function qe(Be){return new tt().parse(Be)}function Bt(Be,T){return new br().print(Be,T)}}},s={};function c(I){if(s[I])return s[I].exports;var C=s[I]={exports:{}};return o[I](C,C.exports,c),C.exports}return c.d=(I,C)=>{for(var l in C)c.o(C,l)&&!c.o(I,l)&&Object.defineProperty(I,l,{enumerable:!0,get:C[l]})},c.o=(I,C)=>Object.prototype.hasOwnProperty.call(I,C),c.r=I=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},c(8)})()})(KS);var PA=KS.exports;function sd(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:J("SVC_MODE");if(J("ENABLE_SVC"))return function(A){return A in uu}(t)?t:uu.L1T3}function xS(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function YS(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?xS(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):xS(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}function dc(t){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;const{filterRTX:c,filterVideoFec:I,filterAudioFec:C,filterAudioCodec:l,filterVideoCodec:d}=A,{useXR:h}=o;let Q=[],_=[],S=[],w=[],k=!1,v=!1;if(PA.parse(t).mediaDescriptions.forEach(P=>{s&&s!==P.attributes.direction||(P.media.mediaType!=="video"||k||(_=P.attributes.payloads,w=P.attributes.extmaps,k=!0),P.media.mediaType!=="audio"||v||(Q=P.attributes.payloads,S=P.attributes.extmaps,v=!0))}),!w||_.length===0)throw new Error("Cannot get video capabilities from SDP.");if(!S||Q.length===0)throw new Error("Cannot get audio capabilities from SDP.");if(_.forEach(P=>{var K;(K=P.rtpMap)!==null&&K!==void 0&&K.clockRate&&(P.rtpMap.clockRate=parseInt(P.rtpMap.clockRate)),h&&P.rtcpFeedbacks.push({type:"rrtr"})}),Q.forEach(P=>{var K;(K=P.rtpMap)!==null&&K!==void 0&&K.clockRate&&(P.rtpMap.clockRate=parseInt(P.rtpMap.clockRate)),h&&P.rtcpFeedbacks.push({type:"rrtr"})}),c&&(Q=Q.filter(P=>{var K;return((K=P.rtpMap)===null||K===void 0?void 0:K.encodingName.toLowerCase())!=="rtx"}),_=_.filter(P=>{var K;return((K=P.rtpMap)===null||K===void 0?void 0:K.encodingName.toLowerCase())!=="rtx"})),I&&(_=_.filter(P=>{var K;return!/(red)|(ulpfec)|(flexfec)/i.test(((K=P.rtpMap)===null||K===void 0?void 0:K.encodingName)||"")})),C&&(Q=Q.filter(P=>{var K;return!/(red)|(ulpfec)|(flexfec)/i.test(((K=P.rtpMap)===null||K===void 0?void 0:K.encodingName)||"")})),l&&(l==null?void 0:l.length)>0&&(Q=Q.filter(P=>{var K;return Re(l).call(l,((K=P.rtpMap)===null||K===void 0?void 0:K.encodingName.toLowerCase())||"")})),d&&(d==null?void 0:d.length)>0){const P=_.filter(K=>{var W;return Re(d).call(d,((W=K.rtpMap)===null||W===void 0?void 0:W.encodingName.toLowerCase())||"")});_=P.concat(c?[]:gd(P,_))}const b=J("UNSUPPORTED_VIDEO_CODEC");return b&&b.length>0&&(_=_.filter(P=>!(P.rtpMap&&Re(b).call(b,P.rtpMap.encodingName.toLowerCase())))),{audioCodecs:Q,videoCodecs:_,audioExtensions:S,videoExtensions:w}}function an(t){const A=PA.parse(t);let o,s;for(const c of A.mediaDescriptions){if(!o){const I=c.attributes.iceUfrag,C=c.attributes.icePwd;if(!I||!C)throw new Error("Cannot get iceUfrag or icePwd from SDP.");o={iceUfrag:I,icePwd:C}}if(!s){const I=c.attributes.fingerprints;I.length>0&&(s={fingerprints:I})}}if(!s&&A.attributes.fingerprints.length>0&&(s={fingerprints:A.attributes.fingerprints}),!s||!o)throw new Error("Cannot get iceParameters or dtlsParameters from SDP.");return{iceParameters:o,dtlsParameters:s}}function JS(t,A){const o=[],s=t.attributes.ssrcGroups.filter(C=>C.semantic==="FID"),c=t.attributes.ssrcGroups.find(C=>C.semantic==="SIM"),I=t.attributes.ssrcs;if(c)c.ssrcIds.forEach(C=>{var l;const d=(l=s.find(h=>h.ssrcIds[0]===C))===null||l===void 0?void 0:l.ssrcIds[1];o.push({ssrcId:C,rtx:A?d:void 0})});else if(s.length>0){const C=s[0].ssrcIds[0],l=s[0].ssrcIds[1];o.push({ssrcId:C,rtx:A?l:void 0})}else{if(I.length===0)throw new Error("No ssrcs found on local media description.");o.push({ssrcId:I[0].ssrcId})}return o}function HS(t,A,o){const{cname:s}=t;let c;A?c=qS(A):(c=t.iceParameters.candidates.map(Q=>({foundation:Q.foundation,componentId:"1",transport:Q.protocol,priority:Q.priority.toString(),connectionAddress:Q.ip,port:Q.port.toString(),type:Q.type,extension:{}})),N.debug("Using candidates from gateway."));const I={fingerprints:t.dtlsParameters.fingerprints.map(Q=>({hashFunction:Q.algorithm,fingerprint:Q.fingerprint}))},C={iceUfrag:t.iceParameters.iceUfrag,icePwd:t.iceParameters.icePwd};let l;switch(t.dtlsParameters.role){case"server":l="passive";break;case"client":l="active";break;case"auto":l="actpass"}const d=xI(t.rtpCapabilities),h=[];return Array.isArray(o)&&o.length>0&&o.forEach(Q=>{h.push({kind:Oe.VIDEO,ssrcId:Q.v,rtx:Q.v_rtx,mslabel:"".concat(Q.v,"_").concat(Q.a)},{kind:Oe.AUDIO,ssrcId:Q.a,mslabel:"".concat(Q.v,"_").concat(Q.a)})}),{dtlsParameters:I,iceParameters:C,candidates:c,rtpCapabilities:d,setup:l,cname:s,preSSRCs:h}}function qS(t){let A=[];return t.ip&&typeof t.port=="number"&&(A=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip,port:t.port.toString(),type:"host",extension:{}}],N.debug("Using remote candidate from AP ".concat(t.ip,":").concat(t.port)),t.ip6&&(A.push({foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip6,port:t.port.toString(),type:"host",extension:{}}),N.debug("Using IPV6 remote candidate from AP ".concat(t.ip6,":").concat(t.port)))),A}function Jn(t,A,o){const s=[],c=[];return t.forEach(I=>{let{ssrcId:C,rtx:l}=I;const d=kt(8,"track-"),h={ssrcId:C,attributes:YS({label:d,mslabel:o=o||kt(10,""),msid:"".concat(o," ").concat(d)},A&&{cname:A})};if(s.push(h),l!==void 0){const Q={ssrcId:l,attributes:YS({label:d,mslabel:o,msid:"".concat(o," ").concat(d)},A&&{cname:A})};s.push(Q),c.push({semantic:"FID",ssrcIds:[C,l]})}}),t.length>1&&c.push({semantic:"SIM",ssrcIds:t.map(I=>{let{ssrcId:C}=I;return C})}),{ssrcs:s,ssrcGroups:c}}function na(t,A){A instanceof tA&&t.attributes.payloads.forEach(o=>{var s;const c=(s=o.rtpMap)===null||s===void 0?void 0:s.encodingName.toLowerCase();if(!c||["opus","pcmu","pcma","g722"].indexOf(c)===-1)return;o.fmtp||(o.fmtp={parameters:{}}),o.fmtp.parameters.minptime="10",o.fmtp.parameters.useinbandfec="1";const I=A._encoderConfig;I&&c!=="pcmu"&&c!=="pcma"&&c!=="g722"&&(I.bitrate&&!zt()&&(o.fmtp.parameters.maxaveragebitrate="".concat(Math.floor(1e3*I.bitrate))),I.sampleRate&&(o.fmtp.parameters.maxplaybackrate="".concat(I.sampleRate),o.fmtp.parameters["sprop-maxcapturerate"]="".concat(I.sampleRate)),I.stereo&&(o.fmtp.parameters.stereo="1",o.fmtp.parameters["sprop-stereo"]="1"))})}function ad(t){const A=t.attributes.unrecognized.findIndex(o=>o.attField==="x-google-flag"&&o.attValue==="conference");A!==-1&&t.attributes.unrecognized.splice(A,1)}function cd(t,A){var o;if(!(A instanceof Ft&&A._encoderConfig&&A._hints.indexOf(xt.SCREEN_TRACK)===-1))return;const s=A._encoderConfig;Ct().supportMinBitrate&&s.bitrateMin&&t.attributes.payloads.forEach(c=>{var I,C;Re(I=["h264","h265","vp8","vp9","av1"]).call(I,((C=c.rtpMap)===null||C===void 0?void 0:C.encodingName.toLowerCase())||"")&&(c.fmtp||(c.fmtp={parameters:{}}),c.fmtp.parameters["x-google-min-bitrate"]="".concat(s.bitrateMin))}),Ct().supportMinBitrate&&!Re(o=A._hints).call(o,xt.LOW_STREAM)&&s.bitrateMax&&t.attributes.payloads.forEach(c=>{var I,C;Re(I=["h264","h265","vp8","vp9","av1"]).call(I,((C=c.rtpMap)===null||C===void 0?void 0:C.encodingName.toLowerCase())||"")&&(c.fmtp||(c.fmtp={parameters:{}}),c.fmtp.parameters["x-google-start-bitrate"]="".concat(J("X_GOOGLE_START_BITRATE")||Math.floor(s.bitrateMax)))})}function VS(t){if(t.media.mediaType!=="video")return;const A=Et();if(A.name!==Rt.SAFARI&&A.os!==wA.IOS)return;const o=t.attributes.extmaps.findIndex(s=>/video-orientation/g.test(s.extensionName));o!==-1&&t.attributes.extmaps.splice(o,1)}function KI(t,A,o){if(!A)return;let s,c;if(t.media.mediaType==="video"?(s=o.videoExtensions,c=o.videoCodecs):(s=o.audioExtensions,c=o.audioCodecs),A.twcc===!0){const I=s.find(C=>C.extensionName==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01");I&&(t.attributes.extmaps.find(l=>l.extensionName==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01")||t.attributes.extmaps.push({entry:I.entry,extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"}),function(l,d){return d.filter(h=>!!l.find(Q=>Q.payloadType===h.payloadType&&!!Q.rtcpFeedbacks.find(_=>_.type==="transport-cc")))}(c,t.attributes.payloads).forEach(l=>{l.rtcpFeedbacks.find(d=>d.type==="transport-cc")||l.rtcpFeedbacks.push({type:"transport-cc"})}))}else if(A.twcc===!1){const I=t.attributes.extmaps.findIndex(C=>C.extensionName==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01");I!==-1&&t.attributes.extmaps.splice(I,1),t.attributes.payloads.forEach(C=>{const l=C.rtcpFeedbacks.findIndex(d=>d.type==="transport-cc");l!==-1&&C.rtcpFeedbacks.splice(l,1)})}if(A.remb===!0){const I=s.find(C=>C.extensionName==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time");I&&(t.attributes.extmaps.find(l=>l.extensionName==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time")||t.attributes.extmaps.push({entry:I.entry,extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"}),function(l,d){return d.filter(h=>!!l.find(Q=>Q.payloadType===h.payloadType&&!!Q.rtcpFeedbacks.find(_=>_.type==="goog-remb")))}(c,t.attributes.payloads).forEach(l=>{l.rtcpFeedbacks.find(d=>d.type==="goog-remb")||l.rtcpFeedbacks.push({type:"goog-remb"})}))}else if(A.remb===!1){const I=t.attributes.extmaps.findIndex(C=>C.extensionName==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time");I!==-1&&t.attributes.extmaps.splice(I,1),t.attributes.payloads.forEach(C=>{const l=C.rtcpFeedbacks.findIndex(d=>d.type==="goog-remb");l!==-1&&C.rtcpFeedbacks.splice(l,1)})}}function jS(t,A,o){if(zt()||t.media.mediaType!=="video"||!(A instanceof Ft)||o!=="vp9"&&o!=="vp8"||o==="vp8"&&!J("SIMULCAST")||o==="vp9"&&J("ENABLE_SVC")||A._scalabilityMode===void 0||A._scalabilityMode.numSpatialLayers<=1)return;const s=o==="vp8"?2:A._scalabilityMode.numSpatialLayers,c=t.attributes.ssrcs[0],I=t.attributes.ssrcGroups.find(l=>l.semantic==="FID"&&l.ssrcIds[0]===c.ssrcId),C={semantic:"SIM",ssrcIds:[c.ssrcId]};for(let l=1;l<s;l++)t.attributes.ssrcs.push({ssrcId:c.ssrcId+l,attributes:CA(c.attributes)}),C.ssrcIds.push(c.ssrcId+l),I&&(t.attributes.ssrcs.push({ssrcId:I.ssrcIds[1]+l,attributes:CA(c.attributes)}),t.attributes.ssrcGroups.push({semantic:"FID",ssrcIds:[c.ssrcId+l,I.ssrcIds[1]+l]}));t.attributes.ssrcGroups.unshift(C)}async function $S(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=new RTCPeerConnection;o.addTransceiver("video",{direction:"sendonly"}),o.addTransceiver("audio",{direction:"sendonly"}),o.addTransceiver("video",{direction:"recvonly"}),o.addTransceiver("audio",{direction:"recvonly"});const s=(await o.createOffer()).sdp,{send:c,recv:I,sendrecv:C}=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2?arguments[2]:void 0;const Q=dc(h,l,d,"sendonly"),_=dc(h,l,d,"recvonly"),S={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},w={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},k={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(yr(Q,_,"videoExtensions",S,w,k),yr(Q,_,"videoCodecs",S,w,k),yr(Q,_,"audioExtensions",S,w,k),yr(Q,_,"audioCodecs",S,w,k),J("RAISE_H264_BASELINE_PRIORITY")){const v=k.videoCodecs.findIndex(b=>{var P,K;return((P=b.rtpMap)===null||P===void 0?void 0:P.encodingName.toLocaleLowerCase())==="h264"&&((K=b.fmtp)===null||K===void 0?void 0:K.parameters["profile-level-id"])==="42001f"});if(v!==-1){const b=k.videoCodecs.findIndex(P=>{var K;return((K=P.rtpMap)===null||K===void 0?void 0:K.encodingName.toLocaleLowerCase())==="h264"});if(b<v){N.debug("raising H264 baseline profile priority");const P=k.videoCodecs[v];k.videoCodecs.splice(v,1),k.videoCodecs.splice(b,0,P)}b!==-1&&(w.videoCodecs=w.videoCodecs.filter(P=>{var K,W;return!(((K=P.rtpMap)===null||K===void 0?void 0:K.encodingName.toLocaleLowerCase())==="h264"&&((W=P.fmtp)===null||W===void 0?void 0:W.parameters["profile-level-id"])!=="42001f")})),b!==-1&&J("FILTER_SEND_H264_BASELINE")&&(S.videoCodecs=S.videoCodecs.filter(P=>{var K,W;return!(((K=P.rtpMap)===null||K===void 0?void 0:K.encodingName.toLocaleLowerCase())==="h264"&&((W=P.fmtp)===null||W===void 0?void 0:W.parameters["profile-level-id"])!=="42001f")}))}}return{send:S,recv:w,sendrecv:k}}(t,A,s);try{o.close()}catch{}return{send:c,recv:I,sendrecv:C}}function WS(){const t={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},A=dc(arguments.length>2?arguments[2]:void 0,arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},"recvonly"),o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},s={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},c={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(yr(t,A,"videoExtensions",o,s,c),yr(t,A,"videoCodecs",o,s,c),yr(t,A,"audioExtensions",o,s,c),yr(t,A,"audioCodecs",o,s,c),J("RAISE_H264_BASELINE_PRIORITY")){const I=c.videoCodecs.findIndex(C=>C.rtpMap&&C.rtpMap.encodingName.toLocaleLowerCase()==="h264"&&C.fmtp&&C.fmtp.parameters["profile-level-id"]==="42001f");if(I!==-1){const C=c.videoCodecs.findIndex(l=>l.rtpMap&&l.rtpMap.encodingName.toLocaleLowerCase()==="h264");if(C<I){N.debug("raising H264 baseline profile priority");const l=c.videoCodecs[I];c.videoCodecs.splice(I,1),c.videoCodecs.splice(C,0,l)}C!==-1&&(s.videoCodecs=s.videoCodecs.filter(l=>!(l.rtpMap&&l.rtpMap.encodingName.toLocaleLowerCase()==="h264"&&l.fmtp&&l.fmtp.parameters["profile-level-id"]!=="42001f")))}}return{send:o,recv:s,sendrecv:c}}function yr(t,A,o,s,c,I){if(o==="videoExtensions"||o==="audioExtensions"){const C=[];return t[o].forEach(l=>{A[o].some((d,h)=>{if(l.entry===d.entry&&l.extensionName===d.extensionName)return C.push(h),!0})?I[o].push(l):s[o].push(l)}),void A[o].forEach((l,d)=>{C.indexOf(d)===-1&&c[o].push(l)})}if(o==="videoCodecs"||o==="audioCodecs"){const C=[];return t[o].forEach(l=>{A[o].some((d,h)=>{if(l.payloadType===d.payloadType&&JSON.stringify(l)===JSON.stringify(d))return C.push(h),!0})?I[o].push(l):s[o].push(l)}),void A[o].forEach((l,d)=>{C.indexOf(d)===-1&&c[o].push(l)})}}function xI(t){const{send:A,recv:o,sendrecv:s}=t;if(!s){if(!A||!o)throw new Error("cannot merge rtp capabilities because one of send or recv is empty!");return{send:A,recv:o}}let c,I;return A?(c={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},c.audioCodecs=[...A.audioCodecs,...s.audioCodecs],c.videoCodecs=[...A.videoCodecs,...s.videoCodecs],c.audioExtensions=[...A.audioExtensions,...s.audioExtensions],c.videoExtensions=[...A.videoExtensions,...s.videoExtensions]):c=s,o?(I={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},I.audioCodecs=[...o.audioCodecs,...s.audioCodecs],I.videoCodecs=[...o.videoCodecs,...s.videoCodecs],I.audioExtensions=[...o.audioExtensions,...s.audioExtensions],I.videoExtensions=[...o.videoExtensions,...s.videoExtensions]):I=s,{send:c,recv:I}}function sa(t){t.media.mediaType==="audio"&&t.attributes.payloads.filter(A=>{var o;return((o=A.rtpMap)===null||o===void 0?void 0:o.encodingName.toLowerCase())==="opus"}).forEach(A=>{A.fmtp||(A.fmtp={parameters:{}}),A.fmtp.parameters.stereo="1",A.fmtp.parameters["sprop-stereo"]="1"})}function hc(t,A,o,s){let c=[];if(t===Oe.VIDEO){if(J("H264_PROFILE_LEVEL_ID")&&s==="h264"&&(c=A.videoCodecs.filter(I=>{var C;return Re(C=I.rtpMap&&I.rtpMap.encodingName.toLowerCase()||"").call(C,s)&&I&&I.fmtp&&I.fmtp.parameters["profile-level-id"]===J("H264_PROFILE_LEVEL_ID")})),!Array.isArray(c)||c.length===0){let I=[];const C=[],l=[],d=[];if(o.videoCodecs.forEach(h=>{const Q=h.rtpMap&&h.rtpMap.encodingName.toLowerCase()||"";Re(Q).call(Q,s)?I.push(h):Re(Q).call(Q,"vp9")?C.push(h):Re(Q).call(Q,"vp8")?l.push(h):Re(Q).call(Q,"h264")&&d.push(h)}),I.length===0){let h="";C.length!==0?(I=C,h="vp9"):l.length!==0?(I=l,h="vp8"):d.length!==0&&(I=d,h="h264"),N.warning("codec ".concat(s," not included in rtpCapabilities, fallback to default payloads: ").concat(h))}I.length!==0&&(c=A.videoCodecs.filter(h=>I.some(Q=>Q.payloadType===h.payloadType)))}if(c.length===0&&(N.warning("codec ".concat(s," not included in rtpCapabilities, fallback to default payloads: ").concat(A.videoCodecs[0].rtpMap&&A.videoCodecs[0].rtpMap.encodingName)),c=A.videoCodecs),J("USE_PUB_RTX")||J("USE_SUB_RTX")){const I=gd(c,A.videoCodecs);c=[...c,...I]}}else c=A.audioCodecs.filter(I=>{var C;return Re(C=I.rtpMap&&I.rtpMap.encodingName.toLowerCase()||"").call(C,s)}),c.length===0&&(N.warning("codec ".concat(s," not included in rtpCapabilities, fallback to opus")),c=A.audioCodecs.filter(I=>{var C;return Re(C=I.rtpMap&&I.rtpMap.encodingName.toLowerCase()||"").call(C,"opus")}));return c}function gd(t,A){const o=t.map(s=>s.payloadType.toString());return A.filter(s=>s.rtpMap&&s.rtpMap.encodingName==="rtx"&&s.fmtp&&s.fmtp.parameters.apt&&Re(o).call(o,s.fmtp&&s.fmtp.parameters.apt))}async function YI(t,A,o){const s=A.toString(),c=ZS(s,"offer","remote","exchangeSDP");await t.setRemoteDescription({type:"offer",sdp:s});const I=await t.createAnswer();if(!I.sdp)throw new Error("cannot get answer sdp");let C=I.sdp;C=XS(C,o||{}),c==null||c(C||""),await t.setLocalDescription({type:"answer",sdp:C})}function XS(t,A,o){const s=PA.parse(t),{useXR:c}=A;return s.mediaDescriptions.forEach(I=>{var C;I.attributes.mid&&(Array.isArray(o)&&!Re(o).call(o,I.attributes.mid)||(I.media.mediaType==="audio"&&sa(I),c&&Re(C=["audio","video"]).call(C,I.media.mediaType)&&I.attributes.payloads.forEach(l=>{l.rtcpFeedbacks.findIndex(d=>d.type==="rrtr")===-1&&l.rtcpFeedbacks.push({type:"rrtr"})})))}),PA.print(s)}function ZS(t,A,o,s){if(J("SDP_LOGGING"))return N.upload("exchanging ".concat(o," ").concat(A," SDP during P2PConnection.").concat(s,`
`),t),A==="offer"?c=>{ZS(c,"answer",o==="local"?"remote":"local",s)}:void 0}function ao(t,A){return typeof J(t)===A?J(t):void 0}function zS(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function cn(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?zS(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):zS(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}const Id=new Map;class Kx extends Xt{get state(){return this._state}set state(A){if(A===this._state)return;const o=this._state;this._state=A,A==="DISCONNECTED"&&this._disconnectedReason?this.emit(HA.CONNECTION_STATE_CHANGE,A,o,this._disconnectedReason):this.emit(HA.CONNECTION_STATE_CHANGE,A,o)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(A){N.debug("[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(A)),this._joinGatewayStartTime=A}constructor(A,o){super(),L(this,"store",void 0),L(this,"joinInfo",void 0),L(this,"key",void 0),L(this,"ntpOffset",0),L(this,"signal",void 0),L(this,"role",void 0),L(this,"inChannelInfo",{joinAt:null,duration:0}),L(this,"spec",void 0),L(this,"_state","DISCONNECTED"),L(this,"_statsCollector",void 0),L(this,"_disconnectedReason",void 0),L(this,"isSignalRecover",!1),L(this,"hasChangeBGPAddress",!1),L(this,"trafficStatsInterval",void 0),L(this,"networkQualityInterval",void 0),L(this,"_joinGatewayStartTime",0),L(this,"_signalTimeout",!1),L(this,"_clientRoleOptions",void 0),L(this,"_isProactiveJoin",!1),this.store=A,this.spec=o,this.signal=this.store.useP2P?new FS(cn(cn({},o),{},{retryConfig:o.websocketRetryConfig}),A):new IK(cn(cn({},o),{},{retryConfig:o.websocketRetryConfig}),A),this._statsCollector=o.statsCollector,this.role=o.role||"audience",this._clientRoleOptions=o.clientRoleOptions,this.handleSignalEvents()}async join(A,o,s){this.store.joinGatewayStart(),A.cloudProxyServer!=="disabled"&&(this.hasChangeBGPAddress=!0);const c=Date.now();let I=Id.get(A.cname);if(I||(I=new Map,Id.set(A.cname,I)),this._isProactiveJoin=!0,I.has(A.uid)){const h=new z(G.UID_CONFLICT);throw Me.joinGateway(A.sid,{lts:c,succ:!1,ec:h.code,addr:null,uid:A.uid,cid:A.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!A.proxyServer,signalChannel:"0",preload:A.preload}),this._isProactiveJoin=!1,h}I.set(A.uid,!0),this.joinInfo=A,this.key=o;let C=0;this.joinGatewayStartTime=c;const l=A.proxyServer;try{N.debug("[".concat(this.store.clientId,"] use websocket join uid ").concat(C));const h=A.gatewayAddrs.map(Q=>{let{address:_}=Q;const[S,w]=_.split(":"),k={host:S,port:w};return A.proxyServer&&(k.proxy=A.proxyServer),k});C=(await this.signal.init(h,s)).uid,N.debug("[".concat(this.store.clientId,"] websocket join uid ").concat(C," cost ").concat(Date.now()-this.joinGatewayStartTime))}catch(h){var d;throw N.error("[".concat(this.store.clientId,"] User join failed"),h.toString()),Me.joinGateway(A.sid,{lts:c,succ:!1,ec:((d=h.data)===null||d===void 0?void 0:d.desc)||h.code,errorMsg:h.message,addr:this.signal.url,uid:A.uid,cid:A.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!l,signalChannel:"0",preload:A.preload}),this._isProactiveJoin=!1,I.delete(A.uid),this.signal.close(),h}return this.state="CONNECTED",this.inChannelInfo.joinAt=Date.now(),N.debug("[".concat(this.store.clientId,"] Connected to gateway server")),this.trafficStatsInterval=window.setInterval(()=>{this.updateTrafficStats().catch(h=>{N.warning("[".concat(this.store.clientId,"] get traffic stats error"),h.toString())})},3e3),this.networkQualityInterval=window.setInterval(()=>{navigator&&navigator.onLine!==void 0&&!navigator.onLine?this.emit(HA.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(HA.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):this.state==="CONNECTED"&&this._statsCollector.trafficStats?this.emit(HA.NETWORK_QUALITY,{uplinkNetworkQuality:oy(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:oy(this._statsCollector.trafficStats.B_dnq)}):this.emit(HA.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})},2e3),this.store.joinGatewayEnd(),C}async leave(){let A=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=arguments.length>1?arguments[1]:void 0;if(this.state!=="DISCONNECTED"){o!==St.FALLBACK&&(this.state="DISCONNECTING");try{A||this.signal.connectionState!==Ut.CONNECTED||await function(s,c){return c===1/0?s:pe.race([s,aF(c)])}(this.signal.request(Ke.LEAVE,void 0,!0),3e3)}catch(s){N.warning("[".concat(this.store.clientId,"] leave request failed, ignore"),s)}this.signal.close(o),o!==St.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}}async publish(A,o,s){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const c={state:"offer",p2p_id:this.store.p2pId,ortc:o,mode:this.spec.mode,extend:J("PUB_EXTEND"),twcc:!!J("PUBLISH_TWCC"),rtx:!!J("USE_PUB_RTX")};try{return(await this.signal.request(Ke.PUBLISH,c,!0))._message}catch(I){if(s&&I.data&&I.data.code===Ue.ERR_PUBLISH_REQUEST_INVALID)return N.warning("[".concat(this.store.clientId,"] receive publish error code, retry"),I.toString()),await this.tryUnpubBeforeRepub(A,o),this.publish(A,o,!1);throw I}}async publishDataChannel(A,o,s){var c;if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const I={stream_id:o.streamId,ordered:o.ordered?1:0,max_retrans_times:(c=o.maxRetransmits)!==null&&c!==void 0?c:10,channel_id:o.channelId,metadata:o.metadata};try{await this.signal.request(Ke.PUBLISH_DATASTREAM,I,!0)}catch(C){if(s&&C.data&&C.data.code===Ue.ERR_PUBLISH_REQUEST_INVALID)return N.warning("[".concat(this.store.clientId,"] receive publish datachannels error code, retry"),C.toString()),await this.tryUnpubDataChannelBeforeRepub(A,o),this.publishDataChannel(A,o,!1);throw C}}async unpublish(A,o){try{if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await this.signal.request(Ke.UNPUBLISH,{stream_id:o,ortc:A},!0)}catch(s){N.warning("[".concat(this.store.clientId,"] unpublish warning: "),s)}}async unpublishDataChannel(A){try{if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await pe.all(A.map(o=>this.signal.request(Ke.UNPUBLISH_DATASTREAM,{channel_id:o},!0)))}catch(o){N.warning("unpublish datachannels warning: ",o)}}async presubscribe(A,o,s){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"can not presubscribe when connection state is ".concat(this.state));const c={stream_id:A,stream_type:o,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!J("SUBSCRIBE_TWCC"),rtx:!!J("USE_SUB_RTX")||void 0,extend:J("SUB_EXTEND"),svc:Array.isArray(J("SVC"))&&J("SVC").length!==0?J("SVC"):void 0};try{return await this.signal.request(Ke.PRE_SUBSCRIBE,c,!0)}catch(I){if(s&&I.data&&I.data.code===Ue.ERR_SUBSCRIBE_REQUEST_INVALID)return N.warning("[".concat(this.store.clientId,"] pre-subscribe error, retry"),I.toString()),this.presubscribe(A,o,!1);throw I}}async subscribe(A,o,s){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"can not subscribe when connection state is ".concat(this.state));const c={stream_id:A,stream_type:o.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!J("SUBSCRIBE_TWCC"),rtx:!!J("USE_SUB_RTX"),extend:J("SUB_EXTEND"),ssrcId:o.ssrcId,svc:Array.isArray(J("SVC"))&&J("SVC").length!==0?J("SVC"):void 0};try{return(await this.signal.request(Ke.SUBSCRIBE,c,!0))._message}catch(I){if(s&&I.data&&I.data.code===Ue.ERR_SUBSCRIBE_REQUEST_INVALID)return N.warning("[".concat(this.store.clientId,"] receiver subscribe error code, retry"),I.toString()),await this.tryUnsubBeforeResub(A,o),await this.subscribe(A,o,!1);throw I}}async subscribeDataChannel(A,o,s){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"can not subscribe datachannel when connection state is ".concat(this.state));const c={uid:A,stream_id:o.id,channel_id:o.datachannelId};try{return void await this.signal.request(Ke.SUBSCRIBE_DATASTREAM,c,!0)}catch(I){if(s&&I.data&&I.data.code===Ue.ERR_SUBSCRIBE_REQUEST_INVALID)return N.warning("[".concat(this.store.clientId,"] receiver subscribe datachannel error code, retry"),I.toString()),await this.tryUnsubDataChannelBeforeResub(A,o),await this.subscribeDataChannel(A,o,!1);throw I}}async subscribeAll(A,o){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"can not massSubscribe when connection state is ".concat(this.state));const s={p2p_id:this.store.p2pId,users:A,dtx:!1,rtx:!!J("USE_SUB_RTX"),twcc:!!J("SUBSCRIBE_TWCC"),svc:Array.isArray(J("SVC"))&&J("SVC").length!==0?J("SVC"):void 0};try{return await this.signal.request(Ke.SUBSCRIBE_STREAMS,s,!0)}catch(c){if(o&&c.data&&c.data.code===Ue.ERR_SUBSCRIBE_REQUEST_INVALID)return N.warning("[".concat(this.store.clientId,"] receiver massSubscribe error code, retry"),c.toString()),await this.tryMassUnsubBeforeResub(A),await this.subscribeAll(A,!1);throw c}}async setVideoProfile(A){const o=function(s){if(!(s.bitrateMax&&s.bitrateMin&&s.frameRate&&s.height&&s.width))return;let c=s.frameRate,I=s.width,C=s.height,l=!0;return typeof c!="number"&&(c=c.exact||c.ideal||c.max||c.min||0,c||(l=!1)),typeof I!="number"&&(I=I.exact||I.ideal||I.max||I.min||0,I||(l=!1)),typeof C!="number"&&(C=C.exact||C.ideal||C.max||C.min||0,c||(l=!1)),l?{stream_type:0,width:I,height:C,fps:c,start_bps:1e3*s.bitrateMax,min_bps:1e3*s.bitrateMin,target_bps:1e3*s.bitrateMax}:void 0}(A);if(o)return this.signal.request(Ke.SET_VIDEO_PROFILE,o);N.debug("[".concat(this.store.clientId,"] encoder config is not complete, do not report to gateway"))}async unsubscribe(A,o){try{await this.signal.request(Ke.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:A,stream_id:o},!0)}catch(s){N.warning("[".concat(this.store.clientId,"] unsubscribe warning: "),s)}}async unsubscribeDataChannel(A,o){try{if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await pe.all(A.map(s=>this.signal.request(Ke.UNSUBSCRIBE_DATASTREAM,{stream_id:s,uid:o},!0)))}catch(s){N.warning("unsubscribeDataChannel warning: ",s)}}async massUnsubscribe(A){try{await this.signal.request(Ke.UNSUBSCRIBE_STREAMS,A,!0)}catch(o){N.warning("[".concat(this.store.clientId,"] massUnsubscribeAll warning: "),o)}}async reconnectPC(A){const{iceParameters:o,dtlsParameters:s,rtpCapabilities:c}=A;return{gatewayEstablishParams:await this.signal.request(Ke.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:o,dtlsParameters:s,rtpCapabilities:c}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(Ke.GATEWAY_INFO)}async renewToken(A){await this.signal.request(Ke.RENEW_TOKEN,A),this.key=A.token}async setClientRole(A,o){if(o&&(this._clientRoleOptions=Object.assign({},o)),this.state!=="CONNECTED")return void(this.role=A);let s,c=0;A==="audience"?this._clientRoleOptions&&this._clientRoleOptions.delay?(s=this._clientRoleOptions.delay,c=1):c=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:c=0,await this.signal.request(Ke.SET_CLIENT_ROLE,{role:A,level:c,delay:s,client_ts:Date.now()}),this.role=A}async setRemoteVideoStreamType(A,o){await this.signal.request(Ke.SWITCH_VIDEO_STREAM,{stream_id:A,stream_type:o})}async setDefaultRemoteVideoStreamType(A){await this.signal.request(Ke.DEFAULT_VIDEO_STREAM,{stream_type:A})}async setStreamFallbackOption(A,o){await this.signal.request(Ke.SET_FALLBACK_OPTION,{stream_id:A,fallback_type:o})}async pickSVCLayer(A,o){await this.signal.request(Ke.PICK_SVC_LAYER,{stream_id:A,spatial_layer:o.spatialLayer,temporal_layer:o.temporalLayer})}async setRTM2Flag(A){await this.signal.request(Ke.SET_RTM2_FLAG,{rtm2_flag:A})}async sendExtensionMessage(A,o,s){if(this.signal instanceof FS)return this.signal.sendExtensionMessage(A,o,s)}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),cn({},this.inChannelInfo)}async getGatewayVersion(){return(await this.signal.request(Ke.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const A=Id.get(this.joinInfo.cname);A&&A.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const A=function(o){let s;return s=o.startsWith("dc")?o.match(/(dc\:\/\/)?([^:]+):(\d+)/):o.match(/(wss\:\/\/)?([^:]+):(\d+)/),s?{username:JA.username,password:JA.password,turnServerURL:s[2],tcpport:parseInt(s[3])+30,udpport:parseInt(s[3])+30,forceturn:!1}:null}((this.joinInfo.cloudProxyServer==="disabled"?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||"");this.joinInfo.turnServer.serversFromGateway=[],A&&this.joinInfo.turnServer.mode!=="off"&&this.joinInfo.cloudProxyServer==="disabled"&&this.joinInfo.turnServer.serversFromGateway.push(cn(cn({},JA),{},{turnServerURL:A.turnServerURL,tcpport:A.tcpport,udpport:A.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if(this.state!=="CONNECTED")return;const A=await this.signal.request(Ke.TRAFFIC_STATS,void 0,!0);A.timestamp=Date.now(),A.ntp_offset!=null&&(this.ntpOffset=A.ntp_offset),A.peer_delay.forEach(o=>{const s=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find(c=>c.peer_uid===o.peer_uid);s&&s.B_st!==o.B_st&&gI(()=>{this.emit(HA.STREAM_TYPE_CHANGE,o.peer_uid,o.B_st)})}),this._statsCollector.updateTrafficStats(A)}getJoinMessage(A){if(!this.joinInfo||!this.key)throw new z(G.UNEXPECTED_ERROR,"can not generate join message, no join info");const o=Object.assign({},this.joinInfo.apResponse);let s=J("REPORT_APP_SCENARIO");if(typeof s!="string")try{s=JSON.stringify(s)}catch{s=void 0}s&&s.length>128&&(s=void 0);const c=!(zt()||rR(87)||Fy())&&typeof J("ENABLE_PRE_SUB")=="boolean"&&J("ENABLE_PRE_SUB"),I=!Fy()&&ao("ENABLE_PREALLOC_PC","boolean"),C=cn({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:er,browser:navigator.userAgent,process_id:J("PROCESS_ID"),mode:this.store.useP2P?"p2p":this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:o,extend:J("JOIN_EXTEND"),details:{6:this.joinInfo.stringUid,cservice_map:this.joinInfo.cloudProxyServer==="proxy3"?"1":this.joinInfo.cloudProxyServer==="proxy5"?"2":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:s,attributes:{userAttributes:{enablePublishedUserList:J("ENABLE_PUBLISHED_USER_LIST"),maxSubscription:J("MAX_SUBSCRIPTION"),subscribeAudioFilterTopN:typeof J("SUBSCRIBE_AUDIO_FILTER_TOPN")=="number"?J("SUBSCRIBE_AUDIO_FILTER_TOPN"):void 0,enablePublishAudioFilter:typeof J("ENABLE_PUBLISH_AUDIO_FILTER")=="boolean"?J("ENABLE_PUBLISH_AUDIO_FILTER"):void 0,enableUserLicenseCheck:typeof J("ENABLE_USER_LICENSE_CHECK")=="boolean"?J("ENABLE_USER_LICENSE_CHECK"):void 0,enableRTX:J("USE_PUB_RTX")===!0||J("USE_SUB_RTX")===!0||void 0,disableFEC:J("DISABLE_FEC"),enableNTPReport:!!J("ENABLE_NTP_REPORT")||void 0,enableInstantVideo:!!J("ENABLE_INSTANT_VIDEO")||void 0,enableFulllinkAvSync:!!J("ENABLE_FULL_LINK_AV_SYNC")||void 0,enableDataStream2:ao("ENABLE_DATASTREAM_2","boolean"),enableAutFeedback:!!J("ENABLE_AUT_FEEDBACK")||void 0,rtm2Flag:typeof this.joinInfo.rtmFlag=="number"?this.joinInfo.rtmFlag:void 0,enableUserAutoRebalanceCheck:!!J("ENABLE_USER_AUTO_REBALANCE_CHECK"),enableXR:ao("USE_XR","boolean"),enableLossbasedBwe:ao("ENABLE_LOSSBASED_BWE","boolean"),enableAutCC:!!J("ENABLE_AUT_CC")||void 0,enableCCFallback:ao("ENABLE_CC_FALLBACK","boolean"),enablePreallocPC:I,preSubNum:c?ao("PRE_SUB_NUM","number"):void 0,enablePubTWCC:ao("PUBLISH_TWCC","boolean"),enableSubTWCC:ao("SUBSCRIBE_TWCC","boolean"),enablePubRTX:ao("USE_PUB_RTX","boolean"),enableSubRTX:ao("USE_SUB_RTX","boolean"),enableSubSVC:J("ENABLE_SVC")?J("ENABLE_SVC_DEFAULT_CODECS"):Array.isArray(J("SVC"))&&J("SVC").length!==0?J("SVC"):void 0}},join_ts:this.joinGatewayStartTime},A);return this.joinInfo.stringUid&&(C.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(C.aes_mode=this.joinInfo.aesmode,J("ENCRYPT_AES")?(C.aes_secret=this.joinInfo.aespassword,C.aes_encrypt=!0):C.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(C.aes_salt=this.joinInfo.aessalt)),o.addresses[this.signal.websocket.currentURLIndex]&&(C.ap_response.ticket=o.addresses[this.signal.websocket.currentURLIndex].ticket,delete o.addresses),this.joinInfo.defaultVideoStream!==void 0&&(C.default_video_stream=this.joinInfo.defaultVideoStream),C}getRejoinMessage(){if(!this.joinInfo)throw new z(G.UNEXPECTED_ERROR,"can not generate rejoin message, no join info");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(xe.WS_RECONNECT_WAITTING_FINISH,A=>{var o;Re(o=["tryNext","recover"]).call(o,A)&&this.joinInfo&&Me.adjustSessionStartTime(this.joinInfo.sid)}),this.signal.on(xe.WS_RECONNECT_CREATE_CONNECTION,A=>{this.joinGatewayStartTime=Date.now()}),this.signal.on(xe.WS_RECONNECTING,A=>{this.joinInfo&&Me.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:A||xA.NETWORK_ERROR}),this.joinInfo&&(this.state="RECONNECTING",Me.sessionInit(this.joinInfo.sid,{lts:new Date().getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode,stringUid:this.joinInfo.stringUid,channelProfile:this.spec.mode==="live"?1:0,channelMode:0,lsid:this.joinInfo.sid,clientRole:this.role==="audience"?2:1,buildFormat:1}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())}),this.signal.on(xe.WS_CLOSED,A=>{let o;switch(A){case St.LEAVE:o=xA.LEAVE;break;case St.UID_BANNED:case St.IP_BANNED:case St.CHANNEL_BANNED:case St.SERVER_ERROR:o=xA.SERVER_ERROR;break;case St.FALLBACK:o=xA.FALLBACK;break;case St.LICENSE_MISSING:case St.LICENSE_EXPIRED:case St.LICENSE_MINUTES_EXCEEDED:case St.LICENSE_PERIOD_INVALID:case St.LICENSE_MULTIPLE_SDK_SERVICE:case St.LICENSE_ILLEGAL:case St.TOKEN_EXPIRE:o=A;break;default:o=xA.NETWORK_ERROR}N.debug("[".concat(this.store.clientId,"] [signal] websocket closed, reason: ").concat(o||"undefined -> "+xA.NETWORK_ERROR)),this.joinInfo&&Me.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:A===St.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:o}),this._disconnectedReason=A,A!==St.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}),this.signal.on(xe.WS_CONNECTED,()=>{if(this.updateTurnConfigFromSignal(),this.state="CONNECTED",this.joinInfo&&(this.role==="audience"&&this._clientRoleOptions&&(this._clientRoleOptions.level||this._clientRoleOptions.delay)&&(N.debug("[".concat(this.store.clientId,"] patch to send set client role, role: ").concat(this.role,", mode: ").concat(this.spec.mode,", level: ").concat(this._clientRoleOptions.level,", delay: ").concat(this._clientRoleOptions.delay)),this.setClientRole(this.role,this._clientRoleOptions)),Me.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:"0",preload:this.joinInfo.preload}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&this.joinInfo.setLocalAPVersion===1)){const A=this.signal.url&&this.signal.url.match(/wss\:\/\/([^:]+):(\d+)/);if(!A)return void N.error("[".concat(this.store.clientId,"] set local access point after joined failed: ").concat(A));vt("EVENT_REPORT_DOMAIN",A[1]),vt("EVENT_REPORT_BACKUP_DOMAIN",A[1]),vt("LOG_UPLOAD_SERVER","".concat(A[1],":6444"))}}),this.signal.on(rt.ON_UPLINK_STATS,A=>{this._statsCollector.updateUplinkStats(A)}),this.signal.on(xe.REQUEST_RECOVER,(A,o,s)=>{if(!this.joinInfo)return s(new z(G.UNEXPECTED_ERROR,"gateway: can not recover, no join info"));A&&(this.joinInfo.multiIP=A,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,YA(this,HA.REQUEST_NEW_GATEWAY_LIST).then(o).catch(s)}),this.signal.on(xe.REQUEST_JOIN_INFO,async A=>{var o;if(this.updateTurnConfigFromSignal(),this.store.useP2P)return void A(this.getJoinMessage({ortc:{}}));const{iceParameters:s,dtlsParameters:c,rtpCapabilities:I}=await YA(this,HA.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:(o=this.joinInfo)===null||o===void 0?void 0:o.turnServer});A(this.getJoinMessage({ortc:{iceParameters:s,dtlsParameters:c,rtpCapabilities:I,version:"2"}}))}),this.signal.on(xe.REQUEST_REJOIN_INFO,A=>{A(this.getRejoinMessage())}),this.signal.on(xe.REPORT_JOIN_GATEWAY,(A,o)=>{if(!this.joinInfo)return;let s,c="";var I;A instanceof z?(s=((I=A.data)===null||I===void 0?void 0:I.desc)||A.code,c=A.message):s=A,Me.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:s,errorMsg:c,addr:o,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:"0",preload:this.joinInfo.preload}),this._isProactiveJoin=!1}),this.signal.on(xe.IS_P2P_DISCONNECTED,A=>{A(Ac(this,HA.IS_P2P_DISCONNECTED))}),this.signal.on(xe.DISCONNECT_P2P,()=>{this.emit(HA.DISCONNECT_P2P)}),this.signal.on(xe.REQUEST_SUCCESS,()=>{this._signalTimeout=!1}),this.signal.on(xe.REQUEST_TIMEOUT,()=>{this._signalTimeout=!0}),this.signal.on(xe.JOIN_RESPONSE,A=>{const o=this.getCurrentGatewayAddress();this.emit(HA.JOIN_RESPONSE,A,o)}),this.signal.on(xe.PRE_CONNECT_PC,async()=>{if(this.joinInfo){this.updateTurnConfigFromSignal();const A=this.getCurrentGatewayAddress(),o=J("FINGERPRINT")||this.joinInfo.apResponse.addresses[this.signal.currentURLIndex].fingerprint;if(A&&o){const s=qS(A);this.emit(HA.PRE_CONNECT_PC,{candidates:s,fingerprint:o})}}})}async tryUnsubBeforeResub(A,o){try{await this.signal.request(Ke.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:A,ortc:[o]},!0)}catch(s){throw N.warning("[".concat(this.store.clientId,"] tryUnsubBeforeResub warning"),s),s}}async tryUnsubDataChannelBeforeResub(A,o){try{await this.signal.request(Ke.UNSUBSCRIBE,{stream_id:o.id},!0)}catch(s){throw N.warning("unsubscribe datachannel warning",s),s}}async tryUnpubBeforeRepub(A,o){try{await this.signal.request(Ke.UNPUBLISH,{stream_id:A,ortc:o},!0)}catch(s){throw N.warning("[".concat(this.store.clientId,"] tryUnpubBeforeRepub warning: "),s),s}}async tryUnpubDataChannelBeforeRepub(A,o){try{await this.signal.request(Ke.UNPUBLISH_DATASTREAM,{channnel_id:o.channelId},!0)}catch(s){throw N.warning("unpublish datastream warning: ",s),s}}async tryMassUnsubBeforeResub(A){const o={users:A.map(s=>({stream_id:s.stream_id,stream_type:s.stream_type}))};try{await this.signal.request(Ke.UNSUBSCRIBE_STREAMS,o,!0)}catch(s){throw N.warning("[".concat(this.store.clientId,"] tryMassUnsubBeforeResub warning"),s),s}}async muteLocal(A,o){const s={action:A.find(c=>c.stream_type===yt.Audio)?"mute_local_audio":"mute_local_video",p2p_id:this.store.p2pId,ortc:A,stream_id:o};try{await this.signal.request(Ke.CONTROL,s,!0,!0)}catch(c){throw N.warning("[".concat(this.store.clientId,"] gateway muteLocal warning: "),c),c}}async unmuteLocal(A,o){const s={action:A.find(c=>c.stream_type===yt.Audio)?"unmute_local_audio":"unmute_local_video",p2p_id:this.store.p2pId,ortc:A,stream_id:o};try{await this.signal.request(Ke.CONTROL,s,!0,!0)}catch(c){throw N.warning("[".concat(this.store.clientId,"] gateway unmuteLocal warning: "),c),c}}async muteRemote(A,o){const s={action:A===Oe.AUDIO?"mute_remote_audio":"mute_remote_video",p2p_id:this.store.p2pId,stream_id:o};try{await this.signal.request(Ke.CONTROL,s,!0,!0)}catch(c){throw N.warning("[".concat(this.store.clientId,"] gateway muteRemote warning: "),c),c}}async unmuteRemote(A,o){const s={action:A===Oe.AUDIO?"unmute_remote_audio":"unmute_remote_video",p2p_id:this.store.p2pId,stream_id:o};try{await this.signal.request(Ke.CONTROL,s,!0,!0)}catch(c){throw N.warning("[".concat(this.store.clientId,"] gateway unmuteRemote warning: "),c),c}}uploadWRTCStats(A){this.signal.uploadWRTCStats(A)}upload(A,o){this.signal.upload(A,o)}getSignalRTT(){return this.signal.rtt}async restartICE(A){const o={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:A};try{return await this.signal.request(Ke.RESTART_ICE,o,!0)}catch(s){throw N.warning("[".concat(this.store.clientId,"] P2PChannel.restartICE warning: "),s),s}}reconnect(){this.state==="CONNECTED"&&this.signal.reconnect(void 0,xA.P2P_FAILED)}getCurrentGatewayAddress(){var A,o;if(!J("GATEWAY_WSS_ADDRESS"))return J("USE_CANDIDATE_FROM_AP_DETAIL")&&(A=this.joinInfo)!==null&&A!==void 0&&A.apGatewayAddress?(N.debug("[".concat(this.store.clientId,"] use candidate from ap detail, ").concat(JSON.stringify(this.joinInfo.apGatewayAddress))),this.joinInfo.apGatewayAddress):(o=this.joinInfo)!==null&&o!==void 0&&o.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(A){await this.signal.request(Ke.SET_PARAMETER,{enablePublishAudioFilter:A})}}let JI=0,Ed=0;function Fr(t,A,o,s){return new pe((c,I)=>{A.timeout=A.timeout||J("HTTP_CONNECT_TIMEOUT"),A.responseType=A.responseType||"json",A.data&&!o?(A.data=JSON.stringify(A.data),JI+=Ao(A.data)):o&&(A.data.size?JI+=A.data.size:A.data instanceof FormData?JI+=mR(A.data):JI+=Ao(JSON.stringify(A.data))),A.headers=A.headers||{},A.headers["Content-Type"]=A.headers["Content-Type"]||"application/json",A.method="POST",A.url=t,di.request(A).then(C=>{typeof C.data=="string"?Ed+=Ao(C.data):C.data instanceof ArrayBuffer||C.data instanceof Uint8Array?Ed+=C.data.byteLength:Ed+=Ao(JSON.stringify(C.data)),s&&c({data:C.data,headers:C.headers}),c(C.data)}).catch(C=>{di.isCancel(C)?I(new z(G.OPERATION_ABORTED,"cancel token canceled")):C.code==="ECONNABORTED"?I(new z(G.NETWORK_TIMEOUT,C.message)):C.response?I(new z(G.NETWORK_RESPONSE_ERROR,C.response.status)):I(new z(G.NETWORK_ERROR,C.message))})})}/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */(function(){var t;function A(se){var ue=0;return function(){return ue<se.length?{done:!1,value:se[ue++]}:{done:!0}}}var o=typeof Object.defineProperties=="function"?Object.defineProperty:function(se,ue,Te){return se==Array.prototype||se==Object.prototype||(se[ue]=Te.value),se},s,c=function(se){se=[typeof globalThis=="object"&&globalThis,se,typeof window=="object"&&window,typeof self=="object"&&self,typeof a=="object"&&a];for(var ue=0;ue<se.length;++ue){var Te=se[ue];if(Te&&Te.Math==Math)return Te}throw Error("Cannot find global object")}(this);function I(se,ue){if(ue)e:{var Te=c;se=se.split(".");for(var qe=0;qe<se.length-1;qe++){var Bt=se[qe];if(!(Bt in Te))break e;Te=Te[Bt]}(ue=ue(qe=Te[se=se[se.length-1]]))!=qe&&ue!=null&&o(Te,se,{configurable:!0,writable:!0,value:ue})}}function C(se){return(se={next:se})[Symbol.iterator]=function(){return this},se}function l(se){var ue=typeof Symbol<"u"&&Symbol.iterator&&se[Symbol.iterator];return ue?ue.call(se):{next:A(se)}}if(I("Symbol",function(se){function ue(Bt,Be){this.A=Bt,o(this,"description",{configurable:!0,writable:!0,value:Be})}if(se)return se;ue.prototype.toString=function(){return this.A};var Te="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",qe=0;return function Bt(Be){if(this instanceof Bt)throw new TypeError("Symbol is not a constructor");return new ue(Te+(Be||"")+"_"+qe++,Be)}}),I("Symbol.iterator",function(se){if(se)return se;se=Symbol("Symbol.iterator");for(var ue="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Te=0;Te<ue.length;Te++){var qe=c[ue[Te]];typeof qe=="function"&&typeof qe.prototype[se]!="function"&&o(qe.prototype,se,{configurable:!0,writable:!0,value:function(){return C(A(this))}})}return se}),typeof Object.setPrototypeOf=="function")s=Object.setPrototypeOf;else{var d;e:{var h={};try{h.__proto__={a:!0},d=h.a;break e}catch{}d=!1}s=d?function(se,ue){if(se.__proto__=ue,se.__proto__!==ue)throw new TypeError(se+" is not extensible");return se}:null}var Q=s;function _(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function S(se){if(se.m)throw new TypeError("Generator is already running");se.m=!0}function w(se,ue){return se.h=3,{value:ue}}function k(se){this.g=new _,this.G=se}function v(se,ue,Te,qe){try{var Bt=ue.call(se.g.j,Te);if(!(Bt instanceof Object))throw new TypeError("Iterator result "+Bt+" is not an object");if(!Bt.done)return se.g.m=!1,Bt;var Be=Bt.value}catch(T){return se.g.j=null,se.g.s(T),b(se)}return se.g.j=null,qe.call(se.g,Be),b(se)}function b(se){for(;se.g.h;)try{var ue=se.G(se.g);if(ue)return se.g.m=!1,{value:ue.value,done:!1}}catch(Te){se.g.v=void 0,se.g.s(Te)}if(se.g.m=!1,se.g.l){if(ue=se.g.l,se.g.l=null,ue.F)throw ue.D;return{value:ue.return,done:!0}}return{value:void 0,done:!0}}function P(se){this.next=function(ue){return se.o(ue)},this.throw=function(ue){return se.s(ue)},this.return=function(ue){return function(Te,qe){S(Te.g);var Bt=Te.g.j;return Bt?v(Te,"return"in Bt?Bt.return:function(Be){return{value:Be,done:!0}},qe,Te.g.return):(Te.g.return(qe),b(Te))}(se,ue)},this[Symbol.iterator]=function(){return this}}function K(se,ue){return ue=new P(new k(ue)),Q&&se.prototype&&Q(ue,se.prototype),ue}if(_.prototype.o=function(se){this.v=se},_.prototype.s=function(se){this.l={D:se,F:!0},this.h=this.C||this.u},_.prototype.return=function(se){this.l={return:se},this.h=this.u},k.prototype.o=function(se){return S(this.g),this.g.j?v(this,this.g.j.next,se,this.g.o):(this.g.o(se),b(this))},k.prototype.s=function(se){return S(this.g),this.g.j?v(this,this.g.j.throw,se,this.g.o):(this.g.s(se),b(this))},I("Array.prototype.entries",function(se){return se||function(){return function(ue,Te){ue instanceof String&&(ue+="");var qe=0,Bt=!1,Be={next:function(){if(!Bt&&qe<ue.length){var T=qe++;return{value:Te(T,ue[T]),done:!1}}return Bt=!0,{done:!0,value:void 0}}};return Be[Symbol.iterator]=function(){return Be},Be}(this,function(ue,Te){return[ue,Te]})}}),typeof Blob<"u"&&(typeof FormData>"u"||!FormData.prototype.keys)){var W=function(se,ue){for(var Te=0;Te<se.length;Te++)ue(se[Te])},X=function(se){return se.replace(/\r?\n|\r/g,`\r
`)},Z=function(se,ue,Te){return ue instanceof Blob?(Te=Te!==void 0?Te+"":typeof ue.name=="string"?ue.name:"blob",ue.name===Te&&Object.prototype.toString.call(ue)!=="[object Blob]"||(ue=new File([ue],Te)),[String(se),ue]):[String(se),String(ue)]},ie=function(se,ue){if(se.length<ue)throw new TypeError(ue+" argument required, but only "+se.length+" present.")},ce=typeof globalThis=="object"?globalThis:typeof window=="object"?window:typeof self=="object"?self:this,de=ce.FormData,Ce=ce.XMLHttpRequest&&ce.XMLHttpRequest.prototype.send,be=ce.Request&&ce.fetch,tt=ce.navigator&&ce.navigator.sendBeacon,ft=ce.Element&&ce.Element.prototype,Pt=ce.Symbol&&Symbol.toStringTag;Pt&&(Blob.prototype[Pt]||(Blob.prototype[Pt]="Blob"),"File"in ce&&!File.prototype[Pt]&&(File.prototype[Pt]="File"));try{new File([],"")}catch{ce.File=function(ue,Te,qe){return ue=new Blob(ue,qe||{}),Object.defineProperties(ue,{name:{value:Te},lastModified:{value:+(qe&&qe.lastModified!==void 0?new Date(qe.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),Pt&&Object.defineProperty(ue,Pt,{value:"File"}),ue}}var dA=function(se){return se.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},jt=function(se){this.i=[];var ue=this;se&&W(se.elements,function(Te){if(Te.name&&!Te.disabled&&Te.type!=="submit"&&Te.type!=="button"&&!Te.matches("form fieldset[disabled] *"))if(Te.type==="file"){var qe=Te.files&&Te.files.length?Te.files:[new File([],"",{type:"application/octet-stream"})];W(qe,function(Bt){ue.append(Te.name,Bt)})}else Te.type==="select-multiple"||Te.type==="select-one"?W(Te.options,function(Bt){!Bt.disabled&&Bt.selected&&ue.append(Te.name,Bt.value)}):Te.type==="checkbox"||Te.type==="radio"?Te.checked&&ue.append(Te.name,Te.value):(qe=Te.type==="textarea"?X(Te.value):Te.value,ue.append(Te.name,qe))})};if((t=jt.prototype).append=function(se,ue,Te){ie(arguments,2),this.i.push(Z(se,ue,Te))},t.delete=function(se){ie(arguments,1);var ue=[];se=String(se),W(this.i,function(Te){Te[0]!==se&&ue.push(Te)}),this.i=ue},t.entries=function se(){var ue,Te=this;return K(se,function(qe){if(qe.h==1&&(ue=0),qe.h!=3)return ue<Te.i.length?qe=w(qe,Te.i[ue]):(qe.h=0,qe=void 0),qe;ue++,qe.h=2})},t.forEach=function(se,ue){ie(arguments,1);for(var Te=l(this),qe=Te.next();!qe.done;qe=Te.next()){var Bt=l(qe.value);qe=Bt.next().value,Bt=Bt.next().value,se.call(ue,Bt,qe,this)}},t.get=function(se){ie(arguments,1);var ue=this.i;se=String(se);for(var Te=0;Te<ue.length;Te++)if(ue[Te][0]===se)return ue[Te][1];return null},t.getAll=function(se){ie(arguments,1);var ue=[];return se=String(se),W(this.i,function(Te){Te[0]===se&&ue.push(Te[1])}),ue},t.has=function(se){ie(arguments,1),se=String(se);for(var ue=0;ue<this.i.length;ue++)if(this.i[ue][0]===se)return!0;return!1},t.keys=function se(){var ue,Te,qe,Bt,Be=this;return K(se,function(T){if(T.h==1&&(ue=l(Be),Te=ue.next()),T.h!=3)return Te.done?void(T.h=0):(qe=Te.value,Bt=l(qe),w(T,Bt.next().value));Te=ue.next(),T.h=2})},t.set=function(se,ue,Te){ie(arguments,2),se=String(se);var qe=[],Bt=Z(se,ue,Te),Be=!0;W(this.i,function(T){T[0]===se?Be&&(Be=!qe.push(Bt)):qe.push(T)}),Be&&qe.push(Bt),this.i=qe},t.values=function se(){var ue,Te,qe,Bt,Be=this;return K(se,function(T){if(T.h==1&&(ue=l(Be),Te=ue.next()),T.h!=3)return Te.done?void(T.h=0):(qe=Te.value,(Bt=l(qe)).next(),w(T,Bt.next().value));Te=ue.next(),T.h=2})},jt.prototype._asNative=function(){for(var se=new de,ue=l(this),Te=ue.next();!Te.done;Te=ue.next()){var qe=l(Te.value);Te=qe.next().value,qe=qe.next().value,se.append(Te,qe)}return se},jt.prototype._blob=function(){var se="----formdata-polyfill-"+Math.random(),ue=[],Te="--"+se+`\r
Content-Disposition: form-data; name="`;return this.forEach(function(qe,Bt){return typeof qe=="string"?ue.push(Te+dA(X(Bt))+`"\r
\r
`+X(qe)+`\r
`):ue.push(Te+dA(X(Bt))+'"; filename="'+dA(qe.name)+`"\r
Content-Type: `+(qe.type||"application/octet-stream")+`\r
\r
`,qe,`\r
`)}),ue.push("--"+se+"--"),new Blob(ue,{type:"multipart/form-data; boundary="+se})},jt.prototype[Symbol.iterator]=function(){return this.entries()},jt.prototype.toString=function(){return"[object FormData]"},ft&&!ft.matches&&(ft.matches=ft.matchesSelector||ft.mozMatchesSelector||ft.msMatchesSelector||ft.oMatchesSelector||ft.webkitMatchesSelector||function(se){for(var ue=(se=(this.document||this.ownerDocument).querySelectorAll(se)).length;0<=--ue&&se.item(ue)!==this;);return-1<ue}),Pt&&(jt.prototype[Pt]="FormData"),Ce){var br=ce.XMLHttpRequest.prototype.setRequestHeader;ce.XMLHttpRequest.prototype.setRequestHeader=function(se,ue){br.call(this,se,ue),se.toLowerCase()==="content-type"&&(this.B=!0)},ce.XMLHttpRequest.prototype.send=function(se){se instanceof jt?(se=se._blob(),this.B||this.setRequestHeader("Content-Type",se.type),Ce.call(this,se)):Ce.call(this,se)}}be&&(ce.fetch=function(se,ue){return ue&&ue.body&&ue.body instanceof jt&&(ue.body=ue.body._blob()),be.call(this,se,ue)}),tt&&(ce.navigator.sendBeacon=function(se,ue){return ue instanceof jt&&(ue=ue._asNative()),tt.call(this,se,ue)}),ce.FormData=jt}})();const Bc=()=>{const t=J("AREAS");return t.length===0&&t.push(dt.GLOBAL),Mr(t).call(t,(A,o,s)=>{const c=eD(o);return c?s===0?c:"".concat(A,",").concat(c):A},"")},eD=t=>t===dt.OVERSEA?"".concat(WA.ASIA,",").concat(WA.EUROPE,",").concat(WA.AFRICA,",").concat(WA.NORTH_AMERICA,",").concat(WA.SOUTH_AMERICA,",").concat(WA.OCEANIA):WA[t],xx=t=>{const A={CODE:"",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return t.map(o=>{const s=fI[o],c=Object.keys(s);c&&c.map(I=>{I!=="CODE"&&(A[I]=A[I].concat(s[I]))})}),A},HI={GLOBAL:{ASIA:[dt.CHINA,dt.JAPAN,dt.INDIA,dt.KOREA,dt.HKMC],EUROPE:[],NORTH_AMERICA:[dt.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},qI=Object.keys(HI[dt.GLOBAL]),Cd=[dt.CHINA,dt.NORTH_AMERICA,dt.EUROPE,dt.ASIA,dt.JAPAN,dt.INDIA,dt.OCEANIA,dt.SOUTH_AMERICA,dt.AFRICA,dt.KOREA,dt.HKMC,dt.US],Yx=function(t,A){let o=[];if(Re(t).call(t,dt.GLOBAL)){const I=[dt.GLOBAL,dt.OVERSEA],C=Object.keys(fI);if(A===dt.GLOBAL)throw new z(G.INVALID_PARAMS,"GLOBAL is an invalid excludedArea value");if(A===dt.CHINA)o=[dt.OVERSEA];else if(c=A,Re(qI).call(qI,c)){const l=(s=A,HI[dt.GLOBAL][s]||[]),d=[...I,A,...l];o=C.filter(h=>!Re(d).call(d,h))}else if(function(l){let d=!1;return qI.forEach(h=>{var Q;Re(Q=HI[dt.GLOBAL][h]).call(Q,l)&&(d=!0)}),d}(A)){const l=function(h){let Q;return qI.forEach(_=>{var S;Re(S=HI[dt.GLOBAL][_]).call(S,h)&&(Q=_)}),Q}(A),d=[...I,l,A];o=C.filter(h=>!Re(d).call(d,h))}else o=t;o=function(l){const d=[];return Cd.forEach(h=>{Re(l).call(l,h)&&d.push(h)}),d.concat(l.filter(h=>!Re(Cd).call(Cd,h)))}(o)}else o=t;var s,c;return o};function tD(t){var A,o;if(!t&&Re(A=J("AREAS")).call(A,dt.EXTENSIONS))return N.debug("update area from ap : reset"),void ld(BF,!0);if(!Re(o=J("AREAS")).call(o,dt.GLOBAL)||!t)return;let s=fI.EXTENSIONS;s&&(s={CODE:eD(dt.EXTENSIONS),WEBCS_DOMAIN:["ap-web-1-".concat(t,".agora.io")],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-".concat(t,".ap.sd-rtn.com")],PROXY_CS:["proxy-ap-web-".concat(t,".agora.io")],CDS_AP:["cds-ap-web-1-".concat(t,".agora.io"),"cds-ap-web-2-".concat(t,".ap.sd-rtn.com")],ACCOUNT_REGISTER:["sua-ap-web-1-".concat(t,".agora.io"),"sua-ap-web-2-".concat(t,".ap.sd-rtn.com")],UAP_AP:["uap-ap-web-1-".concat(t,".agora.io"),"uap-ap-web-2-".concat(t,".ap.sd-rtn.com")],EVENT_REPORT_DOMAIN:["statscollector-1-".concat(t,".agora.io")],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-".concat(t,".agora.io")],LOG_UPLOAD_SERVER:["logservice-".concat(t,".agora.io")],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy-".concat(t,".agora.io")]},N.debug("update area from ap success: ".concat(t,",config is "),s),vt("AREAS",[dt.EXTENSIONS],!0),Object.keys(s).map(c=>{c==="LOG_UPLOAD_SERVER"||c==="EVENT_REPORT_DOMAIN"||c==="EVENT_REPORT_BACKUP_DOMAIN"||c==="PROXY_SERVER_TYPE3"?vt(c,s[c][0]):vt(c,s[c])}))}function ld(t){let A=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const o=Me.reportApiInvoke(null,{name:fA.SET_AREA,options:t,tag:eA.TRACER});try{let s=[];if(typeof t=="string"&&(s=[t]),Array.isArray(t)&&(t.forEach(I=>{if(!Re(jR).call(jR,I))throw new z(G.INVALID_PARAMS,"invalid area code")}),s=t),Object.prototype.toString.call(t)==="[object Object]"){const{areaCode:I,excludedArea:C}=t;if(!I)throw new z(G.INVALID_PARAMS,"area code is needed");let l=I;typeof I=="string"&&(l=[I]),s=C?Yx(l,C):l}if(!A){if(en.AREAS){const I=new z(G.PROHIBITED_OPERATION,"setArea is prohibited because of config-distribute");return o.onError(I),void N.warning("setArea is prohibited because of config-distribute")}if(Re(s).call(s,dt.GLOBAL)&&J("AREAS")===dt.EXTENSIONS){const I=new z(G.PROHIBITED_OPERATION,"setArea is prohibited because of ap extensions");return o.onError(I),void N.warning("setArea is prohibited because of ap extensions")}}vt("AREAS",s,A);const c=xx(s);Object.keys(c).map(I=>{I==="LOG_UPLOAD_SERVER"||I==="EVENT_REPORT_DOMAIN"||I==="EVENT_REPORT_BACKUP_DOMAIN"||I==="PROXY_SERVER_TYPE3"?vt(I,c[I][0]):vt(I,c[I])}),N.debug("set area success:",s.join(","))}catch(s){throw o.onError(s),s}o.onSuccess()}function AD(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function ud(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?AD(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):AD(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}let dd=1;function Jx(t,A,o,s,c){dd+=1;const I={sid:o.sid,command:"convergeAllocateEdge",uid:"666",appId:o.appId,ts:Math.floor(Date.now()/1e3),seq:dd,requestId:dd,version:er,cname:o.cname},C={service_name:A,json_body:JSON.stringify(I)};let l,d,h=t[0];return kr(async()=>{l=Date.now();const Q=await Fr(h,{data:C,cancelToken:s,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}});if(d=Date.now()-l,Q.code!==0){const w=new z(G.UNEXPECTED_RESPONSE,"live streaming ap error, code"+Q.code,{retry:!0,responseTime:d});throw N.error(w.toString()),w}const _=JSON.parse(Q.json_body);if(_.code!==200){const w=new z(G.UNEXPECTED_RESPONSE,"live streaming app center error, code: ".concat(_.code,", reason: ").concat(_.reason),{code:_.code,responseTime:d});throw N.error(w.toString()),w}if(!_.servers||_.servers.length===0){const w=new z(G.UNEXPECTED_RESPONSE,"live streaming app center empty server",{code:_.code,responseTime:d});throw N.error(w.toString()),w}const S=function(w,k){return{addressList:w.servers.map(v=>"wss://".concat(v.address.replace(/\./g,"-"),".").concat(J("WORKER_DOMAIN"),":").concat(v.wss,"?serviceName=").concat(encodeURIComponent(k))),workerToken:w.workerToken,vid:w.vid}}(_,A);return J("LIVE_STREAMING_ADDRESS")&&(S.addressList=J("LIVE_STREAMING_ADDRESS")instanceof Array?J("LIVE_STREAMING_ADDRESS"):[J("LIVE_STREAMING_ADDRESS")]),ud(ud({},S),{},{responseTime:d})},(Q,_)=>(Me.apworkerEvent(o.sid,{success:!0,sc:200,serviceName:A,responseDetail:JSON.stringify(Q.addressList),firstSuccess:_===0,responseTime:d,serverIp:t[_%t.length]}),!1),(Q,_)=>(Me.apworkerEvent(o.sid,{success:!1,sc:Q.data&&Q.data.code||200,serviceName:A,responseTime:d,serverIp:t[_%t.length]}),!!(Q.code!==G.OPERATION_ABORTED&&Q.code!==G.UNEXPECTED_RESPONSE||Q.data&&Q.data.retry)&&(h=t[(_+1)%t.length],!0)),c)}let hd=1;function iD(t,A,o,s){let{url:c,areaCode:I}=t;const{clientId:C,sid:l}=A,d=Date.now();let h;const[Q,_]=pd(A,I,[lA.CHOOSE_SERVER]);let S=EA.networkState;return kr(async()=>{S&&EA.networkState===Ti.OFFLINE&&EA.onlineWaiter&&await pe.race([EA.onlineWaiter,OA(s&&s.maxRetryTimeout||hA.maxRetryTimeout)]),S=EA.networkState;const{data:w,headers:k}=await Fr(c,{data:Q,cancelToken:o,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);h=k.http3==="1"?1:-1,Me.reportResourceTiming(c,l),oD(w,c,A,d,[lA.CHOOSE_SERVER],h);const v=ac(w,lA.CHOOSE_SERVER);return Bd(v),Ru(v,c)},w=>(w&&Me.joinChooseServer(l,{lts:d,succ:!0,csAddr:c,opid:_,serverList:w.gatewayAddrs.map(k=>k.address),ec:null,cid:w.cid.toString(),uid:w.uid.toString(),csIp:w.csIp,unilbsServerIds:[lA.CHOOSE_SERVER].toString(),isHttp3:h}),!1),w=>w.code!==G.OPERATION_ABORTED&&(w.code===G.CAN_NOT_GET_GATEWAY_SERVER?w.data.retry:(Me.joinChooseServer(l,{lts:d,succ:!1,csAddr:c,serverList:null,opid:_,ec:w.code,csIp:w.data&&w.data.csIp,unilbsServerIds:[lA.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:S}),isHttp3:h}),N.warning("[".concat(C||"sid-".concat(l.slice(0,6)),"] Choose server network error, retry"),w),!0)),s)}function rD(t,A,o,s){let c,{url:I,areaCode:C,serviceIds:l}=t;const d=Date.now(),[h,Q]=pd(A,C,l);let _;return kr(async()=>{_&&EA.networkState===Ti.OFFLINE&&EA.onlineWaiter&&await pe.race([EA.onlineWaiter,OA(s&&s.maxRetryTimeout||hA.maxRetryTimeout)]),_=EA.networkState;const{data:S,headers:w}=await Fr(I,{data:h,cancelToken:o,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);c=w.http3==="1"?1:-1,Me.reportResourceTiming(I,A.sid),oD(S,I,A,d,l,c);const k=ac(S,lA.CHOOSE_SERVER),v=ac(S,A.cloudProxyServer==="proxy5"?lA.CLOUD_PROXY_5:A.cloudProxyServer==="proxy3"||A.cloudProxyServer==="proxy4"?lA.CLOUD_PROXY:lA.CLOUD_PROXY_FALLBACK);return Bd(k),{gatewayInfo:Ru(k,I),proxyInfo:v,url:I}},S=>(S.gatewayInfo&&Me.joinChooseServer(A.sid,{lts:d,succ:!0,csAddr:I,serverList:S.gatewayInfo.gatewayAddrs.map(w=>w.address),ec:null,opid:Q,cid:S.gatewayInfo.cid.toString(),uid:S.gatewayInfo.uid.toString(),csIp:S.gatewayInfo.csIp,unilbsServerIds:l.toString(),isHttp3:c}),S.proxyInfo&&Me.joinWebProxyAP(A.sid,{lts:d,sucess:1,apServerAddr:I,turnServerAddrList:S.proxyInfo.addresses.map(w=>w.ip).join(","),errorCode:null,eventType:A.cloudProxyServer,unilbsServerIds:l.toString()}),!1),S=>S.code!==G.OPERATION_ABORTED&&(S.code===G.CAN_NOT_GET_GATEWAY_SERVER?S.data.retry:(Me.joinWebProxyAP(A.sid,{lts:d,sucess:0,apServerAddr:I,turnServerAddrList:null,errorCode:S.code,eventType:A.cloudProxyServer,unilbsServerIds:l.toString(),extend:JSON.stringify({networkState:_})}),N.warning("[".concat(A.clientId,"] multi unilbs network error, retry"),S),!0)),s)}const oD=(t,A,o,s,c,I)=>{const{sid:C,clientId:l,cloudProxyServer:d}=o,h=[],Q=_=>{_.flag===4096?Me.joinChooseServer(C,{lts:s,succ:!1,csAddr:A,opid:t.opid,serverList:null,ec:_.error.message,csIp:_.error.data&&_.error.data.csIp,unilbsServerIds:c.toString(),isHttp3:I}):_.flag!==1048576&&_.flag!==4194304&&_.flag!==4194310||Me.joinWebProxyAP(C,{lts:s,sucess:0,apServerAddr:A,turnServerAddrList:null,errorCode:_.error.code,eventType:d,unilbsServerIds:c.toString()})};if(t.response_body.forEach(_=>{const S=_.buffer.code;if(_.uri===23&&S===0&&!_.buffer.edges_services)if(_.buffer.flag===4194310)N.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers"),_.buffer.edges_services=[];else{const w={error:new z(G.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:t.detail[502]}),flag:_.buffer.flag};h.push(w),Q(w)}if(S!==0){const w=Ks(S),k={error:new z(G.CAN_NOT_GET_GATEWAY_SERVER,w.desc,{desc:w.desc,retry:w.retry,csIp:t.detail[502]}),flag:_.buffer.flag};_.buffer.flag===4194310?N.warning(k.error.toString()):h.push(k),Q(k)}}),h.length)throw N.warning("[".concat(l||"sid-".concat(C.slice(0,6)),"] multi unilbs ").concat(A," failed, ").concat(h.map(_=>"flag: ".concat(_.flag,", message: ").concat(_.error.message,", retry: ").concat(_.error.data.retry)).join(" | "))),new z(G.CAN_NOT_GET_GATEWAY_SERVER,h.map(_=>"flag: ".concat(_.flag,", message: ").concat(_.error.message)).join(" | "),{retry:!!h.find(_=>_.error.data.retry),csIp:t.detail[502],desc:[...new Set(h.map(_=>{var S;return _==null||(S=_.error)===null||S===void 0||(S=S.data)===null||S===void 0?void 0:S.desc}).filter(_=>!!_))]})},Bd=t=>{var A,o,s,c;if(t.addresses&&t.addresses.length===0&&t.code===0)throw new z(G.CAN_NOT_GET_GATEWAY_SERVER,"void gateway address",{retry:!0,csIp:t.detail&&t.detail[502]});if(J("AP_AREA")&&((s=t.detail)!==null&&s!==void 0&&s[23]&&typeof((c=t.detail)===null||c===void 0?void 0:c[23])=="string"?tD(t.detail[23].toLowerCase()):tD()),(A=t.detail)!==null&&A!==void 0&&A[19]&&typeof((o=t.detail)===null||o===void 0?void 0:o[19])=="string"){const C=t.detail[19],l=C==null?void 0:C.split(";");for(let d=0;d<l.length;d++){var I;const h=Ai(I=l[d]).call(I);t.addresses[d]&&l&&(t.addresses[d].fingerprint=h)}}if(J("GATEWAY_ADDRESS")&&J("GATEWAY_ADDRESS").length>0){N.debug("assign gateway address to",J("GATEWAY_ADDRESS"));const C=J("GATEWAY_ADDRESS").map(l=>{var d,h;const Q=(d=(h=t.addresses.find(_=>_.ip===l.ip&&_.port===l.port))===null||h===void 0?void 0:h.fingerprint)!==null&&d!==void 0?d:"";return{ip:l.ip,port:l.port,ticket:t.addresses[0]&&t.addresses[0].ticket,fingerprint:Q}});t.addresses=C}},Hx=(t,A)=>{if(t.response_body&&t.response_body.length){const o=t.response_body[0];if(o.buffer.code!==0){const s=Ks(o.buffer.code);throw new z(G.UPDATE_TICKET_FAILED,"[".concat(o.buffer.code,"]: ").concat(s.desc),{retry:s.retry})}return o.buffer.ticket}throw N.debug("update ticket request received ap response without response body:",A),new z(G.UPDATE_TICKET_FAILED,"cannot find response body from ap response",{retry:!1})},pd=(t,A,o)=>{const s=Math.floor(Math.random()*1e12),c={appid:t.appId,client_ts:Date.now(),opid:s,sid:t.sid,request_bodies:[{uri:22,buffer:{cname:t.cname,detail:ud({6:t.stringUid,11:A,12:J("USE_NEW_TOKEN")?"1":void 0,22:A},t.apRTM?{26:"RTM2"}:{}),key:t.token,service_ids:o,uid:t.uid||0}}]};c.request_bodies.forEach(C=>{t.multiIP&&t.multiIP.gateway_ip&&(C.buffer.detail[5]=JSON.stringify({vocs_ip:[t.multiIP.uni_lbs_ip],vos_ip:[t.multiIP.gateway_ip]}))});const I=new FormData;return I.append("request",JSON.stringify(c)),[I,s]},qx=(t,A)=>{const o=Math.floor(Math.random()*1e12),s={appid:t.appId,client_ts:Date.now(),opid:o,sid:t.sid,request_bodies:[{uri:28,buffer:{cname:t.cname,detail:{1:"",6:t.stringUid,12:"1"},token:t.token,service_ids:A,uid:t.uid||0,edges_services:t.apResponse.addresses.map(I=>({ip:I.ip,port:I.port}))}}]},c=new FormData;return c.append("request",JSON.stringify(s)),[c,o]};let aa=0;function ca(t){return pe.all(t.map(A=>A.then(o=>{throw o},o=>o))).then(A=>{throw A},A=>A)}const pc=async t=>{let{fragementLength:A,referenceList:o,asyncMapHandler:s,allFailedhandler:c,promisesCollector:I}=t,C=0;const l=A;let d,h=0;const Q=async()=>{const _=(()=>{const S=C*l,w=S+l;return o.slice(S,w).map(s)})();I&&I.push(..._);try{d=await ca(_)}catch(S){if(h+=l,C++,!(h>=o.length))return void await Q();c(S)}_.forEach(S=>S.cancel())};return await Q(),d},nD=async t=>{let{referenceList:A,asyncMapHandler:o,closeFn:s}=t;const c=A.length;let I=0;const C=async()=>{const l=o(A.shift());try{return await l}catch(d){if(I++,I>=c||s!=null&&s(d))throw d;return C()}};return C()};async function Qd(t,A,o,s){return{gatewayInfo:await async function(I,C,l,d){let h=null;const Q=[],_=async()=>{const w=J("WEBCS_DOMAIN").slice(0,J("AJAX_REQUEST_CONCURRENT")).map(b=>({url:I.proxyServer?"https://".concat(I.proxyServer,"/ap/?url=").concat(b+"/api/v2/transpond/webrtc?v=2"):"https://".concat(b,"/api/v2/transpond/webrtc?v=2"),areaCode:Bc()})),k=d.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:w.map(b=>b.url)}),v=await pc({fragementLength:J("FRAGEMENT_LENGTH"),referenceList:w,asyncMapHandler:b=>(N.debug("[".concat(I.clientId,"] Connect to choose_server:"),b.url),iD(b,I,C,l)),allFailedhandler:b=>{throw d.recordJoinChannelService({endTs:Date.now(),status:"error",errors:b},k),b[0]},promisesCollector:Q});return d.recordJoinChannelService({endTs:Date.now(),status:"success"},k),v},S=async()=>{if(await OA(1e3),h!==null)return h;const w=J("WEBCS_DOMAIN_BACKUP_LIST").map(b=>({url:I.proxyServer?"https://".concat(I.proxyServer,"/ap/?url=").concat(b+"/api/v2/transpond/webrtc?v=2"):"https://".concat(b,"/api/v2/transpond/webrtc?v=2"),areaCode:Bc()})),k=d.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:"pending",service:"chooseServer",urls:w.map(b=>b.url)}),v=await pc({fragementLength:J("FRAGEMENT_LENGTH"),referenceList:w,asyncMapHandler:b=>(N.debug("[".concat(I.clientId,"] Connect to backup choose_server:"),b.url),iD(b,I,C,l)),allFailedhandler:b=>{throw d.recordJoinChannelService({endTs:Date.now(),status:"error",errors:b},k),b[0]},promisesCollector:Q});return d.recordJoinChannelService({endTs:Date.now(),status:"success"},k),v};try{return h=await ca([_(),S()]),Q.length&&Q.forEach(w=>w.cancel&&typeof w.cancel=="function"&&w.cancel()),h}catch(w){throw w[0]}}(t,A,o,s)}}async function sD(t,A,o,s,c){const I=t.cloudProxyServer;if(I==="disabled"){if(t.useLocalAccessPoint)return await Qd(t,A,o,c);if(J("JOIN_WITH_FALLBACK_MEDIA_PROXY")){const{gatewayInfo:S,proxyInfo:w}=await gD(t,A,o,c);if(t.turnServer&&t.turnServer.mode!=="auto")return{gatewayInfo:S};const k=w.map(v=>({turnServerURL:v.address,tcpport:v.tcpport||JA.tcpport,udpport:v.udpport||JA.udpport,username:v.username||JA.username,password:v.password||JA.password,forceturn:!1,security:!0}));if(c.useP2P){var C;const v=(C=t.uid)!==null&&C!==void 0?C:S.uid,b="glb:".concat(v.toString()),P=await tu(b),K=w.map(W=>({turnServerURL:W.address,tcpport:W.tcpport||JA.tcpport,udpport:W.udpport||JA.udpport,username:b,password:P,forceturn:!1,security:!0}));k.push(...K)}return t.turnServer={mode:"manual",servers:k},{gatewayInfo:S}}return await Qd(t,A,o,c)}const{proxyInfo:l,gatewayInfo:d}=await gD(t,A,o,c),h={gatewayInfo:d},Q=l.map(S=>({turnServerURL:S.address,tcpport:I==="proxy3"?void 0:S.tcpport?S.tcpport:JA.tcpport,udpport:I==="proxy4"?void 0:S.udpport?S.udpport:JA.udpport,username:S.username||JA.username,password:S.password||JA.password,forceturn:I!=="proxy4",security:I==="proxy5"}));if(c.useP2P){var _;const S=(_=t.uid)!==null&&_!==void 0?_:d.uid,w="glb:".concat(S.toString()),k=await tu(w),v=l.map(b=>({turnServerURL:b.address,tcpport:I==="proxy3"?void 0:b.tcpport||JA.tcpport,udpport:I==="proxy4"?void 0:b.udpport||JA.udpport,username:w,password:k,forceturn:I!=="proxy4",security:I==="proxy5"}));Q.push(...v)}return t.turnServer={mode:"manual",servers:Q},N.debug("[".concat(t.clientId,"] set proxy server: ").concat(t.proxyServer,", mode: ").concat(I)),h}async function aD(t,A,o,s,c){const I=J("ACCOUNT_REGISTER").slice(0,J("AJAX_REQUEST_CONCURRENT"));let C=[];C=A.proxyServer?I.map(d=>"https://".concat(A.proxyServer,"/ap/?url=").concat(d+"/api/v1")):I.map(d=>"https://".concat(d,"/api/v1"));const l=c==null?void 0:c.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"stringUID",urls:C});try{const d=await async function(h,Q,_,S,w){const k=Date.now(),v={sid:_.sid,opid:10,appid:_.appId,string_uid:Q};let b=h[0];const P=await kr(()=>Fr(b+"".concat(b.indexOf("?")===-1?"?":"&","action=stringuid"),{data:v,cancelToken:S,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}}),(K,W)=>{if(K.code===0){if(K.uid<=0||K.uid>=Math.pow(2,32))throw N.error("Invalid Uint Uid ".concat(Q," => ").concat(K.uid),K),Me.reqUserAccount(v.sid,{lts:k,success:!1,serverAddr:b,stringUid:v.string_uid,uid:K.uid,errorCode:G.INVALID_UINT_UID_FROM_STRING_UID,extend:v}),new z(G.INVALID_UINT_UID_FROM_STRING_UID);return Me.reqUserAccount(v.sid,{lts:k,success:!0,serverAddr:b,stringUid:v.string_uid,uid:K.uid,errorCode:null,extend:v}),!1}const X=Ks(K.code);return X.retry&&(b=h[(W+1)%h.length]),Me.reqUserAccount(v.sid,{lts:k,success:!1,serverAddr:b,stringUid:v.string_uid,uid:K.uid,errorCode:X.desc,extend:v}),X.retry},(K,W)=>K.code!==G.OPERATION_ABORTED&&(Me.reqUserAccount(v.sid,{lts:k,success:!1,serverAddr:b,stringUid:v.string_uid,uid:null,errorCode:K.code,extend:v}),b=h[(W+1)%h.length],!0),w);if(P.code!==0){const K=Ks(P.code);throw new z(G.UNEXPECTED_RESPONSE,K.desc)}return P}(C,t,A,o,s);return c==null||c.recordJoinChannelService({status:"success",endTs:Date.now()},l),d.uid}catch(d){throw c==null||c.recordJoinChannelService({status:"error",endTs:Date.now(),errors:[d]},l),d}}async function Vx(t,A,o){const s=J("ACCOUNT_REGISTER");let c=[];c=A.proxyServer?s.map(I=>"https://".concat(A.proxyServer,"/ap/?url=").concat(I+"/api/v1")):s.map(I=>"https://".concat(I,"/api/v1"));try{return await nD({referenceList:c,asyncMapHandler:C=>async function(l,d,h,Q){const _=Date.now(),S={sid:h.sid,opid:10,appid:h.appId,string_uid:d};try{const w=await Fr(l+"".concat(l.indexOf("?")===-1?"?":"&","action=stringuid"),{data:S,cancelToken:Q,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}});if(w.code!==0){const k=Ks(w.code);throw new z(G.UNEXPECTED_RESPONSE,"preload sua error:".concat(k.desc),k)}if(w.uid<=0||w.uid>=Math.pow(2,32))throw new z(G.INVALID_UINT_UID_FROM_STRING_UID);return{requestTime:_,url:l,req:S,uid:w.uid,elapse:Date.now()-_}}catch(w){throw w}}(C,t,A,o),closeFn:C=>C.code===G.OPERATION_ABORTED||C.code===G.UNEXPECTED_RESPONSE&&!C.data.retry})}catch(I){throw I}}async function jx(t,A,o){const s=J("CDS_AP").slice(0,J("AJAX_REQUEST_CONCURRENT")).map(d=>t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(d+"/api/v1"):"https://".concat(d,"/api/v1?action=config")),c=s.map(d=>function(h,Q,_,S){const w=Et(),k={flag:64,cipher_method:0,features:{device:w.name,system:w.os,system_general:navigator.userAgent,vendor:Q.appId,version:er,cname:Q.cname,sid:Q.sid,session_id:Q.sid,detail:"",proxyServer:Q.proxyServer}};return kr(()=>Fr(h,{data:k,timeout:1e3,cancelToken:_,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":54}}),void 0,v=>v.code!==G.OPERATION_ABORTED,S)}(d,t,A,o));let I=null,C=null,l={};try{I=await ca(c)}catch(d){if(d.code===G.OPERATION_ABORTED)throw d;C=d}if(c.forEach(d=>d.cancel()),Me.reportApiInvoke(t.sid,{name:fA.REQUEST_CONFIG_DISTRIBUTE,options:{error:C,res:I}}).onSuccess(),I&&I.test_tags)try{l=function(d){if(!d.test_tags)return{};const h=d.test_tags,Q=Object.keys(h),_={};return Q.forEach(S=>{var w;const k=Ai(w=S.slice(4)).call(w),v=JSON.parse(h[S])[1];_[k]=v}),_}(I)}catch{}return l}async function cD(t,A){const o=J("WEBCS_DOMAIN").concat(J("WEBCS_DOMAIN_BACKUP_LIST")).map(s=>({url:"https://".concat(s,"/api/v2/transpond/webrtc?v=2"),areaCode:Bc(),serviceIds:[lA.CHOOSE_SERVER,lA.CLOUD_PROXY_FALLBACK]}));try{return await nD({referenceList:o,asyncMapHandler:c=>async function(I,C,l){let d,{url:h,areaCode:Q,serviceIds:_}=I;const S=Date.now(),[w,k]=pd(C,Q,_);let v=EA.networkState;try{v&&EA.networkState===Ti.OFFLINE&&EA.onlineWaiter&&await pe.race([EA.onlineWaiter,OA(hA.maxRetryTimeout)]),v=EA.networkState;const{data:b,headers:P}=await Fr(h,{data:w,cancelToken:l,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);d=P.http3==="1"?1:-1,(Z=>{const ie=[];if(Z.response_body.forEach(ce=>{const de=ce.buffer.code;if(ce.uri===23&&de===0&&!ce.buffer.edges_services)if(ce.buffer.flag===4194310)ce.buffer.edges_services=[];else{const Ce={error:new z(G.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:Z.detail[502]}),flag:ce.buffer.flag};ie.push(Ce)}if(de!==0){const Ce=Ks(de),be={error:new z(G.CAN_NOT_GET_GATEWAY_SERVER,Ce.desc,{desc:Ce.desc,retry:Ce.retry,csIp:Z.detail[502]}),flag:ce.buffer.flag};ce.buffer.flag===4194310?N.warning(be.error.toString()):ie.push(be)}}),ie.length)throw new z(G.CAN_NOT_GET_GATEWAY_SERVER,ie.map(ce=>"flag: ".concat(ce.flag,", message: ").concat(ce.error.message)).join(" | "),{retry:!!ie.find(ce=>ce.error.data.retry),csIp:Z.detail[502],desc:[...new Set(ie.map(ce=>{var de;return ce==null||(de=ce.error)===null||de===void 0||(de=de.data)===null||de===void 0?void 0:de.desc}).filter(ce=>!!ce))]})})(b);const W=ac(b,lA.CHOOSE_SERVER),X=ac(b,lA.CLOUD_PROXY_FALLBACK);return Bd(W),{gatewayInfo:Ru(W,h),proxyInfo:X,opid:k,requestTime:S,url:h,isHttp3:d,elapse:Date.now()-S}}catch(b){throw b}}(c,t,A),closeFn:c=>c.code===G.OPERATION_ABORTED||c.code===G.CAN_NOT_GET_GATEWAY_SERVER&&!c.data.retry})}catch(s){throw s}}async function gD(t,A,o,s){const c=J("PROXY_SERVER_TYPE3"),I=(w,k,v)=>{let b=v||c;return Array.isArray(b)&&(b=k%2==0?c[1]:c[0]),"https://".concat(b,"/ap/?url=").concat(w)};let C=null;const l=[],d=async()=>{const w=J("WEBCS_DOMAIN").slice(0,J("AJAX_REQUEST_CONCURRENT")).map((b,P)=>{let K;return K=t.cloudProxyServer==="disabled"&&t.proxyServer?I("".concat(b,"/api/v2/transpond/webrtc?v=2"),P,t.proxyServer):t.cloudProxyServer==="disabled"||t.cloudProxyServer==="fallback"?"https://".concat(b,"/api/v2/transpond/webrtc?v=2"):I("".concat(b,"/api/v2/transpond/webrtc?v=2"),P),{url:K,areaCode:Bc(),serviceIds:[lA.CHOOSE_SERVER,t.cloudProxyServer==="proxy5"?lA.CLOUD_PROXY_5:t.cloudProxyServer==="proxy3"||t.cloudProxyServer==="proxy4"?lA.CLOUD_PROXY:lA.CLOUD_PROXY_FALLBACK]}}),k=s.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:w.map(b=>b.url)}),v=await pc({fragementLength:J("FRAGEMENT_LENGTH"),referenceList:w,asyncMapHandler:b=>(N.debug("[".concat(t.clientId,"] Connect to choose_server:"),b.url),rD(b,t,A,o)),allFailedhandler:b=>{throw s.recordJoinChannelService({endTs:Date.now(),status:"error",errors:b},k),b[0]},promisesCollector:l});return s.recordJoinChannelService({endTs:Date.now(),status:"success"},k),v},h=async()=>{if(await OA(1e3),C!==null)return C;const w=J("WEBCS_DOMAIN_BACKUP_LIST").map((b,P)=>{let K;return K=t.cloudProxyServer==="disabled"&&t.proxyServer?I("".concat(b,"/api/v2/transpond/webrtc?v=2"),P,t.proxyServer):t.cloudProxyServer==="disabled"||t.cloudProxyServer==="fallback"?"https://".concat(b,"/api/v2/transpond/webrtc?v=2"):I("".concat(b,"/api/v2/transpond/webrtc?v=2"),P),{url:K,areaCode:Bc(),serviceIds:[lA.CHOOSE_SERVER,t.cloudProxyServer==="proxy5"?lA.CLOUD_PROXY_5:t.cloudProxyServer==="proxy3"||t.cloudProxyServer==="proxy4"?lA.CLOUD_PROXY:lA.CLOUD_PROXY_FALLBACK]}}),k=s.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:w.map(b=>b.url)}),v=await pc({fragementLength:J("FRAGEMENT_LENGTH"),referenceList:w,asyncMapHandler:b=>(N.debug("[".concat(t.clientId,"] Connect to backup choose_server:"),b.url),rD(b,t,A,o)),allFailedhandler:b=>{throw s.recordJoinChannelService({endTs:Date.now(),status:"error",errors:b},k),b[0]},promisesCollector:l});return s.recordJoinChannelService({endTs:Date.now(),status:"success"},k),v};let Q,_,S;try{({gatewayInfo:Q,proxyInfo:_,url:S}=await ca([d(),h()]))}catch(w){throw w[0]}if(l.length&&l.forEach(w=>w.cancel&&typeof w.cancel=="function"&&w.cancel()),!Q||!_)throw new z(G.UNEXPECTED_ERROR,"missing gateway or proxy response").print();if(t.apUrl=S,t.cloudProxyServer!=="disabled"&&Array.isArray(c)&&S){const w=/^https?:\/\/(.+?)(\/.*)?$/.exec(S)[1];Re(c).call(c,w)&&(t.proxyServer=w,N.setProxyServer(w),Me.setProxyServer(w))}return C={gatewayInfo:Q,proxyInfo:await ny(_,Q.uid)},C}async function $x(t,A,o){const s=J("UAP_AP").slice(0,J("AJAX_REQUEST_CONCURRENT")).map(I=>t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(I+"/api/v1?action=uap"):"https://".concat(I,"/api/v1?action=uap")),c=s.map(I=>function(C,l,d,h){const Q={command:"convergeAllocateEdge",sid:l.sid,appId:l.appId,token:l.token,ts:Date.now(),version:er,cname:l.cname,uid:l.uid.toString(),requestId:hd,seq:hd};hd+=1;const _={service_name:"tele_channel",json_body:JSON.stringify(Q)};return kr(async()=>{const S=await Fr(C,{data:_,cancelToken:d,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});if(S.code!==0){const k=new z(G.UNEXPECTED_RESPONSE,"cross channel ap error, code"+S.code,{retry:!0});throw N.error(k.toString()),k}const w=JSON.parse(S.json_body);if(w.code!==200){const k=new z(G.UNEXPECTED_RESPONSE,"cross channel app center error, code: ".concat(w.code,", reason: ").concat(w.reason));throw N.error(k.toString()),k}if(!w.servers||w.servers.length===0){const k=new z(G.UNEXPECTED_RESPONSE,"cross channel app center empty server");throw N.error(k.toString()),k}return{vid:w.vid,workerToken:w.workerToken,addressList:(J("CHANNEL_MEDIA_RELAY_SERVERS")||w.servers).map(k=>"wss://".concat(k.address.replace(/\./g,"-"),".").concat(J("WORKER_DOMAIN"),":").concat(k.wss))}},void 0,S=>!!(S.code!==G.OPERATION_ABORTED&&S.code!==G.UNEXPECTED_RESPONSE||S.data&&S.data.retry),h)}(I,t,A,o));try{const I=await ca(c);return c.forEach(C=>C.cancel()),I}catch(I){throw I[0]}}async function Wx(t,A,o){let s=null;const c=[],I=async C=>{const l=J(C?"WEBCS_DOMAIN_BACKUP_LIST":"WEBCS_DOMAIN").map(d=>t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(d+"/api/v2/transpond/webrtc?v=2"):"https://".concat(d,"/api/v2/transpond/webrtc?v=2"));return C&&(await OA(1e3),s!==null)?s:await pc({fragementLength:J("FRAGEMENT_LENGTH"),referenceList:l,asyncMapHandler:d=>(N.debug("[".concat(t.clientId,"] update ticket, Connect to ").concat(C?"backup":""," choose_server:"),d),function(h,Q,_,S){const[w]=qx(Q,[lA.CHOOSE_SERVER]);let k=EA.networkState;return kr(async()=>{k&&EA.networkState===Ti.OFFLINE&&EA.onlineWaiter&&await pe.race([EA.onlineWaiter,OA(S&&S.maxRetryTimeout||hA.maxRetryTimeout)]),k=EA.networkState;const v=await Fr(h,{data:w,cancelToken:_,headers:{"Content-Type":"multipart/form-data;"}},!0);return Hx(v,h)},()=>!1,v=>v.code!==G.OPERATION_ABORTED&&(v.code===G.UPDATE_TICKET_FAILED?v.data.retry:(N.warning("[".concat(Q.clientId,"] update ticket network error, retry"),v),!0)),S)}(d,t,A,o)),allFailedhandler:d=>{throw d[0]},promisesCollector:c})};try{return s=await ca([I(!1),I(!0)]),c.length&&c.forEach(C=>C.cancel&&typeof C.cancel=="function"&&C.cancel()),s}catch(C){throw C[0]}}function ID(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function ED(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?ID(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ID(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}class Xx extends Xt{get isSuccess(){return!!this.configs}constructor(){super(),L(this,"configs",void 0),L(this,"joinInfo",void 0),L(this,"cancelToken",void 0),L(this,"retryConfig",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),L(this,"interval",void 0),L(this,"mutex",new $A("config-distribute")),L(this,"mutableParamsRead",!1)}startGetConfigDistribute(A,o){this.joinInfo=A,this.cancelToken=o,this.interval&&this.stopGetConfigDistribute(),J("ENABLE_CONFIG_DISTRIBUTE")&&(this.updateConfigDistribute(),this.interval=window.setInterval(()=>{this.updateConfigDistribute()},J("CONFIG_DISTRIBUTE_INTERVAL")))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0}async awaitConfigDistributeComplete(){this.mutex.isLocked&&(await this.mutex.lock())()}async updateConfigDistribute(){if(this.mutableParamsRead||(this.mutableParamsRead=!0,Me.reportApiInvoke(null,{options:void 0,name:fA.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:eA.TRACER}).onSuccess(JSON.stringify(en))),!this.joinInfo||!this.cancelToken||!this.retryConfig)return void N.debug("[config-distribute] get config distribute interrupted have no joininfo");let A;const o=await this.mutex.lock();try{A=await jx(this.joinInfo,this.cancelToken,this.retryConfig),N.debug("[config-distribute] get config distribute",JSON.stringify(A)),A.limit_bitrate&&this.handleBitrateLimit(A.limit_bitrate),this.cacheGlobalParameterConfig(A),this.configs=A}catch(s){const c=new z(G.NETWORK_RESPONSE_ERROR,s);N.warning("[config-distribute] ".concat(c.toString()))}finally{o()}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(A){var o;(o=A)&&o.uplink&&o.id&&o.uplink.max_bitrate!==void 0&&o.uplink.min_bitrate!==void 0&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==A.id&&this.emit(Qu.UPDATE_BITRATE_LIMIT,A):this.emit(Qu.UPDATE_BITRATE_LIMIT,A))}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&ED({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(A){var o;const s=Pa(o=Object.keys(A).filter(I=>/^webrtc_ng_global_parameter/.test(I))).call(o);for(let I=0;I<s.length;I++)for(let C=s.length-1;C>I;C--){const l=s[C];if(typeof A[l].__priority=="number"){const d=A[l].__priority,h=s[C-1];if(typeof A[h].__priority=="number"){if(!(d>A[h].__priority))continue;{const Q=l;s[C]=s[C-1],s[C-1]=Q}}else{const Q=l;s[C]=s[C-1],s[C-1]=Q}}}const c={};s.forEach(I=>{const C=A[I],l=C.__expires;Object.keys(C).forEach(d=>{d==="__priority"||d==="__expires"||Object.prototype.hasOwnProperty.call(c,d)||(c[d]=ED({value:C[d]},l&&{expires:l}))})});try{(function(l){try{const d=Date.now();Object.keys(l).forEach(h=>{switch(h){case"ENABLE_EVENT_REPORT":case"UPLOAD_LOG":case"ENABLE_AG_ADAPTATION":case"FORCE_AG_HIGH_FRAMERATE":case"FORCE_SUPPORT_AG_ADAPTATION":case"ENCODER_CONFIG_LIMIT":case"CAMERA_CAPTURE_CONFIG":case"ENABLE_PRELOAD":if(Object.prototype.hasOwnProperty.call(rA,h)){const{value:Q,expires:_}=l[h];if(_&&_<=d)return;en[h]=Q,rA[h]=Q,N.debug("Update global parameters from config distribute",h,Q)}}})}catch(d){N.error("Error update config immediately: ".concat(l),d.message)}})(c);const I=JSON.stringify(c),C=window.btoa(I);window.localStorage.setItem("websdk_ng_global_parameter",C),N.debug("Caching global parameters ".concat(I))}catch(I){N.error("Error caching global parameters:",I.message)}}}class Zx extends Xt{constructor(){super(...arguments),L(this,"resultStorage",new Map)}setLocalAudioStats(A,o,s){this.record("AUDIO_INPUT_LEVEL_TOO_LOW",A,this.checkAudioInputLevel(s,o)),this.record("SEND_AUDIO_BITRATE_TOO_LOW",A,this.checkSendAudioBitrate(s,o))}setLocalVideoStats(A,o,s){this.record("SEND_VIDEO_BITRATE_TOO_LOW",A,this.checkSendVideoBitrate(s,o)),this.record("FRAMERATE_INPUT_TOO_LOW",A,this.checkFramerateInput(s,o)),this.record("FRAMERATE_SENT_TOO_LOW",A,this.checkFramerateSent(s))}setRemoteAudioStats(A,o){const s=A.getUserId();this.record("AUDIO_OUTPUT_LEVEL_TOO_LOW",s,this.checkAudioOutputLevel(o))}setRemoteVideoStats(A,o){const s=A.getUserId();this.record("RECV_VIDEO_DECODE_FAILED",s,this.checkVideoDecode(o))}record(A,o,s){if(J("STATS_UPDATE_INTERVAL")>500)return;this.resultStorage.has(A)||this.resultStorage.set(A,{result:[],isPrevNormal:!0});const c=this.resultStorage.get(A);if(c&&(c.result.push(s),c.result.length>=5)){var I;const C=Re(I=c.result).call(I,!0);c.isPrevNormal&&!C&&this.emit("exception",CD[A],A,o),!c.isPrevNormal&&C&&this.emit("exception",CD[A]+2e3,A+"_RECOVER",o),c.isPrevNormal=C,c.result=[]}}checkAudioOutputLevel(A){return!(A.receiveBitrate>0&&A.receiveLevel===0)}checkAudioInputLevel(A,o){return o instanceof RA&&!o.isActive||!!o.muted||A.sendVolumeLevel!==0}checkFramerateInput(A,o){let s=null;o._encoderConfig&&o._encoderConfig.frameRate&&(s=vi(o._encoderConfig.frameRate));const c=A.captureFrameRate;return!s||!c||!(s>10&&c<5||s<10&&s>=5&&c<=1)}checkFramerateSent(A){return!(A.captureFrameRate&&A.sendFrameRate&&A.captureFrameRate>5&&A.sendFrameRate<=1)}checkSendVideoBitrate(A,o){return!!o.muted||A.sendBitrate!==0}checkSendAudioBitrate(A,o){return o instanceof RA&&!o.isActive||!!o.muted||A.sendBitrate!==0}checkVideoDecode(A){return A.receiveBitrate===0||A.decodeFrameRate!==0}}const CD={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003},XA=new class{markSubscribeStart(t,A){performance.mark("agora-web-sdk/".concat(t,"/subscribe-").concat(A))}markPublishStart(t,A){performance.mark("agora-web-sdk/".concat(t,"/publish-").concat(A))}measureFromSubscribeStart(t,A){const o=performance.getEntriesByName("agora-web-sdk/".concat(t,"/subscribe-").concat(A));if(o.length>0){const s=o[o.length-1];return Math.round(performance.now()-s.startTime)}return 0}measureFromPublishStart(t,A){const o=performance.getEntriesByName("agora-web-sdk/".concat(t,"/publish-").concat(A));if(o.length>0){const s=o[o.length-1];return Math.round(performance.now()-s.startTime)}return 0}};function fd(t,A){this.v=t,this.k=A}function ht(t){return new fd(t,0)}var zx=Tp,e2=Xr;Lt({target:"Promise",stat:!0,forced:!0},{withResolvers:function(){var t=e2.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var t2=Xr,A2=hs;Lt({target:"Promise",stat:!0,forced:!0},{try:function(t){var A=t2.f(this),o=A2(t);return(o.error?A.reject:A.resolve)(o.value),A.promise}});var _d=g(zx),lD=_s.f("asyncIterator"),i2=g(lD);function Qc(t){var A,o;function s(I,C){try{var l=t[I](C),d=l.value,h=d instanceof fd;_d.resolve(h?d.v:d).then(function(Q){if(h){var _=I==="return"?"return":"next";if(!d.k||Q.done)return s(_,Q);Q=t[_](Q).value}c(l.done?"return":"normal",Q)},function(Q){s("throw",Q)})}catch(Q){c("throw",Q)}}function c(I,C){switch(I){case"return":A.resolve({value:C,done:!0});break;case"throw":A.reject(C);break;default:A.resolve({value:C,done:!1})}(A=A.next)?s(A.key,A.arg):o=null}this._invoke=function(I,C){return new _d(function(l,d){var h={key:I,arg:C,resolve:l,reject:d,next:null};o?o=o.next=h:(A=o=h,s(I,C))})},typeof t.return!="function"&&(this.return=void 0)}function Kr(t){return function(){return new Qc(t.apply(this,arguments))}}Qc.prototype[typeof Ss=="function"&&i2||"@@asyncIterator"]=function(){return this},Qc.prototype.next=function(t){return this._invoke("next",t)},Qc.prototype.throw=function(t){return this._invoke("throw",t)},Qc.prototype.return=function(t){return this._invoke("return",t)};var uD=g(Ui.Object.getOwnPropertySymbols),r2=Lt,o2=GE.indexOf,n2=rg,Rd=He([].indexOf),dD=!!Rd&&1/Rd([1],1,-0)<0;r2({target:"Array",proto:!0,forced:dD||!n2("indexOf")},{indexOf:function(t){var A=arguments.length>1?arguments[1]:void 0;return dD?Rd(this,t,A)||0:o2(this,t,A)}});var s2=Ir("Array").indexOf,a2=M,c2=s2,yd=Array.prototype,g2=function(t){var A=t.indexOf;return t===yd||a2(yd,t)&&A===yd.indexOf?c2:A},hD=g(g2);function I2(t,A){if(t==null)return{};var o,s,c=function(C,l){if(C==null)return{};var d,h,Q={},_=xR(C);for(h=0;h<_.length;h++)d=_[h],hD(l).call(l,d)>=0||(Q[d]=C[d]);return Q}(t,A);if(uD){var I=uD(t);for(s=0;s<I.length;s++)o=I[s],hD(A).call(A,o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(c[o]=t[o])}return c}function mr(t){if(Array.isArray(t))return t.map(o=>o);if(!BD(t))return t;const A={};for(const o in t){const s=t[o];BD(s)||Array.isArray(s)?A[o]=mr(s):A[o]=s}return A}function BD(t){return!(typeof t!="object"||Array.isArray(t)||!t)}class md{constructor(A){L(this,"input",[]),L(this,"size",void 0),this.size=A}add(A){this.input.push(A),this.input.length>this.size&&this.input.splice(0,1)}diffMean(){return this.input.length===0?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}}const co={address:"unknown",candidateType:"unknown",id:"unknown",port:0,priority:0,protocol:"unknown",type:"unknown"},fc={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:"unknown",localCandidate:co,remoteCandidate:co}},pD={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0,framesDroppedCount:0,outputFrameRate:0},QD={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},fD={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},_D={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packetsDiscarded:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0};function RD(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function yD(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?RD(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):RD(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}class Sd{constructor(A,o){L(this,"onFirstVideoReceived",void 0),L(this,"onFirstVideoDecoded",void 0),L(this,"onFirstAudioReceived",void 0),L(this,"onFirstVideoDecodedTimeout",void 0),L(this,"onFirstAudioDecoded",void 0),L(this,"onSelectedLocalCandidateChanged",void 0),L(this,"onSelectedRemoteCandidateChanged",void 0),L(this,"videoIsReady",!1),L(this,"videoIsReady2",{}),L(this,"pc",void 0),L(this,"options",void 0),L(this,"intervalTimer",void 0),L(this,"stats",mr(fc)),L(this,"isFirstVideoReceived",{}),L(this,"isFirstVideoDecoded",{}),L(this,"isFirstAudioReceived",{}),L(this,"isFirstAudioDecoded",{}),L(this,"isFirstVideoDecodedTimeout",{}),L(this,"lossRateWindowStats",[]),this.pc=A,this.options=o,this.intervalTimer=window.setInterval(async()=>{this.updateStats()},this.options.updateInterval)}getStats(){return this.stats}getSelectedCandidatePair(){return new pe(A=>{A({local:yD({},co),remote:yD({},co)})})}setVideoIsReady(A){this.videoIsReady=A}setVideoIsReady2(A,o){this.videoIsReady2[A]=o}getVideoIsReady(A){return this.videoIsReady2[A]||!1}setIsFirstAudioDecoded(A){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0}calcLossRate(A){this.lossRateWindowStats.push(A),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);const o=this.lossRateWindowStats.length,s=["videoSend","audioSend","videoRecv","audioRecv"];let c=0,I=0,C=0,l=0;for(const d of s)A[d].forEach((h,Q)=>{if(!this.lossRateWindowStats[o-1][d][Q]||!this.lossRateWindowStats[0][d][Q])return;const _=this.lossRateWindowStats[o-1][d][Q].packets-this.lossRateWindowStats[0][d][Q].packets,S=this.lossRateWindowStats[o-1][d][Q].packetsLost-this.lossRateWindowStats[0][d][Q].packetsLost;d==="videoSend"||d==="audioSend"?(c+=_,C+=S):(I+=_,l+=S),Number.isNaN(_)||Number.isNaN(_)?h.packetLostRate=0:h.packetLostRate=_<=0||S<=0?0:S/(_+S)});A.sendPacketLossRate=c<=0||C<=0?0:C/(c+C),A.recvPacketLossRate=I<=0||l<=0?0:l/(I+l)}}function mD(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function E2(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?mD(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):mD(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}class C2 extends Sd{constructor(){super(...arguments),L(this,"_stats",fc),L(this,"lastDecodeVideoReceiverStats",new Map)}async updateStats(){const A=await this._getStats(),o=this.statsResponsesToObjects(A);this._stats=mr(fc);const s=o.filter(I=>I.type==="ssrc");this.processSSRCStats(s);const c=o.find(I=>I.type==="VideoBwe");c&&this.processBandwidthStats(c),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}processBandwidthStats(A){this._stats.bitrate={actualEncoded:Number(A.googActualEncBitrate),targetEncoded:Number(A.googTargetEncBitrate),retransmit:Number(A.googRetransmitBitrate),transmit:Number(A.googTransmitBitrate)},this._stats.sendBandwidth=Number(A.googAvailableSendBandwidth)}processSSRCStats(A){A.forEach(o=>{var s;const c=Re(s=o.id).call(s,"send");switch("".concat(o.mediaType,"_").concat(c?"send":"recv")){case"video_send":{const I=mr(QD);I.codec=o.googCodecName,I.adaptionChangeReason="none",o.googCpuLimitedResolution&&(I.adaptionChangeReason="cpu"),o.googBandwidthLimitedResolution&&(I.adaptionChangeReason="bandwidth"),I.avgEncodeMs=Number(o.googAvgEncodeMs),I.inputFrame={width:Number(o.googFrameWidthInput)||Number(o.googFrameWidthSent),height:Number(o.googFrameHeightInput)||Number(o.googFrameHeightSent),frameRate:Number(o.googFrameRateInput)},I.sentFrame={width:Number(o.googFrameWidthSent),height:Number(o.googFrameHeightSent),frameRate:Number(o.googFrameRateInput)},I.firsCount=Number(o.googFirReceived),I.nacksCount=Number(o.googNacksReceived),I.plisCount=Number(o.googPlisReceived),I.frameCount=Number(o.framesEncoded),I.bytes=Number(o.bytesSent),I.packets=Number(o.packetsSent),I.packetsLost=Number(o.packetsLost),I.ssrc=Number(o.ssrc),I.rttMs=Number(o.googRtt||0),this._stats.videoSend.push(I),this._stats.rtt=I.rttMs;break}case"video_recv":{const I=mr(pD),C=this.lastDecodeVideoReceiverStats.get(Number(o.ssrc));if(I.codec=o.googCodecName,I.targetDelayMs=Number(o.googTargetDelayMs),I.renderDelayMs=Number(o.googRenderDelayMs),I.currentDelayMs=Number(o.googCurrentDelayMs),I.minPlayoutDelayMs=Number(o.googMinPlayoutDelayMs),I.decodeMs=Number(o.googDecodeMs),I.maxDecodeMs=Number(o.googMaxDecodeMs),I.receivedFrame={width:Number(o.googFrameWidthReceived),height:Number(o.googFrameHeightReceived),frameRate:Number(o.googFrameRateReceived)},I.decodedFrame={width:Number(o.googFrameWidthReceived),height:Number(o.googFrameHeightReceived),frameRate:Number(o.googFrameRateDecoded)},I.decodeFrameRate=Number(o.googFrameRateDecoded),I.outputFrame={width:Number(o.googFrameWidthReceived),height:Number(o.googFrameHeightReceived),frameRate:Number(o.googFrameRateOutput)},I.jitterBufferMs=Number(o.googJitterBufferMs),I.firsCount=Number(o.googFirsSent),I.nacksCount=Number(o.googNacksSent),I.plisCount=Number(o.googPlisSent),I.framesDecodeCount=Number(o.framesDecoded),I.bytes=Number(o.bytesReceived),I.packets=Number(o.packetsReceived),I.packetsLost=Number(o.packetsLost),I.ssrc=Number(o.ssrc),I.packets>0&&!this.isFirstVideoReceived[I.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(I.ssrc),this.isFirstVideoReceived[I.ssrc]=!0),I.framesDecodeCount>0&&!this.isFirstVideoDecoded[I.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(I.ssrc,I.decodedFrame.width,I.decodedFrame.height),this.isFirstVideoDecoded[I.ssrc]=!0),C){const l=C.stats,d=Date.now()-C.lts;I.framesDecodeFreezeTime=l.framesDecodeFreezeTime,I.framesDecodeInterval=l.framesDecodeInterval,I.framesDecodeCount>l.framesDecodeCount&&this.isFirstVideoDecoded[I.ssrc]?(C.lts=Date.now(),I.framesDecodeInterval=d,I.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(o.ssrc,10))?I.framesDecodeFreezeTime+=I.framesDecodeInterval:this.setVideoIsReady2(parseInt(o.ssrc,10),!0))):I.framesDecodeCount<C.stats.framesDecodeCount&&(I.framesDecodeInterval=0)}this.lastDecodeVideoReceiverStats.set(I.ssrc,{stats:E2({},I),lts:Date.now()}),this._stats.videoRecv.push(I);break}case"audio_recv":{const I=mr(_D);I.codec=o.googCodecName,I.outputLevel=Math.abs(Number(o.audioOutputLevel))/32767,I.decodingCNG=Number(o.googDecodingCNG),I.decodingCTN=Number(o.googDecodingCTN),I.decodingCTSG=Number(o.googDecodingCTSG),I.decodingNormal=Number(o.googDecodingNormal),I.decodingPLC=Number(o.googDecodingPLC),I.decodingPLCCNG=Number(o.googDecodingPLCCNG),I.expandRate=Number(o.googExpandRate),I.accelerateRate=Number(o.googAccelerateRate),I.preemptiveExpandRate=Number(o.googPreemptiveExpandRate),I.secondaryDecodedRate=Number(o.googSecondaryDecodedRate),I.speechExpandRate=Number(o.googSpeechExpandRate),I.preferredJitterBufferMs=Number(o.googPreferredJitterBufferMs),I.jitterBufferMs=Number(o.googJitterBufferMs),I.jitterMs=Number(o.googJitterReceived),I.bytes=Number(o.bytesReceived),I.packets=Number(o.packetsReceived),I.packetsLost=Number(o.packetsLost),I.ssrc=Number(o.ssrc),I.receivedFrames=Number(o.googDecodingCTN)||Number(o.packetsReceived),I.droppedFrames=Number(o.googDecodingPLC)+Number(o.googDecodingPLCCNG)||Number(o.packetsLost),I.receivedFrames>0&&!this.isFirstAudioReceived[I.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(I.ssrc),this.isFirstAudioReceived[I.ssrc]=!0),I.decodingNormal>0&&!this.isFirstAudioDecoded[I.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(I.ssrc),this.isFirstAudioDecoded[I.ssrc]=!0),this._stats.audioRecv.push(I);break}case"audio_send":{const I=mr(fD);I.codec=o.googCodecName,I.inputLevel=Math.abs(Number(o.audioInputLevel))/32767,I.aecReturnLoss=Number(o.googEchoCancellationReturnLoss||0),I.aecReturnLossEnhancement=Number(o.googEchoCancellationReturnLossEnhancement||0),I.residualEchoLikelihood=Number(o.googResidualEchoLikelihood||0),I.residualEchoLikelihoodRecentMax=Number(o.googResidualEchoLikelihoodRecentMax||0),I.bytes=Number(o.bytesSent),I.packets=Number(o.packetsSent),I.packetsLost=Number(o.packetsLost),I.ssrc=Number(o.ssrc),I.rttMs=Number(o.googRtt||0),this._stats.rtt=I.rttMs,this._stats.audioSend.push(I);break}}})}_getStats(){return new pe((A,o)=>{this.pc.getStats(A,o)})}statsResponsesToObjects(A){const o=[];return A.result().forEach(s=>{const c={id:s.id,timestamp:s.timestamp.valueOf().toString(),type:s.type};s.names().forEach(I=>{c[I]=s.stat(I)}),o.push(c)}),o}}function SD(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function Hn(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?SD(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):SD(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}class DD extends Sd{constructor(){super(...arguments),L(this,"_stats",fc),L(this,"report",void 0),L(this,"lastDecodeVideoReceiverStats",new Map),L(this,"lastVideoFramesRecv",new Map),L(this,"lastVideoFramesSent",new Map),L(this,"lastVideoFramesDecode",new Map),L(this,"lastVideoFramesOutput",new Map),L(this,"lastVideoJBDelay",new Map),L(this,"lastAudioJBDelay",new Map),L(this,"mediaBytesSent",new Map),L(this,"mediaBytesRetransmit",new Map),L(this,"mediaBytesTargetEncode",new Map),L(this,"lastEncoderMs",new Map)}async updateStats(){this.report=await this.pc.getStats(),this._stats=mr(fc),this.report.forEach(A=>{switch(A.type){case xi.OUTBOUND:case xi.INBOUND:{const o=A.mediaType||A.kind,s=!o&&"frameWidth"in A,c=!o&&!("frameWidth"in A);A.type===xi.OUTBOUND?o==="audio"||c?this.processAudioOutboundStats(A):(o==="video"||s)&&this.processVideoOutboundStats(A):A.type===xi.INBOUND&&(o==="audio"||c?this.processAudioInboundStats(A):(o==="video"||s)&&this.processVideoInboundStats(A));break}case xi.TRANSPORT:{const o=this.report.get(A.selectedCandidatePairId);o&&this.processCandidatePairStats(o);break}case xi.CANDIDATE_PAIR:A.selected&&this.processCandidatePairStats(A)}}),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}async getSelectedCandidatePair(){const A=await this.pc.getStats(),o={local:Hn({},co),remote:Hn({},co)};return A.forEach(s=>{let c;if(s.type===xi.TRANSPORT&&(c=A.get(s.selectedCandidatePairId)),s.type===xi.CANDIDATE_PAIR&&s.selected&&(c=s),c){const I=(C,l)=>{C.type=l.type,C.id=l.id,l.address&&(C.address=l.address),l.candidateType&&(C.candidateType=l.candidateType),l.port&&(C.port=l.port),l.priority&&(C.priority=l.priority),l.protocol&&(C.protocol=l.protocol),l.relayProtocol&&(C.relayProtocol=l.relayProtocol)};if(c.localCandidateId){const C=A.get(c.localCandidateId);C&&I(o.local,C)}if(c.remoteCandidateId){const C=A.get(c.remoteCandidateId);C&&I(o.remote,C)}}}),o}processCandidatePairStats(A){if(this._stats.sendBandwidth=A.availableOutgoingBitrate||0,A.currentRoundTripTime&&(this._stats.rtt=1e3*A.currentRoundTripTime),this._stats.videoSend.forEach(o=>{A.currentRoundTripTime&&(o.rttMs=1e3*A.currentRoundTripTime)}),this._stats.audioSend.forEach(o=>{A.currentRoundTripTime&&(o.rttMs=1e3*A.currentRoundTripTime)}),this._stats.selectedCandidatePair.id=A.id,A.localCandidateId){const o=this.report.get(A.localCandidateId);o&&this.processCandidateStats(o)}if(A.remoteCandidateId){const o=this.report.get(A.remoteCandidateId);o&&this.processCandidateStats(o)}}processCandidateStats(A){let o;A.type===xi.LOCAL_CANDIDATE&&(o=this._stats.selectedCandidatePair.localCandidate),A.type===xi.REMOTE_CANDIDATE&&(o=this._stats.selectedCandidatePair.remoteCandidate),o&&(o.type=A.type,o.id=A.id,A.address&&(o.address=A.address),A.candidateType&&(o.candidateType=A.candidateType),A.port&&(o.port=A.port),A.priority&&(o.priority=A.priority),A.protocol&&(o.protocol=A.protocol),A.relayProtocol&&(o.relayProtocol=A.relayProtocol),A.type===xi.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==o.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(Hn({},o),Hn({},this.stats.selectedCandidatePair.localCandidate)),A.type===xi.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==o.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(Hn({},o),Hn({},this.stats.selectedCandidatePair.remoteCandidate)))}processAudioInboundStats(A){let o=this._stats.audioRecv.find(s=>s.ssrc===A.ssrc);o||(o=mr(_D),this._stats.audioRecv.push(o)),o.ssrc=A.ssrc,o.packets=A.packetsReceived,o.packetsLost=A.packetsLost,o.packetsDiscarded=A.packetsDiscarded,o.bytes=A.bytesReceived,o.jitterMs=1e3*A.jitter,this.processAudioTrackReceiverStats(A,A.trackId,o),A.codecId&&(o.codec=this.getCodecFromCodecStats(A.codecId)),o.receivedFrames||(o.receivedFrames=A.packetsReceived),o.droppedFrames||(o.droppedFrames=A.packetsLost),o.receivedFrames>0&&!this.isFirstAudioReceived[o.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(o.ssrc),this.isFirstAudioReceived[o.ssrc]=!0),o.outputLevel&&o.outputLevel>0&&!this.isFirstAudioDecoded[o.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(o.ssrc),this.isFirstAudioDecoded[o.ssrc]=!0),typeof A.concealedSamples=="number"&&(o.concealedSamples=A.concealedSamples)}processVideoInboundStats(A){let o=this._stats.videoRecv.find(l=>l.ssrc===A.ssrc);o||(o=mr(pD),this._stats.videoRecv.push(o)),o.ssrc=A.ssrc,o.packets=A.packetsReceived,o.packetsLost=A.packetsLost,o.bytes=A.bytesReceived,o.firsCount=A.firCount,o.nacksCount=A.nackCount,o.plisCount=A.pliCount,o.framesDecodeCount=A.framesDecoded,o.framesDroppedCount=A.framesDropped,o.totalInterFrameDelay=A.totalInterFrameDelay,o.totalSquaredInterFrameDelay=A.totalSquaredInterFrameDelay,o.totalFreezesDuration=A.totalFreezesDuration;const s=this.lastDecodeVideoReceiverStats.get(o.ssrc),c=this.lastVideoFramesDecode.get(o.ssrc),I=this.lastVideoFramesOutput.get(o.ssrc),C=Date.now();if(o.framesDecodeCount>0&&!this.isFirstVideoDecoded[o.ssrc]){const l=o.decodedFrame?o.decodedFrame.width:0,d=o.decodedFrame?o.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(o.ssrc,l,d),this.isFirstVideoDecoded[o.ssrc]=!0}if(s){const l=s.stats,d=C-s.lts;o.framesDecodeFreezeTime=l.framesDecodeFreezeTime,o.framesDecodeInterval=l.framesDecodeInterval,!this.isFirstVideoDecoded[o.ssrc]&&d>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[o.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(o.ssrc),this.isFirstVideoDecodedTimeout[o.ssrc]=!0),o.framesDecodeCount>l.framesDecodeCount&&this.isFirstVideoDecoded[o.ssrc]?(s.lts=Date.now(),o.framesDecodeInterval=d,o.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(A.ssrc))?o.framesDecodeFreezeTime+=o.framesDecodeInterval:this.setVideoIsReady2(parseInt(A.ssrc,10),!0))):o.framesDecodeCount<l.framesDecodeCount&&(o.framesDecodeInterval=0),A.framesDecoded&&A.qpSum&&(s.stats.framesDecodeCount>A.framesDecoded?o.qpSumPerFrame=A.qpSum/A.framesDecoded:o.qpSumPerFrame=(A.qpSum-s.qpSum)/(A.framesDecoded-s.stats.framesDecodeCount))}c&&C-c.lts>=800?(o.decodeFrameRate=Math.round((o.framesDecodeCount-c.count)/((C-c.lts)/1e3)),this.lastVideoFramesDecode.set(o.ssrc,{count:o.framesDecodeCount,lts:C,rate:o.decodeFrameRate})):c?o.decodeFrameRate=c.rate:this.lastVideoFramesDecode.set(o.ssrc,{count:o.framesDecodeCount,lts:C,rate:0}),o.framesDroppedCount&&A.framesReceived&&(I&&C-I.lts>=800?(o.outputFrameRate=Math.round((A.framesReceived-o.framesDroppedCount-I.count)/((C-I.lts)/1e3)),this.lastVideoFramesOutput.set(o.ssrc,{count:A.framesReceived-o.framesDroppedCount,lts:C,rate:Math.max(o.outputFrameRate,0)})):I?o.outputFrameRate=I.rate:this.lastVideoFramesOutput.set(o.ssrc,{count:A.framesReceived-o.framesDroppedCount,lts:C,rate:0})),A.totalDecodeTime&&(o.decodeMs=1e3*A.totalDecodeTime),this.processVideoTrackReceiverStats(A,A.trackId,o),A.codecId&&(o.codec=this.getCodecFromCodecStats(A.codecId)),A.framerateMean&&(o.framesRateFirefox=A.framerateMean),o.packets>0&&!this.isFirstVideoReceived[o.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(o.ssrc),this.isFirstVideoReceived[o.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(o.ssrc,{stats:Hn({},o),lts:s?s.lts:Date.now(),qpSum:A.qpSum})}processVideoOutboundStats(A){let o=this._stats.videoSend.find(c=>c.ssrc===A.ssrc);o||(o=mr(QD),this._stats.videoSend.push(o));const s=this.mediaBytesSent.get(A.ssrc);if(s)s.add(A.bytesSent);else{const c=new md(10);c.add(A.bytesSent),this.mediaBytesSent.set(A.ssrc,c)}if(A.retransmittedBytesSent!==void 0){const c=this.mediaBytesRetransmit.get(A.ssrc);if(c)c.add(A.retransmittedBytesSent);else{const I=new md(10);I.add(A.retransmittedBytesSent),this.mediaBytesRetransmit.set(A.ssrc,I)}}if(A.totalEncodedBytesTarget){const c=this.mediaBytesTargetEncode.get(A.ssrc);if(c)c.add(A.totalEncodedBytesTarget);else{const I=new md(10);I.add(A.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(A.ssrc,I)}}if(o.ssrc=A.ssrc,o.bytes=A.bytesSent,o.packets=A.packetsSent,o.firsCount=A.firCount,o.nacksCount=A.nackCount,o.plisCount=A.pliCount,o.frameCount=A.framesEncoded,o.adaptionChangeReason=A.qualityLimitationReason,o.scalabilityMode=A.scalabilityMode,A.totalEncodeTime&&A.framesEncoded){const c=this.lastEncoderMs.get(A.ssrc);if(!c||c.lastFrameCount>A.framesEncoded)o.avgEncodeMs=1e3*A.totalEncodeTime/A.framesEncoded;else{const I=A.framesEncoded-c.lastFrameCount,C=A.totalEncodeTime-c.lastEncoderTime;o.avgEncodeMs=1e3*C/I}}if(A.framesEncoded&&A.qpSum){const c=this.lastEncoderMs.get(A.ssrc);!c||c.lastFrameCount>A.framesEncoded?o.qpSumPerFrame=A.qpSum/A.framesEncoded:o.qpSumPerFrame=(A.qpSum-c.lastQpSum)/(A.framesEncoded-c.lastFrameCount)}if(this.lastEncoderMs.set(A.ssrc,{lastFrameCount:A.framesEncoded,lastEncoderTime:A.totalEncodeTime,lastQpSum:A.qpSum,lts:Date.now()}),A.codecId&&(o.codec=this.getCodecFromCodecStats(A.codecId)),A.mediaSourceId&&this.processVideoMediaSource(A.mediaSourceId,o),this.processVideoTrackSenderStats(A,A.trackId,o),A.remoteId)this.processRemoteInboundStats(A.remoteId,o);else{const c=this.findRemoteStatsId(A.ssrc,xi.REMOTE_INBOUND);c&&this.processRemoteInboundStats(c,o)}}processAudioOutboundStats(A){let o=this._stats.audioSend.find(s=>s.ssrc===A.ssrc);if(o||(o=mr(fD),this._stats.audioSend.push(o)),o.ssrc=A.ssrc,o.packets=A.packetsSent,o.bytes=A.bytesSent,A.mediaSourceId&&this.processAudioMediaSource(A.mediaSourceId,o),A.codecId&&(o.codec=this.getCodecFromCodecStats(A.codecId)),this.processAudioTrackSenderStats(A,A.trackId,o),A.remoteId)this.processRemoteInboundStats(A.remoteId,o);else{const s=this.findRemoteStatsId(A.ssrc,xi.REMOTE_INBOUND);s&&this.processRemoteInboundStats(s,o)}}findRemoteStatsId(A,o){var s;const c=Array.from(vo(s=this.report).call(s)).find(I=>I.type===o&&I.ssrc===A);return c?c.id:null}processVideoMediaSource(A,o){const s=this.report.get(A);s&&s.width&&s.height&&s.framesPerSecond&&(o.inputFrame={width:s.width,height:s.height,frameRate:s.framesPerSecond})}processAudioMediaSource(A,o){const s=this.report.get(A);s&&(o.inputLevel=s.audioLevel)}processVideoTrackSenderStats(A,o,s){var c,I,C,l;const d=o?this.report.get(o):void 0,h=(c=d==null?void 0:d.framesSent)!==null&&c!==void 0?c:A.framesSent;if(typeof h!="number")return;let Q=(I=d==null?void 0:d.frameWidth)!==null&&I!==void 0?I:A.frameWidth,_=(C=d==null?void 0:d.frameHeight)!==null&&C!==void 0?C:A.frameHeight,S=(l=d==null?void 0:d.framesPerSecond)!==null&&l!==void 0?l:A.framesPerSecond;if(typeof Q=="number"&&typeof _=="number"||(Q=0,_=0),S==null){const w=Date.now(),k=this.lastVideoFramesSent.get(s.ssrc);k&&w-k.lts>=800?(S=Math.round((h-k.count)/((w-k.lts)/1e3)),this.lastVideoFramesSent.set(s.ssrc,{count:h,lts:w,rate:S})):k?S=k.rate:this.lastVideoFramesSent.set(s.ssrc,{count:h,lts:w,rate:0})}s.sentFrame={width:Q,height:_,frameRate:Math.max(0,S)}}processVideoTrackReceiverStats(A,o,s){var c,I,C,l,d;const h=o?this.report.get(o):void 0,Q=(c=h==null?void 0:h.framesReceived)!==null&&c!==void 0?c:A.framesReceived,_=(I=h==null?void 0:h.frameWidth)!==null&&I!==void 0?I:A.frameWidth,S=(C=h==null?void 0:h.frameHeight)!==null&&C!==void 0?C:A.frameHeight,w=(l=h==null?void 0:h.jitterBufferDelay)!==null&&l!==void 0?l:A.jitterBufferDelay,k=(d=h==null?void 0:h.jitterBufferEmittedCount)!==null&&d!==void 0?d:A.jitterBufferEmittedCount;if(typeof Q=="number"){const v=this.lastVideoFramesRecv.get(s.ssrc),b=Date.now();s.framesReceivedCount=Q;let P=0;v&&b-v.lts>=800?(P=Math.round((Q-v.count)/((b-v.lts)/1e3)),this.lastVideoFramesRecv.set(s.ssrc,{count:Q,lts:b,rate:P})):v?P=v.rate:this.lastVideoFramesRecv.set(s.ssrc,{count:Q,lts:b,rate:0}),s.receivedFrame={width:_||0,height:S||0,frameRate:P||0},s.decodedFrame={width:_||0,height:S||0,frameRate:s.decodeFrameRate||0},s.outputFrame={width:_||0,height:S||0,frameRate:s.outputFrameRate||s.decodeFrameRate||0}}if(w&&k){const v=this.lastVideoJBDelay.get(s.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let b=v.jitterBufferMs;const P=k-v.jitterBufferEmittedCount;P>0&&(b=1e3*(w-v.jitterBufferDelay)/P),s.jitterBufferMs=b,s.currentDelayMs=Math.round(b),this.lastVideoJBDelay.set(s.ssrc,{jitterBufferDelay:w,jitterBufferEmittedCount:k,jitterBufferMs:s.currentDelayMs})}}processAudioTrackSenderStats(A,o,s){var c,I,C,l;const d=o?this.report.get(o):void 0,h=(c=(I=d==null?void 0:d.echoReturnLoss)!==null&&I!==void 0?I:A.echoReturnLoss)!==null&&c!==void 0?c:0,Q=(C=(l=d==null?void 0:d.echoReturnLossEnhancement)!==null&&l!==void 0?l:A.echoReturnLossEnhancement)!==null&&C!==void 0?C:0;s.aecReturnLoss=h,s.aecReturnLossEnhancement=Q}processAudioTrackReceiverStats(A,o,s){var c,I,C,l,d,h,Q;const _=o?this.report.get(o):void 0,S=(c=_==null?void 0:_.removedSamplesForAcceleration)!==null&&c!==void 0?c:A.removedSamplesForAcceleration,w=(I=_==null?void 0:_.totalSamplesReceived)!==null&&I!==void 0?I:A.totalSamplesReceived,k=(C=_==null?void 0:_.jitterBufferDelay)!==null&&C!==void 0?C:A.jitterBufferDelay,v=(l=_==null?void 0:_.jitterBufferEmittedCount)!==null&&l!==void 0?l:A.jitterBufferEmittedCount,b=(d=_==null?void 0:_.audioLevel)!==null&&d!==void 0?d:A==null?void 0:A.audioLevel,P=(h=_==null?void 0:_.totalSamplesDuration)!==null&&h!==void 0?h:A==null?void 0:A.totalSamplesDuration,K=(Q=_==null?void 0:_.concealedSamples)!==null&&Q!==void 0?Q:A.concealedSamples;if(S&&w&&(s.accelerateRate=S/w),k&&v){const X=this.lastAudioJBDelay.get(s.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let Z=X.jitterBufferMs;const ie=v-X.jitterBufferEmittedCount;ie>0&&(Z=1e3*(k-X.jitterBufferDelay)/ie),s.jitterBufferMs=Math.round(Z),this.lastAudioJBDelay.set(s.ssrc,{jitterBufferDelay:k,jitterBufferEmittedCount:v,jitterBufferMs:s.jitterBufferMs})}s.outputLevel=b;let W=1920;P&&w&&(W=w/P/50,s.receivedFrames=Math.round(w/W)),K&&(s.droppedFrames=Math.round(K/W))}processRemoteInboundStats(A,o){const s=this.report.get(A);s&&(o.packetsLost=s.packetsLost,s.roundTripTime&&(o.rttMs=1e3*s.roundTripTime),s.jitter&&(o.jitterMs=1e3*s.jitter),s.timestamp&&(o.timestamp=s.timestamp))}getCodecFromCodecStats(A){const o=this.report.get(A);if(!o)return"";const s=o.mimeType.match(/\/(.*)$/);return s&&s[1]?s[1]:""}updateSendBitrate(){let A=0,o=null,s=null;this.mediaBytesSent.forEach(I=>{A+=I.diffMean()}),this.mediaBytesRetransmit.forEach(I=>{o=o===null?I.diffMean():o+I.diffMean()}),this.mediaBytesTargetEncode.forEach(I=>{s=s===null?I.diffMean():s+I.diffMean()});const c=o!==null?A-o:A;this._stats.bitrate={actualEncoded:8*c/(this.options.updateInterval/1e3),transmit:8*A/(this.options.updateInterval/1e3)},o!==null&&(this._stats.bitrate.retransmit=8*o/(this.options.updateInterval/1e3)),s!==null&&(this._stats.bitrate.targetEncoded=8*s/(this.options.updateInterval/1e3))}}class l2 extends Sd{updateStats(){return pe.resolve()}}function Dd(t){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:8,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:500,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e4;const I=function(){const C=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i);return C&&C[0]?Number(C[0].split("/")[1]):null}();return I?I<76?new C2(t,{updateInterval:A,lossRateInterval:o,freezeRateLimit:s,firstVideoDecodedTimeout:c}):new DD(t,{updateInterval:A,lossRateInterval:o,freezeRateLimit:s,firstVideoDecodedTimeout:c}):function(C){if(!window.RTCStatsReport)return!1;const l=C.getStats();return!!(l instanceof pe||function(d){return!!d&&(typeof d=="object"||typeof d=="function")&&typeof d.then=="function"}(l))}(t)?new DD(t,{updateInterval:A,lossRateInterval:o,freezeRateLimit:s,firstVideoDecodedTimeout:c}):new l2(t,{updateInterval:A,lossRateInterval:o,freezeRateLimit:s,firstVideoDecodedTimeout:c})}let wD=class{get localCapabilities(){return CA(this._localCapabilities)}get rtpCapabilities(){return CA(this._rtpCapabilities)}get candidates(){return CA(this._candidates)}get iceParameters(){return CA(this._iceParameters)}get dtlsParameters(){return CA(this._dtlsParameters)}constructor(t){L(this,"sessionDesc",void 0),L(this,"_localCapabilities",void 0),L(this,"_rtpCapabilities",void 0),L(this,"_candidates",void 0),L(this,"_iceParameters",void 0),L(this,"_dtlsParameters",void 0),L(this,"setup",void 0),L(this,"currentMidIndex",void 0),L(this,"cname","o/i14u9pJrxRKAsu"),L(this,"firefoxSsrcMidMap",new Map),t=CA(t);const{remoteIceParameters:A,remoteDtlsParameters:o,candidates:s,remoteRTPCapabilities:c,localCapabilities:I,direction:C,setup:l,videoCodec:d,audioCodec:h}=t;let Q;this.setup=l,Q=C===Ei.RECEIVE_ONLY?PA.parse(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0 1
a=msid-semantic: WMS
a=extmap-allow-mixed
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:0
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:1
`):PA.parse(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0 1
a=msid-semantic: WMS
a=extmap-allow-mixed
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=recvonly
a=rtcp-mux
a=rtcp-rsize
a=mid:0
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=recvonly
a=rtcp-mux
a=rtcp-rsize
a=mid:1
`),this._rtpCapabilities=c,this._candidates=s,this._iceParameters=A,this._dtlsParameters=o,this._localCapabilities=I;const _=C===Ei.RECEIVE_ONLY?this.rtpCapabilities.send:this.rtpCapabilities.recv,S=C===Ei.RECEIVE_ONLY?this._localCapabilities.recv:this._localCapabilities.send,w=C===Ei.RECEIVE_ONLY?c.send.videoCodecs:hc(Oe.VIDEO,_,S,d),k=C===Ei.RECEIVE_ONLY?c.send.audioCodecs:hc(Oe.AUDIO,_,S,h);for(const v of Q.mediaDescriptions)v.attributes.iceUfrag=A.iceUfrag,v.attributes.icePwd=A.icePwd,v.attributes.fingerprints=o.fingerprints,v.attributes.candidates=s,v.attributes.setup=this.setup,v.media.mediaType==="application"&&(v.attributes.sctpPort="5000"),v.media.mediaType==="video"&&(v.media.fmts=w.map(b=>b.payloadType.toString(10)),v.attributes.payloads=w,v.attributes.extmaps=_.videoExtensions),v.media.mediaType==="audio"&&(v.media.fmts=k.map(b=>b.payloadType.toString(10)),v.attributes.payloads=k,v.attributes.extmaps=_.audioExtensions,sa(v));this.sessionDesc=Q,this.currentMidIndex=Q.mediaDescriptions.length-1}toString(){return PA.print(this.sessionDesc)}hasMid(t){return Array.isArray(t)?t.every(A=>this.hasMid(A)):this.sessionDesc.mediaDescriptions.some(A=>A.attributes.mid===t)}send(t,A,o,s,c){o=o.replace(/ /g,"-");const{ssrcs:I,ssrcGroups:C}=Jn(A,this.cname,J("SYNC_GROUP")?o:void 0),l=this.findPreloadMediaDesc(I);if(l){if(zt()&&this.firefoxSsrcMidMap.set(I[0].ssrcId,l.attributes.mid),c&&(c.twcc||c.remb)){const d=this.sessionDesc.mediaDescriptions.indexOf(l);return this.sessionDesc.mediaDescriptions[d]=this.mungSendMediaDesc(l,c),{mid:l.attributes.mid,needExchangeSDP:!0}}return{mid:l.attributes.mid,needExchangeSDP:!1}}{const d=this.findAvailableMediaIndex(t,I,s);let h;return d===-1?(h=this.createOrRecycleSendMedia(t,I,C,"sendonly",s,c),this.updateBundleMids()):(h=CA(this.sessionDesc.mediaDescriptions[d]),h.attributes.direction="sendonly",h.attributes.ssrcs=I,h.attributes.ssrcGroups=C,this.sessionDesc.mediaDescriptions[d]=this.mungSendMediaDesc(h,c)),zt()&&this.firefoxSsrcMidMap.set(I[0].ssrcId,h.attributes.mid),{needExchangeSDP:!0,mid:h.attributes.mid}}}stopSending(t){const A=this.sessionDesc.mediaDescriptions.filter(o=>o.attributes.mid&&t.indexOf(o.attributes.mid)!==-1);if(A.length!==t.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");A.forEach(o=>{o.attributes.ssrcs=[]}),this.updateBundleMids()}receive(t,A,o){const s=[];return t.forEach(c=>{const I=c._mediaStreamTrack.kind,C=this.findAvailableRecvMediaIndex(I);let l,d=!1;C===-1?(d=!0,l=this.createOrRecycleRecvMedia(c,[],"recvonly",A,o),this.updateBundleMids()):(l=CA(this.sessionDesc.mediaDescriptions[C]),l.attributes.direction="recvonly"),s.push({mid:l.attributes.mid,needCreateTransceiver:d})}),s}stopReceiving(t){const A=this.sessionDesc.mediaDescriptions.filter(o=>t.indexOf(o.attributes.mid)!==-1);if(A.length!==t.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");A.forEach(o=>{o.media.port="0",o.attributes.direction="inactive"}),this.updateBundleMids()}addRemoteCandidate(t){const{foundation:A,protocol:o,address:s,port:c,type:I,relatedAddress:C,relatedPort:l,priority:d}=new RTCIceCandidate(t),h={foundation:A??"",componentId:"1",transport:o??"",priority:d?d+"":"",connectionAddress:s??"",port:c?c+"":"",type:I?I+"":"",relAddr:C??"",relPort:l?l+"":"",extension:{}};this.candidates.some(Q=>Q.priority===h.priority&&Q.connectionAddress===h.connectionAddress&&Q.port===h.port)||(this._candidates.push(h),this.sessionDesc.mediaDescriptions.forEach(Q=>{Q.attributes.candidates=this.candidates}))}clearRemoteCandidate(){this._candidates=[],this.sessionDesc.mediaDescriptions[0].attributes.candidates=this._candidates}createOrRecycleRecvMedia(t,A,o,s,c){const I=t._mediaStreamTrack.kind,C=this.rtpCapabilities.recv,l=hc(I,C,this.localCapabilities.send,I===Oe.AUDIO?c:s),d=I===Oe.VIDEO?C.videoExtensions:C.audioExtensions,h="".concat(++this.currentMidIndex);let Q={media:{mediaType:I,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:l.map(S=>S.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:d,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:A,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:l,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:o,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(h)}};Q=this.mungRecvMediaDsec(Q,t);const _=this.findFirstClosedMedia(I);if(_){const S=this.sessionDesc.mediaDescriptions.indexOf(_);this.sessionDesc.mediaDescriptions[S]=Q}else this.sessionDesc.mediaDescriptions.push(Q);return Q}muteRemote(t){const A=this.sessionDesc.mediaDescriptions.filter(o=>Re(t).call(t,o.attributes.mid||""));if(A.length!==t.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");A.forEach(o=>{o.attributes.direction="inactive"})}unmuteRemote(t){const A=this.sessionDesc.mediaDescriptions.filter(o=>Re(t).call(t,o.attributes.mid||""));if(A.length!==t.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");A.forEach(o=>{o.attributes.direction="recvonly"})}findAvailableMediaIndex(t,A,o){return this.sessionDesc.mediaDescriptions.findIndex(s=>{const c=s.media.mediaType===t&&s.media.port!=="0"&&(s.attributes.direction==="sendonly"||s.attributes.direction==="sendrecv")&&s.attributes.ssrcs.length===0;if(zt()){if(c){const I=this.firefoxSsrcMidMap.get(A[0].ssrcId);return!(I||s.attributes.mid!=="0"&&s.attributes.mid!=="1")||!(!I||I!==s.attributes.mid)}return!1}return c&&s.attributes.mid===o})}findAvailableRecvMediaIndex(t){return this.sessionDesc.mediaDescriptions.findIndex(A=>{const o=A.media.mediaType===t&&A.media.port!=="0"&&(A.attributes.direction==="recvonly"||A.attributes.direction==="sendrecv");return A.attributes.mid!=="0"&&A.attributes.mid!=="1"&&o})}predictReceivingMids(t){const A=[];for(let o=0;o<t;o++)A.push((this.currentMidIndex+o+1).toString(10));return A}restartICE(t){t=CA(t),this._iceParameters=t,this.sessionDesc.mediaDescriptions.forEach(A=>{A.attributes.iceUfrag=t.iceUfrag,A.attributes.icePwd=t.icePwd})}createOrRecycleSendMedia(t,A,o,s,c,I){const C=this.rtpCapabilities.send,l=t===Oe.VIDEO?C.videoCodecs:C.audioCodecs,d=t===Oe.VIDEO?C.videoExtensions:C.audioExtensions;zt()&&(c="".concat(++this.currentMidIndex));let h={media:{mediaType:t,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:l.map(_=>_.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:d,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:A,ssrcGroups:o,rtcpFeedbackWildcards:[],payloads:l,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:s,rtcpMux:!0,rtcpRsize:!0,mid:c}};h=this.mungSendMediaDesc(h,I);const Q=this.findFirstClosedMedia(t);if(Q){const _=this.sessionDesc.mediaDescriptions.indexOf(Q);this.sessionDesc.mediaDescriptions[_]=h}else this.sessionDesc.mediaDescriptions.push(h);return h}mungRecvMediaDsec(t,A,o){const s=CA(t);return ad(s),na(s,A),cd(s,A),VS(s),KI(s,o,this.localCapabilities.send),s}mungSendMediaDesc(t,A){const o=CA(t);return KI(o,A,this.localCapabilities.recv),sa(o),o}updateRecvMedia(t,A){const o=this.sessionDesc.mediaDescriptions.findIndex(s=>s.attributes.mid===t);if(o!==-1){const s=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[o],A);this.sessionDesc.mediaDescriptions[o]=s}}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(t=>t.media.port!=="0").map(t=>t.attributes.mid)}findPreloadMediaDesc(t){return this.sessionDesc.mediaDescriptions.find(A=>{var o;return((o=A.attributes)===null||o===void 0||(o=o.ssrcs[0])===null||o===void 0?void 0:o.ssrcId)===t[0].ssrcId})}findFirstClosedMedia(t){return this.sessionDesc.mediaDescriptions.find(A=>zt()?A.media.port==="0"&&A.media.mediaType===t:A.media.port==="0")}};const u2=["sdp"];var Gt;function ND(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function gn(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?ND(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ND(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}let TD=(Gt=class Qa extends $R{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var A,o;return(A=(o=this.peerConnection.getReceivers()[0])===null||o===void 0||(o=o.transport)===null||o===void 0?void 0:o.state)!==null&&A!==void 0?A:null}get localCodecs(){return[]}set isInRestartIce(A){this._isInRestartIce=A}get isInRestartIce(){return this._isInRestartIce}constructor(A,o,s){super(A,o),L(this,"direction",void 0),L(this,"name",void 0),L(this,"store",void 0),L(this,"spec",void 0),L(this,"peerConnection",void 0),L(this,"initialOffer",void 0),L(this,"transport",void 0),L(this,"statsFilter",void 0),L(this,"localCandidateCount",0),L(this,"_isInRestartIce",!1),L(this,"mutex",new $A("P2PConnection-mutex")),L(this,"onLocalCandidate",void 0),L(this,"remoteSDP",void 0),L(this,"pendingCandidates",[]),L(this,"localCapabilities",void 0),L(this,"isReady",!1),L(this,"restartCnt",0),L(this,"curTurnServerIndex",0),this.store=o,this.spec=A,this.peerConnection=new RTCPeerConnection(Qa.resolvePCConfiguration(A,o.p2pTransport),{optional:[{googDscp:!0}]}),this.direction=s??Ei.SEND_ONLY,this.name=this.direction===Ei.SEND_ONLY?"sendP2PConnection":"recvP2PConnection",this.statsFilter=Dd(this.peerConnection,J("STATS_UPDATE_INTERVAL"),void 0,zt()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(A){try{const o=await $S();if(this.localCapabilities=xI(o),A){const{sdp:s}=A,c=I2(A,u2),I=function(){const Q={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},_=dc(arguments.length>2?arguments[2]:void 0,arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},"sendonly"),S={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},w={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},k={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(yr(_,Q,"videoExtensions",S,w,k),yr(_,Q,"videoCodecs",S,w,k),yr(_,Q,"audioExtensions",S,w,k),yr(_,Q,"audioCodecs",S,w,k),J("RAISE_H264_BASELINE_PRIORITY")){const v=k.videoCodecs.findIndex(b=>b.rtpMap&&b.rtpMap.encodingName.toLocaleLowerCase()==="h264"&&b.fmtp&&b.fmtp.parameters["profile-level-id"]==="42001f");if(v!==-1){const b=k.videoCodecs.findIndex(P=>P.rtpMap&&P.rtpMap.encodingName.toLocaleLowerCase()==="h264");if(b<v){N.debug("raising H264 baseline profile priority");const P=k.videoCodecs[v];k.videoCodecs.splice(v,1),k.videoCodecs.splice(b,0,P)}b!==-1&&J("FILTER_SEND_H264_BASELINE")&&(S.videoCodecs=S.videoCodecs.filter(P=>!(P.rtpMap&&P.rtpMap.encodingName.toLocaleLowerCase()==="h264"&&P.fmtp&&P.fmtp.parameters["profile-level-id"]!=="42001f")))}}return{send:S,recv:w,sendrecv:k}}({},{},s);this.remoteSDP=new wD({remoteIceParameters:c.iceParameters,remoteDtlsParameters:c.dtlsParameters,candidates:[],remoteRTPCapabilities:I,localCapabilities:this.localCapabilities,direction:this.direction,setup:"actpass",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()}),this.isReady=!0;const C=await this.peerConnection.createAnswer();if(!C.sdp)throw new Error("Cannot get answer sdp when trying to establish PeerConnection.");const l=an(C.sdp);await this.peerConnection.setLocalDescription(C);const d=await WS({},{},C.sdp);this.localCapabilities=xI(d);const h=this.peerConnection.getTransceivers()[0];return h!=null&&h.receiver&&h.receiver.transport&&this.tryBindTransportEvents(h.receiver.transport),gn(gn({},l),{},{sdp:C.sdp})}{this.peerConnection.addTransceiver("video",{direction:"sendonly"}),this.peerConnection.addTransceiver("audio",{direction:"sendonly"});const s=await this.peerConnection.createOffer();if(!s.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const c=an(s.sdp);return this.initialOffer=s,gn(gn({},c),{},{sdp:s.sdp})}}catch(o){throw new Ae(G.GET_LOCAL_CONNECTION_PARAMS_FAILED,o.toString())}}async connect(A){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");await this.peerConnection.setLocalDescription(this.initialOffer);const{sdp:o,iceParameters:s,dtlsParameters:c}=A,I=await WS({},{},o);this.remoteSDP=new wD({remoteIceParameters:s,remoteDtlsParameters:c,candidates:[],remoteRTPCapabilities:I,localCapabilities:this.localCapabilities,direction:this.direction,setup:"active",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()});const C=this.peerConnection.getTransceivers()[0];C!=null&&C.sender&&C.sender.transport&&this.tryBindTransportEvents(C.sender.transport)}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(o.toString()))}}async addRemoteCandidate(A){try{A&&this.pendingCandidates.push(A),this.peerConnection.remoteDescription&&this.isReady&&(this.pendingCandidates.forEach(o=>{this.peerConnection.addIceCandidate(o)}),this.pendingCandidates=[])}catch(o){throw new Ae(G.ADD_CANDIDATE_FAILED,"P2PConnection.addRemoteCandidate failed; ".concat(o.toString()))}}send(A,o,s){var c=this;return Kr(function*(){const I=yield ht(c.mutex.lock("From P2PConnection.send"));try{if(!c.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const C=[],l=c.remoteSDP.receive(A,o,s);A.forEach((b,P)=>{if(l[P].needCreateTransceiver){const K=c.peerConnection.addTransceiver(b._mediaStreamTrack,{direction:"sendonly"});C.push(K),b._updateRtpTransceiver(K)}else{const K=c.peerConnection.getTransceivers().find(W=>W.mid===l[P].mid);if(!K)throw new Error("cannot find transceiver when sendPeerconnection send, mid is ".concat(l[P].mid));C.push(K),b._updateRtpTransceiver(K)}}),zt()&&J("SIMULCAST")===!0&&(yield ht(c.applySimulcastForFirefox(C,A)));const d=l.map(b=>b.mid),h=yield ht(c.peerConnection.createOffer()),Q=c.mungSendOfferSDP(h.sdp,A,d),_=PA.parse(Q),S=d.map(b=>{const P=_.mediaDescriptions.find(K=>K.attributes.mid===b);if(!P)throw new Error("Cannot extract ssrc from mediaDescription.");return JS(P,J("USE_PUB_RTX"))}),w=C.map((b,P)=>{const K=d[P];return{localSSRC:S[P],id:K}});yield ht(c.peerConnection.setLocalDescription({type:"offer",sdp:Q}));try{yield w}catch(b){const P=c.remoteSDP.toString();throw yield ht(c.peerConnection.setLocalDescription({type:"offer",sdp:Q})),yield ht(c.peerConnection.setRemoteDescription({type:"answer",sdp:P})),yield ht(c.stopSending(d,!0)),b}yield ht(c.applySimulcastEncodings(C,A)),yield ht(c.applySendEncodings(C,A));const k=c.remoteSDP.toString(),v=c.logSDPExchange(Q,"offer","local","send");return v==null||v(k),yield ht(c.setRemoteDescription({type:"answer",sdp:k})),C.map((b,P)=>{const K=d[P];return{localSSRC:S[P],id:K}})}catch(C){throw C instanceof Ae?C:new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(C.toString()))}finally{I()}})()}async stopSending(A,o){const s=o?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const c=this.peerConnection.getTransceivers().filter(d=>A.indexOf(d.mid)!==-1);if(c.length!==A.length)throw new Error("Transceivers' length (".concat(c.length,") doesn't match mids' length (").concat(A.length,") when trying to call P2PConnection.stopSending."));c.map(d=>{var h;d.direction="inactive",(h=d.stop)===null||h===void 0||h.call(d)});const I=await this.peerConnection.createOffer(),C=this.logSDPExchange(I.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(I),this.remoteSDP.stopReceiving(A);const l=this.remoteSDP.toString();C==null||C(l),await this.setRemoteDescription({type:"answer",sdp:l})}catch(c){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(c.toString()))}finally{s&&s()}}async receive(A,o,s,c){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(A," before remoteSDP created."));const{mid:I,needExchangeSDP:C}=this.remoteSDP.send(A,o,s,c);if(C){const d=this.remoteSDP.toString(),h=this.logSDPExchange(d,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:d});const Q=await this.peerConnection.createAnswer(),_=this.mungReceiveAnswerSDP(Q.sdp,I,A);h==null||h(_||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:_}),N.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(A," by exchanging SDP."))}else N.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(A," no need to exchange SDP."));const l=this.peerConnection.getTransceivers().find(d=>d.mid===I);if(!l||l.mid===null)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:l.receiver.track,mid:l.mid,transceiver:l}}catch(I){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(I.toString()))}}async mockReceive(A,o,s,c){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(A," before remoteSDP created."));const{mid:I,needExchangeSDP:C}=this.remoteSDP.send(A,o,s,c);if(C){const l=this.remoteSDP.toString(),d=this.logSDPExchange(l,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:l});const h=await this.peerConnection.createAnswer(),Q=this.mungReceiveAnswerSDP(h.sdp,I,A);d==null||d(Q||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:Q}),N.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(A," by exchanging SDP."))}else N.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(A," no need to exchange SDP."))}catch(I){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(I.toString()))}}async stopReceiving(A){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(A);const o=this.remoteSDP.toString(),s=this.logSDPExchange(o,"offer","remote","stopReceiving");await this.setRemoteDescription({type:"offer",sdp:o});const c=await this.peerConnection.createAnswer();s==null||s(c.sdp||""),await this.peerConnection.setLocalDescription(c)}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(o.toString()))}}async restartICE(A){try{if(this.store.p2pTransport===Ln.Auto&&(this.store.p2pTransport=Ln.SdRtn,Ct().supportPCSetConfiguration&&this.peerConnection.setConfiguration(Qa.resolvePCConfiguration(this.spec,this.store.p2pTransport))),this.restartCnt>3&&(this.restartCnt=0,Ct().supportPCSetConfiguration&&this.peerConnection.setConfiguration(Qa.resolvePCConfiguration(this.spec,this.store.p2pTransport,++this.curTurnServerIndex))),!A){this.restartCnt++,this.isReady=!1;const o=await this.peerConnection.createOffer({iceRestart:!0});if(!o.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const{iceParameters:s}=an(o.sdp);return this.store.descriptionStart(),this.direction===Ei.SEND_ONLY&&await this.peerConnection.setLocalDescription(o),s}if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");if(this.remoteSDP.restartICE(A),this.store.descriptionStart(),this.direction===Ei.RECEIVE_ONLY){this.restartCnt++,await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()});const o=await this.peerConnection.createAnswer();if(!o.sdp)throw new Error("Cannot get answer sdp when trying to iceRestart.");const{iceParameters:s}=an(o.sdp);return await this.peerConnection.setLocalDescription(o),s}await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()}),this.isReady=!0}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(o.toString()))}}close(){var A;this.peerConnection.close(),this.peerConnection.onicecandidate=null,(A=this.onConnectionStateChange)===null||A===void 0||A.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transport=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(A){return this.statsFilter.getVideoIsReady(A)}async updateEncoderConfig(A,o){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const s=await this.peerConnection.createOffer(),c=this.mungSendOfferSDP(s.sdp,[o],[A]);this.remoteSDP.updateRecvMedia(A,o);const I=this.remoteSDP.toString(),C=this.logSDPExchange(c,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:c}),C==null||C(I),await this.peerConnection.setRemoteDescription({type:"answer",sdp:I})}catch(s){throw new Ae(G.EXCHANGE_SDP_FAILED,s.toString())}}async updateSendParameters(A,o){const s=this.peerConnection.getTransceivers().filter(c=>c.mid===A);s.length===1&&(this.isVP8Simulcast(o)?zt()||await this.applySimulcastEncodings(s,[o]):await this.applySendEncodings(s,[o]))}setStatsRemoteVideoIsReady(A,o){this.statsFilter.setVideoIsReady2(A,o)}async replaceTrack(A,o){const s=this.peerConnection.getTransceivers().find(c=>c.mid===o);s&&await s.sender.replaceTrack(A._mediaStreamTrack)}async getSelectedCandidatePair(){const A=this.peerConnection.getReceivers();if(A.length>0&&A[0].transport&&A[0].transport.iceTransport&&A[0].transport.iceTransport.getSelectedCandidatePair&&A[0].transport.iceTransport.getSelectedCandidatePair()){const o=A[0].transport.iceTransport,{local:s,remote:c}=o.getSelectedCandidatePair();return{local:gn(gn({},co),{},{candidateType:s.type,protocol:s.protocol,address:s.address,port:s.port}),remote:gn(gn({},co),{},{candidateType:c.type,protocol:c.protocol,address:c.address,port:c.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var A,o;Re(A=["connected","completed"]).call(A,this.peerConnection.iceConnectionState)&&(this.isReady=!1),(o=this.onICEConnectionStateChange)===null||o===void 0||o.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var A;this.peerConnection.connectionState==="connected"&&(this.restartCnt=0),(A=this.onConnectionStateChange)===null||A===void 0||A.call(this,this.peerConnection.connectionState)},this.startICECandidate()}startICECandidate(){this.peerConnection.onicecandidate||(this.localCandidateCount=0,this.peerConnection.onicecandidate=A=>{if(A.candidate){var o;A.candidate.candidate&&((o=this.onLocalCandidate)===null||o===void 0||o.call(this,A.candidate.toJSON())),this.localCandidateCount+=1}else N.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount)})}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(A,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const c={iceServers:[]};var I;return A.iceServers?c.iceServers=A.iceServers:A.turnServer&&A.turnServer.mode!=="off"&&(aI(A.turnServer.servers)?c.iceServers=A.turnServer.servers:(c.iceServers&&c.iceServers.push(...Qa.turnServerConfigToIceServers(A.turnServer.servers,o,s)),J("USE_TURN_SERVER_OF_GATEWAY")&&c.iceServers&&A.turnServer.serversFromGateway&&c.iceServers.push(...Qa.turnServerConfigToIceServers(A.turnServer.serversFromGateway,o,s)),Re(I=[Ln.Relay,Ln.SdRtn]).call(I,o)&&(c.iceTransportPolicy="relay"),J("FORCE_TURN_TCP")?c.iceTransportPolicy="relay":A.turnServer.servers.concat(A.turnServer.serversFromGateway||[]).forEach(C=>{C.forceturn&&(c.iceTransportPolicy="relay")}))),J("ENABLE_ENCODED_TRANSFORM")&&Ct().supportWebRTCEncodedTransform&&(c.encodedInsertableStreams=!0),N.debug("P2PConnection p2pTransport is ".concat(o)),c}static turnServerConfigToIceServers(A,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const c=[],I=A.filter(l=>l.tcpport);N.debug("P2PConnection turnServers is ".concat(I,", current index is ").concat(s));const C=I.length>s?I[s]:I[0];switch(o){case Ln.SdRtn:const l=A.filter(h=>{var Q;return Re(Q=h.username).call(Q,"glb:")&&h.turnServerURL==h.turnServerURL}),d=l.length>s?l[s]:l[0];d&&(c.push({username:d.username,credential:d.password,credentialType:"password",urls:"turn:".concat(xs(d.turnServerURL),":").concat(d.tcpport,"?transport=udp")}),c.push({username:d.username,credential:d.password,credentialType:"password",urls:"turns:".concat(xs(d.turnServerURL),":").concat(d.tcpport,"?transport=tcp")}));break;case Ln.Relay:C&&(c.push({username:C.username,credential:C.password,credentialType:"password",urls:"turn:".concat(C.turnServerURL,":").concat(C.tcpport,"?transport=udp")}),c.push({username:C.username,credential:C.password,credentialType:"password",urls:"turns:".concat(xs(C.turnServerURL),":").concat(C.tcpport,"?transport=tcp")}));break;default:C&&(c.push({username:C.username,credential:C.password,credentialType:"password",urls:"turn:".concat(C.turnServerURL,":").concat(C.tcpport,"?transport=udp")}),c.push({username:C.username,credential:C.password,credentialType:"password",urls:"turns:".concat(xs(C.turnServerURL),":").concat(C.tcpport,"?transport=tcp")}),c.push({username:C.username,credential:C.password,credentialType:"password",urls:"stun:".concat(C.turnServerURL,":").concat(C.tcpport)}))}return c}tryBindTransportEvents(A){if(A){this.transport=A,A.onstatechange=()=>{var s;A!=null&&A.state&&((s=this.onDTLSTransportStateChange)===null||s===void 0||s.call(this,A.state))},A.onerror=s=>{var c;(c=this.onDTLSTransportError)===null||c===void 0||c.call(this,"error"in s?s.error:s)};const o=A.iceTransport;o&&(o.onstatechange=()=>{const s=A==null?void 0:A.iceTransport.state;var c;s&&((c=this.onICETransportStateChange)===null||c===void 0||c.call(this,s))},o.getSelectedCandidatePair&&(o.onselectedcandidatepairchange=()=>{if(o.getSelectedCandidatePair()){const{local:s,remote:c}=o.getSelectedCandidatePair();N.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:s.type,protocol:s.protocol}),", remote ").concat(JSON.stringify({candidateType:c.type,protocol:c.protocol,address:c.address,port:c.port})," )"))}}))}}tryUnbindTransportEvents(){this.transport&&(this.transport.onstatechange=null,this.transport.onerror=null,this.transport.iceTransport&&(this.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(A,o){var s;if(o||(o=this.peerConnection.getSenders().find(Q=>Q.track===A._mediaStreamTrack)),!o)return N.warn("[".concat(A.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(A))return N.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!Ct().supportSetRtpSenderParameters)return N.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const c={},I={};switch(A._optimizationMode){case"motion":c.degradationPreference="maintain-framerate";break;case"detail":c.degradationPreference="maintain-resolution";break;default:c.degradationPreference="balanced"}if(A._encoderConfig){var C;const{bitrateMax:Q,frameRate:_,scaleResolutionDownBy:S}=A._encoderConfig;Q&&(I.maxBitrate=1e3*Q),Re(C=A._hints).call(C,xt.LOW_STREAM)&&(_&&(I.maxFramerate=vi(_)),S&&S>=1&&(I.scaleResolutionDownBy=S))}if(J("DSCP_TYPE")&&Xo()){var l;const Q=J("DSCP_TYPE");Re(l=["very-low","low","medium","high"]).call(l,Q)&&(I.networkPriority=Q)}const d=o.getParameters(),h=(s=d.encodings)===null||s===void 0?void 0:s[0];zt()&&!h&&(c.encodings=[I]),h&&Object.assign(h,I),Object.assign(d,c),N.debug("[".concat(A.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(d.encodings))),await o.setParameters(d)}async applySendEncodings(A,o){try{if(!Ct().supportSetRtpSenderParameters||A.length!==o.length)return;for(let s=0;s<A.length;s++){const c=A[s],I=o[s];I instanceof Ft&&!this.isVP8Simulcast(I)&&await this.updateRtpSenderEncodings(I,c.sender)}}catch{N.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(A,o,s){const c=PA.parse(A);return o.forEach((I,C)=>{const l=s[C],d=c.mediaDescriptions.find(h=>h.attributes.mid===l);d&&(na(d,I),jS(d,I,this.store.codec))}),PA.print(c)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=A=>{var o;(o=this.onFirstAudioReceived)===null||o===void 0||o.call(this,A)},this.statsFilter.onFirstVideoReceived=A=>{var o;(o=this.onFirstVideoReceived)===null||o===void 0||o.call(this,A)},this.statsFilter.onFirstAudioDecoded=A=>{var o;(o=this.onFirstAudioDecoded)===null||o===void 0||o.call(this,A)},this.statsFilter.onFirstVideoDecoded=(A,o,s)=>{var c;(c=this.onFirstVideoDecoded)===null||c===void 0||c.call(this,A,o,s)},this.statsFilter.onSelectedLocalCandidateChanged=(A,o)=>{var s;(s=this.onSelectedLocalCandidateChanged)===null||s===void 0||s.call(this,A,o)},this.statsFilter.onSelectedRemoteCandidateChanged=(A,o)=>{var s;(s=this.onSelectedRemoteCandidateChanged)===null||s===void 0||s.call(this,A,o)},this.statsFilter.onFirstVideoDecodedTimeout=A=>{var o;(o=this.onFirstVideoDecodedTimeout)===null||o===void 0||o.call(this,A)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(A,o){if(A.length===o.length)for(let d=0;d<A.length;d++){var s,c,I,C,l;const h=A[d],Q=o[d];if(Q instanceof Ft&&!Re(s=Q._hints).call(s,xt.LOW_STREAM)&&(c=Q._encoderConfig)!==null&&c!==void 0&&c.bitrateMax&&((I=Q._encoderConfig)===null||I===void 0?void 0:I.bitrateMax)>200&&(C=Q._scalabilityMode)!==null&&C!==void 0&&C.numSpatialLayers&&((l=Q._scalabilityMode)===null||l===void 0?void 0:l.numSpatialLayers)>1&&this.store.codec==="vp8"){const _={},S={high:1e3*(Q._encoderConfig.bitrateMax-50),medium:5e4};_.encodings=[{rid:"m",active:!0,maxBitrate:S.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:S.high}];const w=h.sender.getParameters();await h.sender.setParameters(Object.assign(w,_))}}}async applySimulcastEncodings(A,o){if(!zt()&&A.length===o.length)for(let s=0;s<A.length;s++){const c=o[s];if(c instanceof Ft&&this.isVP8Simulcast(c)){const I=A[s],C={},l={high:1e3*(c._encoderConfig.bitrateMax-50),medium:5e4};C.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:l.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:l.medium,scaleResolutionDownBy:4}];const d=I.sender.getParameters();await I.sender.setParameters(Object.assign(d,C))}}}isVP8Simulcast(A){var o,s,c,I,C;return!!(A instanceof Ft&&J("SIMULCAST")&&this.store.codec==="vp8"&&!Re(o=A._hints).call(o,xt.LOW_STREAM)&&(s=A._encoderConfig)!==null&&s!==void 0&&s.bitrateMax&&((c=A._encoderConfig)===null||c===void 0?void 0:c.bitrateMax)>200&&(I=A._scalabilityMode)!==null&&I!==void 0&&I.numSpatialLayers&&((C=A._scalabilityMode)===null||C===void 0?void 0:C.numSpatialLayers)>1)}logSDPExchange(A,o,s,c){if(J("SDP_LOGGING"))return N.upload("[".concat(this.store.clientId,"] exchanging ").concat(s," ").concat(o," SDP during P2PConnection.").concat(c,`
`),A),o==="offer"?I=>{this.logSDPExchange(I,"answer",s==="local"?"remote":"local",c)}:void 0}async muteLocal(A){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const o=this.peerConnection.getTransceivers().filter(C=>C.mid&&A.indexOf(C.mid)!==-1);if(o.length!==A.length)throw new Error("Transceivers' length doesn't match mids' length.");o.map(C=>{C.direction="inactive"});const s=await this.peerConnection.createOffer(),c=this.logSDPExchange(s.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(s),this.remoteSDP.muteRemote(A);const I=this.remoteSDP.toString();c==null||c(I),await this.setRemoteDescription({type:"answer",sdp:I})}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(o.toString()))}}async unmuteLocal(A){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const o=this.peerConnection.getTransceivers().filter(C=>C.mid&&A.indexOf(C.mid)!==-1);if(o.length!==A.length)throw new Error("Transceivers' length doesn't match mids' length.");o.map(async C=>{C.direction="sendonly"});const s=await this.peerConnection.createOffer(),c=this.logSDPExchange(s.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(s),this.remoteSDP.unmuteRemote(A);const I=this.remoteSDP.toString();c==null||c(I),await this.setRemoteDescription({type:"answer",sdp:I})}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(o.toString()))}}async getRemoteSSRC(A,o){var s,c;if(o=(s=o)!==null&&s!==void 0?s:(c=this.currentRemoteDescription)===null||c===void 0?void 0:c.sdp){var I;const C=(I=PA.parse(o).mediaDescriptions.find(l=>l.attributes.mid===A))===null||I===void 0?void 0:I.attributes.ssrcs;return C==null?void 0:C[0].ssrcId}}async setRemoteDescription(A){var o;await this.peerConnection.setRemoteDescription(A),Re(o=["connected","completed"]).call(o,this.peerConnection.iceConnectionState)||(this.isReady=!0,this.addRemoteCandidate())}mungReceiveAnswerSDP(A,o,s){const c=PA.parse(A),I=c.mediaDescriptions.find(C=>C.attributes.mid===o);return I&&s===Oe.AUDIO&&I.media.mediaType==="audio"&&sa(I),PA.print(c)}},Ne(Gt.prototype,"establish",[Sr],Object.getOwnPropertyDescriptor(Gt.prototype,"establish"),Gt.prototype),Ne(Gt.prototype,"connect",[Sr],Object.getOwnPropertyDescriptor(Gt.prototype,"connect"),Gt.prototype),Ne(Gt.prototype,"receive",[Sr],Object.getOwnPropertyDescriptor(Gt.prototype,"receive"),Gt.prototype),Ne(Gt.prototype,"mockReceive",[Sr],Object.getOwnPropertyDescriptor(Gt.prototype,"mockReceive"),Gt.prototype),Ne(Gt.prototype,"stopReceiving",[Sr],Object.getOwnPropertyDescriptor(Gt.prototype,"stopReceiving"),Gt.prototype),Ne(Gt.prototype,"restartICE",[Sr],Object.getOwnPropertyDescriptor(Gt.prototype,"restartICE"),Gt.prototype),Ne(Gt.prototype,"close",[Sr],Object.getOwnPropertyDescriptor(Gt.prototype,"close"),Gt.prototype),Ne(Gt.prototype,"updateEncoderConfig",[Sr],Object.getOwnPropertyDescriptor(Gt.prototype,"updateEncoderConfig"),Gt.prototype),Ne(Gt.prototype,"updateSendParameters",[Sr],Object.getOwnPropertyDescriptor(Gt.prototype,"updateSendParameters"),Gt.prototype),Ne(Gt.prototype,"replaceTrack",[Sr],Object.getOwnPropertyDescriptor(Gt.prototype,"replaceTrack"),Gt.prototype),Ne(Gt.prototype,"muteLocal",[Sr],Object.getOwnPropertyDescriptor(Gt.prototype,"muteLocal"),Gt.prototype),Ne(Gt.prototype,"unmuteLocal",[Sr],Object.getOwnPropertyDescriptor(Gt.prototype,"unmuteLocal"),Gt.prototype),Gt);function Sr(t,A,o){const s=t[A];if(typeof s!="function")throw new Error("Cannot use mutex on object property.");return o.value=async function(){const c=this.mutex,I=await c.lock("From P2PConnection.".concat(A));try{for(var C=arguments.length,l=new Array(C),d=0;d<C;d++)l[d]=arguments[d];return await s.apply(this,l)}finally{I()}},o}function wd(t,A){let o=document.createElement("video"),s=document.createElement("canvas");o.setAttribute("style","display:none"),s.setAttribute("style","display:none"),o.setAttribute("muted",""),o.muted=!0,o.setAttribute("autoplay",""),o.autoplay=!0,o.setAttribute("playsinline",""),s.width=vi(A.width),s.height=vi(A.height);const c=vi(A.framerate||15);document.body.append(o),document.body.append(s);let I=t._mediaStreamTrack;o.srcObject=new MediaStream([I]),o.play();const C=s.getContext("2d");if(!C)throw new z(G.UNEXPECTED_ERROR,"can not get canvas context");const l=Ct(),d=s.captureStream(l.supportRequestFrame?0:c).getVideoTracks()[0];d.canvas||(d.canvas=s),s.startCapture=()=>{if(!o)return s.stopCapture&&s.stopCapture();if(o.paused&&o.play(),o.videoHeight>2&&o.videoWidth>2){const Q=o.videoWidth,_=o.videoHeight/Q,S=s.width*_;Math.abs(S-s.height)>=2&&(N.debug("adjust low stream resolution","".concat(s.width,"x").concat(s.height," -> ").concat(s.width,"x").concat(S)),s.height=S)}C.drawImage(o,0,0,s.width,s.height),d.requestFrame&&d.requestFrame(),I!==t._mediaStreamTrack&&(I=t._mediaStreamTrack,o.srcObject=new MediaStream([I]))},s.stopCapture=zu(()=>s.startCapture&&s.startCapture(),c);const h=d.stop;return d.stop=()=>{h.call(d),o&&(o.remove(),o.srcObject=null,o=null),s&&(s.width=0,s.remove(),s.stopCapture&&s.stopCapture(),s.startCapture=void 0,s.stopCapture=void 0,s=null),N.debug("clean low stream renderer")},d}var VI=function(t){return t[t.HEIGHT=2033]="HEIGHT",t[t.FRAME_RATE=2034]="FRAME_RATE",t[t.WIDTH=2035]="WIDTH",t}(VI||{}),TA=function(t){return t[t.FRAME_RATE=2002]="FRAME_RATE",t[t.WIDTH=2003]="WIDTH",t[t.HEIGHT=2004]="HEIGHT",t[t.PACKAGE_LOST=2005]="PACKAGE_LOST",t[t.AVG_ENCODE=2007]="AVG_ENCODE",t[t.NACKS=2009]="NACKS",t[t.PLIS=2010]="PLIS",t[t.FIRS=2011]="FIRS",t[t.BITRATE=2012]="BITRATE",t[t.PACKAGE_RATE=2031]="PACKAGE_RATE",t[t.ADAPTATION=2032]="ADAPTATION",t[t.ACTUAL_ENCODED=2060]="ACTUAL_ENCODED",t[t.BANDWIDTH=2061]="BANDWIDTH",t[t.RETRANSMIT=2062]="RETRANSMIT",t[t.TARGET_ENCODED=2064]="TARGET_ENCODED",t[t.TRANSMIT=2066]="TRANSMIT",t[t.FREEZE=2082]="FREEZE",t[t.DISABLED=2095]="DISABLED",t[t.PLAYER_STATUS=2128]="PLAYER_STATUS",t[t.QP_SUM=2143]="QP_SUM",t}(TA||{}),qn=function(t){return t[t.BITRATE=2069]="BITRATE",t[t.PACKAGE_LOST=2070]="PACKAGE_LOST",t[t.PACKAGE_RATE=2071]="PACKAGE_RATE",t[t.HEIGHT=2073]="HEIGHT",t[t.FRAME_RATE=2075]="FRAME_RATE",t[t.WIDTH=2077]="WIDTH",t}(qn||{}),zA=function(t){return t[t.JITTER=-1]="JITTER",t[t.PACKAGE_LOST=2014]="PACKAGE_LOST",t[t.WIDTH=2018]="WIDTH",t[t.HEIGHT=2019]="HEIGHT",t[t.FRAME_RATE=2020]="FRAME_RATE",t[t.JITTER_BUFFER=2023]="JITTER_BUFFER",t[t.CURRENT_DELAY=2024]="CURRENT_DELAY",t[t.NACKS=2026]="NACKS",t[t.PLIS=2027]="PLIS",t[t.FIRS=2028]="FIRS",t[t.BITRATE=2029]="BITRATE",t[t.PACKAGE_RATE=2078]="PACKAGE_RATE",t[t.FREEZE=2084]="FREEZE",t[t.DISABLED=2101]="DISABLED",t[t.PLAYER_STATUS=2129]="PLAYER_STATUS",t[t.QP_SUM=2144]="QP_SUM",t[t.I_FRAME_DELAY=2149]="I_FRAME_DELAY",t}(zA||{}),Vn=function(t){return t[t.FRAME_RATE_DECODE=2021]="FRAME_RATE_DECODE",t[t.FRAME_RATE_RENDER=2022]="FRAME_RATE_RENDER",t[t.FRAME_RATE_OUTPUT=2155]="FRAME_RATE_OUTPUT",t[t.FREEZE_TIME=2109]="FREEZE_TIME",t[t.FREEZE_TIME_RENDER=2147]="FREEZE_TIME_RENDER",t[t.FREEZE_DURATION=2156]="FREEZE_DURATION",t}(Vn||{}),bD=function(t){return t[t.PCM_LEVEL=2104]="PCM_LEVEL",t}(bD||{}),In=function(t){return t[t.PACKAGE_LOST=-1]="PACKAGE_LOST",t[t.LEVEL=2038]="LEVEL",t[t.BITRATE=2039]="BITRATE",t[t.PACKAGE_RATE=2040]="PACKAGE_RATE",t[t.AEC_RETURN_LOSS=2041]="AEC_RETURN_LOSS",t[t.AEC_RETURN_LOSS_ENH=2042]="AEC_RETURN_LOSS_ENH",t[t.FREEZE=2081]="FREEZE",t[t.DISABLED=2096]="DISABLED",t}(In||{}),Dr=function(t){return t[t.BITRATE=2044]="BITRATE",t[t.PACKAGE_LOST=2045]="PACKAGE_LOST",t[t.PACKAGE_RATE=2046]="PACKAGE_RATE",t[t.CURRENT_DELAY=2047]="CURRENT_DELAY",t[t.JITTER_BUFFER=2054]="JITTER_BUFFER",t[t.JITTER=2055]="JITTER",t[t.FREEZE=2083]="FREEZE",t[t.DISABLED=2102]="DISABLED",t[t.PCM_LEVEL=2105]="PCM_LEVEL",t[t.PLAYER_STATUS=2130]="PLAYER_STATUS",t[t.CONCEALED_SAMPLES=2148]="CONCEALED_SAMPLES",t}(Dr||{}),vD=function(t){return t[t.FREEZE_TIME=-1]="FREEZE_TIME",t[t.LEVEL=2043]="LEVEL",t}(vD||{}),rr=function(t){return t[t.RTT=2006]="RTT",t[t.CONN_TYPE=801]="CONN_TYPE",t}(rr||{});const ko=1e3,jn=3;function Ze(t,A,o){o!=null&&Number.isFinite(o)&&(t[A]=Math.round(Math.max(0,o)))}function MD(t){const A={[rr.CONN_TYPE]:0,[rr.RTT]:t.rtt};switch(t.selectedCandidatePair.localCandidate.candidateType){case"relay":{const o=t.selectedCandidatePair.localCandidate.relayProtocol;o==="udp"&&(A[rr.CONN_TYPE]=1),o==="tcp"&&(A[rr.CONN_TYPE]=3),o==="tls"&&(A[rr.CONN_TYPE]=4);break}case"srflx":A[rr.CONN_TYPE]=2}return A}function OD(t){let A=0;switch(t){case"none":A=0;break;case"cpu":A=1;break;case"bandwidth":A=2;break;case"other":A=3}return A}class LD extends Xt{constructor(A){super(),L(this,"store",void 0),L(this,"uploadWRTCStatsTimer",void 0),L(this,"uploadOutboundDenoiserStatsTimer",void 0),L(this,"uploadExtStatsTimer",void 0),L(this,"uploadExtUsageStatsTimer",void 0),L(this,"uploadInboundExtStatsTimer",void 0),L(this,"requestStats",void 0),L(this,"requestTransportStats",void 0),L(this,"requestLocalMedia",void 0),L(this,"requestRemoteMedia",void 0),L(this,"requestAllTracks",void 0),L(this,"requestVideoIsReady",void 0),L(this,"requestUploadStats",void 0),L(this,"requestUpload",void 0),L(this,"uploadOutboundStarted",!1),L(this,"uploadInboundStarted",!1),L(this,"uploadTransportStarted",!1),L(this,"uploadExtensionUsageStarted",!1),L(this,"lastRecvStats",void 0),L(this,"lastSendStats",void 0),L(this,"lastFullRecvStats",void 0),L(this,"lastFullSendStats",void 0),L(this,"needUploadRenderFreezeTime",!0),this.store=A}uploadWRTCStats(A){if(!this.requestStats||!this.requestUploadStats)return;let o,s;if(this.uploadTransportStarted&&(o=this.requestStats(),this.store.useP2P&&(s=this.requestStats(!0))),!o&&this.uploadOutboundStarted&&(o=this.requestStats()),!s&&this.uploadInboundStarted&&(s=this.requestStats(!0)),o||s){const c={};if(this.uploadTransportStarted&&o){const I=this.getTransportStats(o,s,A);I&&(c.misc=[I])}if(this.uploadOutboundStarted&&o){const I=this.getOutboundStats(o,A?this.lastSendStats:this.lastFullSendStats,A);I&&(c.outbound=[I])}if(this.uploadInboundStarted&&s){const I=this.getInboundStats(s,A?this.lastRecvStats:this.lastFullRecvStats,A);I&&(c.inbound=I)}this.requestUploadStats(c)}this.lastRecvStats=s,this.lastSendStats=o,A||(this.lastFullRecvStats=s,this.lastFullSendStats=o)}startUploadWRTCStats(){if(this.uploadWRTCStatsTimer)return;let A=1;this.uploadWRTCStatsTimer=window.setInterval(()=>{if(!this.uploadTransportStarted&&!this.uploadInboundStarted&&!this.uploadOutboundStarted)return this.stopUploadWRTCStats();this.uploadWRTCStats(A!==jn),++A===jn+1&&(A=1)},ko)}stopUploadWRTCStats(){window.clearInterval(this.uploadWRTCStatsTimer),this.uploadWRTCStatsTimer=void 0,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0)}getTransportStats(A,o,s){if(!this.requestStats)return;if(s)return A.rtt==null?void 0:{addition:{[rr.RTT]:A.rtt,[rr.CONN_TYPE]:void 0}};const c=MD(A);if(this.store.useP2P){if(o){const I=MD(o);c[rr.CONN_TYPE]+=I[rr.CONN_TYPE]<<3}c[rr.CONN_TYPE]+=110}else c[rr.CONN_TYPE]+=100;return{addition:c}}getOutboundStats(A,o,s){if(!this.requestUploadStats||!this.requestLocalMedia)return;const c=this.requestLocalMedia();if(!c||c.length===0)return;let I,C,l;return c.forEach(d=>{let[h,{track:Q,ssrcs:_}]=d;switch(h){case Ie.LocalVideoLowTrack:case Ie.LocalVideoTrack:if(h===Ie.LocalVideoTrack){const S=function(v,b,P,K,W){const X=b.videoSend.find(be=>be.ssrc===v);if(!X)return;const Z={},{sentFrame:ie,inputFrame:ce}=X;if(ce&&ie){const be=ce.frameRate,tt=ie.frameRate;Z[TA.FREEZE]=function(ft,Pt){let dA=!0;return dA=!(ft<=5)&&(ft<=10?Pt<3:ft<=20?Pt<4:Pt<5),dA}(be,tt)?1:0}if(Ze(Z,TA.QP_SUM,X.qpSumPerFrame),W)return Z;switch(ie&&(Ze(Z,TA.HEIGHT,ie.height),Ze(Z,TA.WIDTH,ie.width),Ze(Z,TA.FRAME_RATE,ie.frameRate)),Z[TA.DISABLED]=K._originMediaStreamTrack&&!K._originMediaStreamTrack.enabled||K._mediaStreamTrack&&!K._mediaStreamTrack.enabled?1:0,X.adaptionChangeReason){case"none":Z[TA.ADAPTATION]=0;break;case"cpu":Z[TA.ADAPTATION]=1;break;case"bandwidth":Z[TA.ADAPTATION]=2;break;case"other":Z[TA.ADAPTATION]=3}let de=0;X.adaptionChangeReason&&(de+=OD(X.adaptionChangeReason)),b.qualityLimitationReason&&(de+=OD(b.qualityLimitationReason)<<3),Z[TA.ADAPTATION]=de,Z[TA.PLAYER_STATUS]=Xu[K._player?K._player.videoElementStatus:"uninit"],Ze(Z,TA.NACKS,X.nacksCount),Ze(Z,TA.PLIS,X.plisCount),Ze(Z,TA.FIRS,X.firsCount),Ze(Z,TA.AVG_ENCODE,X.avgEncodeMs);const Ce=P&&P.videoSend.find(be=>be.ssrc===v);if(Ce){let be=W?ko:ko*jn;Ce.timestamp&&X.timestamp&&(be=X.timestamp-Ce.timestamp),Ce.packets!=null&&X.packets!=null&&Ze(Z,TA.PACKAGE_RATE,1e3*(X.packets-Ce.packets)/be),X.packetsLost!=null&&Ce.packetsLost!=null&&Ze(Z,TA.PACKAGE_LOST,X.packetsLost-Ce.packetsLost),Ce.bytes!=null&&X.bytes!=null&&Ze(Z,TA.BITRATE,8*(X.bytes-Ce.bytes)/be)}return Z}(_[0].ssrcId,A,o,Q,s),w=s?null:function(v,b,P){const K=b.videoSend.find(de=>de.ssrc===v);if(!K)return null;const W={},X=K.inputFrame,Z=X&&X.height||P&&P.videoHeight||0,ie=X&&X.width||P&&P.videoWidth||0,ce=X&&X.frameRate||0;return Ze(W,VI.HEIGHT,Z),Ze(W,VI.WIDTH,ie),Ze(W,VI.FRAME_RATE,ce),W}(_[0].ssrcId,A,Q),k=s?null:function(v){const b={};return Ze(b,TA.RETRANSMIT,v.bitrate.retransmit),Ze(b,TA.TARGET_ENCODED,v.bitrate.targetEncoded),Ze(b,TA.ACTUAL_ENCODED,v.bitrate.actualEncoded),Ze(b,TA.TRANSMIT,v.bitrate.transmit),Ze(b,TA.BANDWIDTH,v.sendBandwidth),b}(A);C=Object.assign({},S,w,k)}else l=s?void 0:function(S,w,k){const v=w.videoSend.find(K=>K.ssrc===S);if(!v)return;const b={},P=v.sentFrame;if(P&&(Ze(b,qn.HEIGHT,P.height),Ze(b,qn.WIDTH,P.width),Ze(b,qn.FRAME_RATE,P.frameRate)),k){const K=k.videoSend.find(W=>W.ssrc===S);if(K){let W=ko*jn;K.timestamp&&v.timestamp&&(W=v.timestamp-K.timestamp),K.packets!=null&&v.packets!=null&&Ze(b,qn.PACKAGE_RATE,1e3*(v.packets-K.packets)/W),v.packetsLost!=null&&K.packetsLost!=null&&Ze(b,qn.PACKAGE_LOST,v.packetsLost-K.packetsLost),K.bytes!=null&&v.bytes!=null&&Ze(b,qn.BITRATE,8*(v.bytes-K.bytes)/W)}}return b}(_[0].ssrcId,A,o);break;case Ie.LocalAudioTrack:I=s?void 0:function(S,w,k,v){const b=w.audioSend.find(Z=>Z.ssrc===S);if(!b)return;const P={};P[In.DISABLED]=v._originMediaStreamTrack&&!v._originMediaStreamTrack.enabled||v._mediaStreamTrack&&!v._mediaStreamTrack.enabled?1:0;const K=100*v._source.getAccurateVolumeLevel(),W=b.inputLevel;if(W!=null){const Z=Math.ceil(50*Math.log10(100*W+1));Ze(P,In.LEVEL,Z)}Ze(P,bD.PCM_LEVEL,K),Ze(P,In.AEC_RETURN_LOSS,b.aecReturnLoss),Ze(P,In.AEC_RETURN_LOSS_ENH,b.aecReturnLossEnhancement),P[In.FREEZE]=0;const X=k&&k.audioSend.find(Z=>Z.ssrc===S);if(X){let Z=ko*jn;X.timestamp&&b.timestamp&&(Z=b.timestamp-X.timestamp),X.bytes!=null&&b.bytes!=null&&Ze(P,In.BITRATE,8*(b.bytes-X.bytes)/Z),X.packets!=null&&b.packets!=null&&Ze(P,In.PACKAGE_RATE,1e3*(b.packets-X.packets)/Z)}return P}(_[0].ssrcId,A,o,Q)}}),{high:C,low:l,audio:I}}getInboundStats(A,o,s){if(!this.requestRemoteMedia)return;const c=this.requestRemoteMedia()||[],I=[];return c.forEach(C=>{let[l,d]=C;const h={peer:l.uid};if(d.has(Oe.VIDEO)&&l.videoTrack){const Q=l._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(l._videoSSRC)||!1,_=l.videoTrack?function(S,w,k,v,b,P,K){var W;const X=w.videoRecv.find(tt=>tt.ssrc===S);if(!X)return;const Z={},{receivedFrame:ie,outputFrame:ce,decodeFrameRate:de}=X,Ce=k&&k.videoRecv.find(tt=>tt.ssrc===S);if(Z[zA.FREEZE]=b&&_c.isRemoteVideoFreeze(v,X,Ce)?1:0,Ze(Z,Vn.FRAME_RATE_DECODE,de),Ze(Z,zA.QP_SUM,X.qpSumPerFrame),X.framesRateFirefox&&Ze(Z,zA.FRAME_RATE,X.framesRateFirefox),ie&&Ze(Z,zA.FRAME_RATE,ie.frameRate),Ce){const tt=w.timestamp-k.timestamp||(K?ko:jn*ko);X.packetsLost!=null&&Ce.packetsLost!=null&&Ze(Z,zA.PACKAGE_LOST,X.packetsLost-Ce.packetsLost),Ce.bytes!=null&&X.bytes!=null&&Ze(Z,zA.BITRATE,8*(X.bytes-Ce.bytes)/tt),Ce.packets!=null&&X.packets!=null&&Ze(Z,zA.PACKAGE_RATE,1e3*(X.packets-Ce.packets)/tt)}if(K)return Z;ie?(Ze(Z,zA.HEIGHT,ie.height),Ze(Z,zA.WIDTH,ie.width)):v&&(Ze(Z,zA.HEIGHT,v._videoHeight||0),Ze(Z,zA.WIDTH,v._videoWidth||0)),ce&&Ze(Z,Vn.FRAME_RATE_OUTPUT,ce.frameRate);const be=(W=v._player)===null||W===void 0?void 0:W.rendFrameRate.toFixed(0);if(be&&Ze(Z,Vn.FRAME_RATE_RENDER,+be),Ze(Z,zA.JITTER_BUFFER,X.jitterBufferMs),Ze(Z,zA.CURRENT_DELAY,X.currentDelayMs),Ze(Z,zA.FIRS,X.firsCount),Ze(Z,zA.NACKS,X.nacksCount),Ze(Z,zA.PLIS,X.plisCount),v){Z[zA.DISABLED]=v._originMediaStreamTrack.enabled&&v._mediaStreamTrack.enabled?0:1;const tt=v._player;if(tt){const{freezeTimeCounterList:ft,renderFreezeAccTime:Pt,videoElementStatus:dA}=tt;if(ft&&ft.length>0&&Ze(Z,Vn.FREEZE_TIME,ft.splice(0,1)[0]),P&&Lo.visibility==="visible"&&dA===ii.PLAYING&&Ct().supportRequestVideoFrameCallback){const jt=Math.min(6e3,Pt);tt.renderFreezeAccTime=Math.max(0,Pt-jt),Ze(Z,Vn.FREEZE_TIME_RENDER,jt)}if(typeof X.totalFreezesDuration=="number"){const jt=Ce&&Ce.totalFreezesDuration?X.totalFreezesDuration-Ce.totalFreezesDuration:X.totalFreezesDuration;Ze(Z,Vn.FREEZE_DURATION,1e3*jt)}}}if(Z[zA.PLAYER_STATUS]=Xu[v._player?v._player.videoElementStatus:"uninit"],Ce&&X.totalInterFrameDelay!==void 0&&X.totalSquaredInterFrameDelay!==void 0&&Ce.totalInterFrameDelay!==void 0&&Ce.totalSquaredInterFrameDelay!==void 0){const tt=X.totalInterFrameDelay-Ce.totalInterFrameDelay,ft=X.totalSquaredInterFrameDelay-Ce.totalSquaredInterFrameDelay,Pt=X.framesDecodeCount-Ce.framesDecodeCount,dA=tt/Pt*1e3,jt=Math.round(1e3*Math.sqrt((ft-Math.pow(tt,2)/Pt)/Pt));!isNaN(jt)&&dA+jt>Math.max(3*dA,dA+150)&&(Z[zA.I_FRAME_DELAY]=jt)}return Z}(l._videoSSRC,A,o,l.videoTrack,Q===!0,this.needUploadRenderFreezeTime,s):void 0;_&&(h.video=_)}if(d.has(Oe.AUDIO)&&l.audioTrack){const Q=l.audioTrack?function(_,S,w,k,v){const b=S.audioRecv.find(Ce=>Ce.ssrc===_);if(!b)return;const P={},K=w&&w.audioRecv.find(Ce=>Ce.ssrc===_),{receivedFrames:W,droppedFrames:X}=b;var Z,ie;if(Ze(P,Dr.JITTER,b.jitterMs),W!=null&&X!=null&&(P[Dr.FREEZE]=(ie=X,(Z=W)===0||100*ie/Z>20?1:0)),K){const Ce=S.timestamp-w.timestamp||(v?ko:ko*jn);b.packets!=null&&K.packets!=null&&Ze(P,Dr.PACKAGE_RATE,1e3*(b.packets-K.packets)/Ce),K.bytes!=null&&b.bytes!=null&&Ze(P,Dr.BITRATE,8*(b.bytes-K.bytes)/Ce),b.packetsLost!=null&&K.packetsLost!=null&&Ze(P,Dr.PACKAGE_LOST,b.packetsLost-K.packetsLost)}if(v)return P;const ce=100*k._source.getAccurateVolumeLevel(),de=b.outputLevel;if(de!=null){const Ce=Math.ceil(50*Math.log10(100*de+1));Ze(P,vD.LEVEL,Ce)}if(Ze(P,Dr.PCM_LEVEL,ce),k&&(P[Dr.DISABLED]=k._originMediaStreamTrack.enabled&&k._mediaStreamTrack.enabled?0:1),Ze(P,Dr.JITTER_BUFFER,b.jitterBufferMs),Ze(P,Dr.CURRENT_DELAY,b.jitterBufferMs),P[Dr.PLAYER_STATUS]=Xu[hi.getPlayerState(k.getTrackId())],K){const Ce=b.concealedSamples-K.concealedSamples;Ce>0&&Ze(P,Dr.CONCEALED_SAMPLES,Ce)}return P}(l._audioSSRC,A,o,l.audioTrack,s):void 0;Q&&(h.audio=Q)}(h.video||h.audio)&&I.push(h)}),this.needUploadRenderFreezeTime=!this.needUploadRenderFreezeTime,I}startUploadTransportStats(){this.uploadTransportStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats()}stopUploadTransportStats(){this.uploadTransportStarted=!1}startUploadOutboundStats(){this.uploadOutboundStarted||(this.uploadOutboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=window.setInterval(()=>{if(!this.requestAllTracks||!this.requestUpload)return;const A=(this.requestAllTracks()||[]).find(o=>o instanceof kI);if(A&&A._external.getDenoiserStats){const o=A._external.getDenoiserStats();o&&this.requestUpload(oc.DENOISER_STATS,o)}},2e3),this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=window.setInterval(()=>{!this.requestAllTracks||!this.requestUpload||this.requestAllTracks().forEach(A=>{A.getProcessorStats().forEach(o=>{this.requestUpload&&this.requestUpload(o.type,o.stats)})})},2e3))}stopUploadOutboundStats(){this.uploadOutboundStarted&&(this.uploadOutboundStarted=!1,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=void 0)}startUploadInboundStats(){this.uploadInboundStarted||(this.uploadInboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=window.setInterval(()=>{!this.requestUpload||!this.requestRemoteMedia||(this.requestRemoteMedia()||[]).forEach(A=>{let[o,s]=A;s.has(Oe.VIDEO)&&o.videoTrack&&o.videoTrack.getProcessorStats().forEach(c=>{this.requestUpload&&this.requestUpload(c.type,c.stats)}),s.has(Oe.AUDIO)&&o.audioTrack&&o.audioTrack.getProcessorStats().forEach(c=>{this.requestUpload&&this.requestUpload(c.type,c.stats)})})},2e3))}stopUploadInboundStats(){this.uploadInboundStarted&&(this.uploadInboundStarted=!1,this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0))}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer);const A=new Map;this.uploadExtUsageStatsTimer=window.setInterval(async()=>{const o=Date.now(),s={connectionInterval:J("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3,details:[],lts:o};let c=[];const I=this.requestAllTracks&&this.requestAllTracks()||[];for(const h of I)!h.muted&&h.enabled&&(c=c.concat(await h.getProcessorUsage()));const C=this.requestRemoteMedia&&this.requestRemoteMedia()||[];for(const[h,Q]of C)Q.has(Oe.VIDEO)&&h.videoTrack&&(c=c.concat(await h.videoTrack.getProcessorUsage())),Q.has(Oe.AUDIO)&&h.audioTrack&&(c=c.concat(await h.audioTrack.getProcessorUsage()));if(c.length===0)return;s.details=function(h,Q){const _={};for(const{id:v,value:b,level:P,direction:K}of h){var S;const W=(S=Q.get(v))!==null&&S!==void 0?S:0,X=b===2?W+J("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3:W;var w,k;Q.set(v,X),_[v]?(b===2&&(_[v].value=b),P>_[v].level&&(_[v].level=P),K==="remote"&&(_[v].remoteUidCount+=1),_[v].totalTs=(w=Q.get(v))!==null&&w!==void 0?w:0):_[v]={value:b,level:P,remoteUidCount:K==="local"?0:1,totalTs:(k=Q.get(v))!==null&&k!==void 0?k:0}}return Object.keys(_).map(v=>{const{level:b,value:P,totalTs:K}=_[v];return{id:v,level:b,value:P,totalTs:K}})}(c,A);const l=Date.now(),d=l>o?l:o+1;this.requestUpload&&this.requestUpload(oc.EXTENSION_USAGE_STATS,{usageStats:s,sendTs:d})},J("EXTENSION_USAGE_UPLOAD_INTERVAL"))}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer),this.uploadExtUsageStatsTimer=void 0)}}class En{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio||this._audio_pre_subscribed)return this._audioTrack}get videoTrack(){if(this.hasVideo||this._video_pre_subscribed)return this._videoTrack}get dataChannels(){return this._dataChannels}constructor(A,o){L(this,"uid",void 0),L(this,"_uintid",void 0),L(this,"_trust_in_room_",!0),L(this,"_trust_audio_enabled_state_",!0),L(this,"_trust_video_enabled_state_",!0),L(this,"_trust_audio_mute_state_",!0),L(this,"_trust_video_mute_state_",!0),L(this,"_audio_muted_",!1),L(this,"_video_muted_",!1),L(this,"_audio_enabled_",!0),L(this,"_video_enabled_",!0),L(this,"_audio_added_",!1),L(this,"_video_added_",!1),L(this,"_is_pre_created",!1),L(this,"_video_pre_subscribed",!1),L(this,"_audio_pre_subscribed",!1),L(this,"_trust_video_stream_added_state_",!0),L(this,"_trust_audio_stream_added_state_",!0),L(this,"_audioTrack",void 0),L(this,"_videoTrack",void 0),L(this,"_dataChannels",[]),L(this,"_audioSSRC",void 0),L(this,"_videoSSRC",void 0),L(this,"_audioOrtc",void 0),L(this,"_videoOrtc",void 0),L(this,"_cname",void 0),L(this,"_rtxSsrcId",void 0),L(this,"_videoMid",void 0),L(this,"_audioMid",void 0),this.uid=A,this._uintid=o}}let xr=function(t){return t.SEND_ONLY="SEND_ONLY",t.RECEIVE_ONLY="RECEIVE_ONLY",t}({});function d2(t,A){var o;let s;switch(A){case Ie.LocalAudioTrack:s=yt.Audio;break;case Ie.LocalVideoTrack:s=Re(o=t._hints).call(o,xt.SCREEN_TRACK)?yt.Screen:yt.High;break;case Ie.LocalVideoLowTrack:s=yt.Low}return s}function Nd(t){const A=Ct();if(t.some(o=>o._bypassWebAudio))throw new Ae(G.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");if(!A.webAudioMediaStreamDest)throw new Ae(G.NOT_SUPPORTED,"cannot publish multiple tracks because your browser does not support audio mixing")}function Td(t,A){Nd(t);const o=new RA;return t.forEach(s=>o.addAudioTrack(s)),o}var kD,UD,PD,GD,FD,KD,xD,YD,JD,HD,qD,Ht;function VD(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function jI(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?VD(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):VD(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}let Oi=(kD=Yr(xr.SEND_ONLY),UD=Yr(xr.SEND_ONLY),PD=Yr(),GD=Yr(xr.RECEIVE_ONLY),FD=Yr(xr.RECEIVE_ONLY),KD=Yr(xr.RECEIVE_ONLY),xD=Yr(xr.RECEIVE_ONLY),YD=Yr(xr.RECEIVE_ONLY),JD=Yr(xr.RECEIVE_ONLY),HD=Yr(),qD=Yr(xr.RECEIVE_ONLY),Ht=class extends Xt{get state(){return this._state}set state(t){const A=this._state;this._state=t,this.emit(Ge.StateChange,A,this._state)}constructor(t,A){super(),L(this,"isPlanB",!1),L(this,"store",void 0),L(this,"statsUploader",void 0),L(this,"sendConnection",void 0),L(this,"recvConnection",void 0),L(this,"localTrackMap",new Map),L(this,"remoteUserMap",new Map),L(this,"localDataChannels",[]),L(this,"pendingLocalTracks",[]),L(this,"pendingRemoteTracks",[]),L(this,"statsCollector",void 0),L(this,"dtlsFailedCount",0),L(this,"sendMutex",new $A("P2PChannel2-send-mutex")),L(this,"recvMutex",new $A("P2PChannel2-recv-mutex")),L(this,"_state",mt.Disconnected),L(this,"_restartStates",["disconnected","failed"]),L(this,"reconnectInterval",void 0),L(this,"uploadUnplinkStarted",!1),L(this,"uploadDownlinkStarted",!1),L(this,"uplinkStateUploadInterval",void 0),L(this,"downlinkStatsUploadInterval",void 0),L(this,"handleMuteLocalTrack",async(o,s,c)=>{const I=await this.sendMutex.lock("Locking from P2PChannel2.handleMuteLocalTrack");try{if(!this.sendConnection||this.state!==mt.Connected)return void c(new Ae(G.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established."));const d=this.filterTobeMutedTracks(o);if(d.length===0)return void s();const h=d.find(w=>w[0]==="videoLowTrack");h&&h[1].track._originMediaStreamTrack.stop(),await this.sendConnection.muteLocal(d.map(w=>{let[,{id:k}]=w;return k}));let Q=!1;var C,l;o.trackMediaType==="video"?Q=!((C=this.localTrackMap.get(Ie.LocalAudioTrack))===null||C===void 0||!C.track._muted):Q=((l=this.localTrackMap.get(Ie.LocalVideoTrack))===null||l===void 0?void 0:l.id)===void 0;const _=this.createMuteMessage(d);await Mt(this,Ge.RequestMuteLocal,_);const S=o.trackMediaType==="video"?rn.MUTE_LOCAL_VIDEO:rn.MUTE_LOCAL_AUDIO;await Mt(this,Ge.RequestP2PMuteLocal,{action:S,message:_,isMuteAll:Q}),s()}catch(d){c(d)}finally{I()}}),L(this,"handleUnmuteLocalTrack",async(o,s,c)=>{const I=await this.sendMutex.lock("Locking from P2PChannel2.handleUnmuteLocalTrack");try{if(!this.sendConnection||this.state!==mt.Connected)return void c(new Ae(G.INVALID_OPERATION,"Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established."));const C=this.filterTobeUnmutedTracks(o);if(C.length===0)return void s();await this.sendConnection.unmuteLocal(C.map(h=>{let[,{id:Q}]=h;return Q}));const l=this.createUnmuteMessage(C),d=o.trackMediaType==="video"?rn.UNMUTE_LOCAL_VIDEO:rn.UNMUTE_LOCAL_AUDIO;await Mt(this,Ge.RequestP2PMuteLocal,{action:d,message:l}),s()}catch(C){c(C)}finally{I()}}),L(this,"handleUpdateVideoEncoder",async(o,s,c)=>{const I=await this.sendMutex.lock("Locking from P2PChannel2.handleSetVideoEncoder");try{const C=this.localTrackMap.get(Ie.LocalVideoTrack);if(!this.sendConnection||!C||C.track!==o||this.state!==mt.Connected)return void s();const{id:l,track:d}=C;l&&(await this.sendConnection.updateSendParameters(l,d),await this.sendConnection.updateEncoderConfig(l,d),this.emit(Ge.UpdateVideoEncoder,d)),s()}catch(C){c(C)}finally{I()}}),L(this,"handleUpdateVideoSendParameters",async(o,s,c)=>{const I=await this.sendMutex.lock("Locking from P2PChannel2.handleUpdateVideoSendParameters");try{const C=this.localTrackMap.get(Ie.LocalVideoTrack);if(!this.sendConnection||!C||C.track!==o||this.state!==mt.Connected)return void s();const{id:l,track:d}=C;l&&await this.sendConnection.updateSendParameters(l,d),s()}catch(C){c(C)}finally{I()}}),L(this,"handleReplaceTrack",async(o,s,c,I)=>{let C;N.debug("[".concat(this.store.clientId,"] P2PChannel2 handleReplaceTrack for [track-id-").concat(o.getTrackId(),"]")),typeof I=="boolean"&&I||(C=await this.sendMutex.lock("From P2PChannel2.handleReplaceTrack"));try{var l;const h=Array.from(this.localTrackMap.entries()).find(Q=>{let[,{track:_}]=Q;return o===_});if(!this.sendConnection||!h||h[1].id===void 0||this.state!==mt.Connected)return void s();if(await((l=this.sendConnection)===null||l===void 0?void 0:l.replaceTrack(o,h[1].id)),h[0]===Ie.LocalVideoTrack&&Ct().supportDualStreamEncoding){const Q=this.localTrackMap.get(Ie.LocalVideoLowTrack);if(Q){const _=o._mediaStreamTrack.clone();Q.track._originMediaStreamTrack.stop(),Q.track._mediaStreamTrack=_,Q.track._originMediaStreamTrack=_,await new pe((S,w)=>{this.handleReplaceTrack(Q.track,S,w,!0)})}}s()}catch(h){c(h)}finally{var d;(d=C)===null||d===void 0||d()}}),L(this,"handleGetLocalVideoStats",o=>{o(this.statsCollector.getLocalVideoTrackStats())}),L(this,"handleGetLocalAudioStats",o=>{o(this.statsCollector.getLocalAudioTrackStats())}),L(this,"handleGetRemoteVideoStats",o=>this.statsCollector.getRemoteVideoTrackStats(o.uid)[o.uid]),L(this,"handleGetRemoteAudioStats",o=>this.statsCollector.getRemoteAudioTrackStats(o.uid)[o.uid]),this.store=t,this.statsCollector=A,this.statsCollector.addP2PChannel(this),this.statsUploader=new LD(t),this.bindStatsUploaderEvents(),this.reconnectInterval=window.setInterval(()=>{[this.sendConnection,this.recvConnection].forEach(o=>{o&&(o.iceConnectionState!=="disconnected"&&o.iceConnectionState!=="failed"||this.handleDisconnect(o.direction))})},J("ICE_RESTART_INTERVAL"))}async startP2PConnection(t,A){throw new Ae(G.NOT_SUPPORTED,"p2p mode does not support startP2PConnection.")}async connect(t){throw new Ae(G.NOT_SUPPORTED,"p2p mode does not support connect.")}async startP2P(t,A){let o;try{if(A){this.recvConnection&&(N.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset recvConnection.")),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),o=await this.recvMutex.lock("From P2PChannel.startP2P"),this.recvConnection=new TD(t,this.store,Ei.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection);const s=await this.recvConnection.establish(A);return{iceParameters:s.iceParameters,dtlsParameters:s.dtlsParameters,sdp:s.sdp}}{this.state=mt.New,this.sendConnection&&(N.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset sendConnection.")),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),o=await this.sendMutex.lock("From P2PChannel.startP2P"),this.sendConnection=new TD(t,this.store),this.store.peerConnectionStart(),this.bindConnectionEvents(this.sendConnection);const s=await this.sendConnection.establish();return{iceParameters:s.iceParameters,dtlsParameters:s.dtlsParameters,sdp:s.sdp}}}finally{o&&o()}}async p2pConnect(t){if(!this.sendConnection)throw new Ae(G.UNEXPECTED_ERROR,"Cannot P2PChannel2.p2pConnect before P2PChannel2.startP2PConnection .");this.store.peerConnectionStart(),await this.sendConnection.connect(t),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=mt.Connected}async addRemoteCandidate(t,A){if(A===Ei.RECEIVE_ONLY){if(!this.sendConnection)throw new Ae(G.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.sendConnection.addRemoteCandidate(t)}else{if(!this.recvConnection)throw new Ae(G.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.recvConnection.addRemoteCandidate(t)}}publish(t,A,o){var s=this;return Kr(function*(){const c=yield ht(s.sendMutex.lock("From P2PChannel.publish"));try{if(!s.sendConnection||s.state!==mt.Connected){s.throwIfTrackTypeNotMatch(t);const h=t.filter(Q=>s.pendingLocalTracks.indexOf(Q)===-1);return void(s.pendingLocalTracks=s.pendingLocalTracks.concat(h))}s.store.pubId=s.store.pubId+1,XA.markPublishStart(s.store.clientId,s.store.pubId);const I=s.filterTobePublishedTracks(t,A,o);if(I.length===0)return void(yield ht(s.tryToUnmuteAudio(t)));I.forEach(h=>{let{track:Q,type:_}=h;const S=Date.now();s.store.publish(Q.getTrackId(),_===Ie.LocalAudioTrack?"audio":"video",S)}),s.bindLocalTrackEvents(I);const C=yield ht(s.sendConnection.send(I.map(h=>{let{track:Q}=h;return Q}),s.store.codec,s.store.audioCodec)),l=(yield ht(C.next())).value,d=s.createGatewayPublishMessage(I,l);try{yield d}catch(h){throw C.throw(h),(h==null?void 0:h.code)===G.WS_ABORT&&I.forEach(Q=>{let{track:_}=Q;s.pendingLocalTracks.indexOf(_)===-1&&s.pendingLocalTracks.push(_)}),s.unbindLocalTrackEvents(I),h}yield ht(C.next()),I.forEach(h=>{let{type:Q}=h;s.statsCollector.addLocalStats(Q)}),s.statsUploader.startUploadOutboundStats(),s.assignLocalTracks(I,l),I.forEach(h=>{let{track:Q,type:_}=h;const S=Date.now();s.store.publish(Q.getTrackId(),_===Ie.LocalAudioTrack?"audio":"video",void 0,S)}),s.startUploadUplinkState()}finally{c()}})()}async unpublish(t){if(!this.sendConnection||this.state!==mt.Connected)return void(t.length===0?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter(c=>!Re(t).call(t,c)));const A=this.filterTobeUnpublishedTracks(t);if(A.length===0)return;const o=A.find(c=>c[0]==="videoLowTrack");o&&o[1].track.close();const s=this.createGatewayUnpublishMessage(A);if(await this.sendConnection.stopSending(A.map(c=>{let[,{id:I}]=c;return I})),this.withdrawLocalTracks(A),this.unbindLocalTrackEvents(A.map(c=>{let[I,{track:C}]=c;return{type:I,track:C}})),A.forEach(c=>{let[I]=c;this.statsCollector.removeLocalStats(I)}),this.localTrackMap.size===0&&(this.statsUploader.stopUploadOutboundStats(),this.stopUploadUplinkState()),this.sendConnection&&this.state===mt.Connected)return o&&o[1].track.close(),s;t.forEach(c=>{const I=this.pendingLocalTracks.indexOf(c);I!==-1&&this.pendingLocalTracks.splice(I,1)})}startUploadUplinkState(){if(this.uploadUnplinkStarted)return;this.uploadUnplinkStarted=!0,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval);const t=()=>{const A=[],o=[];Array.from(this.localTrackMap.entries()).forEach(s=>{let[c,{track:I,ssrcs:C}]=s;const l={stream_type:d2(I,c),ssrcs:C};I._muted||!I._enabled?A.push(l):o.push(l)}),A.length>0&&A.forEach(s=>{Mt(this,Ge.RequestMuteLocal,[s])}),o.length>0&&o.forEach(s=>{Mt(this,Ge.RequestUnmuteLocal,[s])})};t(),this.uplinkStateUploadInterval=window.setInterval(()=>{t()},3e3)}stopUploadUplinkState(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval))}publishLowStream(t){return Kr(function*(){throw new Ae(G.NOT_SUPPORTED,"p2p mode does not support publishLowStream.")})()}async republish(){this.pendingLocalTracks.length>0&&(N.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await YA(this,Ge.RequestRePublish,this.pendingLocalTracks),this.emit(Ge.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async unpublishLowStream(){throw new Ae(G.NOT_SUPPORTED,"p2p mode does not support unpublishLowStream.")}async subscribe(t,A,o,s){var c;if(!this.recvConnection)throw new Ae(G.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");if((c=this.remoteUserMap.get(t))!==null&&c!==void 0&&c.has(A))return;const{track:I,mid:C,transceiver:l}=await this.recvConnection.receive(A,[{ssrcId:o}],String(t.uid),s);A===Oe.AUDIO?(t._audioTrack?t._audioTrack._updateOriginMediaStreamTrack(I):(t._audioTrack=new oa(I,t.uid,t._uintid,this.store),N.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(t._audioTrack.getTrackId()))),l&&t._audioTrack._updateRtpTransceiver(l),this.bindRemoteTrackEvents(t,t._audioTrack)):(t._videoSSRC=o,t._videoTrack?t._videoTrack._updateOriginMediaStreamTrack(I):(t._videoTrack=new ra(I,t.uid,t._uintid,this.store),N.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(t._videoTrack.getTrackId()))),l&&t._videoTrack._updateRtpTransceiver(l),this.bindRemoteTrackEvents(t,t._videoTrack));const d=this.remoteUserMap.get(t);d?d.set(A,C):this.remoteUserMap.set(t,new Map([[A,C]])),this.statsCollector.addRemoteStats(t.uid),this.statsUploader.startUploadInboundStats(),this.startUploadDownlinkState();const h=this.pendingRemoteTracks.findIndex(Q=>{let{user:_,kind:S}=Q;return _.uid===t.uid&&A===S});h!==-1&&(this.pendingRemoteTracks.splice(h,1),this.emit(Ge.MediaReconnectEnd,t.uid))}async mockSubscribe(t,A,o,s){if(!this.recvConnection)throw new Ae(G.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");await this.recvConnection.mockReceive(A,[{ssrcId:o}],String(t.uid),s)}async unsubscribe(t,A,o){const s=this.pendingRemoteTracks.filter(I=>{let{user:C,kind:l}=I;return A!==void 0?C.uid===t.uid&&A===l:C.uid===t.uid});if(s.forEach(I=>{const C=this.pendingRemoteTracks.indexOf(I);this.pendingRemoteTracks.splice(C,1)}),this.recvConnection||o||s.forEach(I=>{let{kind:C}=I;var l;if(C===Oe.AUDIO)(l=t._audioTrack)===null||l===void 0||l._destroy(),t._audioTrack=void 0;else if(C===Oe.VIDEO){var d;(d=t._videoTrack)===null||d===void 0||d._destroy(),t._videoTrack=void 0}}),!this.recvConnection)return;const c=this.filterTobeUnSubscribedTracks(t,A);c.length!==0&&(await this.recvConnection.stopReceiving(c.map(I=>{let[,{id:C}]=I;return C})),this.withdrawRemoteTracks(c),this.remoteUserMap.size===0&&(this.statsUploader.stopUploadInboundStats(),this.stopUploadDownlinkState()),c.forEach(I=>{let[C,{kind:l}]=I;var d,h;if(l===Oe.VIDEO&&C._videoSSRC&&((d=this.recvConnection)===null||d===void 0||d.setStatsRemoteVideoIsReady(C._videoSSRC,!1)),l===Oe.VIDEO)this.unbindRemoteTrackEvents(C._videoTrack),o||((h=C._videoTrack)===null||h===void 0||h._destroy(),C._videoTrack=void 0);else if(l===Oe.AUDIO){var Q;this.unbindRemoteTrackEvents(C._audioTrack),!o&&((Q=C._audioTrack)===null||Q===void 0||Q._destroy(),C._audioTrack=void 0)}}),c.forEach(I=>{let[,{kind:C}]=I;Mt(this,Ge.RequestP2PMuteRemote,C)}))}startUploadDownlinkState(){if(this.uploadDownlinkStarted)return;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);const t=()=>Array.from(this.remoteUserMap.entries()).forEach(A=>{let[,o]=A;[Oe.VIDEO,Oe.AUDIO].forEach(s=>{o.has(s)?Mt(this,Ge.RequestP2PUnmuteRemote,s):Mt(this,Ge.RequestP2PMuteRemote,s)})});t(),this.downlinkStatsUploadInterval=window.setInterval(()=>{t()},3e3)}stopUploadDownlinkState(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval))}getAllDataChannels(){return this.localDataChannels}async massSubscribe(t){throw new Ae(G.NOT_SUPPORTED,"p2p mode does not support massSubscribe.")}async massSubscribeNoLock(t){throw new Ae(G.NOT_SUPPORTED,"p2p mode does not support massSubscribeNoLock.")}async massUnsubscribe(t){throw new Ae(G.NOT_SUPPORTED,"p2p mode does not support massUnsubscribe.")}async massUnsubscribeNoLock(t){throw new Ae(G.NOT_SUPPORTED,"p2p mode does not support massUnsubscribeNoLock.")}async muteRemote(t,A){if(!this.recvConnection)return;const o=this.remoteUserMap.get(t);if(!o)return void N.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(t.uid,"."));if(!o.get(A))return void N.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(t.uid," media type ").concat(A,"."));const s=A===Oe.VIDEO?t._videoSSRC:t._audioSSRC;s!==void 0&&this.recvConnection.setStatsRemoteVideoIsReady(s,!1)}async unmuteRemote(t,A){return this.unmuteRemoteNoLock(t,A)}async unmuteRemoteNoLock(t,A){if(!this.recvConnection)return;const o=this.remoteUserMap.get(t);if(!o)return void N.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(t.uid,"."));o.get(A)||N.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(t.uid," media type ").concat(A,"."))}getAllTracks(t){const A=this.localTrackMap.get(Ie.LocalAudioTrack);if((A==null?void 0:A.track)instanceof RA){const o=A.track;return Array.from(this.localTrackMap.entries()).filter(s=>{let[c]=s;return c!==Ie.LocalAudioTrack}).filter(s=>{let[c]=s;return!(t&&c===Ie.LocalVideoLowTrack)}).map(s=>{let[,{track:c}]=s;return c}).concat(o.trackList)}return Array.from(this.localTrackMap.entries()).filter(o=>{let[s]=o;return!(t&&s===Ie.LocalVideoLowTrack)}).map(o=>{let[,{track:s}]=o;return s})}reportPublishEvent(t,A,o,s,c){if(t){const C=this.localTrackMap.get(Ie.LocalAudioTrack),l=s?this.localTrackMap.get(Ie.LocalVideoLowTrack):this.localTrackMap.get(Ie.LocalVideoTrack);Me.publish(this.store.sessionId,{eventElapse:XA.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:t,ec:A,audioName:C==null?void 0:C.track.getTrackLabel(),videoName:l==null?void 0:l.track.getTrackLabel(),screenshare:(l==null?void 0:l.track._hints.indexOf(xt.SCREEN_TRACK))!==-1,audio:!!C,video:!!l,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:c})}else{var I;o||(o=[]);const C=o.find(d=>d instanceof tA),l=s?(I=this.localTrackMap.get(Ie.LocalVideoTrack))===null||I===void 0?void 0:I.track:o.find(d=>d instanceof Ft);Me.publish(this.store.sessionId,{eventElapse:XA.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:t,ec:A,audioName:C==null?void 0:C.getTrackLabel(),videoName:l==null?void 0:l.getTrackLabel(),screenshare:(l==null?void 0:l._hints.indexOf(xt.SCREEN_TRACK))!==-1,audio:!!C,video:!!l,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:c})}}reportSubscribeEvent(t,A,o,s){const c=s===Oe.VIDEO?o._videoSSRC:o._audioSSRC;c&&Me.subscribe(this.store.sessionId,{succ:t,ec:A,video:s===Oe.VIDEO,audio:s===Oe.AUDIO,peerid:o.uid,subscribeRequestid:s===Oe.VIDEO?o._videoSSRC:o._audioSSRC,p2pid:this.store.p2pId,eventElapse:XA.measureFromSubscribeStart(this.store.clientId,c)})}reset(){N.debug("[".concat(this.store.clientId,"] P2PChannel2.reset")),this.sendMutex=new $A("P2PChannel2-send-mutex"),this.sendMutex=new $A("P2PChannel2-recv-mutex"),this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const t=this.localTrackMap.get(Ie.LocalAudioTrack);if((t==null?void 0:t.track)instanceof RA){if(t.track.trackList.length>0){const A=t.track;t.track.trackList.forEach(o=>{A.removeAudioTrack(o)})}t.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.reconnectInterval&&(window.clearInterval(this.reconnectInterval),this.reconnectInterval=void 0),this.state=mt.Disconnected}getStats(t){var A,o;return t?(o=this.recvConnection)===null||o===void 0?void 0:o.getStats():(A=this.sendConnection)===null||A===void 0?void 0:A.getStats()}getRemoteVideoIsReady(t){var A;return((A=this.recvConnection)===null||A===void 0?void 0:A.getRemoteVideoIsReady(t))||!1}getLocalAudioVolume(){const t=this.localTrackMap.get(Ie.LocalAudioTrack);if(t)return t.track.getVolumeLevel()}getLocalVideoSize(){const t=this.localTrackMap.get(Ie.LocalVideoTrack);if(t)return{width:t.track.videoWidth||0,height:t.track.videoHeight||0}}getEncoderConfig(t){const A=this.localTrackMap.get(t);return A&&A.track instanceof Ft||A&&A.track instanceof tA?A.track._encoderConfig:void 0}getLocalMedia(t){return this.localTrackMap.get(t)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(t,A){if(!t)return this.remoteUserMap.size>0;const o=this.remoteUserMap.get(t);return!!o&&(!A||o.has(A))}async hasRemoteMediaWithLock(t,A){if(!t)return this.remoteUserMap.size>0;const o=this.remoteUserMap.get(t);return!!o&&(!A||o.has(A))}getRemoteMedia(t){var A;const o=Array.from(Fi(A=this.remoteUserMap).call(A)).find(s=>s.uid===t);return o?{audioTrack:o.audioTrack,audioSSRC:o._audioSSRC,videoTrack:o.videoTrack,videoSSRC:o._videoSSRC}:{}}getAudioLevels(){let t=Array.from(this.remoteUserMap.entries()).map(o=>{let[s]=o;return{uid:s.uid,level:s.audioTrack?100*s.audioTrack._source.getAccurateVolumeLevel():0}});const A=this.localTrackMap.get(Ie.LocalAudioTrack);return A&&t.push({level:100*A.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),t=Pa(t).call(t,(o,s)=>o.level-s.level),t}async disconnectForReconnect(){this.sendConnection&&this.recvConnection&&(N.debug("[".concat(this.store.clientId,"] P2PChannel2.disconnectForReconnect closing P2PConnection")),this.state=mt.Reconnecting,J("KEEP_LAST_FRAME")&&this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(t=>{let[A]=t;var o;A._videoTrack&&A._videoTrack._player&&((o=A._videoTrack._player.getVideoElement())===null||o===void 0||o.pause(),A._videoTrack._player.isKeepLastFrame=!0,A._videoTrack._originMediaStreamTrack.stop())}),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,this.localTrackMap.size!==0&&(Array.from(this.localTrackMap.entries()).forEach(t=>{var A;let[o,{track:s}]=t;switch(o){case Ie.LocalVideoTrack:Re(A=s._hints).call(A,xt.LOW_STREAM)?s.close():this.pendingLocalTracks.push(s);break;case Ie.LocalAudioTrack:s instanceof RA?this.pendingLocalTracks=this.pendingLocalTracks.concat(s.trackList):this.pendingLocalTracks.push(s);case Ie.LocalVideoLowTrack:}}),this.emit(Ge.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(t=>{let[A,o]=t;Array.from(Fi(o).call(o)).forEach(s=>{this.setPendingRemoteMedia(A,s)}),this.emit(Ge.MediaReconnectStart,A.uid)}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),N.debug("[".concat(this.store.clientId,"] P2PChannel2 disconnected, waiting to reconnect.")))}hasPendingRemoteMedia(t,A){for(const o of this.pendingRemoteTracks){const{user:s,kind:c}=o;if((t instanceof En?t.uid:t)===s.uid&&A===c)return!0}return!1}setPendingRemoteMedia(t,A){this.hasPendingRemoteMedia(t,A)||this.pendingRemoteTracks.push({user:t,kind:A})}async restartICE(t,A){let o,s;if(t===Ei.SEND_ONLY){if(!this.sendConnection)throw new Ae(G.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.");o=await this.sendMutex.lock("From P2PChannel.restartICE"),s=this.sendConnection}else{if(!this.recvConnection)throw new Ae(G.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before recvConnection established.");o=await this.recvMutex.lock("From P2PChannel.restartICE"),s=this.recvConnection}try{if(A){const c=await s.restartICE(A);return s.isInRestartIce=!1,c}{const c=await s.restartICE();if(c){const I=await YA(this,Ge.RequestP2PRestartICE,{direction:Ei.RECEIVE_ONLY,iceParameter:c});await s.restartICE(I),s.isInRestartIce=!1}}}finally{o()}}getUplinkNetworkQuality(){if(!this.sendConnection)return 0;const t=this.sendConnection.getStats(),A=this.localTrackMap.get(Ie.LocalVideoTrack),o=this.localTrackMap.get(Ie.LocalAudioTrack),s=t.videoSend.find(w=>{var k;return w.ssrc===(A==null||(k=A.ssrcs)===null||k===void 0?void 0:k[0].ssrcId)}),c=t.audioSend.find(w=>{var k;return w.ssrc===(o==null||(k=o.ssrcs)===null||k===void 0?void 0:k[0].ssrcId)});if(!s||!c)return 1;const I=zi(this,Ge.NeedSignalRTT),C=s?s.rttMs:void 0,l=c?c.rttMs:void 0,d=C&&l?(C+l)/2:C||l,h=(d&&I?(d+I)/2:d||I)||0,Q=100*t.sendPacketLossRate*.7/50+.3*h/1500,_=Q<.17?1:Q<.36?2:Q<.59?3:Q<.1?4:5,S=A==null?void 0:A.track;if(S&&S._encoderConfig&&S._hints.indexOf(xt.SCREEN_TRACK)===-1){const w=S._encoderConfig.bitrateMax,k=t.bitrate.actualEncoded;if(w&&k){const v=(1e3*w-k)/(1e3*w);return GR[v<.15?0:v<.3?1:v<.45?2:v<.6?3:4][_]}}return _}getDownlinkNetworkQuality(){if(!this.recvConnection)return 0;const t=this.recvConnection.getStats();let A=0;return Array.from(this.remoteUserMap.entries()).forEach(o=>{let[s]=o;const c=s._audioSSRC,I=s._videoSSRC,C=t.audioRecv.find(k=>k.ssrc===c),l=t.videoRecv.find(k=>k.ssrc===I);if(!C&&!l)return void(A+=1);const d=zi(this,Ge.NeedSignalRTT),h=t.rtt,Q=(h&&d?(h+d)/2:h||d)||0,_=C?C.jitterMs:void 0,S=t.recvPacketLossRate;let w=.7*S*100/50+.3*Q/1500;_&&(w=.6*S*100/50+.2*Q/1500+.2*_/400),A+=w<.1?1:w<.17?2:w<.36?3:w<.59?4:5}),this.remoteUserMap.size>0?Math.round(A/this.remoteUserMap.size):A}async muteLocalTrack(t){return new pe((A,o)=>{this.handleMuteLocalTrack(t,A,o)})}filterTobePublishedTracks(t,A,o){const s=[],c=Ct(),I=this.getAllTracks();t=Os(t=t.filter(d=>I.indexOf(d)===-1));let C=!1,l=!1;for(const d of t){if(d instanceof Ft&&(this.localTrackMap.has(Ie.LocalVideoTrack)||C?new Ae(G.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(s.push({track:d,type:Ie.LocalVideoTrack}),C=!0),A)){const h=this.getLowVideoTrack(d,o);s.push({track:h,type:Ie.LocalVideoLowTrack})}if(d instanceof tA){const h=this.localTrackMap.get(Ie.LocalAudioTrack);if(h){if(!(h.track instanceof RA))throw new Ae(G.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(d._bypassWebAudio)throw new Ae(G.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");h.track.addAudioTrack(d),this.bindLocalAudioTrackEvents(d,!0)}else if(l){const Q=s.find(_=>{let{type:S}=_;return S===Ie.LocalAudioTrack});if(!(Q.track instanceof RA))throw new Ae(G.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(d._bypassWebAudio)throw new Ae(G.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");Q.track.addAudioTrack(d)}else{if(!c.webAudioMediaStreamDest||d instanceof RA||d._bypassWebAudio)s.push({track:d,type:Ie.LocalAudioTrack});else{const Q=new RA;Q.addAudioTrack(d),s.push({track:Q,type:Ie.LocalAudioTrack})}l=!0}}}return s}filterTobeUnpublishedTracks(t){const A=[],o=this.getAllTracks();t=Os(t=t.filter(s=>o.indexOf(s)!==-1));for(const s of t){if(s instanceof tA){const c=this.localTrackMap.get(Ie.LocalAudioTrack);if(!c)continue;c.track instanceof RA?(c.track.removeAudioTrack(s),this.unbindLocalAudioTrackEvents(s),c.track.trackList.length===0&&(A.push([Ie.LocalAudioTrack,c]),c.track.close())):A.push([Ie.LocalAudioTrack,c])}if(s instanceof Ft){const c=this.localTrackMap.get(Ie.LocalVideoTrack);if(!c)continue;A.push([Ie.LocalVideoTrack,c]);const I=this.localTrackMap.get(Ie.LocalVideoLowTrack);I&&A.push([Ie.LocalVideoLowTrack,I])}}return A}bindLocalTrackEvents(t){t.forEach(A=>{let{track:o,type:s}=A;switch(s){case Ie.LocalVideoTrack:o.addListener(ye.GET_STATS,this.handleGetLocalVideoStats),o.addListener(ye.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),o.addListener(ye.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),o.addListener(ye.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),o.addListener(ye.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),o.addListener(ye.NEED_REPLACE_TRACK,this.handleReplaceTrack),o.addListener(ye.NEED_MUTE_TRACK,this.handleMuteLocalTrack),o.addListener(ye.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Ie.LocalAudioTrack:this.bindLocalAudioTrackEvents(o);case Ie.LocalVideoLowTrack:}})}bindLocalAudioTrackEvents(t,A){t instanceof RA?t.trackList.forEach(o=>{o.addListener(ye.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),o.addListener(ye.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),o.addListener(ye.GET_STATS,this.handleGetLocalAudioStats),o.addListener(ye.NEED_MUTE_TRACK,this.handleMuteLocalTrack),o.addListener(ye.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(t.addListener(ye.GET_STATS,this.handleGetLocalAudioStats),t.addListener(ye.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(ye.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(ye.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(ye.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),A||t.addListener(ye.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(t){t||(t=Array.from(this.localTrackMap.entries()).map(A=>{let[o,{track:s}]=A;return{track:s,type:o}})),t.forEach(A=>{let{track:o,type:s}=A;switch(s){case Ie.LocalVideoTrack:o.off(ye.GET_STATS,this.handleGetLocalVideoStats),o.off(ye.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),o.off(ye.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),o.off(ye.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),o.off(ye.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),o.off(ye.NEED_REPLACE_TRACK,this.handleReplaceTrack),o.off(ye.NEED_MUTE_TRACK,this.handleMuteLocalTrack),o.off(ye.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Ie.LocalAudioTrack:this.unbindLocalAudioTrackEvents(o);case Ie.LocalVideoLowTrack:}})}unbindLocalAudioTrackEvents(t){t instanceof RA?t.trackList.forEach(A=>{A.off(ye.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),A.off(ye.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),A.off(ye.GET_STATS,this.handleGetLocalAudioStats),A.off(ye.NEED_MUTE_TRACK,this.handleMuteLocalTrack),A.off(ye.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(t.off(ye.GET_STATS,this.handleGetLocalAudioStats),t.off(ye.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(ye.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(ye.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(ye.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(ye.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(t,A){A instanceof ra&&A.addListener(ye.GET_STATS,o=>{o(this.handleGetRemoteVideoStats(t))}),A instanceof oa&&A.addListener(ye.GET_STATS,o=>{o(this.handleGetRemoteAudioStats(t))})}unbindRemoteTrackEvents(t){t&&t.removeAllListeners(ye.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(t=>{let[A,o]=t;o.has(Oe.AUDIO)&&this.unbindRemoteTrackEvents(A._audioTrack),o.has(Oe.VIDEO)&&this.unbindRemoteTrackEvents(A._videoTrack)})}createGatewayPublishMessage(t,A){return t.map((o,s)=>{var c;let I,{track:C,type:l}=o;switch(l){case Ie.LocalAudioTrack:I=yt.Audio;break;case Ie.LocalVideoTrack:I=Re(c=C._hints).call(c,xt.SCREEN_TRACK)?yt.Screen:yt.High;break;case Ie.LocalVideoLowTrack:I=yt.Low}return{kind:l===Ie.LocalAudioTrack?Oe.AUDIO:Oe.VIDEO,stream_type:I,mid:A[s].id,ssrcs:A[s].localSSRC,isMuted:C.muted||!C.enabled}})}createGatewayUnpublishMessage(t){return t.map(A=>{var o;let s,[c,{track:I,ssrcs:C,id:l}]=A;switch(c){case Ie.LocalVideoTrack:s=Re(o=I._hints).call(o,xt.SCREEN_TRACK)?yt.Screen:yt.High;break;case Ie.LocalAudioTrack:s=yt.Audio;break;case Ie.LocalVideoLowTrack:s=yt.Low}return{stream_type:s,ssrcs:C,mid:l}})}assignLocalTracks(t,A){t.forEach((o,s)=>{let{track:c,type:I}=o;this.localTrackMap.set(I,{track:c,id:A[s].id,ssrcs:A[s].localSSRC})})}withdrawLocalTracks(t){t.forEach(A=>{let[o]=A;this.localTrackMap.delete(o)})}bindConnectionEvents(t){t.onConnectionStateChange=async A=>{var o;N.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: ").concat(t.name,".onConnectionStateChange(").concat(A,")")),this.emit(Ge.PeerConnectionStateChange,A),A!=="connected"||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),A==="connected"&&(t.isInRestartIce=!1),Re(o=this._restartStates).call(o,A)&&!t.isInRestartIce&&(A==="disconnected"&&await OA(800),t.iceConnectionState!=="disconnected"&&t.iceConnectionState!=="failed"||this.handleDisconnect(t.direction))},t.onICEConnectionStateChange=A=>{A!=="connected"||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),N.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(A,")")),Me.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:A,tag:eA.TRACER}).onSuccess(),this.emit(Ge.IceConnectionStateChange,A)},t.onICETransportStateChange=A=>{N.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(A,")"))},t.onDTLSTransportStateChange=A=>{N.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(A,")"))},t.onDTLSTransportError=A=>{N.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(A,")"))},t.onFirstAudioDecoded=A=>{var o;const s=Array.from(Fi(o=this.remoteUserMap).call(o)).find(I=>I._audioSSRC===A);var c;s&&(this.store.subscribe(s.uid,"audio",void 0,void 0,void 0,Date.now()),(c=s.audioTrack)===null||c===void 0||c.emit(zs.FIRST_FRAME_DECODED),Me.firstRemoteFrame(this.store.sessionId,LA.FIRST_AUDIO_DECODE,Zt.FIRST_AUDIO_DECODE,{peer:s._uintid,subscribeElapse:XA.measureFromSubscribeStart(this.store.clientId,A),subscribeRequestid:A,p2pid:this.store.p2pId}))},t.onFirstAudioReceived=A=>{var o;const s=Array.from(Fi(o=this.remoteUserMap).call(o)).find(c=>c._audioSSRC===A);s&&Me.firstRemoteFrame(this.store.sessionId,LA.FIRST_AUDIO_RECEIVED,Zt.FIRST_AUDIO_RECEIVED,{peer:s._uintid,subscribeElapse:XA.measureFromSubscribeStart(this.store.clientId,A),subscribeRequestid:A,p2pid:this.store.p2pId})},t.onFirstVideoDecoded=(A,o,s)=>{this.reportVideoFirstFrameDecoded(A,o,s)},t.onFirstVideoReceived=A=>{var o;const s=Array.from(Fi(o=this.remoteUserMap).call(o)).find(c=>c._videoSSRC===A);s&&Me.firstRemoteFrame(this.store.sessionId,LA.FIRST_VIDEO_RECEIVED,Zt.FIRST_VIDEO_RECEIVED,{peer:s._uintid,subscribeElapse:XA.measureFromSubscribeStart(this.store.clientId,A),subscribeRequestid:A,p2pid:this.store.p2pId})},t.onSelectedLocalCandidateChanged=(A,o)=>{const s=A.candidateType==="relay",c=o.candidateType==="relay";o.candidateType!=="unknown"&&s===c||this.emit(Ge.ConnectionTypeChange,s),N.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(on(o))," -> ").concat(JSON.stringify(on(A)),")"))},t.onSelectedRemoteCandidateChanged=(A,o)=>{N.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(on(o))," -> ").concat(JSON.stringify(on(A)),")"))},t.onFirstVideoDecodedTimeout=A=>{this.reportVideoFirstFrameDecoded(A,void 0,void 0,!0)},t.onLocalCandidate=A=>{this.emit(Ge.LocalCandidate,{candidate:A,direction:t.direction})}}unbindConnectionEvents(t){t.onConnectionStateChange=void 0,t.onICEConnectionStateChange=void 0,t.onICETransportStateChange=void 0,t.onDTLSTransportStateChange=void 0,t.onDTLSTransportError=void 0,t.onFirstAudioDecoded=void 0,t.onFirstAudioReceived=void 0,t.onFirstVideoDecoded=void 0,t.onFirstVideoReceived=void 0,t.onSelectedLocalCandidateChanged=void 0,t.onSelectedRemoteCandidateChanged=void 0,t.onFirstVideoDecodedTimeout=void 0,t.onLocalCandidate=void 0}async handleDisconnect(t){const A=t===Ei.SEND_ONLY?this.sendConnection:this.recvConnection;A&&!A.isInRestartIce&&(A.isInRestartIce=!0,N.debug("[".concat(this.store.clientId,"] [P2PChannel-").concat(A.name,"] start use restartICE")),t===Ei.SEND_ONLY?this.restartICE(t):YA(this,Ge.RequestP2PRestartICE,{direction:Ei.SEND_ONLY}))}filterTobeMutedTracks(t){const A=[];if(this.getAllTracks().indexOf(t)===-1)return A;const o=this.localTrackMap.get(Ie.LocalAudioTrack);if(t instanceof tA&&(o==null?void 0:o.track)instanceof RA)return o.track.isActive||A.push([Ie.LocalAudioTrack,o]),A;const s=Array.from(this.localTrackMap.entries()).find(c=>{let[,{track:I}]=c;return t===I});if(s&&(A.push(s),s[0]===Ie.LocalVideoTrack)){const c=this.localTrackMap.get(Ie.LocalVideoLowTrack);c&&A.push([Ie.LocalVideoLowTrack,c])}return A}filterTobeUnmutedTracks(t){const A=[],o=this.localTrackMap.get(Ie.LocalAudioTrack);if(t instanceof tA&&(o==null?void 0:o.track)instanceof RA)return o.track.isActive&&A.push([Ie.LocalAudioTrack,o]),A;const s=Array.from(this.localTrackMap.entries()).find(c=>{let[,{track:I}]=c;return t===I});if(s)if(s[0]===Ie.LocalVideoTrack){A.push(s);const c=this.localTrackMap.get(Ie.LocalVideoLowTrack);c&&A.push([Ie.LocalVideoLowTrack,c])}else A.push(s);return A}createMuteMessage(t){return t.map(A=>{var o;let s,[c,{track:I,ssrcs:C,id:l}]=A;switch(c){case Ie.LocalAudioTrack:s=yt.Audio;break;case Ie.LocalVideoTrack:s=Re(o=I._hints).call(o,xt.SCREEN_TRACK)?yt.Screen:yt.High;break;case Ie.LocalVideoLowTrack:s=yt.Low}return{stream_type:s,ssrcs:C,mid:l}})}createUnmuteMessage(t){return t.map(A=>{var o;let s,[c,{track:I,ssrcs:C,id:l}]=A;switch(c){case Ie.LocalAudioTrack:s=yt.Audio;break;case Ie.LocalVideoTrack:s=Re(o=I._hints).call(o,xt.SCREEN_TRACK)?yt.Screen:yt.High;break;case Ie.LocalVideoLowTrack:s=yt.Low}return{stream_type:s,ssrcs:C,mid:l}})}filterTobeUnSubscribedTracks(t,A){const o=[],s=this.remoteUserMap.get(t);if(!s)return o;if(A){const c=s.get(A);if(!c)return o;o.push([t,{kind:A,id:c}])}else Array.from(s.entries()).forEach(c=>{let[I,C]=c;o.push([t,{kind:I,id:C}])});return o}createUnsubscribeMessage(t){const A=[];return t.forEach(o=>{let[s,{kind:c,id:I}]=o;switch(c){case Oe.VIDEO:return void(s._videoSSRC&&A.push({stream_type:Oe.VIDEO,ssrcId:s._videoSSRC}));case Oe.AUDIO:return void(s._audioSSRC&&A.push({stream_type:Oe.AUDIO,ssrcId:s._audioSSRC}))}}),A}withdrawRemoteTracks(t){t.forEach(A=>{let[o,{kind:s}]=A;const c=this.remoteUserMap.get(o);c&&(c.delete(s),Array.from(c.entries()).length===0&&this.remoteUserMap.delete(o))})}async updateBitrateLimit(t){const A=this.localTrackMap.get(Ie.LocalVideoTrack),o=this.localTrackMap.get(Ie.LocalVideoLowTrack);A&&await A.track.setBitrateLimit(t.uplink),o&&t.low_stream_uplink&&await o.track.setBitrateLimit({max_bitrate:t.low_stream_uplink.bitrate,min_bitrate:t.low_stream_uplink.bitrate||0})}isP2PDisconnected(){if(this.sendConnection&&this.recvConnection){const t=this.sendConnection.peerConnectionState,A=this.recvConnection.peerConnectionState;return t!=="connected"&&A!=="connected"}return!0}async tryToUnmuteAudio(t){for(let A=0;A<t.length;A++)if(t[A]instanceof tA){const o=this.filterTobeUnmutedTracks(t[A]);if(o.length===0)continue;const s=this.createUnmuteMessage(o);return void await Mt(this,Ge.RequestUnmuteLocal,s)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=t=>this.getStats(t),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()).filter(t=>{let[,{ssrcs:A}]=t;return!!A}),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=t=>{var A;return!((A=this.recvConnection)===null||A===void 0||!A.getRemoteVideoIsReady(t))},this.statsUploader.requestUpload=(t,A)=>this.emit(Ge.RequestUpload,t,A),this.statsUploader.requestUploadStats=t=>this.emit(Ge.RequestUploadStats,t),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await OA(ru(this.dtlsFailedCount,hA)),this.emit(Ge.RequestReconnect)}async reconnectP2P(){}canPublishLowStream(){return this.localTrackMap.has(Ie.LocalVideoTrack)||this.pendingLocalTracks.some(t=>t instanceof Ft)}throwIfTrackTypeNotMatch(t){if(t.filter(A=>A instanceof Ft).length>1)throw new Ae(G.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t.filter(A=>A instanceof tA).length>1&&(t.some(A=>A instanceof tA&&A._bypassWebAudio)||!Ct().webAudioMediaStreamDest))throw new Ae(G.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const A of t){if(A instanceof Ft&&this.pendingLocalTracks.some(o=>o instanceof Ft))throw new Ae(G.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(A instanceof tA&&this.pendingLocalTracks.some(o=>o instanceof tA)&&(!Ct().webAudioMediaStreamDest||A._bypassWebAudio||this.pendingLocalTracks.some(o=>o instanceof tA&&o._bypassWebAudio)))throw new Ae(G.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(t,A){const o=!J("DISABLE_DUAL_STREAM_USE_ENCODING")&&Ct().supportDualStreamEncoding,s=jI(jI({},{width:160,height:120,framerate:15,bitrate:50}),A);let c;c=o?t._mediaStreamTrack.clone():wd(t,s);const I=kt(8,"track-low-"),C=new Ft(c,jI(jI({},o&&{scaleResolutionDownBy:yu(s,t)}),{},{frameRate:s.framerate,bitrateMax:s.bitrate,bitrateMin:s.bitrate}),void 0,void 0,I);return C.on(Fn.TRANSCEIVER_UPDATED,l=>{t._updateRtpTransceiver(l,Xs.LOW_STREAM)}),C._hints.push(xt.LOW_STREAM),t.addListener(ye.NEED_CLOSE,()=>{C.close()}),C}async globalLock(){return this.recvMutex.lock("From P2PChannel2.globalLock")}reportVideoFirstFrameDecoded(t,A,o,s){var c;const I=Array.from(Fi(c=this.remoteUserMap).call(c)).find(C=>C._videoSSRC===t);if(I){s||this.store.subscribe(I.uid,"video",void 0,void 0,void 0,void 0,Date.now());const C=this.store.keyMetrics,l=C.subscribe.find(d=>d.userId===I.uid&&d.type==="video");Me.firstRemoteVideoDecode(this.store.sessionId,LA.FIRST_VIDEO_DECODE,Zt.FIRST_VIDEO_DECODE,{peer:I._uintid,videowidth:A,videoheight:o,subscribeElapse:XA.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId,apEnd:C.requestAPEnd||0,apStart:C.requestAPStart||0,joinGwEnd:C.joinGatewayEnd||0,joinGwStart:C.joinGatewayStart||0,pcEnd:C.peerConnectionEnd||0,pcStart:C.peerConnectionStart||0,subscriberEnd:(l==null?void 0:l.subscribeEnd)||0,subscriberStart:(l==null?void 0:l.subscribeStart)||0,videoAddNotify:(l==null?void 0:l.streamAdded)||0,state:s?1:0})}}async remoteMediaSsrcChanged(t,A,o){if(!this.recvConnection)return!1;const s=this.remoteUserMap.get(t);if(!s)return!1;const c=s.get(A);if(!c)return!1;const I=await this.recvConnection.getRemoteSSRC(c);return I!==void 0&&I!==o}isPreSubScribe(t){return!1}async publishDataChannel(t){throw new Ae(G.NOT_SUPPORTED)}async unpublishDataChannel(t){throw new Ae(G.NOT_SUPPORTED)}async subscribeDataChannel(t,A){throw new Ae(G.NOT_SUPPORTED)}async unsubscribeDataChannel(t,A){throw new Ae(G.NOT_SUPPORTED)}hasPendingRemoteDataChannel(t,A){throw new Ae(G.NOT_SUPPORTED)}setPendingRemoteDataChannel(t,A){throw new Ae(G.NOT_SUPPORTED)}async preConnect(t){throw new Ae(G.NOT_SUPPORTED)}getEstablishParams(){throw new Ae(G.NOT_SUPPORTED)}async reSubscribe(t){throw new Ae(G.NOT_SUPPORTED)}async updateVideoStreamParameter(t,A){throw new Ae(G.NOT_SUPPORTED)}unbindRtpTransceiver(){this.localTrackMap.size!==0&&Array.from(this.localTrackMap.entries()).forEach(t=>{let[A,{track:o}]=t;A===Ie.LocalVideoLowTrack?o._updateRtpTransceiver(void 0,Xs.LOW_STREAM):o._updateRtpTransceiver(void 0)})}},Ne(Ht.prototype,"p2pConnect",[kD],Object.getOwnPropertyDescriptor(Ht.prototype,"p2pConnect"),Ht.prototype),Ne(Ht.prototype,"unpublish",[UD],Object.getOwnPropertyDescriptor(Ht.prototype,"unpublish"),Ht.prototype),Ne(Ht.prototype,"unpublishLowStream",[PD],Object.getOwnPropertyDescriptor(Ht.prototype,"unpublishLowStream"),Ht.prototype),Ne(Ht.prototype,"subscribe",[GD],Object.getOwnPropertyDescriptor(Ht.prototype,"subscribe"),Ht.prototype),Ne(Ht.prototype,"mockSubscribe",[FD],Object.getOwnPropertyDescriptor(Ht.prototype,"mockSubscribe"),Ht.prototype),Ne(Ht.prototype,"unsubscribe",[KD],Object.getOwnPropertyDescriptor(Ht.prototype,"unsubscribe"),Ht.prototype),Ne(Ht.prototype,"muteRemote",[xD],Object.getOwnPropertyDescriptor(Ht.prototype,"muteRemote"),Ht.prototype),Ne(Ht.prototype,"unmuteRemote",[YD],Object.getOwnPropertyDescriptor(Ht.prototype,"unmuteRemote"),Ht.prototype),Ne(Ht.prototype,"hasRemoteMediaWithLock",[JD],Object.getOwnPropertyDescriptor(Ht.prototype,"hasRemoteMediaWithLock"),Ht.prototype),Ne(Ht.prototype,"disconnectForReconnect",[HD],Object.getOwnPropertyDescriptor(Ht.prototype,"disconnectForReconnect"),Ht.prototype),Ne(Ht.prototype,"remoteMediaSsrcChanged",[qD],Object.getOwnPropertyDescriptor(Ht.prototype,"remoteMediaSsrcChanged"),Ht.prototype),Ht);function Yr(t){return function(A,o,s){const c=A[o];if(typeof c!="function")throw new Error("Cannot use mutex on object property.");return s.value=async function(){for(var I=arguments.length,C=new Array(I),l=0;l<I;l++)C[l]=arguments[l];switch(t){case xr.SEND_ONLY:{const d=await this.sendMutex.lock("From P2PChannel2.".concat(o));try{return await c.apply(this,C)}finally{d()}}case xr.RECEIVE_ONLY:{const d=await this.recvMutex.lock("From P2PChannel2.".concat(o));try{return await c.apply(this,C)}finally{d()}}default:{const d=await this.sendMutex.lock("From P2PChannel2.".concat(o)),h=await this.recvMutex.lock("From P2PChannel2.".concat(o));try{return await c.apply(this,C)}finally{d(),h()}}}},s}}function jD(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function $n(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?jD(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):jD(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}class _c{constructor(A){L(this,"store",void 0),L(this,"onStatsException",void 0),L(this,"onUploadPublishDuration",void 0),L(this,"onStatsChanged",void 0),L(this,"localStats",new Map),L(this,"remoteStats",new Map),L(this,"updateStatsInterval",void 0),L(this,"trafficStats",void 0),L(this,"trafficStatsPeerList",[]),L(this,"uplinkStats",void 0),L(this,"exceptionMonitor",void 0),L(this,"p2pChannel",void 0),L(this,"scalabilityMode",uu.L1T1),L(this,"updateStats",()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))}),this.store=A,this.exceptionMonitor=new Zx,this.exceptionMonitor.on("exception",(o,s,c)=>{this.onStatsException&&this.onStatsException(o,s,c)})}startUpdateStats(){this.updateStatsInterval||(this.updateStatsInterval=window.setInterval(this.updateStats,1e3))}stopUpdateStats(){this.updateStatsInterval&&(window.clearInterval(this.updateStatsInterval),this.updateStatsInterval=void 0)}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(Ie.LocalAudioTrack)||$n({},$u)}getLocalVideoTrackStats(){return this.localStats.get(Ie.LocalVideoTrack)||$n({},Wu)}getRemoteAudioTrackStats(A){const o=(I,C)=>{if(!this.trafficStats)return C;const l=this.trafficStats.peer_delay.find(d=>d.peer_uid===I);return l&&(C.publishDuration=l.B_ppad+(Date.now()-this.trafficStats.timestamp)),C},s={};if(A){var c;const I=(c=this.remoteStats.get(A))===null||c===void 0?void 0:c.audioStats;I&&(s[A]=o(A,I))}else Array.from(this.remoteStats.entries()).forEach(I=>{let[C,{audioStats:l}]=I;l&&(s[C]=o(C,l))});return s}getRemoteNetworkQualityStats(A){const o={};if(A){var s;const c=(s=this.remoteStats.get(A))===null||s===void 0?void 0:s.networkStats;c&&(o[A]=c)}else Array.from(this.remoteStats.entries()).forEach(c=>{let[I,{networkStats:C}]=c;C&&(o[I]=C)});return o}getRemoteVideoTrackStats(A){const o=(I,C)=>{if(!this.trafficStats)return C;const l=this.trafficStats.peer_delay.find(d=>d.peer_uid===I);return l&&(C.publishDuration=l.B_ppvd+(Date.now()-this.trafficStats.timestamp)),C},s={};if(A){var c;const I=(c=this.remoteStats.get(A))===null||c===void 0?void 0:c.videoStats;I&&(s[A]=o(A,I))}else Array.from(this.remoteStats.entries()).forEach(I=>{let[C,{videoStats:l}]=I;l&&(s[C]=o(C,l))});return s}getRTCStats(){let A=0,o=0,s=0,c=0;const I=this.localStats.get(Ie.LocalAudioTrack);I&&(A+=I.sendBytes,o+=I.sendBitrate);const C=this.localStats.get(Ie.LocalVideoTrack);C&&(A+=C.sendBytes,o+=C.sendBitrate);const l=this.localStats.get(Ie.LocalVideoLowTrack);l&&(A+=l.sendBytes,o+=l.sendBitrate),this.remoteStats.forEach(h=>{let{audioStats:Q,videoStats:_}=h;Q&&(s+=Q.receiveBytes,c+=Q.receiveBitrate),_&&(s+=_.receiveBytes,c+=_.receiveBitrate)});let d=1;return this.trafficStats&&(d+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:d,SendBitrate:o,SendBytes:A,RecvBytes:s,RecvBitrate:c,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(A){this.localStats.set(A,void 0)}removeLocalStats(A){A?this.localStats.delete(A):this.localStats.clear()}addRemoteStats(A){this.remoteStats.set(A,{})}removeRemoteStats(A){A?this.remoteStats.delete(A):this.remoteStats.clear()}addP2PChannel(A){this.p2pChannel=A}updateTrafficStats(A){A.peer_delay=A.peer_delay.filter(o=>o.B_ppad!==void 0||o.B_ppvd!==void 0),A.peer_delay.filter(o=>this.trafficStatsPeerList.indexOf(o.peer_uid)===-1).forEach(o=>{var s;const c=(s=this.p2pChannel)===null||s===void 0?void 0:s.getRemoteMedia(o.peer_uid),I=c!=null&&c.videoSSRC?XA.measureFromSubscribeStart(this.store.clientId,c.videoSSRC):0,C=c!=null&&c.audioSSRC?XA.measureFromSubscribeStart(this.store.clientId,c.audioSSRC):0;o.B_ppad!==void 0&&o.B_ppvd!==void 0&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(o.peer_uid,o.B_ppad,o.B_ppvd,I>C?I:C),this.trafficStatsPeerList.push(o.peer_uid))}),this.trafficStats=A}updateUplinkStats(A){this.uplinkStats&&this.uplinkStats.B_fir!==A.B_fir&&N.debug("[".concat(this.store.clientId,"]: Period fir changes to ").concat(A.B_fir)),this.uplinkStats=A}static isRemoteVideoFreeze(A,o,s){if(!A)return!1;const c=!!s&&o.framesDecodeFreezeTime>s.framesDecodeFreezeTime,I=!s||o.framesDecodeCount>s.framesDecodeCount;return c||!I}static isRemoteAudioFreeze(A){return!!A&&A._isFreeze()}isLocalVideoFreeze(A){return!(!A.inputFrame||!A.sentFrame)&&A.inputFrame.frameRate>5&&A.sentFrame.frameRate<3}updateLocalStats(A){Array.from(this.localStats.entries()).forEach(o=>{let[s,c]=o;switch(s){case Ie.LocalVideoTrack:case Ie.LocalVideoLowTrack:{const C=c,l=$n({},Wu),d=A.getStats(),h=A.getLocalMedia(s);if(d){const Q=d.videoSend.find(_=>_.ssrc===(h==null?void 0:h.ssrcs[0].ssrcId));if(Q){const _=A.getLocalVideoSize(),S=A.getEncoderConfig(Ie.LocalVideoTrack);Q.codec!=="H264"&&Q.codec!=="H265"&&Q.codec!=="VP8"&&Q.codec!=="VP9"&&Q.codec!=="AV1X"&&Q.codec!=="AV1"||(l.codecType=Q.codec),l.sendBytes=Q.bytes,l.sendBitrate=C?8*Math.max(0,l.sendBytes-C.sendBytes):0,Q.inputFrame?(l.captureFrameRate=Q.inputFrame.frameRate,l.captureResolutionHeight=Q.inputFrame.height,l.captureResolutionWidth=Q.inputFrame.width):_&&(l.captureResolutionWidth=_.width,l.captureResolutionHeight=_.height),Q.sentFrame?(l.sendFrameRate=Q.sentFrame.frameRate,l.sendResolutionHeight=Q.sentFrame.height,l.sendResolutionWidth=Q.sentFrame.width):_&&(l.sendResolutionWidth=_.width,l.sendResolutionHeight=_.height),Q.avgEncodeMs&&(l.encodeDelay=Q.avgEncodeMs),S&&S.bitrateMax&&(l.targetSendBitrate=1e3*S.bitrateMax),l.sendPackets=Q.packets,l.sendPacketsLost=Q.packetsLost,l.sendJitterMs=Q.jitterMs,l.sendRttMs=Q.rttMs,l.totalDuration=C?C.totalDuration+1:1,l.totalFreezeTime=C?C.totalFreezeTime:0,this.isLocalVideoFreeze(Q)&&(l.totalFreezeTime+=1),Q.scalabilityMode&&this.scalabilityMode!==Q.scalabilityMode&&(N.debug("[".concat(this.store.clientId,"]: The scalabilityMode of the video sending stream is ").concat(Q.scalabilityMode)),this.scalabilityMode=Q.scalabilityMode)}this.trafficStats&&(l.currentPacketLossRate=(this.trafficStats.B_pvlr4||0)/100)}var I;this.localStats.set(s,l),((C==null?void 0:C.sendResolutionWidth)!==l.sendResolutionWidth||(C==null?void 0:C.sendResolutionHeight)!==l.sendResolutionHeight)&&((I=this.onStatsChanged)===null||I===void 0||I.call(this,"resolution",{width:l.sendResolutionWidth,height:l.sendResolutionHeight})),l&&h&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,h.track,l);break}case Ie.LocalAudioTrack:{const C=c,l=$n({},$u),d=A.getStats(),h=A.getLocalMedia(s);if(d){const Q=d.audioSend.find(_=>_.ssrc===(h==null?void 0:h.ssrcs[0].ssrcId));if(Q){if(Q.codec!=="opus"&&Q.codec!=="aac"&&Q.codec!=="PCMU"&&Q.codec!=="PCMA"&&Q.codec!=="G722"||(l.codecType=Q.codec),Q.inputLevel)l.sendVolumeLevel=Math.round(32767*Q.inputLevel);else{const _=A.getLocalAudioVolume();_&&(l.sendVolumeLevel=Math.round(32767*_))}l.sendBytes=Q.bytes,l.sendPackets=Q.packets,l.sendPacketsLost=Q.packetsLost,l.sendJitterMs=Q.jitterMs,l.sendRttMs=Q.rttMs,l.sendBitrate=C?8*Math.max(0,l.sendBytes-C.sendBytes):0}}this.trafficStats&&(l.currentPacketLossRate=(this.trafficStats.B_palr4||0)/100),this.localStats.set(Ie.LocalAudioTrack,l),l&&h&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,h.track,l);break}}})}updateRemoteStats(A){Array.from(this.remoteStats.entries()).forEach(o=>{var s,c;let[I,{videoStats:C,audioStats:l,videoPcStats:d}]=o;const h=l,Q=C,_=d,S=$n({},xy),w=$n({},Yy),k=$n({},Nx),{audioTrack:v,videoTrack:b,audioSSRC:P,videoSSRC:K}=A.getRemoteMedia(I);let W;W=A instanceof Oi?A.getStats(!0):A.getStats();const X=(s=W)===null||s===void 0?void 0:s.audioRecv.find(ce=>ce.ssrc===P),Z=(c=W)===null||c===void 0?void 0:c.videoRecv.find(ce=>ce.ssrc===K),ie=this.trafficStats&&this.trafficStats.peer_delay.find(ce=>ce.peer_uid===I);if(X&&(X.codec!=="opus"&&X.codec!=="aac"&&X.codec!=="PCMU"&&X.codec!=="PCMA"&&X.codec!=="G722"||(S.codecType=X.codec),X.outputLevel?S.receiveLevel=Math.round(32767*X.outputLevel):v&&(S.receiveLevel=Math.round(32767*v.getVolumeLevel())),S.receiveBytes=X.bytes,S.receivePackets=X.packets,S.receivePacketsLost=X.packetsLost,S.receivePacketsDiscarded=X.packetsDiscarded,S.packetLossRate=S.receivePacketsLost/(S.receivePackets+S.receivePacketsLost),S.receiveBitrate=h?8*Math.max(0,S.receiveBytes-h.receiveBytes):0,S.totalDuration=h?h.totalDuration+1:1,S.totalFreezeTime=h?h.totalFreezeTime:0,S.freezeRate=S.totalFreezeTime/S.totalDuration,S.receiveDelay=X.jitterBufferMs,S.totalDuration>10&&_c.isRemoteAudioFreeze(v)&&(S.totalFreezeTime+=1)),Z){Z.codec!=="H264"&&Z.codec!=="H265"&&Z.codec!=="VP8"&&Z.codec!=="VP9"&&Z.codec!=="AV1X"&&Z.codec!=="AV1"||(w.codecType=Z.codec),w.receiveBytes=Z.bytes,w.receiveBitrate=Q?8*Math.max(0,w.receiveBytes-Q.receiveBytes):0,w.decodeFrameRate=Z.decodeFrameRate<0?0:Z.decodeFrameRate,w.renderFrameRate=Z.decodeFrameRate<0?0:Z.decodeFrameRate,Z.outputFrame&&(w.renderFrameRate=Z.outputFrame.frameRate),Z.receivedFrame?(w.receiveFrameRate=Z.receivedFrame.frameRate,w.receiveResolutionHeight=Z.receivedFrame.height,w.receiveResolutionWidth=Z.receivedFrame.width):b&&(w.receiveResolutionHeight=b._videoHeight||0,w.receiveResolutionWidth=b._videoWidth||0),Z.framesRateFirefox!==void 0&&(w.receiveFrameRate=Math.round(Z.framesRateFirefox)),w.receivePackets=Z.packets,w.receivePacketsLost=Z.packetsLost,w.packetLossRate=w.receivePacketsLost/(w.receivePackets+w.receivePacketsLost),w.totalDuration=Q?Q.totalDuration+1:1,w.totalFreezeTime=Q?Q.totalFreezeTime:0,w.receiveDelay=Z.jitterBufferMs||0;const ce=!!K&&A.getRemoteVideoIsReady(K);b&&ce&&_c.isRemoteVideoFreeze(b,Z,_)&&(w.totalFreezeTime+=1),w.freezeRate=w.totalFreezeTime/w.totalDuration}ie&&(S.end2EndDelay=ie.B_ad,w.end2EndDelay=ie.B_vd,S.transportDelay=ie.B_ed,w.transportDelay=ie.B_ed,S.currentPacketLossRate=ie.B_ealr4/100,w.currentPacketLossRate=ie.B_evlr4/100,k.uplinkNetworkQuality=ie.B_punq?ie.B_punq:0,k.downlinkNetworkQuality=ie.B_pdnq?ie.B_pdnq:0),this.remoteStats.set(I,{audioStats:S,videoStats:w,videoPcStats:Z,networkStats:k}),v&&this.exceptionMonitor.setRemoteAudioStats(v,S),b&&this.exceptionMonitor.setRemoteVideoStats(b,w)})}}class $D{constructor(){L(this,"destChannelMediaInfos",new Map),L(this,"srcChannelMediaInfo",void 0)}setSrcChannelInfo(A){VR(A),this.srcChannelMediaInfo=A}addDestChannelInfo(A){VR(A),this.destChannelMediaInfos.set(A.channelName,A)}removeDestChannelInfo(A){BI(A),this.destChannelMediaInfos.delete(A)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function WD(t){if(!(t instanceof $D))return new z(G.INVALID_PARAMS,"Config should be instance of [ChannelMediaRelayConfiguration]").throw();const A=t.getSrcChannelMediaInfo(),o=t.getDestChannelMediaInfo();if(!A)return new z(G.INVALID_PARAMS,"srcChannelMediaInfo should not be empty").throw();if(o.size===0)return new z(G.INVALID_PARAMS,"destChannelMediaInfo should not be empty").throw()}function XD(t){var A={},o=!1;function s(c,I){return o=!0,{done:!1,value:new fd(I=new _d(function(C){C(t[c](I))}),1)}}return A[Ss!==void 0&&n_||"@@iterator"]=function(){return this},A.next=function(c){return o?(o=!1,c):s("next",c)},typeof t.throw=="function"&&(A.throw=function(c){if(o)throw o=!1,c;return s("throw",c)}),typeof t.return=="function"&&(A.return=function(c){return o?(o=!1,c):s("return",c)}),A}var h2=g(lD);function ZD(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function zD(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?ZD(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ZD(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}var Ot;function ew(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function $I(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?ew(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ew(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}let Rc=(Ot=class jc extends WR{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.videoCodecs.map(A=>A.rtpMap&&A.rtpMap.encodingName.toLowerCase()||"").filter(A=>{var o;return Re(o=Object.keys(uI)).call(o,A)}))]}constructor(A,o){super(A,o),L(this,"store",void 0),L(this,"peerConnection",void 0),L(this,"remoteSDP",void 0),L(this,"initialOffer",void 0),L(this,"statsFilter",void 0),L(this,"useRTX",!1),L(this,"localCapabilities",void 0),L(this,"localCandidateCount",0),L(this,"allCandidatesReceived",!1),L(this,"establishPromise",void 0),L(this,"mutex",new $A("P2PConnection-mutex")),this.store=o,this.peerConnection=new RTCPeerConnection(jc.resolvePCConfiguration(A),{optional:[{googDscp:!0}]}),this.statsFilter=Dd(this.peerConnection,J("STATS_UPDATE_INTERVAL"),void 0,zt()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{const A=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!A.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const o=an(A.sdp),s=dc(A.sdp,{filterRTX:!this.useRTX,filterVideoFec:J("FILTER_VIDEO_FEC"),filterAudioFec:J("FILTER_AUDIO_FEC"),filterAudioCodec:["opus"]});return this.localCapabilities=s,this.initialOffer=A,$I($I({},o),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:s},offerSDP:A.sdp})}catch(A){throw new Ae(G.GET_LOCAL_CONNECTION_PARAMS_FAILED,A.toString())}}async updateRemoteConnect(){}async connect(A){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new class{constructor(s){L(this,"sessionDesc",void 0),L(this,"localCapabilities",void 0),L(this,"rtpCapabilities",void 0),L(this,"candidates",void 0),L(this,"iceParameters",void 0),L(this,"dtlsParameters",void 0),L(this,"setup",void 0),L(this,"currentMidIndex",void 0),L(this,"cname",void 0),s=CA(s);const{iceParameters:c,dtlsParameters:I,candidates:C,rtpCapabilities:l,setup:d,localCapabilities:h,sdkCodec:Q,cname:_}=s,S=PA.parse(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE audio video
a=msid-semantic: WMS
a=ice-lite
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendrecv
a=rtcp-mux
a=rtcp-rsize
a=mid:audio
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendrecv
a=rtcp-mux
a=rtcp-rsize
a=mid:video
`);this.rtpCapabilities=l,this.candidates=C,this.iceParameters=c,this.dtlsParameters=I,this.setup=d,this.localCapabilities=h,this.cname=_;for(let w=0;w<S.mediaDescriptions.length;w++){const k=S.mediaDescriptions[w];if(k.attributes.iceUfrag=c.iceUfrag,k.attributes.icePwd=c.icePwd,k.attributes.fingerprints=I.fingerprints,k.attributes.candidates=C,k.attributes.setup=d,k.media.mediaType==="video"){k.media.fmts=l.videoCodecs.map(b=>b.payloadType.toString(10));let v=l.videoCodecs.filter(b=>{var P,K;return(P=b.rtpMap)===null||P===void 0?void 0:Re(K=P.encodingName.toLowerCase()).call(K,Q)});v.length===0&&(v=l.videoCodecs),k.attributes.payloads=v,k.attributes.extmaps=l.videoExtensions}k.media.mediaType==="audio"&&(k.media.fmts=l.audioCodecs.map(v=>v.payloadType.toString(10)),k.attributes.payloads=l.audioCodecs,k.attributes.extmaps=l.audioExtensions),S.mediaDescriptions[w]=this.mungMediaDesc(k)}this.sessionDesc=S,this.currentMidIndex=S.mediaDescriptions.length-1}toString(){return PA.print(this.sessionDesc)}send(s,c,I){const{ssrcs:C,ssrcGroups:l}=Jn(c,this.cname),d=this.sessionDesc.mediaDescriptions.find(_=>s===Oe.VIDEO?_.media.mediaType==="video":_.media.mediaType==="audio"),h=C[0].attributes.label,Q=C[0].attributes.mslabel;return d.attributes.ssrcs=d.attributes.ssrcs.concat(C),d.attributes.ssrcGroups=d.attributes.ssrcGroups.concat(l),{id:h,mslabel:Q}}batchSend(s){return s.map(c=>{let{kind:I,ssrcMsg:C}=c;return this.send(I,C,void 0)})}stopSending(s){this.sessionDesc.mediaDescriptions.forEach(c=>{const I=[],C=[],l=[];c.attributes.ssrcs.forEach(d=>{Re(s).call(s,d.attributes.label||"")?l.push(d):I.push(d)}),c.attributes.ssrcGroups.forEach(d=>{var h;Re(h=l.map(Q=>Q.ssrcId)).call(h,d.ssrcIds[0])||C.push(d)}),c.attributes.ssrcs=I,c.attributes.ssrcGroups=C})}mute(s){const c=this.sessionDesc.mediaDescriptions.find(I=>I.attributes.mid===s);if(!c)throw new Error("mediaDescription not found with ".concat(s," in remote SDP when calling RemoteSDP.mute."));c.attributes.direction="inactive"}unmute(s){const c=this.sessionDesc.mediaDescriptions.find(I=>I.attributes.mid===s);if(!c)throw new Error("mediaDescription not found with ".concat(s," in remote SDP when calling RemoteSDP.unmute."));c.attributes.direction="sendonly"}receive(s,c,I){s.forEach((C,l)=>{const d=C._mediaStreamTrack,h=this.sessionDesc.mediaDescriptions.findIndex(_=>_.attributes.mid===d.kind),Q=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[h],C);this.sessionDesc.mediaDescriptions[h]=Q})}stopReceiving(s){}updateCandidates(s){s===bi.TCP?this.candidates.forEach(c=>{this.candidates.findIndex(I=>I.transport==="tcp"&&I.connectionAddress===c.connectionAddress&&I.port===c.port)===-1&&this.candidates.push(zD(zD({},c),{},{foundation:"tcpcandidate",priority:Number(c.priority)-1+"",transport:"tcp",port:Number(c.port)+90+""}))}):this.candidates=this.candidates.filter(c=>c.transport!=="tcp");for(const c of this.sessionDesc.mediaDescriptions)c.attributes.candidates=this.candidates}restartICE(s){s=CA(s),this.iceParameters=s,this.sessionDesc.mediaDescriptions.forEach(c=>{c.attributes.iceUfrag=s.iceUfrag,c.attributes.icePwd=s.icePwd})}predictReceivingMids(s){const c=[];for(let I=0;I<s;I++)c.push((this.currentMidIndex+I+1).toString(10));return c}mungRecvMediaDsec(s,c){const I=CA(s);return na(I,c),cd(I,c),I}updateRecvMedia(s,c){const I=this.sessionDesc.mediaDescriptions.findIndex(C=>C.attributes.mid===s);if(I!==-1){const C=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[I],c);this.sessionDesc.mediaDescriptions[I]=C}}bumpMid(s){this.currentMidIndex+=s}updateTrackLabel(s,c,I){const C=this.sessionDesc.mediaDescriptions.find(d=>s===Oe.VIDEO?d.attributes.mid==="video":d.attributes.mid==="audio");if(C){const d=C.attributes.ssrcs.find(h=>h.attributes.label===c);var l;d&&(d.attributes.label=I,(l=d.attributes.msid)===null||l===void 0||l.replace(c,I))}}mungMediaDesc(s){const c=CA(s);return ad(c),function(I){const C=I.attributes.extmaps.find(l=>l.extensionName==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01");C&&I.attributes.extmaps.splice(I.attributes.extmaps.indexOf(C),1),I.attributes.payloads.forEach(l=>{const d=l.rtcpFeedbacks.findIndex(h=>h.type==="transport-cc");d!==-1&&l.rtcpFeedbacks.splice(d,1)})}(c),c}getSSRC(s){for(const c of this.sessionDesc.mediaDescriptions)for(const I of c.attributes.ssrcs)if(I.attributes.label===s)return[I]}}($I($I({},A),{},{rtpCapabilities:A.rtpCapabilities.send,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec}));const o=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(o.toString()))}}async updateRemoteRTPCapabilities(A,o){throw new Ae(G.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}getPreMedia(A){}send(A,o){var s=this;return Kr(function*(){const c=yield ht(s.mutex.lock());try{if(!s.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const I=A.map(S=>s.peerConnection.addTrack(S._mediaStreamTrack)),C=yield ht(s.peerConnection.createOffer()),l=PA.parse(C.sdp),d=A.map(S=>{const w=S._mediaStreamTrack,k=l.mediaDescriptions.find(v=>v.attributes.mid===w.kind);if(!k)throw new Error("Cannot extract ssrc from mediaDescription.");return function(v,b,P){const K=v.attributes.ssrcs.filter(X=>X.attributes.label===b),W=v.attributes.ssrcGroups;if(K.length===0)throw new Error("Cannot extract ssrc from plan-b SDP.");if(W&&K.length>1){const X=W.find(Z=>Z.ssrcIds.indexOf(K[0].ssrcId)!==-1);return X?[{ssrcId:X.ssrcIds[0],rtx:P?X.ssrcIds[1]:void 0}]:[{ssrcId:K[0].ssrcId}]}return[{ssrcId:K[0].ssrcId}]}(k,w.id,s.useRTX)});let h;try{h=yield d}catch(S){throw I.forEach(w=>{KA()&&w.replaceTrack(null),s.peerConnection.removeTrack(w)}),S}const Q=s.mungSendOfferSDP(C.sdp,A);s.remoteSDP.receive(A,o,h);const _=s.remoteSDP.toString();return yield ht(s.peerConnection.setLocalDescription({type:"offer",sdp:Q})),yield ht(s.applySendEncodings(I,A)),yield ht(s.peerConnection.setRemoteDescription({type:"answer",sdp:_})),A.map((S,w)=>{const k=S._mediaStreamTrack.id;return{localSSRC:d[w],id:k}})}catch(I){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(I.toString()))}finally{c()}})()}async stopSending(A){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const o=this.peerConnection.getSenders().filter(I=>{var C;return A.indexOf(((C=I.track)===null||C===void 0?void 0:C.id)||"")!==-1});if(o.length!==A.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");o.map(I=>{KA()&&I.replaceTrack(null),this.peerConnection.removeTrack(I)});const s=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(s),this.remoteSDP.stopReceiving(A);const c=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:c})}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(o.toString()))}}async receive(A,o,s,c){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(A," before remoteSDP created."));const{id:I,mslabel:C}=this.remoteSDP.send(A,o,c),l=new pe((Q,_)=>{const S=setTimeout(()=>{_(new Error("Cannot receive track, id: ".concat(I)))},1e4),w=k=>{const v=Et();if((v.name==="Safari"&&Number(v.version)===11||gi())&&k.track.id!==I&&k.streams[0].id===C){var b;const P=k.streams[0].getTracks()[0];return(b=this.remoteSDP)===null||b===void 0||b.updateTrackLabel(A,I,k.track.id),this.peerConnection.removeEventListener("track",w),clearTimeout(S),void Q(P)}if(k.track.id===I)return this.peerConnection.removeEventListener("track",w),clearTimeout(S),void Q(k.track)};this.peerConnection.addEventListener("track",w)}),d=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:d});const h=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(h),{track:await l,id:I}}catch(I){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(I.toString()))}}async stopReceiving(A){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(A);const o=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:o});const s=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(s)}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(o.toString()))}}async muteRemote(A){}async unmuteRemote(A){}async muteLocal(A){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const o=this.peerConnection.getSenders().filter(s=>{var c;return A.indexOf(((c=s.track)===null||c===void 0?void 0:c.id)||"")!==-1});if(o.length!==A.length)throw new Error("sender' length doesn't match mids' length.");o.map(s=>{if(KA()&&s.track)s.track.enabled=!1;else{const c=s.getParameters();c.encodings.forEach(I=>I.active=!1),s.setParameters(c)}})}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(o.toString()))}}async unmuteLocal(A){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const o=this.peerConnection.getSenders().filter(I=>{var C;return A.indexOf(((C=I.track)===null||C===void 0?void 0:C.id)||"")!==-1});if(o.length!==A.length)throw new Error("Senders' length doesn't match mids' length.");o.map(async I=>{if(KA()&&I.track)I.track.enabled=!0;else{const C=I.getParameters();C.encodings.forEach(l=>l.active=!0),await I.setParameters(C)}});const s=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(s);const c=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:c})}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(o.toString()))}}restartICE(A){var o=this;return Kr(function*(){const s=yield ht(o.mutex.lock("From P2PConnection.restartICE"));try{if(!o.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(Ct().supportPCSetConfiguration){const d=o.peerConnection.getConfiguration(),h=A===bi.RELAY?"relay":"all";d.iceTransportPolicy!==h&&(N.debug("[".concat(o.store.clientId,"] restartICE change iceTransportPolicy from [").concat(d.iceTransportPolicy,"] to [").concat(h,"]")),d.iceTransportPolicy=h,o.peerConnection.setConfiguration(d))}else if(A===bi.RELAY)return;A!==bi.RELAY&&o.remoteSDP.updateCandidates(A);const c=yield ht(o.peerConnection.createOffer({iceRestart:!0}));if(!c.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const I=an(c.sdp),{remoteIceParameters:C}=yield I.iceParameters;o.remoteSDP.restartICE(C);const l=o.remoteSDP.toString();yield ht(o.peerConnection.setLocalDescription(c)),yield ht(o.peerConnection.setRemoteDescription({type:"answer",sdp:l}))}catch(c){N.warning("[".concat(o.store.clientId,"] restart ICE failed, abort operation"),c)}finally{s()}})()}close(){var A;this.peerConnection.close(),(A=this.onConnectionStateChange)===null||A===void 0||A.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(A){return this.statsFilter.getVideoIsReady(A)}async updateEncoderConfig(A,o){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const s=await this.peerConnection.createOffer(),c=this.mungSendOfferSDP(s.sdp,[o]);this.remoteSDP.updateRecvMedia(o._mediaStreamTrack.kind,o);const I=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:"offer",sdp:c}),await this.peerConnection.setRemoteDescription({type:"answer",sdp:I})}catch(s){throw new Ae(G.EXCHANGE_SDP_FAILED,s.toString())}}async updateSendParameters(A,o){const s=this.peerConnection.getSenders().filter(c=>{var I;return((I=c.track)===null||I===void 0?void 0:I.id)===A});s.length===1&&await this.applySendEncodings(s,[o])}setStatsRemoteVideoIsReady(A,o){this.statsFilter.setVideoIsReady2(A,o)}async replaceTrack(A,o){const s=this.peerConnection.getSenders().find(c=>{var I;return((I=c.track)===null||I===void 0?void 0:I.id)===o});s&&await s.replaceTrack(A._mediaStreamTrack)}createDataChannels(A,o){throw new Ae(G.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}stopDataChannels(A){throw new Ae(G.NOT_SUPPORTED,"Planb mode does not support stopDataChannels.")}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var A;(A=this.onICEConnectionStateChange)===null||A===void 0||A.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var A;(A=this.onConnectionStateChange)===null||A===void 0||A.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=A=>{A.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,N.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,N.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))},J("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(A){const o={iceServers:[],sdpSemantics:"plan-b"};return A.iceServers?o.iceServers=A.iceServers:A.turnServer&&A.turnServer.mode!=="off"&&(aI(A.turnServer.servers)?o.iceServers=A.turnServer.servers:(o.iceServers&&o.iceServers.push(...jc.turnServerConfigToIceServers(A.turnServer.servers)),J("USE_TURN_SERVER_OF_GATEWAY")&&o.iceServers&&A.turnServer.serversFromGateway&&o.iceServers.push(...jc.turnServerConfigToIceServers(A.turnServer.serversFromGateway)),A.turnServer.servers.concat(A.turnServer.serversFromGateway||[]).forEach(s=>{s.forceturn&&(o.iceTransportPolicy="relay")}))),o}static turnServerConfigToIceServers(A){const o=[];return A.forEach(s=>{s.security?s.tcpport&&o.push({username:s.username,credential:s.password,credentialType:"password",urls:"turns:".concat(s.turnServerURL,":").concat(s.tcpport,"?transport=tcp")}):(s.udpport&&o.push({username:s.username,credential:s.password,credentialType:"password",urls:"turn:".concat(s.turnServerURL,":").concat(s.udpport,"?transport=udp")}),s.tcpport&&o.push({username:s.username,credential:s.password,credentialType:"password",urls:"turn:".concat(s.turnServerURL,":").concat(s.tcpport,"?transport=tcp")}))}),o}async updateRtpSenderEncodings(A,o){var s;if(o||(o=this.peerConnection.getSenders().find(h=>{var Q;return((Q=h.track)===null||Q===void 0?void 0:Q.id)===A._mediaStreamTrack.id})),!o)return N.warn("[".concat(A.getTrackId(),"] no rtpSender found}"));if(!Ct().supportSetRtpSenderParameters)return N.warn("Browser not support set rtp-sender parameters");const c={},I={};if(A instanceof Ft)switch(A._optimizationMode){case"motion":c.degradationPreference="maintain-framerate";break;case"detail":c.degradationPreference="maintain-resolution";break;default:c.degradationPreference="balanced"}if(J("DSCP_TYPE")&&Xo()){var C;const h=J("DSCP_TYPE");Re(C=["very-low","low","medium","high"]).call(C,h)&&(I.networkPriority=h)}const l=o.getParameters(),d=(s=l.encodings)===null||s===void 0?void 0:s[0];d&&Object.assign(d,I),Object.assign(l,c),N.debug("[".concat(A.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(l.encodings))),await o.setParameters(l)}async applySendEncodings(A,o){try{if(!Ct().supportSetRtpSenderParameters||A.length!==o.length)return;for(let s=0;s<A.length;s++){const c=A[s],I=o[s];c&&I&&await this.updateRtpSenderEncodings(I,c)}}catch{N.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(A,o){const s=PA.parse(A);return o.forEach((c,I)=>{const C=c._mediaStreamTrack,l=s.mediaDescriptions.find(d=>d.attributes.mid===C.kind);l&&na(l,c)}),PA.print(s)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=A=>{var o;(o=this.onFirstAudioReceived)===null||o===void 0||o.call(this,A)},this.statsFilter.onFirstVideoReceived=A=>{var o;(o=this.onFirstVideoReceived)===null||o===void 0||o.call(this,A)},this.statsFilter.onFirstAudioDecoded=A=>{var o;(o=this.onFirstAudioDecoded)===null||o===void 0||o.call(this,A)},this.statsFilter.onFirstVideoDecoded=(A,o,s)=>{var c;(c=this.onFirstVideoDecoded)===null||c===void 0||c.call(this,A,o,s)},this.statsFilter.onSelectedLocalCandidateChanged=(A,o)=>{var s;(s=this.onSelectedLocalCandidateChanged)===null||s===void 0||s.call(this,A,o)},this.statsFilter.onSelectedRemoteCandidateChanged=(A,o)=>{var s;(s=this.onSelectedRemoteCandidateChanged)===null||s===void 0||s.call(this,A,o)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(A){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const o=this.remoteSDP.batchSend(A).map((I,C)=>{let{id:l,mslabel:d}=I;const{kind:h}=A[C];return new pe((Q,_)=>{const S=setTimeout(()=>{_(new Error("Cannot receive track, id: ".concat(l)))},1e4),w=k=>{const v=Et();if(v.name==="Safari"&&Number(v.version)===11&&k.track.id!==l&&k.streams[0].id===d){var b;const P=k.streams[0].getTracks()[0];return(b=this.remoteSDP)===null||b===void 0||b.updateTrackLabel(h,l,k.track.id),this.peerConnection.removeEventListener("track",w),clearTimeout(S),void Q({track:P,id:l})}if(k.track.id===l)return this.peerConnection.removeEventListener("track",w),clearTimeout(S),void Q({track:k.track,id:l})};this.peerConnection.addEventListener("track",w)})}),s=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:s});const c=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(c),await pe.all(o)}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(o.toString()))}}async getRemoteSSRC(A){if(!this.remoteSDP)return;const o=this.remoteSDP.getSSRC(A);return o==null?void 0:o[0].ssrcId}setConfiguration(A){if(Ct().supportPCSetConfiguration){const o=jc.resolvePCConfiguration(A);this.peerConnection.setConfiguration(o)}}},Ne(Ot.prototype,"connect",[or],Object.getOwnPropertyDescriptor(Ot.prototype,"connect"),Ot.prototype),Ne(Ot.prototype,"stopSending",[or],Object.getOwnPropertyDescriptor(Ot.prototype,"stopSending"),Ot.prototype),Ne(Ot.prototype,"receive",[or],Object.getOwnPropertyDescriptor(Ot.prototype,"receive"),Ot.prototype),Ne(Ot.prototype,"stopReceiving",[or],Object.getOwnPropertyDescriptor(Ot.prototype,"stopReceiving"),Ot.prototype),Ne(Ot.prototype,"muteRemote",[or],Object.getOwnPropertyDescriptor(Ot.prototype,"muteRemote"),Ot.prototype),Ne(Ot.prototype,"unmuteRemote",[or],Object.getOwnPropertyDescriptor(Ot.prototype,"unmuteRemote"),Ot.prototype),Ne(Ot.prototype,"muteLocal",[or],Object.getOwnPropertyDescriptor(Ot.prototype,"muteLocal"),Ot.prototype),Ne(Ot.prototype,"unmuteLocal",[or],Object.getOwnPropertyDescriptor(Ot.prototype,"unmuteLocal"),Ot.prototype),Ne(Ot.prototype,"close",[or],Object.getOwnPropertyDescriptor(Ot.prototype,"close"),Ot.prototype),Ne(Ot.prototype,"updateEncoderConfig",[or],Object.getOwnPropertyDescriptor(Ot.prototype,"updateEncoderConfig"),Ot.prototype),Ne(Ot.prototype,"updateSendParameters",[or],Object.getOwnPropertyDescriptor(Ot.prototype,"updateSendParameters"),Ot.prototype),Ne(Ot.prototype,"replaceTrack",[or],Object.getOwnPropertyDescriptor(Ot.prototype,"replaceTrack"),Ot.prototype),Ne(Ot.prototype,"getRemoteSSRC",[or],Object.getOwnPropertyDescriptor(Ot.prototype,"getRemoteSSRC"),Ot.prototype),Ot);function or(t,A,o){const s=t[A];if(typeof s!="function")throw new Error("Cannot use mutex on object property.");return o.value=async function(){const c=this.mutex,I=await c.lock("Locking from P2PConnection.".concat(A));try{for(var C=arguments.length,l=new Array(C),d=0;d<C;d++)l[d]=arguments[d];return await s.apply(this,l)}finally{I()}},o}function tw(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function Cn(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?tw(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):tw(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}const yc="9",Aw=4e4;class B2{get localCapabilities(){return CA(this._localCapabilities)}get rtpCapabilities(){return CA(this._rtpCapabilities)}get candidates(){return CA(this._candidates)}get iceParameters(){return CA(this._iceParameters)}get dtlsParameters(){return CA(this._dtlsParameters)}constructor(A){L(this,"sessionDesc",void 0),L(this,"_localCapabilities",void 0),L(this,"_rtpCapabilities",void 0),L(this,"_candidates",void 0),L(this,"_iceParameters",void 0),L(this,"_dtlsParameters",void 0),L(this,"setup",void 0),L(this,"currentMidIndex",void 0),L(this,"cname",void 0),L(this,"firefoxSsrcMidMap",new Map),A=CA(A);const{iceParameters:o,dtlsParameters:s,candidates:c,rtpCapabilities:I,setup:C,localCapabilities:l,cname:d}=A;this._rtpCapabilities=I,this._candidates=c,this._iceParameters=o,this._dtlsParameters=s,this._localCapabilities=l,this.setup=C,this.cname=d,this.sessionDesc=this.updateRemoteRTPCapabilities(I),this.currentMidIndex=this.sessionDesc.mediaDescriptions.length-1}preloadRemoteMedia(A){const o=this.candidates,s=this.dtlsParameters,c=this.iceParameters,I=this.rtpCapabilities.send;let C=this.sessionDesc.mediaDescriptions.length-1;for(let l=1;l<A;l++){const d=2*l+2e4,h=2*l+Aw,{ssrcs:Q,ssrcGroups:_}=Jn([{ssrcId:d}],this.cname),{ssrcs:S,ssrcGroups:w}=Jn([{ssrcId:h,rtx:J("USE_SUB_RTX")?h+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:yc,protos:["UDP","TLS","RTP","SAVPF"],fmts:I.videoCodecs.map(k=>k.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:c.iceUfrag,icePwd:c.icePwd,unrecognized:[],candidates:o,extmaps:I.videoExtensions,fingerprints:s.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:S,ssrcGroups:w,rtcpFeedbackWildcards:[],payloads:I.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(++C)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:yc,protos:["UDP","TLS","RTP","SAVPF"],fmts:I.audioCodecs.map(k=>k.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:c.iceUfrag,icePwd:c.icePwd,unrecognized:[],candidates:o,extmaps:I.audioExtensions,fingerprints:s.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:Q,ssrcGroups:_,rtcpFeedbackWildcards:[],payloads:I.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(++C)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return PA.print(this.sessionDesc)}send(A,o,s,c){const{ssrcs:I,ssrcGroups:C}=Jn(o,this.cname,J("SYNC_GROUP")?s:void 0),l=this.findPreloadMediaDesc(I);if(l){if(zt()&&this.firefoxSsrcMidMap.set(I[0].ssrcId,l.attributes.mid),c&&(c.twcc||c.remb)){const d=this.sessionDesc.mediaDescriptions.indexOf(l);return this.sessionDesc.mediaDescriptions[d]=this.mungSendMediaDesc(l,c),{mid:l.attributes.mid,needExchangeSDP:!0}}return{mid:l.attributes.mid,needExchangeSDP:!1}}{const d=this.findAvailableMediaIndex(A,I);let h;return d===-1||d===1&&(KA()||function(){const Q=Et();return!(Q.name!==Rt.CHROME||!Q.osVersion)&&Number(Q.version)<=90}())||d===0&&J("USE_SUB_RTX")||gR()?(h=this.createOrRecycleSendMedia(A,I,C,"sendonly",c),this.updateBundleMids()):(h=CA(this.sessionDesc.mediaDescriptions[d]),h.attributes.direction="sendonly",h.attributes.ssrcs=I,h.attributes.ssrcGroups=C,this.sessionDesc.mediaDescriptions[d]=this.mungSendMediaDesc(h,c)),zt()&&this.firefoxSsrcMidMap.set(I[0].ssrcId,h.attributes.mid),{mid:h.attributes.mid,needExchangeSDP:!0}}}sendDataChannel(){const{mediaDesc:A,needExchangeSDP:o}=this.createOrRecycleDataChannel();return this.updateBundleMids(),{mid:A.attributes.mid,needExchangeSDP:o}}batchSend(A){const o=A.map(I=>{let{kind:C,ssrcMsg:l,mslabel:d}=I;return this.send(C,l,d)}),s=[];let c=!1;return o.forEach(I=>{let{mid:C,needExchangeSDP:l}=I;l&&(c=!0),s.push(C)}),{mids:s,needExchangeSDP:c}}stopSending(A){const o=this.sessionDesc.mediaDescriptions.filter(s=>s.attributes.mid&&A.indexOf(s.attributes.mid)!==-1);if(o.length!==A.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");o.forEach(s=>{s.attributes.mid==="0"||zt()||gR()?s.attributes.ssrcs=[]:(s.attributes.ssrcs=[],s.attributes.direction="inactive",s.media.port="0")}),this.updateBundleMids()}mute(A){const o=this.sessionDesc.mediaDescriptions.find(s=>s.attributes.mid===A);if(!o)throw new Error("mediaDescription not found with ".concat(A," in remote SDP when calling RemoteSDP.mute."));o.attributes.direction="inactive"}unmute(A){const o=this.sessionDesc.mediaDescriptions.find(s=>s.attributes.mid===A);if(!o)throw new Error("mediaDescription not found with ".concat(A," in remote SDP when calling RemoteSDP.unmute."));o.attributes.direction="sendonly"}muteRemote(A){const o=this.sessionDesc.mediaDescriptions.filter(s=>Re(A).call(A,s.attributes.mid||""));if(o.length!==A.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");o.forEach(s=>{s.attributes.direction="inactive"})}unmuteRemote(A){const o=this.sessionDesc.mediaDescriptions.filter(s=>Re(A).call(A,s.attributes.mid||""));if(o.length!==A.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");o.forEach(s=>{s.attributes.direction="recvonly"})}receive(A,o,s,c){A.forEach((I,C)=>{this.createOrRecycleRecvMedia(I,[],"recvonly",o,s,c[C])}),this.updateBundleMids()}stopReceiving(A){const o=this.sessionDesc.mediaDescriptions.filter(s=>A.indexOf(s.attributes.mid)!==-1);if(o.length!==A.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");o.forEach(s=>{s.media.port="0",s.attributes.direction="inactive"}),this.updateBundleMids()}updateRemoteRTPCapabilities(A){const o=this.sessionDesc||PA.parse(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0 1
a=msid-semantic: WMS
a=ice-lite
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:0
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:1
`);this._rtpCapabilities=A;const s=this.rtpCapabilities.send,c=this.localCapabilities.send;for(const I of o.mediaDescriptions){if(I.attributes.iceUfrag=this._iceParameters.iceUfrag,I.attributes.icePwd=this._iceParameters.icePwd,I.attributes.fingerprints=this._dtlsParameters.fingerprints,I.attributes.candidates=this._candidates,I.attributes.setup=this.setup,I.media.mediaType==="application"&&(I.attributes.sctpPort="5000"),I.media.mediaType==="video"){if(s.videoCodecs.length===0){const C=c.videoCodecs.filter(l=>{var d,h;return(d=l.rtpMap)===null||d===void 0?void 0:Re(h=d.encodingName.toLowerCase()).call(h,"vp8")})||[c.videoCodecs[0]];I.media.fmts=C.map(l=>l.payloadType.toString(10)),I.attributes.payloads=C,I.attributes.extmaps=[]}else if(I.media.fmts=s.videoCodecs.map(C=>C.payloadType.toString(10)),I.attributes.payloads=s.videoCodecs,I.attributes.extmaps=s.videoExtensions,J("PRELOAD_MEDIA_COUNT")>0){const{ssrcs:C,ssrcGroups:l}=Jn([{ssrcId:Aw,rtx:J("USE_SUB_RTX")?40001:void 0}],this.cname);I.attributes.ssrcs=C,I.attributes.ssrcGroups=l}}if(I.media.mediaType==="audio"){if(s.audioCodecs.length===0){const C=c.audioCodecs.filter(l=>{var d,h;return(d=l.rtpMap)===null||d===void 0?void 0:Re(h=d.encodingName.toLowerCase()).call(h,"opus")})||[c.audioCodecs[0]];I.media.fmts=C.map(l=>l.payloadType.toString(10)),I.attributes.payloads=C,I.attributes.extmaps=[]}else if(I.media.fmts=s.audioCodecs.map(C=>C.payloadType.toString(10)),I.attributes.payloads=s.audioCodecs,I.attributes.extmaps=s.audioExtensions,sa(I),J("PRELOAD_MEDIA_COUNT")>0){const{ssrcs:C,ssrcGroups:l}=Jn([{ssrcId:2e4}],this.cname);I.attributes.ssrcs=C,I.attributes.ssrcGroups=l}}}return this.sessionDesc=o,this.currentMidIndex=o.mediaDescriptions.length-1,this.sessionDesc}updateCandidates(A){const o=this._candidates.filter(s=>s.transport==="udp");if(A===bi.TCP){if(o.length===0)return;if(J("TCP_CANDIDATE_ONLY")){const s=this._candidates.filter(c=>c.transport==="tcp");o.forEach(c=>{s.findIndex(I=>I.connectionAddress===c.connectionAddress)===-1&&s.push(Cn(Cn({},c),{},{foundation:"tcpcandidate",priority:Number(c.priority)-1+"",transport:"tcp",port:Number(c.port)+90+""}))}),this._candidates=s}else{const s=[];o.forEach(c=>{s.push(Cn(Cn({},c),{},{foundation:"tcpcandidate",priority:Number(c.priority)-1+"",transport:"tcp",port:Number(c.port)+90+""}))}),this._candidates=[...o,...s]}}else if(A===bi.RELAY){if(o.length!==0)return;{const s=this._candidates.filter(c=>c.transport==="tcp");s.forEach(c=>{o.push(Cn(Cn({},c),{},{foundation:"udpcandidate",priority:Number(c.priority)+1+"",transport:"udp",port:Number(c.port)-90+""}))}),this._candidates=[...o,...s]}}else o.length===0?(this._candidates.filter(s=>s.transport==="tcp").forEach(s=>{o.push(Cn(Cn({},s),{},{foundation:"udpcandidate",priority:Number(s.priority)+1+"",transport:"udp",port:Number(s.port)-90+""}))}),this._candidates=o):this._candidates=this._candidates.filter(s=>s.transport!=="tcp");for(const s of this.sessionDesc.mediaDescriptions)s.attributes.candidates=this.candidates}restartICE(A){A=CA(A),this._iceParameters=A,this.sessionDesc.mediaDescriptions.forEach(o=>{o.attributes.iceUfrag=A.iceUfrag,o.attributes.icePwd=A.icePwd})}predictReceivingMids(A){const o=[];for(let s=0;s<A;s++)o.push((this.currentMidIndex+s+1).toString(10));return o}findAvailableMediaIndex(A,o){return this.sessionDesc.mediaDescriptions.findIndex(s=>{const c=s.media.mediaType===A&&s.media.port!=="0"&&(s.attributes.direction==="sendonly"||s.attributes.direction==="sendrecv")&&s.attributes.ssrcs.length===0;if(zt()){if(c){const I=this.firefoxSsrcMidMap.get(o[0].ssrcId);return!(I||s.attributes.mid!=="0"&&s.attributes.mid!=="1")||!(!I||I!==s.attributes.mid)}return!1}return c})}createOrRecycleDataChannel(){for(const s of this.sessionDesc.mediaDescriptions)if(s.media.mediaType==="application")return{mediaDesc:s,needExchangeSDP:!1};this.currentMidIndex+=1;const A="".concat(this.currentMidIndex),o={media:{mediaType:"application",port:yc,protos:["UDP","DTLS","SCTP"],fmts:["webrtc-datachannel"]},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,mid:"".concat(A),sctpPort:"5000"}};return this.sessionDesc.mediaDescriptions.push(o),{mediaDesc:o,needExchangeSDP:!0}}createOrRecycleRecvMedia(A,o,s,c,I,C){const l=A._mediaStreamTrack.kind,d=this.rtpCapabilities.recv,h=hc(l,d,this.localCapabilities.send,l===Oe.VIDEO?c:I),Q=l===Oe.VIDEO?d.videoExtensions:d.audioExtensions;this.currentMidIndex+=1;const _="".concat(this.currentMidIndex);let S={media:{mediaType:l,port:yc,protos:["UDP","TLS","RTP","SAVPF"],fmts:h.map(k=>k.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:Q,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:o,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:h,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:s,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(_)}};S=this.mungRecvMediaDsec(S,A,C);const w=this.findFirstClosedMedia(l);if(w){const k=this.sessionDesc.mediaDescriptions.indexOf(w);this.sessionDesc.mediaDescriptions[k]=S}else this.sessionDesc.mediaDescriptions.push(S);return S}updateRemoteCodec(A,o,s){const c=[...new Set(this._rtpCapabilities.recv.videoCodecs.map(S=>S.rtpMap&&S.rtpMap.encodingName.toLowerCase()||"").filter(S=>{var w;return Re(w=Object.keys(uI)).call(w,S)}))],I=new Set(o);if(c.every(S=>I.has(S)))return N.debug("codecs has not changed, no need to updateRemoteCodec, codecs: ".concat(o)),!1;const C=this._rtpCapabilities.recv.videoCodecs.filter(S=>o.some(w=>{var k;return Re(k=S.rtpMap&&S.rtpMap.encodingName.toLowerCase()||"").call(k,w)}));if(C.length===0)return N.debug("updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: ".concat(c," codecs: ").concat(o)),!1;const l=[...new Set(C.map(S=>S.rtpMap&&S.rtpMap.encodingName.toLowerCase()||""))];let d;if(N.debug("updateRemoteCodec, from ".concat(c," to ").concat(l)),A.length===0)d=this.sessionDesc.mediaDescriptions.filter(S=>S.media.mediaType==="video"&&S.attributes.direction==="recvonly");else if(d=this.sessionDesc.mediaDescriptions.filter(S=>S.attributes.mid&&Re(A).call(A,S.attributes.mid)&&S.attributes.direction==="recvonly"),d.length!==A.length)return N.debug("updateRemoteCodec failed, because cannot find mids, mids: ".concat(A,", codecs: ").concat(o)),!1;if(J("USE_PUB_RTX")||J("USE_SUB_RTX")){const S=gd(C,this.rtpCapabilities.recv.videoCodecs);C.push(...S)}this._rtpCapabilities.recv.videoCodecs=C;const h=this.localCapabilities.send,Q=this.rtpCapabilities.recv,_=hc(Oe.VIDEO,Q,h,s);return d.forEach(S=>{const w=_.map(k=>k.payloadType.toString(10));N.debug("updateRemoteCodec mid: ".concat(S.attributes.mid,", from ").concat(S.attributes.payloads," to ").concat(_)),S.attributes.payloads=_,S.media.fmts=w}),!0}createOrRecycleSendMedia(A,o,s,c,I){const C=this.rtpCapabilities.send,l=A===Oe.VIDEO?C.videoCodecs:C.audioCodecs,d=A===Oe.VIDEO?C.videoExtensions:C.audioExtensions;this.currentMidIndex+=1;const h="".concat(this.currentMidIndex);let Q={media:{mediaType:A,port:yc,protos:["UDP","TLS","RTP","SAVPF"],fmts:l.map(S=>S.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:d,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:o,ssrcGroups:s,rtcpFeedbackWildcards:[],payloads:l,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:c,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(h)}};Q=this.mungSendMediaDesc(Q,I);const _=this.findFirstClosedMedia(A);if(_){const S=this.sessionDesc.mediaDescriptions.indexOf(_);this.sessionDesc.mediaDescriptions[S]=Q}else this.sessionDesc.mediaDescriptions.push(Q);return Q}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(A=>A.media.port!=="0").map(A=>A.attributes.mid)}mungRecvMediaDsec(A,o,s){const c=CA(A);return ad(c),na(c,o),cd(c,o),VS(c),KI(c,s,this.localCapabilities.send),c}mungSendMediaDesc(A,o){const s=CA(A);return KI(s,o,this.localCapabilities.recv),sa(s),s}updateRecvMedia(A,o){const s=this.sessionDesc.mediaDescriptions.findIndex(c=>c.attributes.mid===A);if(s!==-1){const c=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[s],o);this.sessionDesc.mediaDescriptions[s]=c}}bumpMid(A){this.currentMidIndex+=A}findFirstClosedMedia(A){return this.sessionDesc.mediaDescriptions.find(o=>zt()?o.media.port==="0"&&o.media.mediaType===A:o.media.port==="0")}findPreloadMediaDesc(A){return this.sessionDesc.mediaDescriptions.find(o=>{var s;return((s=o.attributes)===null||s===void 0||(s=s.ssrcs[0])===null||s===void 0?void 0:s.ssrcId)===A[0].ssrcId})}getSSRC(A){var o;return(o=this.sessionDesc.mediaDescriptions.find(s=>s.attributes.mid===A))===null||o===void 0?void 0:o.attributes.ssrcs}}function iw(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function Uo(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?iw(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):iw(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}let mc=function(t){return t.BANDWIDTH="bandwidth",t.CPU="cpu",t.NONE="none",t.OTHER="other",t}({});var ga=function(t){return t[t.DOWN=0]="DOWN",t[t.UP=1]="UP",t}(ga||{});const WI=new Map;function rw(t,A,o,s){let{scale:c}=t;if(c===0&&s===ga.UP||c>=A.length-1&&s===ga.DOWN)return t;let I=Uo(Uo({},t),{},{scale:s===ga.DOWN?++c:--c});switch(o){case"maintain-framerate":I=Uo(Uo({},I),A[c].motion);break;case"maintain-resolution":I=Uo(Uo({},I),A[c].detail);break;case"balanced":I=Uo(Uo({},I),A[c].balanced)}return I}function ow(t,A){if(A){const o={overUse:0,underUse:0,adaptationList:nw(A)};WI.set(t,o)}else WI.delete(t)}function nw(t){const A=Uo({},t),{bitrateMax:o,frameRate:s,scaleResolutionDownBy:c,bitrateMin:I}=A,{MIN_FRAME_RATE:C,MAX_THRESHOLD_FRAMERATE:l,MAX_SCALE:d,BITRATE_MIN_THRESHOLD:h,BITRATE_MAX_THRESHOLD:Q,BWE_SCALE_UP_THRESHOLD:_,BWE_SCALE_DOWN_THRESHOLD:S,PERF_SCALE_DOWN_THRESHOLD:w,PERF_SCALE_UP_THRESHOLD:k,BALANCE_BITRATE_FACTOR:v,BALANCE_FRAMERATE_FACTOR:b,BALANCE_RESOLUTION_FACTOR:P,MOTION_RESOLUTION_FACTOR:K,MOTION_BITRATE_FACTOR:W,DETAIL_FRAMERATE_FACTOR:X,DETAIL_BITRATE_FACTOR:Z}=au,ie=Math.min(A.frameRate,l),ce=[{scale:0,threshold:{bwe_down:Math.round(Math.pow(S,1)*o),bwe_up:o,fps_down:Math.round(Math.pow(w,1)*ie),fps_up:s},balanced:{scaleResolutionDownBy:1,frameRate:s,bitrateMax:o,bitrateMin:I},motion:{scaleResolutionDownBy:1,frameRate:s,bitrateMax:o,bitrateMin:I},detail:{scaleResolutionDownBy:1,frameRate:s,bitrateMax:o,bitrateMin:I}}];for(let de=1;de<=d;de++){const Ce={bwe_up:Math.round(Math.pow(_,de)*o),bwe_down:Math.round(Math.pow(S,de+1)*o),fps_up:Math.round(Math.pow(k,de)*ie),fps_down:Math.round(Math.pow(w,de+1)*ie)},be={scaleResolutionDownBy:c/Math.pow(P,de),frameRate:Math.max(Math.round(Math.pow(b,de)*s),C),bitrateMax:Math.max(Math.round(Math.pow(v,de)*o),Q),bitrateMin:Math.max(Math.round(Math.pow(v,de)*I),h)},tt={scaleResolutionDownBy:c/Math.pow(K,de),frameRate:s,bitrateMax:Math.max(Math.round(Math.pow(W,de)*o),Q),bitrateMin:Math.max(Math.round(Math.pow(W,de)*I),h)},ft={scaleResolutionDownBy:1,frameRate:Math.max(Math.round(Math.pow(X,de)*s),C),bitrateMax:Math.max(Math.round(Math.pow(Z,de)*o),Q),bitrateMin:Math.max(Math.round(Math.pow(Z,de)*I),h)};ce.push({scale:de,threshold:Ce,balanced:be,motion:tt,detail:ft})}return ce}function p2(t,A,o,s,c,I){const C=WI.get(t)||{overUse:0,underUse:0,adaptationList:nw(c)},{adaptationList:l}=C;WI.set(t,C);const{OVERUSE_TIMES_THRESHOLD:d,UNDERUSE_TIMES_THRESHOLD:h}=au,{scale:Q}=s;let _,S;return typeof A=="number"&&A>0&&function(w,k,v,b){if(k>=v.length)return!1;let{threshold:{fps_down:P}}=v[k];return J("FORCE_AG_HIGH_FRAMERATE")&&b==="maintain-framerate"&&(P=v[0].threshold.fps_down),w<P}(A,Q,l,I)&&(C.overUse++,S=mc.CPU,C.overUse>d)||typeof o=="number"&&o>0&&function(w,k,v){if(k>=v.length)return!1;const{threshold:{bwe_down:b}}=v[k];return w<b}(o,Q,l)&&(C.overUse++,S=mc.BANDWIDTH,C.overUse>d)?(C.overUse=0,C.underUse=0,_=rw(s,l,I,ga.DOWN),[_,S]):(typeof A=="number"&&A>0&&typeof o=="number"&&o>0&&function(w,k,v,b){if(k===0)return;let{threshold:{fps_up:P}}=v[k];return J("FORCE_AG_HIGH_FRAMERATE")&&b==="maintain-framerate"&&(P=v[1].threshold.fps_up),w>P}(A,Q,l,I)&&function(w,k,v){if(k===0)return;const{threshold:{bwe_up:b}}=v[k];return w>b}(o,Q,l)&&(C.underUse++,C.underUse>h&&(C.overUse=0,C.underUse=0,_=rw(s,l,I,ga.UP),_.scale===0&&(S=mc.NONE))),[_,S])}function sw(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function bd(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?sw(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):sw(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}function Q2(t){var A;return!!J("ENABLE_AG_ADAPTATION")&&!!(t instanceof od||Re(A=t._hints).call(A,xt.CUSTOM_TRACK))&&(!!J("FORCE_SUPPORT_AG_ADAPTATION")||!!(function(o){const s=Et();if(s.os!==wA.IOS||!s.osVersion)return!1;const c=s.osVersion.split(".");return Number(c[0])>=o}(14)&&sR(17,4)||nR(14)&&aR(17,4,!0)))}const XI=new Map;function ZI(t,A){const o=XI.get(t);if(o){const{timer:s}=o;window.clearTimeout(s),XI.delete(t)}A.qualityLimitationReason=mc.NONE,ow(t)}var ct;function aw(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function go(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?aw(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):aw(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}let Jr=(ct=class $c extends WR{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var A,o;return(A=(o=this.peerConnection.getReceivers()[0])===null||o===void 0||(o=o.transport)===null||o===void 0?void 0:o.state)!==null&&A!==void 0?A:null}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map(A=>A.rtpMap&&A.rtpMap.encodingName.toLowerCase()||"").filter(A=>{var o;return Re(o=Object.keys(uI)).call(o,A)}))]}constructor(A,o){super(A,o),L(this,"store",void 0),L(this,"peerConnection",void 0),L(this,"id",kt(5,"connection-")),L(this,"remoteSDP",void 0),L(this,"initialOffer",void 0),L(this,"transportEventReceiver",void 0),L(this,"statsFilter",void 0),L(this,"extension",{useXR:J("USE_XR")}),L(this,"localCapabilities",void 0),L(this,"remoteCodecs",void 0),L(this,"localCandidateCount",0),L(this,"allCandidatesReceived",!1),L(this,"isPreallocation",!1),L(this,"preSSRCMap",new Map),L(this,"dataStreamChannelMap",new Map),L(this,"establishPromise",void 0),L(this,"recoveredDataChannelIds",[]),L(this,"currentDataChannelId",1),L(this,"mutex",new $A("P2PConnection-mutex")),L(this,"qualityLimitationReason",mc.NONE),this.store=o,this.peerConnection=new RTCPeerConnection($c.resolvePCConfiguration(A),{optional:[{googDscp:!0}]}),this.statsFilter=Dd(this.peerConnection,J("STATS_UPDATE_INTERVAL"),void 0,zt()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}getPreMedia(A){const o=this.preSSRCMap.get(A);if(o!==void 0){const s=this.peerConnection.getTransceivers().find(c=>c.mid===o);if(s)return{transceiver:s,track:s.receiver.track,id:o}}}async updateRemoteRTPCapabilities(A,o){if(this.remoteCodecs=o,!this.remoteSDP)return void N.debug("[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: ".concat(this.localCodecs,", codecs: ").concat(o));if(this.remoteSDP.updateRemoteCodec(A,o,this.store.codec)){const s=await this.peerConnection.createOffer(),c=this.logSDPExchange(s.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(s);const I=this.remoteSDP.toString();c==null||c(I),await this.peerConnection.setRemoteDescription({type:"answer",sdp:I})}else N.debug("[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.")}async establish(){try{this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"});const A=await this.peerConnection.createOffer();if(!A.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const o=an(A.sdp),s=await $S({filterRTX:!J("USE_PUB_RTX")&&!J("USE_SUB_RTX"),filterVideoFec:J("FILTER_VIDEO_FEC"),filterAudioFec:J("FILTER_AUDIO_FEC"),filterVideoCodec:J("FILTER_VIDEO_CODEC")},this.extension);return this.localCapabilities=xI(s),this.initialOffer=A,go(go({},o),{},{rtpCapabilities:s,offerSDP:A.sdp})}catch(A){throw new Ae(G.GET_LOCAL_CONNECTION_PARAMS_FAILED,A.toString())}}async connect(A){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new B2(go(go({},A),{},{localCapabilities:this.localCapabilities})),A.preallocation&&(this.isPreallocation=!0),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const o=this.remoteSDP.toString(),s=XS(this.initialOffer.sdp,this.extension),c=this.logSDPExchange(s||"","offer","local","connect");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:"offer",sdp:s}),c==null||c(o),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o});const I=this.peerConnection.getTransceivers()[0];if(I!=null&&I.receiver&&this.tryBindTransportEvents(I.receiver),J("PRELOAD_MEDIA_COUNT")>0){this.remoteSDP.preloadRemoteMedia(J("PRELOAD_MEDIA_COUNT"));const l=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:l});const d=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(d)}const{preSSRCs:C}=A;if(Array.isArray(C)&&C.length>0){const{mids:l}=this.remoteSDP.batchSend(C.map(d=>({kind:d.kind,ssrcMsg:[{ssrcId:d.ssrcId,rtx:d.rtx}],mslabel:d.mslabel})));l.forEach((d,h)=>{this.preSSRCMap.set(C[h].ssrcId,d)}),await YI(this.peerConnection,this.remoteSDP,this.extension),N.debug("[".concat(this.store.clientId,"] [P2PConnection] pre-batchReceive exchange SDP."))}}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(o.toString()))}}async updateRemoteConnect(A){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateRemoteConnect before remote SDP created");const{rtpCapabilities:o}=A;this.remoteSDP.updateRemoteRTPCapabilities(o),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const{preSSRCs:s}=A;if(Array.isArray(s)&&s.length>0){const{mids:c}=this.remoteSDP.batchSend(s.map(I=>Object.assign({},{kind:I.kind,ssrcMsg:[{ssrcId:I.ssrcId,rtx:I.rtx}],mslabel:I.mslabel})));c.forEach((I,C)=>{this.preSSRCMap.set(s[C].ssrcId,I)})}await YI(this.peerConnection,this.remoteSDP,this.extension),N.debug("[P2PConnection] updateRemoteRTPCapabilities by exchanging SDP.")}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.updateRemoteConnect failed; ".concat(o.toString()))}}send(A,o,s){var c=this;return Kr(function*(){const I=yield ht(c.mutex.lock("From P2PConnection.send"));try{if(!c.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const C=[];A.forEach(v=>{const b=c.peerConnection.addTransceiver(v._mediaStreamTrack,{direction:"sendonly"});C.push(b),v._updateRtpTransceiver(b)}),zt()&&J("SIMULCAST")===!0&&(yield ht(c.applySimulcastForFirefox(C,A)));const l=yield ht(c.peerConnection.createOffer()),d=c.remoteSDP.predictReceivingMids(A.length),h=c.mungSendOfferSDP(l.sdp,A,d),Q=PA.parse(h),_=d.map(v=>{const b=Q.mediaDescriptions.find(P=>P.attributes.mid===v);if(!b)throw new Error("Cannot extract ssrc from mediaDescription.");return JS(b,J("USE_PUB_RTX"))});let S;try{S=yield _}catch(v){S=[],c.remoteSDP.receive(A,o,s,S);const b=c.remoteSDP.toString();throw yield ht(c.peerConnection.setLocalDescription({type:"offer",sdp:h})),yield ht(c.peerConnection.setRemoteDescription({type:"answer",sdp:b})),yield ht(c.stopSending(d,!0)),v}c.remoteSDP.receive(A,o,s,S);const w=c.remoteSDP.toString(),k=c.logSDPExchange(h,"offer","local","send");return yield ht(c.peerConnection.setLocalDescription({type:"offer",sdp:h})),yield ht(c.applySimulcastEncodings(C,A)),yield ht(c.applySendEncodings(C,A)),k==null||k(w),yield ht(c.peerConnection.setRemoteDescription({type:"answer",sdp:w})),C.map((v,b)=>{const P=d[b];return{localSSRC:_[b],id:P,transceiver:v}})}catch(C){throw C instanceof Ae?C:new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(C.toString()))}finally{I()}})()}async createDataChannels(A,o){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.createDataChannels before remote SDP created");let s=this.dataStreamChannelMap.get(A);if(s&&s.readyState==="open")N.debug("[P2PConnection] Channels are already available and can be reused directly.");else{const I=this.currentDataChannelId<1023?this.currentDataChannelId++:this.recoveredDataChannelIds.shift();if(typeof I!="number")throw new Error("create DataChannel error, because cannot get dc id");s=this.peerConnection.createDataChannel("datastream-channel",{id:I,negotiated:!0,ordered:!1,maxRetransmits:J("DATASTREAM_MAX_RETRANSMITS")}),s.binaryType="arraybuffer",this.dataStreamChannelMap.set(A,s)}o.forEach(I=>{I._updateOriginDataChannel(s)});const{needExchangeSDP:c}=this.remoteSDP.sendDataChannel();if(c){const I=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:I});const C=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(C),N.debug("[P2PConnection] createDataChannels by exchanging SDP.")}else N.debug("[P2PConnection] createDataChannels no need to exchange SDP.");return}catch(s){throw s instanceof Ae?s:new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.createDataChannels failed; ".concat(s.toString()))}}async stopDataChannels(A){try{const o=this.dataStreamChannelMap.get(A);return o&&(o.id&&this.recoveredDataChannelIds.push(o.id),o.close()),void this.dataStreamChannelMap.delete(A)}catch(o){throw o instanceof Ae?o:new Ae(G.DATACHANNEL_FAILED,"P2PConnection.stopDataChannels failed; ".concat(o.toString()))}}async stopSending(A,o){const s=o?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const c=this.peerConnection.getTransceivers().filter(d=>A.indexOf(d.mid)!==-1);if(c.length!==A.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");c.map(d=>{var h;ZI(this.id+d.mid,this),d.direction="inactive",(h=d.stop)===null||h===void 0||h.call(d)});const I=await this.peerConnection.createOffer(),C=this.logSDPExchange(I.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(I),this.remoteSDP.stopReceiving(A);const l=this.remoteSDP.toString();C==null||C(l),await this.peerConnection.setRemoteDescription({type:"answer",sdp:l})}catch(c){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(c.toString()))}finally{s&&s()}}async receive(A,o,s,c){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(A," before remoteSDP created."));const{mid:I,needExchangeSDP:C}=this.remoteSDP.send(A,o,s,c);C&&(await YI(this.peerConnection,this.remoteSDP,this.extension),N.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(A," by exchanging SDP.")));const l=this.peerConnection.getTransceivers().find(d=>d.mid===I);if(!l)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:l.receiver.track,id:I,transceiver:l}}catch(I){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(I.toString()))}}async batchReceive(A){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const{mids:o,needExchangeSDP:s}=this.remoteSDP.batchSend(A);return s&&(await YI(this.peerConnection,this.remoteSDP,this.extension),N.debug("[".concat(this.store.clientId,"] [P2PConnection] batchReceive by exchanging SDP."))),o.map(c=>{const I=this.peerConnection.getTransceivers().find(C=>C.mid===c);if(!I)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:I.receiver.track,id:c,transceiver:I}})}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(o.toString()))}}async stopReceiving(A){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");A.forEach(I=>{Array.from(this.preSSRCMap.entries()).some(C=>{let[l,d]=C;if(d===I)return this.preSSRCMap.delete(l),!0})}),this.remoteSDP.stopSending(A);const o=this.remoteSDP.toString(),s=this.logSDPExchange(o,"offer","remote","stopReceiving");await this.peerConnection.setRemoteDescription({type:"offer",sdp:o});const c=await this.peerConnection.createAnswer();s==null||s(c.sdp||""),await this.peerConnection.setLocalDescription(c)}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(o.toString()))}}async muteRemote(A){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteRemote mid=".concat(A," before remote SDP created."));this.remoteSDP.mute(A);const o=this.remoteSDP.toString(),s=this.logSDPExchange(o,"offer","remote","muteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:o});const c=await this.peerConnection.createAnswer();s==null||s(c.sdp||""),await this.peerConnection.setLocalDescription(c)}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.muteRemote failed; ".concat(o.toString()))}}async unmuteRemote(A){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteRemote mid=".concat(A," before remote SDP created."));this.remoteSDP.unmute(A);const o=this.remoteSDP.toString(),s=this.logSDPExchange(o,"offer","remote","unmuteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:o});const c=await this.peerConnection.createAnswer();s==null||s(c.sdp||""),await this.peerConnection.setLocalDescription(c)}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteRemote failed; ".concat(o.toString()))}}async muteLocal(A){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const o=this.peerConnection.getTransceivers().filter(C=>C.mid&&A.indexOf(C.mid)!==-1);if(o.length!==A.length)throw new Error("Transceivers' length doesn't match mids' length.");o.map(C=>{C.direction="inactive"});const s=await this.peerConnection.createOffer(),c=this.logSDPExchange(s.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(s),this.remoteSDP.muteRemote(A);const I=this.remoteSDP.toString();c==null||c(I),await this.peerConnection.setRemoteDescription({type:"answer",sdp:I})}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(o.toString()))}}async unmuteLocal(A){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const o=this.peerConnection.getTransceivers().filter(C=>C.mid&&A.indexOf(C.mid)!==-1);if(o.length!==A.length)throw new Error("Transceivers' length doesn't match mids' length.");o.map(async(C,l)=>{C.direction="sendonly"});const s=await this.peerConnection.createOffer(),c=this.logSDPExchange(s.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(s),this.remoteSDP.unmuteRemote(A);const I=this.remoteSDP.toString();c==null||c(I),await this.peerConnection.setRemoteDescription({type:"answer",sdp:I})}catch(o){throw new Ae(G.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(o.toString()))}}restartICE(A){var o=this;return Kr(function*(){const s=yield ht(o.mutex.lock("From P2PConnection.restartICE"));try{if(!o.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(Ct().supportPCSetConfiguration){const h=o.peerConnection.getConfiguration(),Q=A===bi.RELAY?"relay":"all";h.iceTransportPolicy!==Q&&(N.debug("[".concat(o.store.clientId,"] restartICE change iceTransportPolicy from [").concat(h.iceTransportPolicy,"] to [").concat(Q,"]")),h.iceTransportPolicy=Q,o.peerConnection.setConfiguration(h))}else if(A===bi.RELAY)return;o.remoteSDP.updateCandidates(A);const c=yield ht(o.peerConnection.createOffer({iceRestart:!0}));if(!c.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const I=an(c.sdp),{remoteIceParameters:C}=yield I.iceParameters;o.remoteSDP.restartICE(C);const l=o.remoteSDP.toString(),d=o.logSDPExchange(c.sdp||"","offer","local","restartICE");o.store.descriptionStart(),yield ht(o.peerConnection.setLocalDescription(c)),d==null||d(l),yield ht(o.peerConnection.setRemoteDescription({type:"answer",sdp:l}))}catch(c){N.warning("[".concat(o.store.clientId,"] restart ICE failed, abort operation"),c)}finally{s()}})()}close(){var A;this.peerConnection.getTransceivers().forEach(o=>{ZI(this.id+o.mid,this)}),this.preSSRCMap.clear(),this.peerConnection.close(),(A=this.onConnectionStateChange)===null||A===void 0||A.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear(),this.recoveredDataChannelIds=[],this.currentDataChannelId=1}getStats(){return go(go({},this.statsFilter.getStats()),{},{qualityLimitationReason:this.qualityLimitationReason})}getRemoteVideoIsReady(A){return this.statsFilter.getVideoIsReady(A)}async updateEncoderConfig(A,o){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const s=await this.peerConnection.createOffer(),c=this.mungSendOfferSDP(s.sdp,[o],[A]);this.remoteSDP.updateRecvMedia(A,o);const I=this.remoteSDP.toString(),C=this.logSDPExchange(c,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:c}),C==null||C(I),await this.peerConnection.setRemoteDescription({type:"answer",sdp:I})}catch(s){throw new Ae(G.EXCHANGE_SDP_FAILED,s.toString())}}async updateSendParameters(A,o){const s=this.peerConnection.getTransceivers().filter(c=>c.mid===A);s.length===1&&(this.isVP8Simulcast(o)?zt()||await this.applySimulcastEncodings(s,[o]):await this.applySendEncodings(s,[o]))}setStatsRemoteVideoIsReady(A,o){this.statsFilter.setVideoIsReady2(A,o)}async replaceTrack(A,o){const s=this.peerConnection.getTransceivers().find(c=>c.mid===o);s&&await s.sender.replaceTrack(A._mediaStreamTrack)}async getSelectedCandidatePair(){const A=this.peerConnection.getReceivers();if(A.length>0&&A[0].transport&&A[0].transport.iceTransport&&A[0].transport.iceTransport.getSelectedCandidatePair&&A[0].transport.iceTransport.getSelectedCandidatePair()){const o=A[0].transport.iceTransport,{local:s,remote:c}=o.getSelectedCandidatePair();return{local:go(go({},co),{},{candidateType:s.type,protocol:s.protocol,address:s.address,port:s.port}),remote:go(go({},co),{},{candidateType:c.type,protocol:c.protocol,address:c.address,port:c.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var A;(A=this.onICEConnectionStateChange)===null||A===void 0||A.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var A;(A=this.onConnectionStateChange)===null||A===void 0||A.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=A=>{A.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,N.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,N.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))},J("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(A){const o={iceServers:[]};return A.iceServers?o.iceServers=A.iceServers:A.turnServer&&A.turnServer.mode!=="off"&&(aI(A.turnServer.servers)?o.iceServers=A.turnServer.servers:(o.iceServers&&o.iceServers.push(...$c.turnServerConfigToIceServers(A.turnServer.servers)),J("USE_TURN_SERVER_OF_GATEWAY")&&o.iceServers&&A.turnServer.serversFromGateway&&o.iceServers.push(...$c.turnServerConfigToIceServers(A.turnServer.serversFromGateway)),J("FORCE_TURN_TCP")?o.iceTransportPolicy="relay":A.turnServer.servers.concat(A.turnServer.serversFromGateway||[]).forEach(s=>{s.forceturn&&(o.iceTransportPolicy="relay")}))),J("ENABLE_ENCODED_TRANSFORM")&&Ct().supportWebRTCEncodedTransform&&(o.encodedInsertableStreams=!0),o}static turnServerConfigToIceServers(A){const o=[];return A.forEach(s=>{s.security?s.tcpport&&o.push({username:s.username,credential:s.password,credentialType:"password",urls:"turns:".concat(xs(s.turnServerURL),":").concat(s.tcpport,"?transport=tcp")}):(s.udpport&&!J("FORCE_TURN_TCP")&&o.push({username:s.username,credential:s.password,credentialType:"password",urls:"turn:".concat(s.turnServerURL,":").concat(s.udpport,"?transport=udp")}),s.tcpport&&o.push({username:s.username,credential:s.password,credentialType:"password",urls:"turn:".concat(s.turnServerURL,":").concat(s.tcpport,"?transport=tcp")}))}),o}tryBindTransportEvents(A){const o=A.transport;if(o){this.transportEventReceiver=A,o.onstatechange=()=>{var c;o!=null&&o.state&&((c=this.onDTLSTransportStateChange)===null||c===void 0||c.call(this,o.state))},o.onerror=c=>{var I;(I=this.onDTLSTransportError)===null||I===void 0||I.call(this,"error"in c?c.error:c)};const s=o.iceTransport;s&&(s.onstatechange=()=>{const c=o==null?void 0:o.iceTransport.state;var I;c&&((I=this.onICETransportStateChange)===null||I===void 0||I.call(this,c))},s.getSelectedCandidatePair&&(s.onselectedcandidatepairchange=()=>{if(s.getSelectedCandidatePair()){const{local:c,remote:I}=s.getSelectedCandidatePair();N.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:c.type,protocol:c.protocol}),", remote ").concat(JSON.stringify({candidateType:I.type,protocol:I.protocol,address:I.address,port:I.port})," )"))}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(A,o){var s,c;if(o||(o=this.peerConnection.getSenders().find(b=>b.track===A._mediaStreamTrack)),!o)return N.warn("[".concat(A.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(A))return N.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!Ct().supportSetRtpSenderParameters)return N.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const I={},C={};switch(A._optimizationMode){case"motion":I.degradationPreference="maintain-framerate";break;case"detail":I.degradationPreference="maintain-resolution";break;case"balanced":I.degradationPreference="balanced"}const l=function(v,b){return v.getTransceivers().find(P=>P.sender.track===b||P.receiver.track===b)}(this.peerConnection,A._mediaStreamTrack),d=Ox(A);if(Q2(A)&&l&&o&&d&&this.getLocalVideoStats&&Re(s=["vp8","vp9"]).call(s,this.store.codec)){var h;const v=I.degradationPreference||(Re(h=A._hints).call(h,xt.CUSTOM_TRACK)?J("CUSTOM_ADAPTATION_DEFAULT_MODE"):"maintain-framerate");(function(b,P,K,W,X,Z){if(ZI(b,K),X(P),W!=="balanced"&&W!=="maintain-framerate"&&W!=="maintain-resolution")return;let ie=-1;ow(b,P);const ce=window.setInterval(()=>{const Ce=XI.get(b);if(!J("ENABLE_AG_ADAPTATION")||!Ce)return ZI(b,K),void X(P);const be=Z();if(be.sendPackets>0&&be.OutgoingAvailableBandwidth>0){if(ie===-1)return void(ie=Date.now());if(Date.now()-ie<1e3)return;const tt=be.sendFrameRate,ft=be.OutgoingAvailableBandwidth,[Pt,dA]=p2(b,tt,ft,Ce.adaptationConfig,P,W);dA&&(K.qualityLimitationReason=dA),Pt&&Ce.adaptationConfig.scale!==Pt.scale&&(N.debug("[".concat(b,"] applyAdaptation: ").concat(K.qualityLimitationReason,`
           sendFps `).concat(tt,", bwe ").concat(ft,", switch from ").concat(Ce.adaptationConfig.scale," to ").concat(Pt.scale," ")),Ce.adaptationConfig=bd(bd({},Ce.adaptationConfig),Pt),X(Pt))}},J("CHECK_LOCAL_STATS_INTERVAL")),de=bd({},P);XI.set(b,{timer:ce,adaptationConfig:de,originConfig:P,adaptationFunc:X}),N.debug("[".concat(b,"] start adaptation, originConfig: ").concat(JSON.stringify(P),", degradationPreference: ").concat(W))})(this.id+l.mid,d,this,v,b=>{o&&this.updateAdaptation(o,b)},this.getLocalVideoStats.bind(this))}if(A._encoderConfig){var Q;const{bitrateMax:v,frameRate:b,scaleResolutionDownBy:P}=A._encoderConfig;v&&(C.maxBitrate=1e3*v),(Re(Q=A._hints).call(Q,xt.LOW_STREAM)||A.isUseScaleResolutionDownBy)&&(b&&(C.maxFramerate=vi(b)),P&&P>=1&&(C.scaleResolutionDownBy=P))}const{maxFramerate:_}=J("ENCODER_CONFIG_LIMIT");if(_&&typeof _=="number"&&(C.maxFramerate=C.maxFramerate?Math.min(C.maxFramerate,_):_),J("DSCP_TYPE")&&Xo()){var S;const v=J("DSCP_TYPE");Re(S=["very-low","low","medium","high"]).call(S,v)&&(C.networkPriority=v)}const w=o.getParameters(),k=(c=w.encodings)===null||c===void 0?void 0:c[0];zt()&&!k&&(I.encodings=[C]),k&&Object.assign(k,C),Object.assign(w,I),N.debug("[".concat(A.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(w.encodings))),await o.setParameters(w),await async function(v,b,P){try{var K;if(!Ct().supportSetRtpSenderParameters||!function(ce){return ce==="vp9"}(v)||!J("ENABLE_SVC"))return;const W={},X={},Z=b.getParameters(),ie=(K=Z.encodings)===null||K===void 0?void 0:K[0];X.scalabilityMode=sd(P),ie&&Object.assign(ie,X),Object.assign(Z,W),await b.setParameters(Z),N.debug("[updateAdaptation] updateRtpSenderEncodings scalabilityMode success: ".concat(JSON.stringify(Z.encodings)))}catch(W){N.debug("[updateAdaptation] updateRtpSenderEncodings scalabilityMode failed",W)}}(this.store.codec,o,J("SVC_MODE"))}async updateAdaptation(A,o){var s,c;if(!A)return N.debug("[updateAdaptation] no rtpSender found");if(!Ct().supportSetRtpSenderParameters)return N.debug("[updateAdaptation] Browser not support set rtp-sender parameters");const I={},{bitrateMax:C,frameRate:l,scaleResolutionDownBy:d}=o;C&&(I.maxBitrate=1e3*C),l&&(I.maxFramerate=vi(l)),d&&d>=1&&Re(s=["vp8","vp9"]).call(s,this.store.codec)&&(I.scaleResolutionDownBy=d);const h=A.getParameters(),Q=(c=h.encodings)===null||c===void 0?void 0:c[0];Q&&Object.assign(Q,I),Object.assign(h,{});try{await A.setParameters(h),N.debug("[updateAdaptation] updateRtpSenderEncodings: ".concat(JSON.stringify(h.encodings)))}catch(_){!("transport"in A)||A.transport&&A.transport.state==="connected"?this.peerConnectionState!=="connected"?N.debug("[updateAdaptation] peerConnection not connected}"):N.debug("[updateAdaptation] updateRtpSenderEncodings failed",_):N.debug("[updateAdaptation] rtpSender transport not connected}")}}async applySendEncodings(A,o){try{if(!Ct().supportSetRtpSenderParameters||A.length!==o.length)return;for(let s=0;s<A.length;s++){const c=A[s],I=o[s];I instanceof Ft&&!this.isVP8Simulcast(I)&&await this.updateRtpSenderEncodings(I,c.sender)}}catch{N.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(A,o,s){const c=PA.parse(A);return o.forEach((I,C)=>{const l=s[C],d=c.mediaDescriptions.find(h=>h.attributes.mid===l);d&&(na(d,I),jS(d,I,this.store.codec))}),PA.print(c)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=A=>{var o;(o=this.onFirstAudioReceived)===null||o===void 0||o.call(this,A)},this.statsFilter.onFirstVideoReceived=A=>{var o;(o=this.onFirstVideoReceived)===null||o===void 0||o.call(this,A)},this.statsFilter.onFirstAudioDecoded=A=>{var o;(o=this.onFirstAudioDecoded)===null||o===void 0||o.call(this,A)},this.statsFilter.onFirstVideoDecoded=(A,o,s)=>{var c;(c=this.onFirstVideoDecoded)===null||c===void 0||c.call(this,A,o,s)},this.statsFilter.onSelectedLocalCandidateChanged=(A,o)=>{var s;(s=this.onSelectedLocalCandidateChanged)===null||s===void 0||s.call(this,A,o)},this.statsFilter.onSelectedRemoteCandidateChanged=(A,o)=>{var s;(s=this.onSelectedRemoteCandidateChanged)===null||s===void 0||s.call(this,A,o)},this.statsFilter.onFirstVideoDecodedTimeout=A=>{var o;(o=this.onFirstVideoDecodedTimeout)===null||o===void 0||o.call(this,A)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(A,o){if(A.length===o.length)for(let d=0;d<A.length;d++){var s,c,I,C,l;const h=A[d],Q=o[d];if(Q instanceof Ft&&!Re(s=Q._hints).call(s,xt.LOW_STREAM)&&(c=Q._encoderConfig)!==null&&c!==void 0&&c.bitrateMax&&((I=Q._encoderConfig)===null||I===void 0?void 0:I.bitrateMax)>200&&(C=Q._scalabilityMode)!==null&&C!==void 0&&C.numSpatialLayers&&((l=Q._scalabilityMode)===null||l===void 0?void 0:l.numSpatialLayers)>1&&this.store.codec==="vp8"){const _={},S={high:1e3*(Q._encoderConfig.bitrateMax-50),medium:5e4};_.encodings=[{rid:"m",active:!0,maxBitrate:S.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:S.high}];const w=h.sender.getParameters();await h.sender.setParameters(Object.assign(w,_))}}}async applySimulcastEncodings(A,o){if(!zt()&&A.length===o.length)for(let s=0;s<A.length;s++){const c=o[s];if(c instanceof Ft&&this.isVP8Simulcast(c)){const I=A[s],C={},l={high:1e3*(c._encoderConfig.bitrateMax-50),medium:5e4};C.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:l.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:l.medium,scaleResolutionDownBy:4}];const d=I.sender.getParameters();await I.sender.setParameters(Object.assign(d,C))}}}isVP8Simulcast(A){var o,s,c,I,C;return!!(A instanceof Ft&&J("SIMULCAST")&&this.store.codec==="vp8"&&!Re(o=A._hints).call(o,xt.LOW_STREAM)&&(s=A._encoderConfig)!==null&&s!==void 0&&s.bitrateMax&&((c=A._encoderConfig)===null||c===void 0?void 0:c.bitrateMax)>200&&(I=A._scalabilityMode)!==null&&I!==void 0&&I.numSpatialLayers&&((C=A._scalabilityMode)===null||C===void 0?void 0:C.numSpatialLayers)>1)}logSDPExchange(A,o,s,c){if(J("SDP_LOGGING"))return N.upload("[".concat(this.store.clientId,"] exchanging ").concat(s," ").concat(o," SDP during P2PConnection.").concat(c,`
`),A),o==="offer"?I=>{this.logSDPExchange(I,"answer",s==="local"?"remote":"local",c)}:void 0}async getRemoteSSRC(A){if(!this.remoteSDP)return;const o=this.remoteSDP.getSSRC(A);return o&&o.length!==0?o[0].ssrcId:void 0}setConfiguration(A){if(Ct().supportPCSetConfiguration){const o=$c.resolvePCConfiguration(A);this.peerConnection.setConfiguration(o)}}},Ne(ct.prototype,"updateRemoteRTPCapabilities",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"updateRemoteRTPCapabilities"),ct.prototype),Ne(ct.prototype,"connect",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"connect"),ct.prototype),Ne(ct.prototype,"updateRemoteConnect",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"updateRemoteConnect"),ct.prototype),Ne(ct.prototype,"createDataChannels",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"createDataChannels"),ct.prototype),Ne(ct.prototype,"receive",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"receive"),ct.prototype),Ne(ct.prototype,"batchReceive",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"batchReceive"),ct.prototype),Ne(ct.prototype,"stopReceiving",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"stopReceiving"),ct.prototype),Ne(ct.prototype,"muteRemote",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"muteRemote"),ct.prototype),Ne(ct.prototype,"unmuteRemote",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"unmuteRemote"),ct.prototype),Ne(ct.prototype,"muteLocal",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"muteLocal"),ct.prototype),Ne(ct.prototype,"unmuteLocal",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"unmuteLocal"),ct.prototype),Ne(ct.prototype,"close",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"close"),ct.prototype),Ne(ct.prototype,"updateEncoderConfig",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"updateEncoderConfig"),ct.prototype),Ne(ct.prototype,"updateSendParameters",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"updateSendParameters"),ct.prototype),Ne(ct.prototype,"replaceTrack",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"replaceTrack"),ct.prototype),Ne(ct.prototype,"updateAdaptation",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"updateAdaptation"),ct.prototype),Ne(ct.prototype,"getRemoteSSRC",[Bi],Object.getOwnPropertyDescriptor(ct.prototype,"getRemoteSSRC"),ct.prototype),ct);function Bi(t,A,o){const s=t[A];if(typeof s!="function")throw new Error("Cannot use mutex on object property.");return o.value=async function(){const c=this.mutex,I=await c.lock("From P2PConnection.".concat(A));try{for(var C=arguments.length,l=new Array(C),d=0;d<C;d++)l[d]=arguments[d];return await s.apply(this,l)}finally{I()}},o}var et;function cw(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function Io(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?cw(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):cw(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}function gw(t){var A,o,s,c=2;for(typeof Symbol<"u"&&(o=h2,s=Symbol.iterator);c--;){if(o&&(A=t[o])!=null)return A.call(t);if(s&&(A=t[s])!=null)return new zI(A.call(t));o="@@asyncIterator",s="@@iterator"}throw new TypeError("Object is not async iterable")}function zI(t){function A(o){if(Object(o)!==o)return pe.reject(new TypeError(o+" is not an object."));var s=o.done;return pe.resolve(o.value).then(function(c){return{value:c,done:s}})}return zI=function(o){this.s=o,this.n=o.next},zI.prototype={s:null,n:null,next:function(){return A(this.n.apply(this.s,arguments))},return:function(o){var s=this.s.return;return s===void 0?pe.resolve({value:o,done:!0}):A(s.apply(this.s,arguments))},throw:function(o){var s=this.s.return;return s===void 0?pe.reject(o):A(s.apply(this.s,arguments))}},new zI(t)}let eE=(et=class extends Xt{get state(){return this._state}set state(t){const A=this._state;this._state=t,this.emit(Ge.StateChange,A,this._state)}constructor(t,A){super(),L(this,"isPlanB",void 0),L(this,"store",void 0),L(this,"statsUploader",void 0),L(this,"connection",void 0),L(this,"localTrackMap",new Map),L(this,"remoteUserMap",new Map),L(this,"localDataChannels",[]),L(this,"remoteDataChannelMap",new Map),L(this,"pendingLocalTracks",[]),L(this,"pendingRemoteTracks",[]),L(this,"pendingLocalDataChannels",[]),L(this,"pendingRemoteDataChannels",[]),L(this,"statsCollector",void 0),L(this,"shouldForwardP2PCreation",void 0),L(this,"iceFailedCount",0),L(this,"dtlsFailedCount",0),L(this,"mutex",new $A("P2PChannel-mutex")),L(this,"_state",mt.Disconnected),L(this,"_pcStatsUploadType",J("NEW_ICE_RESTART")?bo.FIRST_CONNECTION:bo.OLD_FIRST_CONNECTION),L(this,"_isInRestartIce",!1),L(this,"_isStartRestartIce",!1),L(this,"_restartStates",["disconnected","failed"]),L(this,"_restartTimer",void 0),L(this,"_isFirstConnected",!0),L(this,"handleMuteLocalTrack",async(o,s,c)=>{const I=await this.mutex.lock("Locking from P2PChannel.handleMuteLocalTrack");try{if(!this.connection||this.state!==mt.Connected)return void c(new Ae(G.INVALID_OPERATION,"Cannot call P2PChannel.handleMuteLocalTrack before connection established."));const C=this.filterTobeMutedTracks(o);if(C.length===0)return void s();const l=C.find(h=>h[0]==="videoLowTrack");l&&l[1].track._originMediaStreamTrack.stop(),await this.connection.muteLocal(C.map(h=>{let[,{id:Q}]=h;return Q}));const d=this.createMuteMessage(C);await Mt(this,Ge.RequestMuteLocal,d),s()}catch(C){c(C)}finally{I()}}),L(this,"handleUnmuteLocalTrack",async(o,s,c)=>{const I=await this.mutex.lock("Locking from P2PChannel.handleUnmuteLocalTrack");try{if(!this.connection||this.state!==mt.Connected)return void c(new Ae(G.INVALID_OPERATION,"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established."));const C=this.filterTobeUnmutedTracks(o);if(C.length===0)return void s();const l=C.find(h=>h[0]==="videoLowTrack");if(l){const h=l[1];if(h.track._originMediaStreamTrack.stop(),!J("DISABLE_DUAL_STREAM_USE_ENCODING")&&Ct().supportDualStreamEncoding){const Q=o._mediaStreamTrack.clone();h.track._mediaStreamTrack=Q,h.track._originMediaStreamTrack=Q}else{const Q=wd(o,Ac(this,Ge.RequestLowStreamParameter));h.track._mediaStreamTrack=Q,h.track._originMediaStreamTrack=Q}await new pe((Q,_)=>{this.handleReplaceTrack(h.track,Q,_,!0)})}await this.connection.unmuteLocal(C.map(h=>{let[,{id:Q}]=h;return Q}));const d=this.createUnmuteMessage(C);await Mt(this,Ge.RequestUnmuteLocal,d),s()}catch(C){c(C)}finally{I()}}),L(this,"handleUpdateVideoEncoder",async(o,s,c)=>{const I=await this.mutex.lock("Locking from P2PChannel.handleSetVideoEncoder");try{const C=this.localTrackMap.get(Ie.LocalVideoTrack);if(!this.connection||!C||C.track!==o||this.state!==mt.Connected)return void s();const{id:l,track:d}=C;await this.connection.updateSendParameters(l,d),await this.connection.updateEncoderConfig(l,d),this.emit(Ge.UpdateVideoEncoder,d),s()}catch(C){c(C)}finally{I()}}),L(this,"handleUpdateVideoSendParameters",async(o,s,c)=>{const I=await this.mutex.lock("Locking from P2PChannel.handleUpdateVideoSendParameters");try{const C=this.localTrackMap.get(Ie.LocalVideoTrack);if(!this.connection||!C||C.track!==o||this.state!==mt.Connected)return void s();const{id:l,track:d}=C;await this.connection.updateSendParameters(l,d),s()}catch(C){c(C)}finally{I()}}),L(this,"handleReplaceMixingTrack",async(o,s,c,I)=>{if(!this.connection||this.state!==mt.Connected)return void s();const C=Td([o]);let l;N.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will replace audioTrack [").concat(C.getTrackId(),"]")),typeof I=="boolean"&&I||(l=await this.mutex.lock("From P2PChannel.handleReplaceMixingTrack"));try{await this.replaceTrack(o,C),s()}catch(h){c(h)}finally{var d;(d=l)===null||d===void 0||d()}}),L(this,"handleReplaceTrack",async(o,s,c,I)=>{let C;N.debug("[".concat(this.store.clientId,"] P2PChannel handleReplaceTrack for [track-id-").concat(o.getTrackId(),"]")),typeof I=="boolean"&&I||(C=await this.mutex.lock("From P2PChannel.handleReplaceTrack"));try{var l;const h=Array.from(this.localTrackMap.entries()).find(Q=>{let[,{track:_}]=Q;return o===_});if(!this.connection||!h||this.state!==mt.Connected)return void s();if(await((l=this.connection)===null||l===void 0?void 0:l.replaceTrack(o,h[1].id)),this.isPlanB){const Q=h[1];Q.id=o._mediaStreamTrack.id,this.localTrackMap.set(h[0],Q)}if(h[0]===Ie.LocalVideoTrack&&!J("DISABLE_DUAL_STREAM_USE_ENCODING")&&Ct().supportDualStreamEncoding){const Q=this.localTrackMap.get(Ie.LocalVideoLowTrack);if(Q){const _=o._mediaStreamTrack.clone();Q.track._originMediaStreamTrack.stop(),Q.track._mediaStreamTrack=_,Q.track._originMediaStreamTrack=_,await new pe((S,w)=>{this.handleReplaceTrack(Q.track,S,w,!0)})}}s()}catch(h){c(h)}finally{var d;(d=C)===null||d===void 0||d()}}),L(this,"handleGetRTCStats",o=>{o(this.statsCollector.getRTCStats())}),L(this,"handleGetLocalVideoStats",o=>{o(this.statsCollector.getLocalVideoTrackStats())}),L(this,"handleGetLocalAudioStats",o=>{o(this.statsCollector.getLocalAudioTrackStats())}),L(this,"handleGetRemoteVideoStats",o=>this.statsCollector.getRemoteVideoTrackStats(o.uid)[o.uid]),L(this,"handleGetRemoteAudioStats",o=>this.statsCollector.getRemoteAudioTrackStats(o.uid)[o.uid]),this.store=t,this.statsCollector=A,this.statsCollector.addP2PChannel(this),this.statsUploader=new LD(this.store),this.bindStatsUploaderEvents(),this.isPlanB=!Ct().supportUnifiedPlan||J("CHROME_FORCE_PLAN_B")&&Xo(),this.shouldForwardP2PCreation=J("FORWARD_P2P_CREATION")&&Ct().supportPCSetConfiguration&&Xl(),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new Rc({},this.store):new Jr({},this.store),this.bindConnectionEvents(this.connection))}async startP2PConnection(t){var A;this.state=mt.New;const o=this.shouldForwardP2PCreation&&((A=this.connection)===null||A===void 0?void 0:A.peerConnectionState)==="closed";if(this.shouldForwardP2PCreation&&!o||(o&&this.connection&&(N.warning("[".concat(this.store.clientId,"] P2PChannel.startP2PConnection ForwardP2P closed.")),this.connection.close(),this.unbindConnectionEvents(this.connection)),this.connection=this.isPlanB?new Rc(t,this.store):new Jr(t,this.store),this.bindConnectionEvents(this.connection)),!this.connection)throw new Ae(G.UNEXPECTED_ERROR,"Cannot P2PChannel.startConnection before P2PConnection initialization .");return this._pcStatsUploadType=J("NEW_ICE_RESTART")?bo.FIRST_CONNECTION:bo.OLD_FIRST_CONNECTION,this._isFirstConnected=!0,this._isInRestartIce=!1,this._isStartRestartIce=!1,this.connection.setConfiguration(t),this.connection.establishPromise}async connect(t){if(!this.connection)throw new Ae(G.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");J("ENABLE_PREALLOC_PC")&&this.state===mt.Connected?await this.connection.updateRemoteConnect(t):(this.store.peerConnectionStart(),await this.connection.connect(t),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=mt.Connected)}updateRemoteRTPCapabilities(t){const A=Array.from(this.localTrackMap.entries()).filter(c=>{var I;let[C]=c;return Re(I=[Ie.LocalVideoLowTrack,Ie.LocalVideoTrack]).call(I,C)}),o=A.map(c=>{let[,{id:I}]=c;return I}),s=A.map(c=>{let[I]=c;return I});if(this.connection instanceof Jr){if(Me.updateRemoteRTPCapabilities(this.store.sessionId,{trackTypes:JSON.stringify(s),localCodecs:JSON.stringify(this.connection.localCodecs),remoteCodecs:JSON.stringify(t)}),!Re(t).call(t,this.store.codec)){const c=["vp9","vp8","h264"].find(I=>Re(t).call(t,I));c&&(this.store.codec=c,N.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId," updateRemoteRTPCapabilities] default codec is not available, hence the fallback to ").concat(c,".")))}this.connection.updateRemoteRTPCapabilities(o,t)}}async getEstablishParams(){var t;if(this.connection instanceof Jr&&this.connection.peerConnectionState!=="closed"&&Re(t=[mt.New,mt.Connected]).call(t,this.state))return this.connection.establishPromise}async publishDataChannel(t){if(!this.connection||this.state!==mt.Connected){if(this.state===mt.Disconnected)throw new Ae(G.UNEXPECTED_ERROR,"PeerConnection already disconnected.");return t.forEach(o=>{var s;Re(s=this.pendingLocalDataChannels).call(s,o)||this.pendingLocalDataChannels.push(o)}),[]}const A=this.filterTobePublishedDataChannels(t);return A.length===0?[]:(A.forEach(o=>{const s=Date.now();this.store.publish(o.id.toString(),"datachannel",s)}),await this.connection.createDataChannels(this.store.uid,A),A.forEach(o=>{this.localDataChannels.push(o);const s=Date.now();this.store.publish(o.id+"","datachannel",void 0,s)}),t.map(o=>({streamId:o.id,ordered:o.ordered,maxRetransmits:o.maxRetransmits,metadata:o.metadata,channelId:o._originDataChannelId})))}publish(t,A,o){var s=this;return Kr(function*(){const c=yield ht(s.mutex.lock("From P2PChannel.publish"));try{if(!s.connection||s.state!==mt.Connected){if(s.state===mt.Disconnected)throw new Ae(G.UNEXPECTED_ERROR,"PeerConnection already disconnected.");s.throwIfTrackTypeNotMatch(t);const C=t.filter(l=>s.pendingLocalTracks.indexOf(l)===-1);return void(s.pendingLocalTracks=s.pendingLocalTracks.concat(C))}s.store.pubId=s.store.pubId+1,XA.markPublishStart(s.store.clientId,s.store.pubId);const I=s.filterTobePublishedTracks(t,A,o);if(I.length===0)return void(yield ht(s.tryToUnmuteAudio(t)));yield*XD(gw(s.doPublish(s.connection,I)))}finally{c()}})()}doPublish(t,A){var o=this;return Kr(function*(){A.forEach(_=>{let{track:S,type:w}=_;const k=Date.now();o.store.publish(S.getTrackId(),w===Ie.LocalAudioTrack?"audio":"video",k)}),o.bindLocalTrackEvents(A);const s=A.map(_=>{let{track:S}=_;return S}),c=yield ht(t.send(A.map(_=>{let{track:S}=_;return S}),o.store.codec,o.store.audioCodec)),I=(yield ht(c.next())).value,C=o.createGatewayPublishMessage(A,I);let l;try{l=yield C}catch(_){throw c.throw(_),(_==null?void 0:_.code)===G.WS_ABORT&&A.forEach(S=>{let{track:w}=S;o.pendingLocalTracks.indexOf(w)===-1&&o.pendingLocalTracks.push(w)}),o.unbindLocalTrackEvents(A),_}const d=o.mapPubResToRemoteConfig(C,l),h=(yield ht(c.next(d))).value,Q=J("ENABLE_VIDEO_SEI");s.forEach(async _=>{const S=_.getRTCRtpTransceiver();S&&Q&&(_.trackMediaType===Oe.VIDEO?await Fx(S.sender,_):_.trackMediaType===Oe.AUDIO&&await async function(w){if(!Ct().supportWebRTCEncodedTransform)return void N.warning("browser not support audio encoded transform");if(PI.has(w)||!w.track)return;const k={track:w.track};if(Wo()){if(!w.createEncodedStreams)return void N.warning("browser not support createEncodedStreams() API");let b=null;try{b=w.createEncodedStreams()}catch(K){return void N.error("create audio-encoded-streams error",K&&K.message)}const P=new TransformStream({transform(K,W){k.controller||(k.controller=W),w.track&&w.track.id!==k.track.id&&(N.debug("audio track changed: ".concat(k.track.id," => ").concat(w.track.id)),k.track.removeEventListener("ended",v),k.track=w.track,k.track.addEventListener("ended",v)),W.enqueue(K)}});b.readable.pipeThrough(P).pipeTo(b.writable)}else if(KA()){if(typeof RTCRtpScriptTransform>"u")return void N.warning("browser not support RTCRtpScriptTransform");const b=UI(),P=new MessageChannel;await new pe(W=>b.onmessage=X=>{X.data==="registered"&&W(void 0)});const K=new RTCRtpScriptTransform(b,{name:"tx",port:P.port2},[P.port2]);w.transform=K,await new pe(W=>b.onmessage=X=>{X.data==="started"&&W(void 0)}),P.port1.onmessage=W=>{var X;W.data.transformed&&w.track&&((X=w.track)===null||X===void 0?void 0:X.id)!==k.track.id&&(N.debug("audio track changed: ".concat(k.track.id," => ").concat(w.track.id)),k.track.removeEventListener("ended",v),k.track=w.track,k.track.addEventListener("ended",v))},k.worker=b}function v(){if(w.track){if(this.id!==w.track.id)return;w.track.removeEventListener("ended",v)}const b=PI.get(w);if(b){PI.delete(w);try{var P,K;(P=b.controller)===null||P===void 0||P.terminate(),(K=b.worker)===null||K===void 0||K.terminate()}catch(W){N.warning(W&&W.message)}}}PI.set(w,k),w.track.addEventListener("ended",v)}(S.sender))}),A.forEach(_=>{let{type:S}=_;o.statsCollector.addLocalStats(S)}),o.assignLocalTracks(A,h),o.statsUploader.startUploadOutboundStats(),A.forEach(_=>{let{track:S,type:w}=_;const k=Date.now();o.store.publish(S.getTrackId(),w===Ie.LocalAudioTrack?"audio":"video",void 0,k)})})()}async updateVideoStreamParameter(t,A){const o=this.localTrackMap.get(A);if(!o)return;if(!(o.track instanceof Ft))return N.warn("[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack");if(!(this.connection instanceof Jr||this.connection instanceof Rc))return N.warn("[updateVideoStreamParameter]: connection is not P2PConnection or P2PConnectionPlanB");const{track:s}=o,c=function(I,C){const l={};return I.height&&I.width&&(l.scaleResolutionDownBy=yu(I,C)),l.maxFramerate=I.framerate?vi(I.framerate):void 0,l.maxBitrate=I.bitrate?1e3*I.bitrate:void 0,l}(t,s);if(s._encoderConfig||(s._encoderConfig={}),A!==Ie.LocalVideoLowTrack||!J("DISABLE_DUAL_STREAM_USE_ENCODING")&&Ct().supportDualStreamEncoding)c.scaleResolutionDownBy!=null&&(s._encoderConfig.scaleResolutionDownBy=c.scaleResolutionDownBy);else{const I=s._originMediaStreamTrack;if(!I.canvas)return N.warn("[".concat(s.getTrackId(),"] no canvas on track"));(function(C,l){const d=C.canvas;l.width&&(d.width=vi(l.width)),l.height&&(d.height=vi(l.height)),l.framerate&&(d.stopCapture&&d.stopCapture(),d.stopCapture=zu(()=>{!d.startCapture&&d.stopCapture&&d.stopCapture(),d.startCapture&&d.startCapture()},vi(l.framerate)))})(I,t)}c.maxBitrate!=null&&(s._encoderConfig.bitrateMax=c.maxBitrate/1e3),c.maxFramerate!=null&&(s._encoderConfig.frameRate&&typeof s._encoderConfig.frameRate=="object"?s._encoderConfig.frameRate.max=c.maxFramerate:s._encoderConfig.frameRate={max:c.maxFramerate}),N.debug("[".concat(s.getTrackId(),"] LowStreamEncoderConfig: , ").concat(JSON.stringify(s._encoderConfig))),await this.connection.updateRtpSenderEncodings(s)}publishLowStream(t){var A=this;return Kr(function*(){if(!A.connection||A.state!==mt.Connected)return;const o=yield ht(A.mutex.lock("Locking from P2PChannel.publishLowStream"));try{const c=A.localTrackMap.get(Ie.LocalVideoTrack);if(!c)throw new Ae(G.UNEXPECTED_ERROR,"Could not find high stream");if(A.localTrackMap.has(Ie.LocalVideoLowTrack))throw new Ae(G.UNEXPECTED_ERROR,"[".concat(A.store.clientId,"] Can't publish low stream when stream already publish"));const I=[{track:A.getLowVideoTrack(c.track,t),type:Ie.LocalVideoLowTrack}];if(yield*XD(gw(A.doPublish(A.connection,I))),c.track.muted||!c.track.enabled){var s;const C=(s=A.localTrackMap.get(Ie.LocalVideoLowTrack))===null||s===void 0?void 0:s.id;C!==void 0&&(yield ht(A.connection.muteLocal([C])))}}finally{o()}})()}async republish(){this.pendingLocalTracks.length>0&&(N.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await YA(this,Ge.RequestRePublish,this.pendingLocalTracks),this.emit(Ge.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]),this.pendingLocalDataChannels.length>0&&(N.debug("Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels."),await YA(this,Ge.RequestRePublishDataChannel,this.pendingLocalDataChannels),this.pendingLocalDataChannels=[])}async reSubscribe(t){for(let A=this.pendingRemoteTracks.length-1;A>=0;A--){const{user:o,kind:s}=this.pendingRemoteTracks[A];(s!==Oe.AUDIO||o._audio_added_&&o._audioSSRC)&&(s!==Oe.VIDEO||o._video_added_&&o._videoSSRC)||this.pendingRemoteTracks.splice(A,1)}if(t)await YA(this,Ge.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:A,kind:o}of this.pendingRemoteTracks)await this.subscribe(A,o,o===Oe.VIDEO?A._videoSSRC:A._audioSSRC);this.pendingRemoteTracks.forEach(A=>{let{user:o}=A;this.emit(Ge.MediaReconnectEnd,o.uid)}),this.pendingRemoteTracks=[]}async unpublish(t){if(!this.connection||this.state!==mt.Connected)return void t.forEach(s=>{const c=this.pendingLocalTracks.indexOf(s);c!==-1&&this.pendingLocalTracks.splice(c,1)});const A=this.filterTobeUnpublishedTracks(t);if(A.length===0)return;const o=A.find(s=>s[0]==="videoLowTrack");return o&&o[1].track.close(),this.doUnpublish(this.connection,A)}async unpublishDataChannel(t){if(!this.connection||this.state!==mt.Connected)return void t.forEach(o=>{const s=this.pendingLocalDataChannels.indexOf(o);s!==-1&&this.pendingLocalDataChannels.splice(s,1)});const A=this.filterTobeUnpublishedDataChannels(t);return A.length!==0?(A.forEach(o=>{const s=this.localDataChannels.indexOf(o);s!==-1&&this.localDataChannels.splice(s,1)}),this.localDataChannels.length===0&&await this.connection.stopDataChannels(this.store.uid),A.map(o=>o.id)):void 0}async unpublishLowStream(){if(!this.connection||this.state!==mt.Connected)return;const t=this.localTrackMap.get(Ie.LocalVideoLowTrack);if(!t)return;t.track.close();const A=[[Ie.LocalVideoLowTrack,t]];return this.doUnpublish(this.connection,A)}async doUnpublish(t,A){const o=this.createGatewayUnpublishMessage(A);return await t.stopSending(A.map(s=>{let[,{id:c}]=s;return c})),this.withdrawLocalTracks(A),this.unbindLocalTrackEvents(A.map(s=>{let[c,{track:I}]=s;return{type:c,track:I}})),A.forEach(s=>{let[c]=s;this.statsCollector.removeLocalStats(c)}),this.localTrackMap.size===0&&this.statsUploader.stopUploadOutboundStats(),o}async subscribeDataChannel(t,A){if(!this.connection||this.state!==mt.Connected)throw new Ae(G.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");const o=A.filter(s=>{var c;return!((c=this.remoteDataChannelMap.get(t))!==null&&c!==void 0&&c.get(s.id))});if(o.length!==0)return await this.connection.createDataChannels(t.uid,o),o.forEach(s=>{var c;this.remoteDataChannelMap.has(t)?(c=this.remoteDataChannelMap.get(t))===null||c===void 0||c.set(s.id,s):this.remoteDataChannelMap.set(t,new Map([[s.id,s]]));const I=this.pendingRemoteDataChannels.findIndex(C=>{let{user:l,id:d}=C;return l.uid===t.uid&&d===s.id});I!==-1&&this.pendingRemoteDataChannels.splice(I,1)}),o.map(s=>s.id)}async subscribe(t,A,o,s,c){var I;if(!this.connection||this.state!==mt.Connected)throw new Ae(G.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");if((I=this.remoteUserMap.get(t))!==null&&I!==void 0&&I.has(A))return;let C,l,d;const h=this.connection.getPreMedia(o);if(h)N.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] preSSRCMap has ssrcId: ").concat(o,", no need to send sub to gateway.")),d=h.transceiver,C=h.track,l=h.id;else if(c){const S=c.find(k=>{let{stream_type:v}=k;return v===A});if(!S)throw new Ae(G.UNEXPECTED_ERROR,"Cannot subscribe to remote ".concat(A," for user: ").concat(t.uid," because subscribe answer from gateway does not contain stream_type: ").concat(A,"."));const w=await this.connection.receive(A,S.ssrcs,String(t._uintid),S.attributes);this.connection instanceof Jr&&(d=w.transceiver),C=w.track,l=w.id}else{const S=await this.connection.receive(A,[{ssrcId:o,rtx:s}],String(t._uintid),void 0);this.connection instanceof Jr&&(d=S.transceiver),C=S.track,l=S.id}A===Oe.AUDIO?(t._audioTrack?t._audioTrack._updateOriginMediaStreamTrack(C):(t._audioTrack=new oa(C,t.uid,t._uintid,this.store),N.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(t._audioTrack.getTrackId()))),d&&t._audioTrack._updateRtpTransceiver(d),this.bindRemoteTrackEvents(t,t._audioTrack)):(t._videoTrack?t._videoTrack._updateOriginMediaStreamTrack(C):(t._videoTrack=new ra(C,t.uid,t._uintid,this.store),N.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(t._videoTrack.getTrackId()))),d&&t._videoTrack._updateRtpTransceiver(d),this.bindRemoteTrackEvents(t,t._videoTrack)),J("ENABLE_VIDEO_SEI")&&d&&(A==Oe.VIDEO?await async function(S){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ct().supportWebRTCEncodedTransform)return void N.warning("browser not support video encoded transform");if(!S.track)return;if(uc.has(S)){const b=uc.get(S);return void(b&&(b.onSei=w.onSei))}const k={track:S.track,onSei:w.onSei};if(Wo()){if(!S.createEncodedStreams)return void N.warning("browser not support createEncodedStreams() API");let b=null;try{b=S.createEncodedStreams()}catch(K){return void N.error("create video-encoded-streams error",K&&K.message)}const P=new TransformStream({transform(K,W){k.controller||(k.controller=W),S.track&&S.track.id!==k.track.id&&(N.debug("video track changed: ".concat(k.track.id," => ").concat(S.track.id)),k.track.removeEventListener("ended",v),k.track=S.track,k.track.addEventListener("ended",v));const X=function(Z){const ie=new DataView(Z.data);let ce=0;for(;ce+4<Z.data.byteLength;){if(ie.getUint8(ce+0)===0&&ie.getUint8(ce+1)===0&&ie.getUint8(ce+2)===0&&ie.getUint8(ce+3)===1&&ie.getUint8(ce+4)===6){let de=ce+6,Ce=0,be=0;for(;(be=ie.getUint8(de++))===255;)Ce+=255;Ce+=be;const tt=Gx(Z.data,de,Ce);return new Uint8Array(tt)}ce++}return null}(K);X&&k.onSei&&k.onSei(X),W.enqueue(K)}});b.readable.pipeThrough(P).pipeTo(b.writable)}else if(KA()){if(typeof RTCRtpScriptTransform>"u")return void N.warning("browser not support RTCRtpScriptTransform");const b=UI(),P=new MessageChannel;await new pe(W=>b.onmessage=X=>{X.data==="registered"&&W(void 0)});const K=new RTCRtpScriptTransform(b,{name:"rx",port:P.port2},[P.port2]);S.transform=K,await new pe(W=>b.onmessage=X=>{X.data==="started"&&W(void 0)}),P.port1.onmessage=W=>{var X;W.data.transformed&&S.track&&((X=S.track)===null||X===void 0?void 0:X.id)!==k.track.id?(N.debug("video track changed: ".concat(k.track.id," => ").concat(S.track.id)),k.track.removeEventListener("ended",v),k.track=S.track,k.track.addEventListener("ended",v)):W.data.sei&&k.onSei&&k.onSei(W.data.sei)},k.worker=b}function v(){if(S.track){if(this.id!==S.track.id)return;S.track.removeEventListener("ended",v)}(function(b){const P=uc.get(b);if(P){uc.delete(b);try{var K,W;(K=P.controller)===null||K===void 0||K.terminate(),(W=P.worker)===null||W===void 0||W.terminate()}catch(X){N.warning(X&&X.message)}}})(S)}uc.set(S,k),S.track.addEventListener("ended",v)}(d.receiver,{onSei:S=>{var w;(w=t._videoTrack)===null||w===void 0||w._onSei(S)}}):A==Oe.AUDIO&&await async function(S){if(!Ct().supportWebRTCEncodedTransform)return void N.warning("browser not support audio encoded transform");if(GI.has(S))return;const w={track:S.track};if(Wo()){if(!S.createEncodedStreams)return void N.warning("browser not support createEncodedStreams() API");let v=null;try{v=S.createEncodedStreams()}catch(P){return void N.error("create audio-encoded-streams error",P&&P.message)}const b=new TransformStream({transform(P,K){w.controller||(w.controller=K),S.track&&S.track.id!==w.track.id&&(N.debug("audio track changed: ".concat(w.track.id," => ").concat(S.track.id)),w.track.removeEventListener("ended",k),w.track=S.track,w.track.addEventListener("ended",k)),K.enqueue(P)}});v.readable.pipeThrough(b).pipeTo(v.writable)}else if(KA()){if(typeof RTCRtpScriptTransform>"u")return void N.warning("browser not support RTCRtpScriptTransform");const v=UI(),b=new MessageChannel;await new pe(K=>v.onmessage=W=>{W.data==="registered"&&K(void 0)});const P=new RTCRtpScriptTransform(v,{name:"rx",port:b.port2},[b.port2]);S.transform=P,await new pe(K=>v.onmessage=W=>{W.data==="started"&&K(void 0)}),b.port1.onmessage=K=>{var W;K.data.transformed&&S.track&&((W=S.track)===null||W===void 0?void 0:W.id)!==w.track.id&&(N.debug("audio track changed: ".concat(w.track.id," => ").concat(S.track.id)),w.track.removeEventListener("ended",k),w.track=S.track,w.track.addEventListener("ended",k))},w.worker=v}function k(){S.track.removeEventListener("ended",k),function(v){const b=GI.get(v);if(b){GI.delete(v);try{var P,K;(P=b.controller)===null||P===void 0||P.terminate(),(K=b.worker)===null||K===void 0||K.terminate()}catch(W){N.warning(W&&W.message)}}}(S)}GI.set(S,w),S.track.addEventListener("ended",k)}(d.receiver));const Q=this.remoteUserMap.get(t);Q?Q.set(A,l):this.remoteUserMap.set(t,new Map([[A,l]])),this.statsCollector.addRemoteStats(t.uid),this.statsUploader.startUploadInboundStats();const _=this.pendingRemoteTracks.findIndex(S=>{let{user:w,kind:k}=S;return w.uid===t.uid&&A===k});_!==-1&&(this.pendingRemoteTracks.splice(_,1),this.emit(Ge.MediaReconnectEnd,t.uid))}async massSubscribe(t){return this.massSubscribeNoLock(t)}async massSubscribeNoLock(t){if(!this.connection||this.state!==mt.Connected)throw new Ae(G.INVALID_OPERATION,"Cannot subscribeAll remote users when peerConnection disconnected.");t=t.filter(c=>{var I;let{user:C,mediaType:l}=c;return!((I=this.remoteUserMap.get(C))!==null&&I!==void 0&&I.has(l))});const A=[],o=new Map;t.forEach(c=>{if(!this.connection)return;const I=this.connection.getPreMedia(c.ssrcId);I?o.set(c.ssrcId,I):A.push(c)});const s=await this.connection.batchReceive(A.map(c=>{let{user:I,mediaType:C,ssrcId:l,rtxSsrcId:d}=c;return{kind:C,ssrcMsg:[{ssrcId:l,rtx:d}],mslabel:String(I._uintid)}}));A.forEach((c,I)=>{o.set(c.ssrcId,s[I])}),t.forEach(c=>{let{user:I,mediaType:C,ssrcId:l}=c;const d=o.get(l);if(!d)return void N.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] cannot find ").concat(I.uid," subscribe data,").concat(C,", ").concat(l));const{track:h,id:Q,transceiver:_}=d;C===Oe.AUDIO?(I._audioTrack?I._audioTrack._updateOriginMediaStreamTrack(h):(I._audioTrack=new oa(h,I.uid,I._uintid,this.store),N.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(I._audioTrack.getTrackId()))),_&&I._audioTrack._updateRtpTransceiver(_),this.bindRemoteTrackEvents(I,I._audioTrack)):(I._videoTrack?I._videoTrack._updateOriginMediaStreamTrack(h):(I._videoTrack=new ra(h,I.uid,I._uintid,this.store),N.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(I._videoTrack.getTrackId()))),_&&I._videoTrack._updateRtpTransceiver(_),this.bindRemoteTrackEvents(I,I._videoTrack));const S=this.remoteUserMap.get(I);S?S.set(C,Q):this.remoteUserMap.set(I,new Map([[C,Q]])),this.statsCollector.addRemoteStats(I.uid),this.statsUploader.startUploadInboundStats();const w=this.pendingRemoteTracks.findIndex(k=>{let{user:v,kind:b}=k;return v.uid===I.uid&&C===b});w!==-1&&(this.pendingRemoteTracks.splice(w,1),this.emit(Ge.MediaReconnectEnd,I.uid))})}async unsubscribe(t,A,o){const s=this.pendingRemoteTracks.filter(C=>{let{user:l,kind:d}=C;return A!==void 0?l.uid===t.uid&&A===d:l.uid===t.uid});if(s.forEach(C=>{const l=this.pendingRemoteTracks.indexOf(C);this.pendingRemoteTracks.splice(l,1)}),this.connection&&this.state===mt.Connected||o||s.forEach(C=>{let{kind:l}=C;var d;if(l===Oe.AUDIO)(d=t._audioTrack)===null||d===void 0||d._destroy(),t._audioTrack=void 0;else if(l===Oe.VIDEO){var h;(h=t._videoTrack)===null||h===void 0||h._destroy(),t._videoTrack=void 0}}),!this.connection||this.state!==mt.Connected)return;const c=this.filterTobeUnSubscribedTracks(t,A);if(c.length===0)return;await this.connection.stopReceiving(c.map(C=>{let[,{id:l}]=C;return l}));const I=this.createUnsubscribeMessage(c);return this.withdrawRemoteTracks(c),this.remoteUserMap.size===0&&this.statsUploader.stopUploadInboundStats(),c.forEach(C=>{let[l,{kind:d}]=C;var h,Q;if(d===Oe.VIDEO&&l._videoSSRC&&((h=this.connection)===null||h===void 0||h.setStatsRemoteVideoIsReady(l._videoSSRC,!1)),d===Oe.VIDEO)this.unbindRemoteTrackEvents(l._videoTrack),o||((Q=l._videoTrack)===null||Q===void 0||Q._destroy(),l._videoTrack=void 0);else if(d===Oe.AUDIO){var _;this.unbindRemoteTrackEvents(l._audioTrack),!o&&((_=l._audioTrack)===null||_===void 0||_._destroy(),l._audioTrack=void 0)}}),I}async unsubscribeDataChannel(t,A){if(A.forEach(c=>{const I=this.pendingRemoteDataChannels.findIndex(C=>C.id===c.id);I!==-1&&this.pendingRemoteDataChannels.splice(I,1)}),!this.connection)return;const o=this.filterTobeUnSubscribedDataChannels(t,A);if(o.length===0)return;A.forEach(c=>{c._close()});const s=this.remoteDataChannelMap.get(t);return o.forEach(c=>{s&&s.delete(c.id)}),s&&s.size===0&&(this.remoteDataChannelMap.delete(t),await this.connection.stopDataChannels(t.uid)),o.map(c=>c.id)}async massUnsubscribe(t){return this.massUnsubscribeNoLock(t)}async massUnsubscribeNoLock(t){let A=[];for(const{user:c,mediaType:I}of t){const C=this.pendingRemoteTracks.filter(l=>{let{user:d,kind:h}=l;return I!==void 0?d.uid===c.uid&&I===h:d.uid===c.uid});C.forEach(l=>{const d=this.pendingRemoteTracks.indexOf(l);this.pendingRemoteTracks.splice(d,1)}),A=A.concat(C)}if(!this.connection||this.state!==mt.Connected)return void A.forEach(c=>{let{user:I,kind:C}=c;var l;if(C===Oe.AUDIO)(l=I._audioTrack)===null||l===void 0||l._destroy(),I._audioTrack=void 0;else if(C===Oe.VIDEO){var d;(d=I._videoTrack)===null||d===void 0||d._destroy(),I._videoTrack=void 0}});const o=Mr(t).call(t,(c,I)=>{let{user:C,mediaType:l}=I;const d=this.filterTobeUnSubscribedTracks(C,l);return c.concat(d)},[]);if(o.length===0)return;await this.connection.stopReceiving(o.map(c=>{let[,{id:I}]=c;return I}));const s=this.createUnsubscribeAllMessage(o);return this.withdrawRemoteTracks(o),this.remoteUserMap.size===0&&this.statsUploader.stopUploadInboundStats(),o.forEach(c=>{let[I,{kind:C}]=c;var l,d;if(C===Oe.VIDEO&&I._videoSSRC&&((l=this.connection)===null||l===void 0||l.setStatsRemoteVideoIsReady(I._videoSSRC,!1)),C===Oe.VIDEO)this.unbindRemoteTrackEvents(I._videoTrack),(d=I._videoTrack)===null||d===void 0||d._destroy(),I._videoTrack=void 0;else if(C===Oe.AUDIO){var h;this.unbindRemoteTrackEvents(I._audioTrack),(h=I._audioTrack)===null||h===void 0||h._destroy(),I._audioTrack=void 0}}),s}isPreSubScribe(t){return!this.connection||this.state!==mt.Connected?!1:!!this.connection.getPreMedia(t)}async muteRemote(t,A){if(!this.connection)return;const o=this.remoteUserMap.get(t);if(!o)return void N.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(t.uid,"."));if(!o.get(A))return void N.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(t.uid," media type ").concat(A,"."));const s=A===Oe.VIDEO?t._videoSSRC:t._audioSSRC;s!==void 0&&this.connection.setStatsRemoteVideoIsReady(s,!1)}async unmuteRemote(t,A){return this.unmuteRemoteNoLock(t,A)}async unmuteRemoteNoLock(t,A){if(!this.connection)return;const o=this.remoteUserMap.get(t);if(!o)return void N.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(t.uid,"."));o.get(A)||N.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(t.uid," media type ").concat(A,"."))}getAllTracks(t){const A=this.localTrackMap.get(Ie.LocalAudioTrack);if((A==null?void 0:A.track)instanceof RA){const o=A.track;return Array.from(this.localTrackMap.entries()).filter(s=>{let[c]=s;return c!==Ie.LocalAudioTrack}).filter(s=>{let[c]=s;return!(t&&c===Ie.LocalVideoLowTrack)}).map(s=>{let[,{track:c}]=s;return c}).concat(o.trackList)}return Array.from(this.localTrackMap.entries()).filter(o=>{let[s]=o;return!(t&&s===Ie.LocalVideoLowTrack)}).map(o=>{let[,{track:s}]=o;return s})}getAllDataChannels(){return this.localDataChannels}reportPublishEvent(t,A,o,s,c){if(t){const C=this.localTrackMap.get(Ie.LocalAudioTrack),l=s?this.localTrackMap.get(Ie.LocalVideoLowTrack):this.localTrackMap.get(Ie.LocalVideoTrack);Me.publish(this.store.sessionId,{eventElapse:XA.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:t,ec:A,audioName:C==null?void 0:C.track.getTrackLabel(),videoName:l==null?void 0:l.track.getTrackLabel(),screenshare:(l==null?void 0:l.track._hints.indexOf(xt.SCREEN_TRACK))!==-1,audio:!!C,video:!!l,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:c})}else{var I;o||(o=[]);const C=o.find(d=>d instanceof tA),l=s?(I=this.localTrackMap.get(Ie.LocalVideoTrack))===null||I===void 0?void 0:I.track:o.find(d=>d instanceof Ft);Me.publish(this.store.sessionId,{eventElapse:XA.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:t,ec:A,audioName:C==null?void 0:C.getTrackLabel(),videoName:l==null?void 0:l.getTrackLabel(),screenshare:(l==null?void 0:l._hints.indexOf(xt.SCREEN_TRACK))!==-1,audio:!!C,video:!!l,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:c})}}reportSubscribeEvent(t,A,o,s){const c=s===Oe.VIDEO?o._videoSSRC:o._audioSSRC;c&&Me.subscribe(this.store.sessionId,{succ:t,ec:A,video:s===Oe.VIDEO,audio:s===Oe.AUDIO,peerid:o.uid,subscribeRequestid:c,p2pid:this.store.p2pId,eventElapse:XA.measureFromSubscribeStart(this.store.clientId,c),preSsrc:this.isPreSubScribe(c)})}reset(){N.debug("[".concat(this.store.clientId,"] P2PChannel.reset")),this.mutex=new $A("P2PChannel-mutex"),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new Rc({},this.store):new Jr({},this.store),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const t=this.localTrackMap.get(Ie.LocalAudioTrack);if((t==null?void 0:t.track)instanceof RA){if(t.track.trackList.length>0){const A=t.track;t.track.trackList.forEach(o=>{A.removeAudioTrack(o)})}t.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=mt.Disconnected}getStats(){var t;return(t=this.connection)===null||t===void 0?void 0:t.getStats()}getRemoteVideoIsReady(t){var A;return((A=this.connection)===null||A===void 0?void 0:A.getRemoteVideoIsReady(t))||!1}getLocalAudioVolume(){const t=this.localTrackMap.get(Ie.LocalAudioTrack);if(t)return t.track.getVolumeLevel()}getLocalVideoSize(){const t=this.localTrackMap.get(Ie.LocalVideoTrack);if(t)return{width:t.track.videoWidth||0,height:t.track.videoHeight||0}}getEncoderConfig(t){const A=this.localTrackMap.get(t);return A&&A.track instanceof Ft||A&&A.track instanceof tA?A.track._encoderConfig:void 0}getLocalMedia(t){return this.localTrackMap.get(t)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(t,A){if(!t)return this.remoteUserMap.size>0;const o=this.remoteUserMap.get(t);return!!o&&(!A||o.has(A))}async hasRemoteMediaWithLock(t,A){if(!t)return this.remoteUserMap.size>0;const o=this.remoteUserMap.get(t);return!!o&&(!A||o.has(A))}getRemoteMedia(t){var A;const o=Array.from(Fi(A=this.remoteUserMap).call(A)).find(s=>s.uid===t);return o?{audioTrack:o.audioTrack,audioSSRC:o._audioSSRC,videoTrack:o.videoTrack,videoSSRC:o._videoSSRC}:{}}getAudioLevels(){let t=Array.from(this.remoteUserMap.entries()).map(o=>{let[s]=o;return{uid:s.uid,level:s.audioTrack?100*s.audioTrack._source.getAccurateVolumeLevel():0}});const A=this.localTrackMap.get(Ie.LocalAudioTrack);return A&&t.push({level:100*A.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),t=Pa(t).call(t,(o,s)=>o.level-s.level),t}async disconnectForReconnect(){this.connection&&(N.debug("[".concat(this.store.clientId,"] P2PChannel.disconnectForReconnect closing P2PConnection")),this.state=mt.Reconnecting,J("KEEP_LAST_FRAME")&&this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(t=>{let[A]=t;var o;A._videoTrack&&A._videoTrack._player&&((o=A._videoTrack._player.getVideoElement())===null||o===void 0||o.pause(),A._videoTrack._player.isKeepLastFrame=!0,A._videoTrack._originMediaStreamTrack.stop())}),this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new Rc({},this.store):new Jr({},this.store),this.bindConnectionEvents(this.connection)),this.localTrackMap.size!==0&&(Array.from(this.localTrackMap.entries()).forEach(t=>{var A;let[o,{track:s}]=t;switch(o){case Ie.LocalVideoTrack:Re(A=s._hints).call(A,xt.LOW_STREAM)?s.close():this.pendingLocalTracks.push(s);break;case Ie.LocalAudioTrack:s instanceof RA?this.pendingLocalTracks=this.pendingLocalTracks.concat(s.trackList):this.pendingLocalTracks.push(s);case Ie.LocalVideoLowTrack:}}),this.emit(Ge.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(t=>{let[A,o]=t;Array.from(Fi(o).call(o)).forEach(s=>{this.setPendingRemoteMedia(A,s)}),this.emit(Ge.MediaReconnectStart,A.uid)}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.localDataChannels.length!==0&&(this.localDataChannels.forEach(t=>{this.pendingLocalDataChannels.push(t)}),this.localDataChannels.length=0),this.remoteDataChannelMap.size!==0&&(Array.from(this.remoteDataChannelMap.entries()).forEach(t=>{let[A,o]=t;Array.from(Fi(o).call(o)).forEach(s=>{this.setPendingRemoteDataChannel(A,s)})}),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),N.debug("[".concat(this.store.clientId,"] P2PChannel disconnected, waiting to reconnect.")))}hasPendingRemoteDataChannel(t,A){for(const o of this.pendingRemoteDataChannels){const{user:s,id:c}=o;if((t instanceof En?t.uid:t)===s.uid&&c===A)return!0}return!1}setPendingRemoteDataChannel(t,A){this.hasPendingRemoteDataChannel(t,A)||this.pendingRemoteDataChannels.push({user:t,id:A})}hasPendingRemoteMedia(t,A){for(const o of this.pendingRemoteTracks){const{user:s,kind:c}=o;if((t instanceof En?t.uid:t)===s.uid&&A===c)return!0}return!1}setPendingRemoteMedia(t,A){this.hasPendingRemoteMedia(t,A)||this.pendingRemoteTracks.push({user:t,kind:A})}restartICE(t){var A=this;return Kr(function*(){if(!A.connection||A.state!==mt.Connected)return;const o=yield ht(A.mutex.lock("From P2PChannel.restartICE"));let s;try{s=yield ht(A.connection.restartICE(t));const I=yield ht(s.next());if(I.done)return;const C=I.value,l=yield C;switch(A.reportPCDisconnectedOrFailed(t),t){case bi.TCP:A._pcStatsUploadType=bo.TCP_RESTART;break;case bi.RELAY:A._pcStatsUploadType=bo.RELAY_RESTART;break;default:A._pcStatsUploadType=bo.OLD_RESTART}A._isInRestartIce=!0,s.next(l)}catch(I){var c;(c=s)===null||c===void 0||c.throw(I)}finally{o()}})()}getUplinkNetworkQuality(){if(!this.connection)return 0;const t=this.connection.getStats(),A=this.localTrackMap.get(Ie.LocalVideoTrack),o=this.localTrackMap.get(Ie.LocalAudioTrack),s=t.videoSend.find(w=>w.ssrc===(A==null?void 0:A.ssrcs[0].ssrcId)),c=t.audioSend.find(w=>w.ssrc===(o==null?void 0:o.ssrcs[0].ssrcId));if(!s||!c)return 1;const I=zi(this,Ge.NeedSignalRTT),C=s?s.rttMs:void 0,l=c?c.rttMs:void 0,d=C&&l?(C+l)/2:C||l,h=(d&&I?(d+I)/2:d||I)||0,Q=100*t.sendPacketLossRate*.7/50+.3*h/1500,_=Q<.17?1:Q<.36?2:Q<.59?3:Q<.1?4:5,S=A==null?void 0:A.track;if(S&&S._encoderConfig&&S._hints.indexOf(xt.SCREEN_TRACK)===-1){const w=S._encoderConfig.bitrateMax,k=t.bitrate.actualEncoded;if(w&&k){const v=(1e3*w-k)/(1e3*w);return GR[v<.15?0:v<.3?1:v<.45?2:v<.6?3:4][_]}}return _}getDownlinkNetworkQuality(){if(!this.connection)return 0;const t=this.connection.getStats();let A=0;return Array.from(this.remoteUserMap.entries()).forEach(o=>{let[s]=o;const c=s._audioSSRC,I=s._videoSSRC,C=t.audioRecv.find(k=>k.ssrc===c),l=t.videoRecv.find(k=>k.ssrc===I);if(!C&&!l)return void(A+=1);const d=zi(this,Ge.NeedSignalRTT),h=t.rtt,Q=(h&&d?(h+d)/2:h||d)||0,_=C?C.jitterMs:void 0,S=t.recvPacketLossRate;let w=.7*S*100/50+.3*Q/1500;_&&(w=.6*S*100/50+.2*Q/1500+.2*_/400),A+=w<.1?1:w<.17?2:w<.36?3:w<.59?4:5}),this.remoteUserMap.size>0?Math.round(A/this.remoteUserMap.size):A}async muteLocalTrack(t){return new pe((A,o)=>{this.handleMuteLocalTrack(t,A,o)})}async replaceTrack(t,A){var o;if(N.debug("[".concat(this.store.clientId,"] P2PChannel replaceTrack from [").concat(t.getTrackId(),"] to [").concat(A.getTrackId(),"]")),!this.connection||this.state!==mt.Connected)return;const s=Array.from(this.localTrackMap.entries()).find(I=>{let[,{track:C}]=I;return t===C});if(!s)return;const c=s[0];if(t!==A&&(this.unbindLocalTrackEvents([{track:t,type:c}]),this.bindLocalTrackEvents([{track:A,type:c}]),s[1].track=A),await((o=this.connection)===null||o===void 0?void 0:o.replaceTrack(A,s[1].id)),this.isPlanB){const I=s[1];I.id=A._mediaStreamTrack.id,this.localTrackMap.set(c,I)}if(c===Ie.LocalVideoTrack&&!J("DISABLE_DUAL_STREAM_USE_ENCODING")&&Ct().supportDualStreamEncoding){const I=this.localTrackMap.get(Ie.LocalVideoLowTrack);if(I){const C=t._mediaStreamTrack.clone();I.track._originMediaStreamTrack.stop(),I.track._mediaStreamTrack=C,I.track._originMediaStreamTrack=C,await new pe((l,d)=>{this.handleReplaceTrack(I.track,l,d,!0)})}}}filterTobePublishedTracks(t,A,o){const s=[],c=this.getAllTracks();t=Os(t=t.filter(d=>c.indexOf(d)===-1));let I,C=!1;const l=this.localTrackMap.get(Ie.LocalAudioTrack);for(const d of t){if(d instanceof Ft&&(this.localTrackMap.has(Ie.LocalVideoTrack)||C?new Ae(G.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(s.push({track:d,type:Ie.LocalVideoTrack}),C=!0),A)){const h=this.getLowVideoTrack(d,o);s.push({track:h,type:Ie.LocalVideoLowTrack})}if(d instanceof tA)if(l){const h=l.track;if(h instanceof RA)Nd([d]),h.addAudioTrack(d),this.bindLocalAudioTrackEvents(d,!0);else{const Q=Td([h,d]);N.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will replace audioTrack [").concat(Q.getTrackId(),"]")),this.replaceTrack(h,Q)}}else I instanceof RA?(Nd([d]),I.addAudioTrack(d)):I||!d._useAudioElement&&Ct().webAudioMediaStreamDest&&!d._bypassWebAudio?I=Td(I?[d,I]:[d]):I=d}return I&&(N.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will send audioTrack [").concat(I.getTrackId(),"]")),s.push({track:I,type:Ie.LocalAudioTrack})),s}filterTobeUnpublishedTracks(t){const A=[],o=this.getAllTracks();t=Os(t=t.filter(s=>o.indexOf(s)!==-1));for(const s of t){if(s instanceof tA){const c=this.localTrackMap.get(Ie.LocalAudioTrack);if(!c)continue;c.track instanceof RA?(c.track.removeAudioTrack(s),this.unbindLocalAudioTrackEvents(s),c.track.trackList.length===0&&(A.push([Ie.LocalAudioTrack,c]),c.track.close())):A.push([Ie.LocalAudioTrack,c])}if(s instanceof Ft){const c=this.localTrackMap.get(Ie.LocalVideoTrack);if(!c)continue;A.push([Ie.LocalVideoTrack,c]);const I=this.localTrackMap.get(Ie.LocalVideoLowTrack);I&&A.push([Ie.LocalVideoLowTrack,I])}}return A}filterTobePublishedDataChannels(t){return t=(t=Os(t)).filter(A=>this.localDataChannels.findIndex(o=>o.id===A.id)===-1)}filterTobeUnpublishedDataChannels(t){return t=(t=(t=Os(t)).filter(A=>this.localDataChannels.indexOf(A)!==-1)).filter(A=>A._originDataChannel)}bindLocalTrackEvents(t){t.forEach(A=>{let{track:o,type:s}=A;switch(s){case Ie.LocalVideoTrack:o.addListener(ye.GET_STATS,this.handleGetLocalVideoStats),o.addListener(ye.GET_RTC_STATS,this.handleGetRTCStats),o.addListener(ye.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),o.addListener(ye.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),o.addListener(ye.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),o.addListener(ye.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),o.addListener(ye.NEED_REPLACE_TRACK,this.handleReplaceTrack),o.addListener(ye.NEED_MUTE_TRACK,this.handleMuteLocalTrack),o.addListener(ye.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Ie.LocalAudioTrack:this.bindLocalAudioTrackEvents(o);case Ie.LocalVideoLowTrack:}})}bindLocalAudioTrackEvents(t,A){t instanceof RA?t.trackList.forEach(o=>{o.addListener(ye.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),o.addListener(ye.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),o.addListener(ye.GET_STATS,this.handleGetLocalAudioStats),o.addListener(ye.NEED_MUTE_TRACK,this.handleMuteLocalTrack),o.addListener(ye.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(t.addListener(ye.GET_STATS,this.handleGetLocalAudioStats),t.addListener(ye.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(ye.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(ye.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(ye.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),A||(t.addListener(ye.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(ye.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack)))}unbindLocalTrackEvents(t){t||(t=Array.from(this.localTrackMap.entries()).map(A=>{let[o,{track:s}]=A;return{track:s,type:o}})),t.forEach(A=>{let{track:o,type:s}=A;switch(s){case Ie.LocalVideoTrack:o.off(ye.GET_STATS,this.handleGetLocalVideoStats),o.off(ye.GET_RTC_STATS,this.handleGetRTCStats),o.off(ye.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),o.off(ye.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),o.off(ye.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),o.off(ye.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),o.off(ye.NEED_REPLACE_TRACK,this.handleReplaceTrack),o.off(ye.NEED_MUTE_TRACK,this.handleMuteLocalTrack),o.off(ye.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Ie.LocalAudioTrack:this.unbindLocalAudioTrackEvents(o);case Ie.LocalVideoLowTrack:}})}unbindLocalAudioTrackEvents(t){t instanceof RA?t.trackList.forEach(A=>{A.off(ye.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),A.off(ye.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),A.off(ye.GET_STATS,this.handleGetLocalAudioStats),A.off(ye.NEED_MUTE_TRACK,this.handleMuteLocalTrack),A.off(ye.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(t.off(ye.GET_STATS,this.handleGetLocalAudioStats),t.off(ye.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(ye.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(ye.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(ye.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack),t.off(ye.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(ye.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(t,A){A instanceof ra&&A.addListener(ye.GET_STATS,o=>{o(this.handleGetRemoteVideoStats(t))}),A instanceof oa&&A.addListener(ye.GET_STATS,o=>{o(this.handleGetRemoteAudioStats(t))})}unbindRemoteTrackEvents(t){t&&t.removeAllListeners(ye.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(t=>{let[A,o]=t;o.has(Oe.AUDIO)&&this.unbindRemoteTrackEvents(A._audioTrack),o.has(Oe.VIDEO)&&this.unbindRemoteTrackEvents(A._videoTrack)})}createGatewayPublishMessage(t,A){return t.map((o,s)=>{var c;let I,C,{track:l,type:d}=o;switch(d){case Ie.LocalAudioTrack:I=yt.Audio,C={dtx:l instanceof kI&&l._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case Ie.LocalVideoTrack:I=Re(c=l._hints).call(c,xt.SCREEN_TRACK)?yt.Screen:yt.High,C=Io(Io({},ry(l)),{},{codec:this.store.codec,svc_mode:sd()});break;case Ie.LocalVideoLowTrack:I=yt.Low,C=Io(Io({},ry(l)),{},{codec:this.store.codec,svc_mode:sd()})}return{stream_type:I,attributes:C,ssrcs:A[s]}})}createGatewayUnpublishMessage(t){return t.map(A=>{var o;let s,[c,{track:I,ssrcs:C,id:l}]=A;switch(c){case Ie.LocalVideoTrack:s=Re(o=I._hints).call(o,xt.SCREEN_TRACK)?yt.Screen:yt.High;break;case Ie.LocalAudioTrack:s=yt.Audio;break;case Ie.LocalVideoLowTrack:s=yt.Low}return{stream_type:s,ssrcs:C,mid:l}})}assignLocalTracks(t,A){t.forEach((o,s)=>{let{track:c,type:I}=o;this.localTrackMap.set(I,{track:c,id:A[s].id,ssrcs:A[s].localSSRC})})}withdrawLocalTracks(t){t.forEach(A=>{let[o]=A;this.localTrackMap.delete(o)})}bindConnectionEvents(t){t.onConnectionStateChange=async A=>{if(N.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onConnectionStateChange(").concat(A,")")),this.emit(Ge.PeerConnectionStateChange,A),A!=="connected"||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),A==="connected"&&(this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=void 0),(this._isFirstConnected||this._isInRestartIce)&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isInRestartIce=!1,this._isFirstConnected=!1,this._isStartRestartIce=!1),J("NEW_ICE_RESTART")){var o;if(Re(o=this._restartStates).call(o,A)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;const s=C=>{(t.iceConnectionState==="disconnected"||t.iceConnectionState==="checking"||t.iceConnectionState==="failed")&&(N.debug("[".concat(this.store.clientId,"] [P2PChannel] start use restartICE, type is ").concat(C)),zi(this,Ge.QueryClientConnectionState)==="CONNECTED"&&this.emit(Ge.RequestRestartICE,C))},c=()=>{t.iceConnectionState!=="disconnected"&&t.iceConnectionState!=="checking"&&t.iceConnectionState!=="failed"||(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),N.debug("[".concat(this.store.clientId,"] P2PConnection disconnected timeout, force reconnect")),setTimeout(()=>this.emit(Ge.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect())},I=J("ICE_RESTART_INTERVAL");return void(this._restartTimer=window.setTimeout(()=>{if(J("JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE")&&Ct().supportPCSetConfiguration)s(bi.RELAY),this._restartTimer=window.setTimeout(c,I);else if(zt())s(bi.UDP),this._restartTimer=window.setTimeout(c,4e3);else{if(s(bi.TCP),Ct().supportPCSetConfiguration)return void(this._restartTimer=window.setTimeout(()=>{s(bi.RELAY),this._restartTimer=window.setTimeout(c,I)},I));this._restartTimer=window.setTimeout(c,I)}},800))}}else{if(A==="disconnected"&&t.iceConnectionState==="disconnected")return setTimeout(()=>{t.iceConnectionState==="disconnected"&&J("ICE_RESTART")&&zi(this,Ge.QueryClientConnectionState)==="CONNECTED"&&this.emit(Ge.RequestRestartICE)},800),void setTimeout(()=>{t.peerConnectionState==="disconnected"&&(N.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection disconnected timeout 4000ms, force reconnect")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isInRestartIce=!1,setTimeout(()=>this.emit(Ge.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect())},4e3);A==="failed"&&(N.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection state failed, force reconnect")),this.reportPCDisconnectedOrFailed(),setTimeout(()=>this.emit(Ge.P2PLost),0),this.iceFailedCount+=1,await this.requestReconnect())}},t.onICEConnectionStateChange=A=>{A!=="connected"||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),N.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(A,")")),Me.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:A,tag:eA.TRACER}).onSuccess(),this.emit(Ge.IceConnectionStateChange,A)},t.onICETransportStateChange=A=>{N.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(A,")"))},t.onDTLSTransportStateChange=A=>{N.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(A,")"))},t.onDTLSTransportError=A=>{N.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(A,")"))},t.onFirstAudioDecoded=A=>{var o;const s=Array.from(Fi(o=this.remoteUserMap).call(o)).find(I=>I._audioSSRC===A);var c;s&&(this.store.subscribe(s.uid,"audio",void 0,void 0,void 0,Date.now()),(c=s.audioTrack)===null||c===void 0||c.emit(zs.FIRST_FRAME_DECODED),Me.firstRemoteFrame(this.store.sessionId,LA.FIRST_AUDIO_DECODE,Zt.FIRST_AUDIO_DECODE,{peer:s._uintid,subscribeElapse:XA.measureFromSubscribeStart(this.store.clientId,A),subscribeRequestid:A,p2pid:this.store.p2pId}))},t.onFirstAudioReceived=A=>{var o;const s=Array.from(Fi(o=this.remoteUserMap).call(o)).find(c=>c._audioSSRC===A);s&&Me.firstRemoteFrame(this.store.sessionId,LA.FIRST_AUDIO_RECEIVED,Zt.FIRST_AUDIO_RECEIVED,{peer:s._uintid,subscribeElapse:XA.measureFromSubscribeStart(this.store.clientId,A),subscribeRequestid:A,p2pid:this.store.p2pId})},t.onFirstVideoDecoded=(A,o,s)=>{this.reportVideoFirstFrameDecoded(A,o,s)},t.onFirstVideoReceived=A=>{var o;const s=Array.from(Fi(o=this.remoteUserMap).call(o)).find(c=>c._videoSSRC===A);s&&Me.firstRemoteFrame(this.store.sessionId,LA.FIRST_VIDEO_RECEIVED,Zt.FIRST_VIDEO_RECEIVED,{peer:s._uintid,subscribeElapse:XA.measureFromSubscribeStart(this.store.clientId,A),subscribeRequestid:A,p2pid:this.store.p2pId})},t.onSelectedLocalCandidateChanged=(A,o)=>{const s=A.candidateType==="relay",c=o.candidateType==="relay";o.candidateType!=="unknown"&&s===c||this.emit(Ge.ConnectionTypeChange,s),N.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(on(o))," -> ").concat(JSON.stringify(on(A)),")"))},t.onSelectedRemoteCandidateChanged=(A,o)=>{N.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(on(o))," -> ").concat(JSON.stringify(on(A)),")"))},t.onFirstVideoDecodedTimeout=A=>{this.reportVideoFirstFrameDecoded(A,void 0,void 0,!0)},t.getLocalVideoStats=()=>{const A=this.statsCollector.getLocalVideoTrackStats(),o=this.statsCollector.getRTCStats();return Io(Io({},A),o)}}unbindConnectionEvents(t){t.onConnectionStateChange=void 0,t.onICEConnectionStateChange=void 0,t.onICETransportStateChange=void 0,t.onDTLSTransportStateChange=void 0,t.onDTLSTransportError=void 0,t.onFirstAudioDecoded=void 0,t.onFirstAudioReceived=void 0,t.onFirstVideoDecoded=void 0,t.onFirstVideoReceived=void 0,t.onSelectedLocalCandidateChanged=void 0,t.onSelectedRemoteCandidateChanged=void 0,t.onFirstVideoDecodedTimeout=void 0,t.getLocalVideoStats=void 0}filterTobeMutedTracks(t){const A=[];if(this.getAllTracks().indexOf(t)===-1)return A;const o=this.localTrackMap.get(Ie.LocalAudioTrack);if(t instanceof tA&&(o==null?void 0:o.track)instanceof RA)return o.track.isActive||A.push([Ie.LocalAudioTrack,o]),A;const s=Array.from(this.localTrackMap.entries()).find(c=>{let[,{track:I}]=c;return t===I});if(s&&(A.push(s),s[0]===Ie.LocalVideoTrack)){const c=this.localTrackMap.get(Ie.LocalVideoLowTrack);c&&A.push([Ie.LocalVideoLowTrack,c])}return A}filterTobeUnmutedTracks(t){const A=[],o=this.localTrackMap.get(Ie.LocalAudioTrack);if(t instanceof tA&&(o==null?void 0:o.track)instanceof RA)return o.track.isActive&&A.push([Ie.LocalAudioTrack,o]),A;const s=Array.from(this.localTrackMap.entries()).find(c=>{let[,{track:I}]=c;return t===I});if(s)if(s[0]===Ie.LocalVideoTrack){A.push(s);const c=this.localTrackMap.get(Ie.LocalVideoLowTrack);c&&A.push([Ie.LocalVideoLowTrack,c])}else A.push(s);return A}createMuteMessage(t){return t.map(A=>{var o;let s,[c,{track:I,ssrcs:C,id:l}]=A;switch(c){case Ie.LocalAudioTrack:s=yt.Audio;break;case Ie.LocalVideoTrack:s=Re(o=I._hints).call(o,xt.SCREEN_TRACK)?yt.Screen:yt.High;break;case Ie.LocalVideoLowTrack:s=yt.Low}return{stream_type:s,ssrcs:C,mid:l}})}createUnmuteMessage(t){return t.map(A=>{var o;let s,[c,{track:I,ssrcs:C,id:l}]=A;switch(c){case Ie.LocalAudioTrack:s=yt.Audio;break;case Ie.LocalVideoTrack:s=Re(o=I._hints).call(o,xt.SCREEN_TRACK)?yt.Screen:yt.High;break;case Ie.LocalVideoLowTrack:s=yt.Low}return{stream_type:s,ssrcs:C,mid:l}})}filterTobeUnSubscribedTracks(t,A){const o=[],s=this.remoteUserMap.get(t);if(!s)return o;if(A){const c=s.get(A);if(!c)return o;o.push([t,{kind:A,id:c}])}else Array.from(s.entries()).forEach(c=>{let[I,C]=c;o.push([t,{kind:I,id:C}])});return o}filterTobeUnSubscribedDataChannels(t,A){const o=[];return A.forEach(s=>{var c;(c=this.remoteDataChannelMap.get(t))!==null&&c!==void 0&&c.has(s.id)&&o.push(s)}),o}createUnsubscribeMessage(t){const A=[];return t.forEach(o=>{let[s,{kind:c,id:I}]=o;switch(c){case Oe.VIDEO:return void(s._videoSSRC&&A.push({stream_type:Oe.VIDEO,ssrcId:s._videoSSRC}));case Oe.AUDIO:return void(s._audioSSRC&&A.push({stream_type:Oe.AUDIO,ssrcId:s._audioSSRC}))}}),A}createUnsubscribeAllMessage(t){const A=new Map;return t.forEach(o=>{let[s,{kind:c}]=o;if(A.has(s)){let I=A.get(s);c===Oe.VIDEO?I|=NA.Video:I|=NA.Audio,A.set(s,I)}else c===Oe.VIDEO?A.set(s,NA.Video):A.set(s,NA.Audio)}),{users:Array.from(A.entries()).map(o=>{let[s,c]=o;return{stream_id:s.uid,stream_type:c}})}}withdrawRemoteTracks(t){t.forEach(A=>{let[o,{kind:s}]=A;const c=this.remoteUserMap.get(o);c&&(c.delete(s),Array.from(c.entries()).length===0&&this.remoteUserMap.delete(o))})}async updateBitrateLimit(t){const A=this.localTrackMap.get(Ie.LocalVideoTrack),o=this.localTrackMap.get(Ie.LocalVideoLowTrack);A&&await A.track.setBitrateLimit(t.uplink),o&&t.low_stream_uplink&&await o.track.setBitrateLimit({max_bitrate:t.low_stream_uplink.bitrate,min_bitrate:t.low_stream_uplink.bitrate||0})}isP2PDisconnected(){return this.connection?this.connection.peerConnectionState!=="connected":!0}mapPubResToRemoteConfig(t,A){return t.map((o,s)=>{var c;let{stream_type:I}=o;return(c=A.find(C=>{let{stream_type:l}=C;return I===l}))===null||c===void 0?void 0:c.attributes})}async tryToUnmuteAudio(t){for(let o=0;o<t.length;o++)if(t[o]instanceof tA){var A;const s=this.filterTobeUnmutedTracks(t[o]);if(s.length===0)continue;await((A=this.connection)===null||A===void 0?void 0:A.unmuteLocal(s.map(I=>{let[,{id:C}]=I;return C})));const c=this.createUnmuteMessage(s);return void await Mt(this,Ge.RequestUnmuteLocal,c)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=t=>{var A;return!((A=this.connection)===null||A===void 0||!A.getRemoteVideoIsReady(t))},this.statsUploader.requestUpload=(t,A)=>this.emit(Ge.RequestUpload,t,A),this.statsUploader.requestUploadStats=t=>this.emit(Ge.RequestUploadStats,t),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await OA(ru(this.dtlsFailedCount,hA)),this.emit(Ge.RequestReconnect)}async reconnectP2P(){const t=Array.from(this.localTrackMap.entries()),A=this.createGatewayUnpublishMessage(t);Array.from(this.remoteUserMap.entries()),A.length>0&&await YA(this,Ge.RequestUnpublishForReconnectPC,A),this.disconnectForReconnect(),this.emit(Ge.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(Ie.LocalVideoTrack)||this.pendingLocalTracks.some(t=>t instanceof Ft)}throwIfTrackTypeNotMatch(t){if(t.filter(A=>A instanceof Ft).length>1)throw new Ae(G.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t.filter(A=>A instanceof tA).length>1&&(t.some(A=>A instanceof tA&&A._bypassWebAudio)||!Ct().webAudioMediaStreamDest))throw new Ae(G.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const A of t){if(A instanceof Ft&&this.pendingLocalTracks.some(o=>o instanceof Ft))throw new Ae(G.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(A instanceof tA&&this.pendingLocalTracks.some(o=>o instanceof tA)&&(!Ct().webAudioMediaStreamDest||A._bypassWebAudio||this.pendingLocalTracks.some(o=>o instanceof tA&&o._bypassWebAudio)))throw new Ae(G.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(t,A){const o=!J("DISABLE_DUAL_STREAM_USE_ENCODING")&&Ct().supportDualStreamEncoding,s=Io(Io({},{width:160,height:120,framerate:15,bitrate:50}),A);let c;c=o?t._mediaStreamTrack.clone():wd(t,s);const I=kt(8,"track-low-"),C=new Ft(c,Io(Io({},o&&{scaleResolutionDownBy:yu(s,t)}),{},{frameRate:s.framerate,bitrateMax:s.bitrate,bitrateMin:s.bitrate}),void 0,void 0,I);return C.on(Fn.TRANSCEIVER_UPDATED,l=>{t._updateRtpTransceiver(l,Xs.LOW_STREAM)}),C._hints.push(xt.LOW_STREAM),t.on("sei-to-send",l=>{C.emit("sei-to-send",l)}),t.addListener(ye.NEED_CLOSE,()=>{C.close()}),C}async globalLock(){return this.mutex.lock("From P2PChannel.globalLock")}async reportPCStats(t,A,o){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(this.connection&&this.connection instanceof Jr){var c,I,C,l;const d=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:h,dtlsTransportState:Q,peerConnectionState:_}=this.connection,{local:S,remote:w}=await this.connection.getSelectedCandidatePair();Me.pcStats(this.store.sessionId,{startTime:d,eventElapse:t-d||0,iceconnectionsate:h,dtlsstate:Q,connectionstate:_,intSucc:A?1:2,error:s,selectedLocalCandidateProtocol:(c=S==null?void 0:S.protocol)!==null&&c!==void 0?c:"",selectedLocalCandidateType:(I=S.candidateType)!==null&&I!==void 0?I:"",selectedLocalCandidateAddress:"".concat(S.address,":").concat(S.port),selectedRemoteCandidateProtocol:(C=w.protocol)!==null&&C!==void 0?C:"",selectedRemoteCandidateType:(l=w.candidateType)!==null&&l!==void 0?l:"",selectedRemoteCandidateAddress:"".concat(w.address,":").concat(w.port),restartCnt:o,preallocation:this.connection.isPreallocation})}}reportVideoFirstFrameDecoded(t,A,o,s){var c;const I=Array.from(Fi(c=this.remoteUserMap).call(c)).find(C=>C._videoSSRC===t);if(I){s||this.store.subscribe(I.uid,"video",void 0,void 0,void 0,void 0,Date.now());const C=this.store.keyMetrics,l=C.subscribe.find(d=>d.userId===I.uid&&d.type==="video");Me.firstRemoteVideoDecode(this.store.sessionId,LA.FIRST_VIDEO_DECODE,Zt.FIRST_VIDEO_DECODE,{peer:I._uintid,videowidth:A,videoheight:o,subscribeElapse:XA.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId,apEnd:C.requestAPEnd||0,apStart:C.requestAPStart||0,joinGwEnd:C.joinGatewayEnd||0,joinGwStart:C.joinGatewayStart||0,pcEnd:C.peerConnectionEnd||0,pcStart:C.peerConnectionStart||0,subscriberEnd:(l==null?void 0:l.subscribeEnd)||0,subscriberStart:(l==null?void 0:l.subscribeStart)||0,videoAddNotify:(l==null?void 0:l.streamAdded)||0,state:s?1:0,firstFrame:(l==null?void 0:l.firstFrame)||0})}}async remoteMediaSsrcChanged(t,A,o){if(!this.connection)return!1;const s=this.remoteUserMap.get(t);if(!s)return!1;const c=s.get(A);if(!c)return!1;const I=await this.connection.getRemoteSSRC(c);return I!==void 0&&I!==o}unbindRtpTransceiver(){this.localTrackMap.size!==0&&Array.from(this.localTrackMap.entries()).forEach(t=>{let[A,{track:o}]=t;A===Ie.LocalVideoLowTrack?o._updateRtpTransceiver(void 0,Xs.LOW_STREAM):o._updateRtpTransceiver(void 0)})}reportPCDisconnectedOrFailed(t){this.connection&&this.connection instanceof Jr&&(this.connection.iceConnectionState!=="disconnected"&&this.connection.iceConnectionState!=="checking"&&this.connection.iceConnectionState!=="failed"||(this._isFirstConnected?(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isFirstConnected=!1):this._pcStatsUploadType===bo.TCP_RESTART&&t===bi.RELAY?this.reportPCStats(Date.now(),!1,this._pcStatsUploadType):this.reportPCStats(Date.now(),!1,bo.DISCONNECTED_OR_FAILED)))}},Ne(et.prototype,"startP2PConnection",[oi],Object.getOwnPropertyDescriptor(et.prototype,"startP2PConnection"),et.prototype),Ne(et.prototype,"connect",[oi],Object.getOwnPropertyDescriptor(et.prototype,"connect"),et.prototype),Ne(et.prototype,"updateRemoteRTPCapabilities",[oi],Object.getOwnPropertyDescriptor(et.prototype,"updateRemoteRTPCapabilities"),et.prototype),Ne(et.prototype,"publishDataChannel",[oi],Object.getOwnPropertyDescriptor(et.prototype,"publishDataChannel"),et.prototype),Ne(et.prototype,"unpublish",[oi],Object.getOwnPropertyDescriptor(et.prototype,"unpublish"),et.prototype),Ne(et.prototype,"unpublishDataChannel",[oi],Object.getOwnPropertyDescriptor(et.prototype,"unpublishDataChannel"),et.prototype),Ne(et.prototype,"unpublishLowStream",[oi],Object.getOwnPropertyDescriptor(et.prototype,"unpublishLowStream"),et.prototype),Ne(et.prototype,"subscribeDataChannel",[oi],Object.getOwnPropertyDescriptor(et.prototype,"subscribeDataChannel"),et.prototype),Ne(et.prototype,"subscribe",[oi],Object.getOwnPropertyDescriptor(et.prototype,"subscribe"),et.prototype),Ne(et.prototype,"massSubscribe",[oi],Object.getOwnPropertyDescriptor(et.prototype,"massSubscribe"),et.prototype),Ne(et.prototype,"unsubscribe",[oi],Object.getOwnPropertyDescriptor(et.prototype,"unsubscribe"),et.prototype),Ne(et.prototype,"unsubscribeDataChannel",[oi],Object.getOwnPropertyDescriptor(et.prototype,"unsubscribeDataChannel"),et.prototype),Ne(et.prototype,"massUnsubscribe",[oi],Object.getOwnPropertyDescriptor(et.prototype,"massUnsubscribe"),et.prototype),Ne(et.prototype,"muteRemote",[oi],Object.getOwnPropertyDescriptor(et.prototype,"muteRemote"),et.prototype),Ne(et.prototype,"unmuteRemote",[oi],Object.getOwnPropertyDescriptor(et.prototype,"unmuteRemote"),et.prototype),Ne(et.prototype,"hasRemoteMediaWithLock",[oi],Object.getOwnPropertyDescriptor(et.prototype,"hasRemoteMediaWithLock"),et.prototype),Ne(et.prototype,"disconnectForReconnect",[oi],Object.getOwnPropertyDescriptor(et.prototype,"disconnectForReconnect"),et.prototype),Ne(et.prototype,"updateBitrateLimit",[oi],Object.getOwnPropertyDescriptor(et.prototype,"updateBitrateLimit"),et.prototype),Ne(et.prototype,"remoteMediaSsrcChanged",[oi],Object.getOwnPropertyDescriptor(et.prototype,"remoteMediaSsrcChanged"),et.prototype),et);function oi(t,A,o){const s=t[A];if(typeof s!="function")throw new Error("Cannot use mutex on object property.");return o.value=async function(){const c=this.mutex,I=await c.lock("From P2PChannel.".concat(A));try{for(var C=arguments.length,l=new Array(C),d=0;d<C;d++)l[d]=arguments[d];return await s.apply(this,l)}finally{I()}},o}const Iw={};function Sc(t){(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])&&N.debug("install service ".concat(t.name)),Iw[t.name]=t}function Dc(t){const A=Iw[t];if(!A)throw new Ae(G.INVALID_OPERATION,"".concat(t," not found, please use AgoraRTC.use(").concat(t,"Service) to load it first"));return A}function Ew(t,A){return Dc("DataStream").create(t,A)}function Cw(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function lw(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?Cw(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Cw(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}const f2=Date.now(),_2=20,vd=new Map,tE=new Map;async function uw(t){const A=vd.get(t),o=Array.isArray(A)&&A[A.length-1],s=tE.get(t);if(!o)return void(s.isSyncing=!1);const c={uid:o.uid,payload:o.payload};s.firstRecvTs===0&&(s.firstRecvTs=o.recvTs,s.firstSendTs=o.sendTs);const I=o.sendTs-s.firstSendTs,C=I-(Date.now()-s.firstRecvTs);C>0&&(s.firstRecvTs=Date.now()-I);let l=o.mediaDelay+C;l<=0?(A.pop(),dw(o.context,c),l=0):l=Math.min(l,_2),setTimeout(()=>A.length&&uw(t),l)}function dw(t,A){t.safeEmit(st.STREAM_MESSAGE,A.uid,A.payload),t.onStreamMessage&&t.onStreamMessage(A)}function R2(t){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0;if(!t.syncWithAudio)return dw(o,{uid:t.uid,payload:t.payload});const s="".concat(o.id,"-").concat(t.uid),c=vd.get(s)||[],I=c.findIndex(h=>t.sendTs>=h.sendTs),C=lw(lw({},t),{},{context:o,mediaDelay:A,recvTs:Date.now()});I===-1?c.push(C):c.splice(I,0,C),vd.set(s,c);let l=!1;var d;tE.has(s)?l=!((d=tE.get(s))===null||d===void 0||!d.isSyncing):tE.set(s,{isSyncing:l,firstRecvTs:0,firstSendTs:0}),l||uw(s)}const y2=Et().name;function hw(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function Bw(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?hw(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):hw(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}const Ia="websdk_ng_cache_parameter",m2=J("MAX_PRELOAD_ASYNC_LENGTH"),S2=1e4,Wn=new Map,Xn=[];let Md=null,Od=0,Ld=0;const AE=new Map,D2=function(t,A){const o=[];let s=0;const c=async()=>{const I=o.shift();I&&await I(),o.length>0&&s<A?c():s--};return async function(){for(var I=arguments.length,C=new Array(I),l=0;l<I;l++)C[l]=arguments[l];return new pe(async(d,h)=>{o.push(async()=>{try{const Q=await t(...C);d(Q)}catch(Q){h(Q)}}),s<A&&(s++,c())})}}(pw,m2),kd=di.CancelToken.source();async function pw(t,A,o,s,c,I){try{if(!J("ENABLE_PRELOAD"))return;if(!Ct().supportWebCrypto)return void Zo(()=>{N.warn("Your browser does not support preloading, this feature  be run in a secure environment")},"preload_webcrypto_not_supported");if(!o&&o!==null)throw new Ae(G.INVALID_PARAMS,"Invalid token: ".concat(o,". If you don not use token, set it to null"));o&&MA(o,"token",1,2047),MA(t,"appid",1,2047),BI(A),s&&pI(s);const C=Ls();N.debug("preload channel ".concat(A,", uid is ").concat(s));const l={appId:t,cname:A,token:o||t,uid:typeof s!="string"?s:null,sid:C,proxyServer:c};let d,h;typeof s=="string"?(l.stringUid=s,[h,d]=await pe.all([Vx(s,{sid:C,appId:t},kd.token),cD(Bw(Bw({},l),{},{token:o||t,uid:0}),kd.token)]),l.uid=h.uid,d.gatewayInfo.uid=l.uid,d.gatewayInfo.res.uid=l.uid):(I&&(l.stringUid=I),d=await cD(l,kd.token));const Q={sid:C,appId:t,cname:A,token:o||t,uid:l.stringUid||s,intUid:l.uid||d.gatewayInfo.uid,stringUid:l.stringUid,ts:Date.now(),sua:h,ap:d};await async function(_){let S;try{_.uid&&fw({appId:_.appId,cname:_.cname,token:_.token,uid:_.uid,stringUid:_.stringUid});const w=mw(_),k=await async function(b,P){try{const K=await window.crypto.subtle.importKey("raw",RR(P),"AES-GCM",!1,["encrypt"]),W=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(1)},K,On(window.btoa(JSON.stringify(b))));return zo(new Uint8Array(W))}catch{return}}(_,_.token||_.appId);if(!k)return;S=yw(Ia);const v=S?JSON.parse(S):[];v.push({[w]:k}),v.length>J("AP_CACHE_NUM")&&v.shift(),iE(Ia,JSON.stringify(v))}catch(w){N.warn("Error caching server parameters:",w.message),iE(Ia,"")}}(Q),Od++}catch(C){throw Ld++,function(l){Md||(Md=window.setTimeout(()=>{let h="";AE.forEach((Q,_)=>{h+="".concat(_,": ").concat(Q," ;")}),Me.reportApiInvoke(null,{name:fA.PRELOAD,options:{success:Od,failed:Ld,err:h}}).onError(l),Od=0,Ld=0,AE.clear(),Md=null},S2));const d=AE.get(l.code)||0;AE.set(l.code,d+1)}(C),C}}async function Qw(t){try{const A=fw(t);if(!A||t.cloudProxyServer!=="disabled")return;const o=await async function(s,c){try{const I=await window.crypto.subtle.importKey("raw",RR(c),"AES-GCM",!1,["decrypt"]),C=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(1)},I,On(s));return JSON.parse(window.atob(zo(new Uint8Array(C))))}catch{return}}(A,t.token||t.appId);if(!o||!function(s,c){return s.cname===c.cname&&s.appId===c.appId&&s.token===c.token?c.stringUid?s.stringUid===c.stringUid:typeof c.uid=="number"?s.uid===c.uid:s.uid==c.uid:!1}(o,t))return;if(o&&Date.now()-o.ts<J("AP_CACHE_LIFETIME"))return o}catch(A){N.warn("Error get preloadInfo",A.message)}}function fw(t){let A;try{if(A=yw(Ia),!A)return;const o=JSON.parse(A),s=mw(t),c=function(C,l){for(let d=C.length-1;d>=0;d--)if(l(C[d]))return d;return-1}(o,C=>s in C);if(c===-1)return;const I=o.splice(c,1)[0];return iE(Ia,JSON.stringify(o)),I[s]}catch(o){N.warn("Error delete preload info: ".concat(A),o.message),iE(Ia,"")}}function Ud(t){if(t){let A=Wn.get(t);A&&(window.clearTimeout(A),A=null,Wn.delete(t)),Re(Xn).call(Xn,t)||t.cloudProxyServer!=="disabled"||Xn.push(t)}if(Wn.size<J("AP_CACHE_NUM")&&Xn.length>0){const A=Xn.shift();Wn.set(A,window.setTimeout(async()=>{const{appId:o,cname:s,token:c,stringUid:I,uid:C,proxyServer:l}=A;try{await D2(o,s,c,C,l,I),Wn.has(A)&&Ud(A)}catch(d){N.warn("update preload failed",d.message),_w(A)}},J("AP_UPDATE_INTERVAL")))}}function _w(t){const A=Xn.indexOf(t);A!==-1&&Xn.splice(A,1);let o=Wn.get(t);o&&(window.clearTimeout(o),o=null,Wn.delete(t),Ud())}function Rw(t,A){const o=t.sua,s=t.ap;A&&o&&Me.reqUserAccount(t.sid,{lts:o.requestTime,elapse:o.elapse,success:!0,serverAddr:o.url,stringUid:A,uid:t.intUid,errorCode:null,extend:o.req}),Me.reportResourceTiming(t.ap.url,t.sid),Me.joinWebProxyAP(t.sid,{lts:s.requestTime,elapse:s.elapse,sucess:1,apServerAddr:s.url,turnServerAddrList:s.proxyInfo.addresses.map(c=>c.ip).join(","),eventType:"disabled",unilbsServerIds:[lA.CHOOSE_SERVER,lA.CLOUD_PROXY_FALLBACK].toString()}),Me.joinChooseServer(t.sid,{lts:s.requestTime,elapse:s.elapse,succ:!0,csAddr:s.url,opid:s.opid,serverList:s.gatewayInfo.gatewayAddrs.map(c=>c.address),ec:null,cid:s.gatewayInfo.cid.toString(),uid:s.gatewayInfo.uid.toString(),csIp:s.gatewayInfo.csIp,unilbsServerIds:[lA.CHOOSE_SERVER].toString(),isHttp3:s.isHttp3})}function yw(t){return window.atob(window.localStorage.getItem(t)||"")}function iE(t,A){window.localStorage.setItem(t,window.btoa(A))}function mw(t){let A="".concat(t.appId,"_").concat(t.cname);return typeof t.uid=="string"&&(A+="_s_".concat(t.uid)),typeof t.uid=="number"&&(A+="_".concat(t.uid)),t.token&&(A+="_".concat(t.token)),TR(A)}function w2(t){let A=function(){const o=b2.pop();return o?(o.offset=o.limit=0,o):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(o,s){let c=o.appId;c!==void 0&&(uA(s,10),ln(s,c));let I=o.cid;I!==void 0&&(uA(s,16),uA(s,I));let C=o.cname;C!==void 0&&(uA(s,26),ln(s,C));let l=o.deviceId;l!==void 0&&(uA(s,34),ln(s,l));let d=o.elapse;d!==void 0&&(uA(s,40),un(s,d));let h=o.fileSize;h!==void 0&&(uA(s,48),un(s,Ea(h)));let Q=o.height;Q!==void 0&&(uA(s,56),un(s,Ea(Q)));let _=o.jpg;_!==void 0&&(uA(s,66),uA(s,_.length),Dw(s,_));let S=o.networkType;S!==void 0&&(uA(s,72),un(s,Ea(S)));let w=o.osType;w!==void 0&&(uA(s,80),un(s,Ea(w)));let k=o.requestId;k!==void 0&&(uA(s,90),ln(s,k));let v=o.sdkVersion;v!==void 0&&(uA(s,98),ln(s,v));let b=o.sequence;b!==void 0&&(uA(s,104),un(s,Ea(b)));let P=o.sid;P!==void 0&&(uA(s,114),ln(s,P));let K=o.timestamp;K!==void 0&&(uA(s,120),un(s,K));let W=o.uid;W!==void 0&&(uA(s,128),uA(s,W));let X=o.vid;X!==void 0&&(uA(s,136),uA(s,X));let Z=o.width;Z!==void 0&&(uA(s,144),un(s,Ea(Z)));let ie=o.service;ie!==void 0&&(uA(s,152),uA(s,ie));let ce=o.callbackData;ce!==void 0&&(uA(s,162),uA(s,ce.length),Dw(s,ce));let de=o.ticket;de!==void 0&&(uA(s,170),ln(s,de));let Ce=o.vendorConfigs;Ce!==void 0&&(uA(s,178),ln(s,Ce))}(t,A),function(o){let s=o.bytes,c=o.limit;return s.length===c?s:s.subarray(0,c)}(A)}function N2(t){return function(o){let s={};e:for(;!v2(o);){let c=wc(o);switch(c>>>3){case 0:break e;case 1:s.code=wc(o);break;case 2:s.msg=ww(o,wc(o));break;case 3:s.requestId=ww(o,wc(o));break;case 4:s.timestamp=M2(o,!1);break;default:T2(o,7&c)}}return s}({bytes:A=t,offset:0,limit:A.length});var A}function T2(t,A){switch(A){case 0:for(;128&wr(t););break;case 2:Pd(t,wc(t));break;case 5:Pd(t,4);break;case 1:Pd(t,8);break;default:throw new Error("Unimplemented type: "+A)}}function Ea(t){return{low:t|=0,high:t>>31,unsigned:t>=0}}let b2=[];function Pd(t,A){if(t.offset+A>t.limit)throw new Error("Skip past limit");t.offset+=A}function v2(t){return t.offset>=t.limit}function rE(t,A){let o=t.bytes,s=t.offset,c=t.limit,I=s+A;if(I>o.length){let C=new Uint8Array(2*I);C.set(o),t.bytes=C}return t.offset=I,I>c&&(t.limit=I),s}function Sw(t,A){let o=t.offset;if(o+A>t.limit)throw new Error("Read past limit");return t.offset+=A,o}function Dw(t,A){let o=rE(t,A.length);t.bytes.set(A,o)}function ww(t,A){let o=Sw(t,A),s=String.fromCharCode,c=t.bytes,I="ï¿½",C="";for(let l=0;l<A;l++){let d,h,Q,_,S=c[l+o];128&S?(224&S)==192?l+1>=A?C+=I:(d=c[l+o+1],(192&d)!=128?C+=I:(_=(31&S)<<6|63&d,_<128?C+=I:(C+=s(_),l++))):(240&S)==224?l+2>=A?C+=I:(d=c[l+o+1],h=c[l+o+2],(49344&(d|h<<8))!=32896?C+=I:(_=(15&S)<<12|(63&d)<<6|63&h,_<2048||_>=55296&&_<=57343?C+=I:(C+=s(_),l+=2))):(248&S)==240?l+3>=A?C+=I:(d=c[l+o+1],h=c[l+o+2],Q=c[l+o+3],(12632256&(d|h<<8|Q<<16))!=8421504?C+=I:(_=(7&S)<<18|(63&d)<<12|(63&h)<<6|63&Q,_<65536||_>1114111?C+=I:(_-=65536,C+=s(55296+(_>>10),56320+(1023&_)),l+=3))):C+=I:C+=s(S)}return C}function ln(t,A){let o=A.length,s=0;for(let C=0;C<o;C++){let l=A.charCodeAt(C);l>=55296&&l<=56319&&C+1<o&&(l=(l<<10)+A.charCodeAt(++C)-56613888),s+=l<128?1:l<2048?2:l<65536?3:4}uA(t,s);let c=rE(t,s),I=t.bytes;for(let C=0;C<o;C++){let l=A.charCodeAt(C);l>=55296&&l<=56319&&C+1<o&&(l=(l<<10)+A.charCodeAt(++C)-56613888),l<128?I[c++]=l:(l<2048?I[c++]=l>>6&31|192:(l<65536?I[c++]=l>>12&15|224:(I[c++]=l>>18&7|240,I[c++]=l>>12&63|128),I[c++]=l>>6&63|128),I[c++]=63&l|128)}}function wr(t){return t.bytes[Sw(t,1)]}function Nw(t,A){let o=rE(t,1);t.bytes[o]=A}function wc(t){let A,o=0,s=0;do A=wr(t),o<32&&(s|=(127&A)<<o),o+=7;while(128&A);return s}function uA(t,A){for(A>>>=0;A>=128;)Nw(t,127&A|128),A>>>=7;Nw(t,A)}function M2(t,A){let o,s=0,c=0,I=0;return o=wr(t),s=127&o,128&o&&(o=wr(t),s|=(127&o)<<7,128&o&&(o=wr(t),s|=(127&o)<<14,128&o&&(o=wr(t),s|=(127&o)<<21,128&o&&(o=wr(t),c=127&o,128&o&&(o=wr(t),c|=(127&o)<<7,128&o&&(o=wr(t),c|=(127&o)<<14,128&o&&(o=wr(t),c|=(127&o)<<21,128&o&&(o=wr(t),I=127&o,128&o&&(o=wr(t),I|=(127&o)<<7))))))))),{low:s|c<<28,high:c>>>4|I<<24,unsigned:A}}function un(t,A){let o=A.low>>>0,s=(A.low>>>28|A.high<<4)>>>0,c=A.high>>>24,I=c===0?s===0?o<16384?o<128?1:2:o<1<<21?3:4:s<16384?s<128?5:6:s<1<<21?7:8:c<128?9:10,C=rE(t,I),l=t.bytes;switch(I){case 10:l[C+9]=c>>>7&1;case 9:l[C+8]=I!==9?128|c:127&c;case 8:l[C+7]=I!==8?s>>>21|128:s>>>21&127;case 7:l[C+6]=I!==7?s>>>14|128:s>>>14&127;case 6:l[C+5]=I!==6?s>>>7|128:s>>>7&127;case 5:l[C+4]=I!==5?128|s:127&s;case 4:l[C+3]=I!==4?o>>>21|128:o>>>21&127;case 3:l[C+2]=I!==3?o>>>14|128:o>>>14&127;case 2:l[C+1]=I!==2?o>>>7|128:o>>>7&127;case 1:l[C]=I!==1?128|o:127&o}}const Tw={},bw={},oE=4294967296,O2=oE*oE,L2=O2/2;Mw(0,!0);const vw=Mw(0),k2=Nc(0,-2147483648,!1),U2=Nc(-1,2147483647,!1);function Mw(t,A){let o,s,c;return A?(c=0<=(t>>>=0)&&t<256)&&(s=bw[t],s)?s:(o=Nc(t,0,!0),c&&(bw[t]=o),o):(c=-128<=(t|=0)&&t<128)&&(s=Tw[t],s)?s:(o=Nc(t,t<0?-1:0,!1),c&&(Tw[t]=o),o)}function Nc(t,A,o){return{low:0|t,high:0|A,unsigned:!!o}}function P2(t,A){if(isNaN(t))return vw;{if(t<=-9223372036854776e3)return k2;if(t+1>=L2)return U2}return t<0?vw:Nc(t%oE|0,t/oE|0,A)}function Ow(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}class Gd extends Xt{get connectionState(){return this._connectionState}set connectionState(A){if(this._connectionState===A)return;const o=this._connectionState;this._connectionState=A,this.emit(Ur.CONNECTION_STATE_CHANGE,A,o)}get quality(){return this._quality}set quality(A){this._quality=A>1?1:A<.1?.1:A,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),this._quality>=1||(this._qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this._qualityRatio},6e4))}constructor(A){var o;super(),L(this,"name","AgoraRTCImageModeration"),L(this,"_connectionState",Ar.CONNECTING),L(this,"_sequence",0),L(this,"_moderationStartTime",void 0),L(this,"_workerConnection",void 0),L(this,"_workerMessageLengthLimit",void 0),L(this,"_qualityRatio",void 0),L(this,"_connectInfo",void 0),L(this,"_cancelTokenSource",di.CancelToken.source()),L(this,"_retryConfig",void 0),L(this,"_moderationInterval",void 0),L(this,"_moderationTimer",null),L(this,"_moderationMode",1),L(this,"_quality",1),L(this,"_qualityTimer",null),L(this,"_ticket",void 0),L(this,"_moderationIntervalMinimum",void 0),L(this,"_uploadFailedNum",0),L(this,"_uploadNum",0),L(this,"_uploadTimer",null),L(this,"_extraInfo",void 0),L(this,"_vendor",""),L(this,"_encoder",new TextEncoder),L(this,"_moderationId",void 0),L(this,"inspectImage",()=>{if(this.connectionState!==Ar.CONNECTED)throw new z(G.OPERATION_ABORTED,"image moderation service connection status is ".concat(this.connectionState));this._moderationTimer&&(window.clearInterval(this._moderationTimer),this._moderationTimer=null),this._moderationTimer=window.setInterval(()=>{this.connectionState===Ar.CONNECTED?this.requestToInspectImage():N.debug("[".concat(this._moderationId,"] Moderation State is not connected , "),this.connectionState)},this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage()}),this._moderationId=kt(5,"image-moderation-"),this._workerMessageLengthLimit=J("IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT"),this._moderationIntervalMinimum=J("IMAGE_MODERATION_INTERVAL_MINIMUM"),this._moderationInterval=(o=A.interval)!==null&&o!==void 0?o:1e3,A.extraInfo&&(this._extraInfo=this._encoder.encode(A.extraInfo)),A.vendor&&(this._vendor=A.vendor),this._qualityRatio=J("IMAGE_MODERATION_QUALITY_RATIO"),this._moderationStartTime=Number(Date.now()),this._workerConnection=new sc("worker-"+this._moderationId,hA),this.on(Ur.STATE_CHANGE,(s,c)=>{N.debug("[".concat(this._moderationId,"] Moderation operation :").concat(Gs[s]," ").concat(c||""))}),this.handleWorkerEvents()}async init(A,o){this.emit(Ur.STATE_CHANGE,Gs.CONNECT_AP),this._connectInfo=A;const s=this._cancelTokenSource.token;return this._retryConfig=o,new pe((c,I)=>{this.on(Ur.CONNECTION_STATE_CHANGE,(C,l)=>{C===Ar.CONNECTED&&c()}),this.requestAP(A,s,o).then(C=>{this.connectWorker(C)}).catch(C=>{I(C)})})}updateConfig(A){var o;this._moderationInterval=(o=A.interval)!==null&&o!==void 0?o:1e3,A.extraInfo&&(this._extraInfo=this._encoder.encode(A.extraInfo)),A.vendor&&(this._vendor=A.vendor),N.debug("[".concat(this._moderationId,"] updateConfig: ").concat(JSON.stringify(A))),this.connectionState===Ar.CONNECTED&&this.inspectImage()}async requestAP(A,o,s){const c=J("WEBCS_DOMAIN").map(d=>"https://".concat(d,"/api/v1")),I=await function(d,h,Q,_){let{appId:S,areaCode:w,cname:k,sid:v,token:b,uid:P}=h;aa++;const K="moderation_plugin",W={service_name:K,json_body:JSON.stringify({appId:S,areaCode:w,cname:k,command:"allocateEdge",requestId:aa,seq:aa,sid:v,appToken:b,ts:Date.now(),uid:P+""})};let X,Z,ie=d[0];return kr(async()=>{X=Date.now();const ce=await Fr(ie,{data:W,cancelToken:Q,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(Z=Date.now()-X,ce.code!==0){const be=new z(G.UNEXPECTED_RESPONSE,"moderation plugin ap error, code"+ce.code,{retry:!0,responseTime:Z});throw N.error(be.toString()),be}const de=JSON.parse(ce.json_body);if(de.code!==200){const be=new z(G.UNEXPECTED_RESPONSE,"moderation plugin ap error, code: ".concat(de.code,", reason: ").concat(de.reason),{code:de.code,responseTime:Z});throw N.error(be.toString()),be}if(!de.servers||!Array.isArray(de.servers)||de.servers.length===0){const be=new z(G.UNEXPECTED_RESPONSE,"moderation plugin ap empty server",{code:de.code,responseTime:Z});throw N.error(be.toString()),be}if(!de.servers.some(be=>!!be.wss)){const be=new z(G.UNEXPECTED_RESPONSE,"moderation plugin ap empty port",{code:de.code,responseTime:Z});throw N.error(be.toString()),be}const Ce=J("IMAGE_MODERATION_WORKER_HOST");return{addressList:de.servers.map(be=>{let{address:tt,wss:ft}=be;if(tt&&ft)return"wss://".concat(tt.replace(/\./g,"-"),".").concat(Ce,":").concat(ft,"/moderation")}).filter(be=>!!be),workerToken:de.workerToken,vid:de.vid,ticket:de.appTicket,responseTime:Z}},(ce,de)=>(Me.apworkerEvent(v,{success:!0,sc:200,serviceName:K,responseDetail:JSON.stringify(ce.addressList),firstSuccess:de===0,responseTime:Z,serverIp:d[de%d.length]}),!1),(ce,de)=>(Me.apworkerEvent(v,{success:!1,sc:ce.data&&ce.data.code||200,serviceName:K,responseTime:Z,serverIp:d[de%d.length]}),!!(ce.code!==G.OPERATION_ABORTED&&ce.code!==G.UNEXPECTED_RESPONSE||ce.data&&ce.data.retry)&&(ie=d[(de+1)%d.length],!0)),_)}(c,A,o,s);this.emit(Ur.STATE_CHANGE,Gs.AP_CONNECTED);const{addressList:C,ticket:l}=I;return this._ticket=l,C}async connectWorker(A){this.emit(Ur.STATE_CHANGE,Gs.CONNECT_WORKER),await this._workerConnection.init(A,1e4)}handleWorkerEvents(){this._workerConnection.on(Je.CONNECTED,async()=>{this.emit(Ur.STATE_CHANGE,Gs.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=Ar.CONNECTED}),this._workerConnection.on(Je.CLOSED,()=>{this.connectionState=Ar.CLOSED}),this._workerConnection.on(Je.FAILED,()=>{this.connectionState=Ar.CLOSED}),this._workerConnection.on(Je.RECONNECTING,()=>{this.connectionState=this.connectionState===Ar.CONNECTED?Ar.RECONNECTING:Ar.CONNECTING}),this._workerConnection.on(Je.ON_MESSAGE,async A=>{if(A.data instanceof ArrayBuffer){const o=N2(new Uint8Array(A.data));J("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&N.debug("[".concat(this._moderationId,"] Response message for worker of image moderation "),JSON.stringify(o)),this._uploadNum++,o.code===void 0||o.code===0||(this._uploadFailedNum++,N.error("[".concat(this._moderationId,"] Error response from worke, code is ").concat(o.code,", msg is ").concat(o.msg)),this._uploadTimer||(this._uploadTimer=window.setTimeout(()=>{Me.reportApiInvoke(this._connectInfo.sid||null,{name:fA.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,o.code],tag:eA.TRACER}).onError(new z(G.IMAGE_MODERATION_UPLOAD_FAILED,o.msg)),this._uploadTimer=null},J("IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL"))))}else N.error("[".concat(this._moderationId,"] Unexpected message type from worker"))}),this._workerConnection.on(Je.WILL_RECONNECT,(A,o,s)=>{A==="recover"&&s(A),s("tryNext")}),this._workerConnection.on(Je.REQUEST_NEW_URLS,(A,o)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(A).catch(o)})}static intToLong(A){return{low:A|=0,high:A>>31,unsigned:A>=0}}async requestToInspectImage(){const A=zi(this,Ur.CLIENT_LOCAL_VIDEO_TRACK),o={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(A){if(!A.isPlaying)return void(J("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&N.debug("Only the track being played can be inspected"));this._sequence++;const s=await this.generateRequestData(A,o);this._workerConnection.sendMessage(s,!0,!0)}else J("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&N.debug("Only the track being published can be inspected")}async generateRequestData(A,o){let{appId:s,cname:c,cid:I,vid:C,sid:l,uid:d}=o;const h=Date.now(),Q=await A.getCurrentFrameImage("image/jpeg",this.quality),_=await am(Q,s,c),S=this._sequence+"-"+I+"-"+d+"-"+h+"-"+kt(12,""),w={appId:s,cid:I,cname:c,deviceId:"",elapse:Gd.intToLong(Number(h-this._moderationStartTime)),fileSize:Q.buffer.byteLength,height:Q.height,width:Q.width,jpg:_,networkType:6,osType:7,requestId:S,sdkVersion:"4.22.0",sequence:this._sequence,sid:l,timestamp:P2(h),uid:d,vid:C,service:this._moderationMode,ticket:this._ticket,callbackData:this._extraInfo,vendorConfigs:this._vendor};this._extraInfo===void 0&&delete w.callbackData;const k=w2(w);if(k.byteLength<this._workerMessageLengthLimit){if(J("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")){const v=function(b){for(var P=1;P<arguments.length;P++){var K=arguments[P]!=null?arguments[P]:{};P%2?Ow(Object(K),!0).forEach(function(W){L(b,W,K[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(K)):Ow(Object(K)).forEach(function(W){Object.defineProperty(b,W,Object.getOwnPropertyDescriptor(K,W))})}return b}({},w);delete v.jpg,N.debug("[".concat(this._moderationId,"] Request message for worker of image moderation service: "),JSON.stringify(v))}return k}{const v=this.quality*this._qualityRatio;return this.quality=v,await this.generateRequestData(A,{appId:s,cname:c,cid:I,vid:C,sid:l,uid:d})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=di.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=Ar.CLOSED,this.emit(Ur.STATE_CHANGE,Gs.CLOSED)}}function Lw(t){if(bt(t.interval,"interval",1e3,1/0),t&&t.extraInfo&&t.extraInfo.length>1024)throw new z(G.INVALID_PARAMS,"config.extraInfo length cannot exceed 1024 bytes");if(t&&t.vendor&&t.vendor.length>1024)throw new z(G.INVALID_PARAMS,"config.vendor length cannot exceed 1024 bytes")}const G2={name:"ImageModeration",create:function(t){let{config:A}=t;return Lw(A),new Gd(A)}};var kw,Uw,Pw,Gw,Fw,Kw,xw,Yw,Jw,Hw,qw,Vw,jw,$w,Ww,Xw,Zw,zw,e0,t0,A0,i0,r0,o0,n0,s0,a0,c0,g0,I0,E0,C0,l0,u0,d0,h0,B0,p0,Q0,f0,Qe;function _0(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function Hr(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?_0(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):_0(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}$A.setLogger(N);let F2=(kw=Pe(),Uw=Pe({argsMap:(t,A)=>{if(!Array.isArray(A)){if(!(A instanceof ta))return[A];A=[A]}return A.map(o=>o?Object(o).toString():"null")}}),Pw=Pe({argsMap:(t,A)=>(A||(A=[]),Array.isArray(A)||A.trackMediaType!==ea.DATA?(Array.isArray(A)||(A=[A]),A.map(o=>o.getTrackId())):[A.getChannelId()])}),Gw=Pe({argsMap:(t,A,o,s)=>[typeof A=="object"?A.uid:A,o,s]}),Fw=Pe({argsMap:(t,A,o)=>[A,o]}),Kw=Pe({argsMap:(t,A)=>A.map(o=>{let{user:s,mediaType:c}=o;return[s==null?void 0:s.uid,c]})}),xw=Pe({argsMap:(t,A,o,s)=>[typeof A=="object"?A.uid:A,o,s]}),Yw=Pe({argsMap:(t,A)=>A.map(o=>{let{user:s,mediaType:c}=o;return{uid:s==null?void 0:s.uid,mediaType:c}})}),Jw=Pe(),Hw=Pe(),qw=Pe(),Vw=Pe(),jw=Pe(),$w=Pe(),Ww=Pe(),Xw=Pe(),Zw=Pe(),zw=Pe(),e0=Pe(),t0=Pe(),A0=Pe(),i0=Pe(),r0=Pe({argsMap:(t,A)=>[A]}),o0=Pe(),n0=Pe(),s0=Pe(),a0=Pe(),c0=Pe(),g0=Pe(),I0=Pe(),E0=Pe(),C0=Pe({argsMap:(t,A)=>(Array.isArray(A)||(A=[A]),[JSON.stringify(A)])}),l0=Pe(),u0=Pe(),d0=Pe(),h0=Pe(),B0=Pe(),p0=Pe(),Q0=Pe({reportResult:!0}),f0=Pe(),Qe=class extends Xt{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get localDataChannels(){return this._p2pChannel.getAllDataChannels()}get mode(){return this._config.mode}get role(){var t;return((t=this._config)===null||t===void 0?void 0:t.role)||"audience"}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||"opus"}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return"Client"}constructor(t){let A;if(super(),L(this,"store",void 0),L(this,"_uid",void 0),L(this,"_channelName",void 0),L(this,"_uintUid",void 0),L(this,"_users",[]),L(this,"_config",void 0),L(this,"_clientId",void 0),L(this,"_appId",void 0),L(this,"_sessionId",null),L(this,"_key",void 0),L(this,"_rtmConfig",{}),L(this,"_joinInfo",void 0),L(this,"_gateway",void 0),L(this,"_statsCollector",void 0),L(this,"_configDistribute",void 0),L(this,"_leaveMutex",new $A("client-leave")),L(this,"_publishMutex",new $A("client-publish")),L(this,"_renewTokenMutex",new $A("client-renewtoken")),L(this,"_subscribeMutex",new $A("client-subscribe")),L(this,"_encryptionMode","none"),L(this,"_encryptionSecret",null),L(this,"_encryptionSalt",null),L(this,"_encryptDataStream",!1),L(this,"_encryptDataStreamKey",null),L(this,"_encryptDataStreamIv",null),L(this,"_proxyServer",void 0),L(this,"_turnServer",{servers:[],mode:"auto"}),L(this,"_cloudProxyServerMode","disabled"),L(this,"_isDualStreamEnabled",!1),L(this,"_defaultStreamFallbackType",void 0),L(this,"_lowStreamParameter",void 0),L(this,"_streamFallbackTypeCacheMap",new Map),L(this,"_remoteStreamTypeCacheMap",new Map),L(this,"_axiosCancelSource",di.CancelToken.source()),L(this,"_audioVolumeIndicationInterval",void 0),L(this,"_networkQualityInterval",void 0),L(this,"_userOfflineTimeout",void 0),L(this,"_streamRemovedTimeout",void 0),L(this,"_liveTranscodeStreamingClient",void 0),L(this,"_liveRawStreamingClient",void 0),L(this,"_channelMediaRelayClient",void 0),L(this,"_networkQualitySensitivity","normal"),L(this,"_p2pChannel",void 0),L(this,"_useLocalAccessPoint",!1),L(this,"_setLocalAPVersion",void 0),L(this,"_joinAndNotLeaveYet",!1),L(this,"_numberOfJoinCount",0),L(this,"_remoteDefaultVideoStreamType",void 0),L(this,"_inspect",void 0),L(this,"_moderation",void 0),L(this,"_license",void 0),L(this,"_pendingPublishedUsers",[]),L(this,"ntpAlignErrorCount",0),L(this,"remoteInboundOffset",0),L(this,"_handleLocalTrackEnable",(o,s,c)=>{this.publish(o,!1).then(s).catch(c)}),L(this,"_handleLocalTrackDisable",(o,s,c)=>{this.unpublish(o).then(s).catch(c)}),L(this,"_handleUserOnline",o=>{if(J("BLOCK_LOCAL_CLIENT")&&kn(o.uid,this.channelName))return void N.debug("[".concat(o.uid,"] will be ignored in local"));this.isStringUID&&typeof o.uid!="string"&&N.error("[".concat(this._clientId,"] StringUID is Mixed with UintUID"));const s=this._users.find(c=>c.uid===o.uid);if(s)s._trust_in_room_=!0,s._is_pre_created&&(s._is_pre_created=!1,this.safeEmit(st.USER_JOINED,s));else{const c=new En(o.uid,o.uint_id||o.uid);this._users.push(c),N.debug("[".concat(this._clientId,"] user online"),o.uid),this.safeEmit(st.USER_JOINED,c)}}),L(this,"_handleUserOffline",o=>{if(J("BLOCK_LOCAL_CLIENT")&&kn(o.uid,this.channelName))return;const s=this._users.find(c=>c.uid===o.uid);s&&(this._handleRemoveStream(o),this._handleRemoveDataChannels(o),s._audio_pre_subscribed||s._video_pre_subscribed?s._is_pre_created=!0:cI(this._users,s),this._remoteStreamTypeCacheMap.delete(s.uid),this._streamFallbackTypeCacheMap.delete(s.uid),N.debug("[".concat(this._clientId,"] user offline"),o.uid,"reason:",o.reason),this.safeEmit(st.USER_LEAVED,s,o.reason))}),L(this,"_handleAddAudioOrVideoStream",(o,s,c,I,C,l,d)=>{if(J("BLOCK_LOCAL_CLIENT")&&kn(s,this.channelName))return;const h=this._users.find(_=>_.uid===s);if(!h)return void N.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));N.debug("[".concat(this._clientId,"] stream added with uid ").concat(s,", type ").concat(o)),this.store.subscribe(h.uid,o,void 0,void 0,void 0,Date.now());const Q=o==="audio"?h.hasAudio:h.hasVideo;h._uintid||(h._uintid=C||s),o==="audio"?h._trust_audio_stream_added_state_=!0:h._trust_video_stream_added_state_=!0,o==="audio"?(h._audio_added_=!0,c!==void 0&&(h._audioSSRC=c),I!==void 0&&(h._cname=I),l&&(h._audioOrtc=l)):(h._video_added_=!0,c!==void 0&&(h._videoSSRC=c),I!==void 0&&(h._cname=I),d!==void 0&&(h._rtxSsrcId=d),l&&(h._videoOrtc=l)),(o==="audio"?h.hasAudio:h.hasVideo)&&!Q&&(N.info("[".concat(this._clientId,"] remote user ").concat(h.uid," published ").concat(o)),this.safeEmit(st.USER_PUBLISHED,h,o)),o==="video"?Me.onGatewayStream(this._sessionId,LA.ON_ADD_VIDEO_STREAM,Zt.ON_ADD_VIDEO_STREAM,{peer:C||s,ssrc:h._videoSSRC}):Me.onGatewayStream(this._sessionId,LA.ON_ADD_AUDIO_STREAM,Zt.ON_ADD_AUDIO_STREAM,{peer:C||s,ssrc:h._audioSSRC}),this._p2pChannel.remoteMediaSsrcChanged(h,o,c).then(_=>{if(_&&(N.debug("[".concat(this._clientId,"] resubscribe ").concat(o," for user ").concat(h.uid," after rejoin because SSRC id changed.")),this._p2pChannel instanceof eE))return this._p2pChannel.unsubscribe(h,o,!0).then(()=>this._subscribe(h,o,!0).catch(S=>{N.error("[".concat(this._clientId,"] resubscribe error"),S.toString())}))}),this._p2pChannel.hasPendingRemoteMedia(h,o)&&(N.debug("[".concat(this._clientId,"] resubscribe ").concat(o," for user ").concat(h.uid," after reconnect.")),this._subscribe(h,o,!0).catch(_=>{N.error("[".concat(this._clientId,"] resubscribe error"),_.toString())}))}),L(this,"_handleRemoveStream",o=>{if(J("BLOCK_LOCAL_CLIENT")&&kn(o.uid,this.channelName))return;const s=this._users.find(I=>I.uid===o.uid);if(!s)return void N.warning("[".concat(this._clientId,"] can not find target user!(on_remove_stream)"));N.debug("[".concat(this._clientId,"] stream removed with uid ").concat(o.uid));let c=()=>{};s.hasAudio&&s.hasVideo?c=()=>{N.info("[".concat(this._clientId,"] remote user ").concat(s.uid," unpublished audio track")),this.safeEmit(st.USER_UNPUBLISHED,s,"audio"),N.info("[".concat(this._clientId,"] remote user ").concat(s.uid," unpublished video track")),this.safeEmit(st.USER_UNPUBLISHED,s,"video")}:s.hasVideo?c=()=>{N.info("[".concat(this._clientId,"] remote user ").concat(s.uid," unpublished video track")),this.safeEmit(st.USER_UNPUBLISHED,s,"video")}:s.hasAudio&&(c=()=>{N.info("[".concat(this._clientId,"] remote user ").concat(s.uid," unpublished audio track")),this.safeEmit(st.USER_UNPUBLISHED,s,"audio")}),s._video_pre_subscribed||s._audio_pre_subscribed||(s._trust_audio_stream_added_state_=!0,s._trust_video_stream_added_state_=!0,s._audio_added_=!1,s._video_added_=!1,this._p2pChannel instanceof eE&&this._p2pChannel.unsubscribe(s).then(I=>{if(I)return this._gateway.unsubscribe(I,s.uid)}),s._audioSSRC=void 0,s._videoSSRC=void 0,s._audioOrtc=void 0,s._videoOrtc=void 0,s._rtxSsrcId=void 0),Me.onGatewayStream(this._sessionId,LA.ON_REMOVE_STREAM,Zt.ON_REMOVE_STREAM,{peer:o.uint_id||o.uid}),c()}),L(this,"_handleSetStreamLocalEnable",(o,s,c)=>{if(J("BLOCK_LOCAL_CLIENT")&&kn(s,this.channelName))return;const I=this._users.find(d=>d.uid===s);if(!I)return void N.error("[".concat(this._clientId,"] can not find target user!(disable_local)"));N.debug("[".concat(this._clientId,"] local ").concat(o," ").concat(c?"enabled":"disabled"," with uid ").concat(s));const C=o==="audio"?I.hasAudio:I.hasVideo;if(o==="audio"){I._trust_audio_enabled_state_=!0;const d=I._audio_enabled_;if(I._audio_enabled_=c,I._audio_enabled_===d)return;{const h=I._audio_enabled_?"enable-local-audio":"disable-local-audio";N.debug("[".concat(this._clientId,"] user-info-updated, uid: ").concat(s,", msg: ").concat(h)),this.safeEmit(st.USER_INFO_UPDATED,s,h)}}else{I._trust_video_enabled_state_=!0;const d=I._video_enabled_;if(I._video_enabled_=c,I._video_enabled_===d)return;{const h=I._video_enabled_?"enable-local-video":"disable-local-video";N.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(s,", msg: ").concat(h)),this.safeEmit(st.USER_INFO_UPDATED,s,h)}}const l=o==="audio"?I.hasAudio:I.hasVideo;return C!==l?!C&&l?(N.info("[".concat(this._clientId,"] remote user ").concat(s," published ").concat(o)),void this.safeEmit(st.USER_PUBLISHED,I,o)):(o==="video"&&I._videoTrack&&I._videoTrack._destroy(),o==="audio"&&I._audioTrack,this._p2pChannel.muteRemote(I,o),N.info("[".concat(this._clientId,"] remote user ").concat(s," unpublished ").concat(o)),void this.safeEmit(st.USER_UNPUBLISHED,I,o)):void 0}),L(this,"_handleMuteStream",(o,s,c)=>{if(J("BLOCK_LOCAL_CLIENT")&&kn(o,this.channelName))return;N.debug("[".concat(this._clientId,"] receive mute message"),o,s,c);const I=this._users.find(d=>d.uid===o);if(!I)return void N.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(o));const C=s==="audio"?I.hasAudio:I.hasVideo;if(s==="audio"){I._trust_audio_mute_state_=!0;const d=I._audio_muted_;if(I._audio_muted_=c,I._audio_muted_===d)return;{const h=I._audio_muted_?"mute-audio":"unmute-audio";N.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(o,", msg: ").concat(h)),this.safeEmit(st.USER_INFO_UPDATED,o,h)}}else{I._trust_video_mute_state_=!0;const d=I._video_muted_;if(I._video_muted_=c,I._video_muted_===d)return;{const h=I._video_muted_?"mute-video":"unmute-video";N.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(o,", msg: ").concat(h)),this.safeEmit(st.USER_INFO_UPDATED,o,h)}}const l=s==="audio"?I.hasAudio:I.hasVideo;if(C!==l){if(!C&&l)return(s==="audio"?I._audioSSRC:I._videoSSRC)?(N.info("[".concat(this._clientId,"] remote user ").concat(o," published ").concat(s)),void this.safeEmit(st.USER_PUBLISHED,I,s)):void N.warning("[".concat(this._clientId,"] remote user ").concat(o," receive ").concat(s," unmute message  before add stream message, ").concat(s," SSRC doesn't exist yet."));s==="video"&&I._videoTrack&&!I._video_pre_subscribed&&I._videoTrack._destroy(),s==="audio"&&I._audioTrack,this._p2pChannel.muteRemote(I,s),N.info("[".concat(this._clientId,"] remote user ").concat(o," unpublished ").concat(s)),this.safeEmit(st.USER_UNPUBLISHED,I,s)}}),L(this,"_handleP2PLost",async o=>{N.debug("[".concat(this._clientId,"] receive p2p lost"),o),parseInt(o.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():N.warning("[".concat(this._clientId,"] P2PLost stream not found"),o)}),L(this,"_handleTokenWillExpire",()=>{N.debug("[".concat(this._clientId,"] received message onTokenPrivilegeWillExpire")),this.safeEmit(st.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)}),L(this,"_handleBeforeUnload",o=>{o.type==="beforeunload"&&o.returnValue!==void 0&&o.returnValue!==""||(this.leave(),N.info("[".concat(this._clientId,"] auto leave onbeforeunload or pagehide")))}),L(this,"_handleUpdateNetworkQuality",()=>{if(this._networkQualitySensitivity==="normal")return;if(navigator&&navigator.onLine!==void 0&&!navigator.onLine)return void this.safeEmit(st.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const o={downlinkNetworkQuality:0,uplinkNetworkQuality:0};o.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),o.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit(st.NETWORK_QUALITY,o)}),L(this,"_handleP2PAddAudioOrVideoStream",(o,s,c,I)=>{const C=this._users.find(d=>d.uid===s);if(!C)return void N.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));N.debug("[".concat(this._clientId,"] stream added with uid ").concat(s,", type ").concat(o)),this.store.subscribe(C.uid,o,void 0,void 0,void 0,Date.now());const l=o==="audio"?C.hasAudio:C.hasVideo;o==="audio"?C._trust_audio_stream_added_state_=!0:C._trust_video_stream_added_state_=!0,o==="audio"?(C._audio_added_=!0,c!==void 0&&(C._audioSSRC=c),I!==void 0&&(C._audioMid=I)):(C._video_added_=!0,c!==void 0&&(C._videoSSRC=c),I!==void 0&&(C._videoMid=I)),(o==="audio"?C.hasAudio:C.hasVideo)&&!l&&(N.info("[".concat(this._clientId,"] remote user ").concat(C.uid," published ").concat(o)),this.safeEmit(st.USER_PUBLISHED,C,o)),this._p2pChannel.hasPendingRemoteMedia(C,o)&&(N.debug("[".concat(this._clientId,"] resubscribe ").concat(o," for user ").concat(C.uid," after reconnect.")),this._subscribe(C,o,!0).catch(d=>{N.error("[".concat(this._clientId,"] resubscribe error"),d.toString())}))}),this._config=t,this._clientId=kt(5,"client-"),this.store=new IF(t.codec,t.audioCodec,t.mode,this._clientId),this.store.clientCreated(),t.proxyServer&&this.setProxyServer(t.proxyServer,!0),t.turnServer&&this.setTurnServer(t.turnServer,!0),N.info("[".concat(this._clientId,"] Initializing AgoraRTC client v").concat(er," build: ").concat(cu,", mode: ").concat(this.mode,", codec: ").concat(this.codec)),t.clientRoleOptions)try{fR(t.clientRoleOptions),A=Object.assign({},t.clientRoleOptions)}catch(o){N.warning("[".concat(this._clientId,"] ").concat(o.toString()))}this._statsCollector=new _c(this.store),this._statsCollector.onStatsException=(o,s,c)=>{N.debug("[".concat(this._clientId,"] receive exception msg, code: ").concat(o,", msg: ").concat(s,", uid: ").concat(c)),this.safeEmit(st.EXCEPTION,{code:o,msg:s,uid:c})},this._statsCollector.onUploadPublishDuration=(o,s,c,I)=>{const C=this._users.find(l=>l.uid===o);C&&Me.peerPublishStatus(this._sessionId,{subscribeElapse:I,audioPublishDuration:s,videoPublishDuration:c,peer:C._uintid})},this.store.useP2P=t.mode==="p2p",this._gateway=new Kx(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:t.websocketRetryConfig||hA,httpRetryConfig:t.httpRetryConfig||hA,forceWaitGatewayResponse:t.forceWaitGatewayResponse===void 0||t.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:t.role,clientRoleOptions:A}),this._configDistribute=new Xx,this.store.useP2P?(this._p2pChannel=new Oi(this.store,this._statsCollector),this._handleP2PEvents()):this._p2pChannel=new eE(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents()}async joinMeta(t,A,o,s,c){let I=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],C=arguments.length>6&&arguments[6]!==void 0&&arguments[6];vt("JOIN_GATEWAY_USE_443PORT_ONLY",I),vt("JOIN_GATEWAY_USE_DUAL_DOMAIN",C);const l=this._gateway.signal.websocket;return l instanceof _u&&(l.use443PortOnly=I,l.tryDoubleDomain=C),async function(d,h,Q){iI.get(d)||iI.set(d,[]),rI.get(d)||rI.set(d,h),to.get(d)||to.set(d,0);const _=iI.get(d),S=rI.get(d);if(!_||!S)throw new Error("concurrent: deferQueue or maxConcurrency is null");if(to.get(d)===S){const P=Za();_.push(P),await P.promise}to.set(d,to.get(d)+1);for(var w=arguments.length,k=new Array(w>3?w-3:0),v=3;v<w;v++)k[v-3]=arguments[v];const b=await Q(...k);return to.set(d,to.get(d)-1),to.get(d)===S-1&&_.length>0&&(_[0].resolve(),_.shift()),to.get(d)===0&&(iI.set(d,[]),rI.set(d,0),to.set(d,0)),b}("client.join",J("JOIN_MAX_CONCURRENCY"),this.join.bind(this),t,A,o,s,c)}async join(t,A,o,s,c){const I=++this._numberOfJoinCount;this.store.joinStart(),s&&(this.store.uid=s);const C=(CI||CI||(CI=(window.location.protocol.split(":")[0]||"").toUpperCase(),CI))==="HTTPS",l=vR()?window.isSecureContext:"Browser Not Support";(!vR()&&!C||!window.isSecureContext)&&N.warning("The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser"),this.connectionState==="DISCONNECTED"&&(this.store.avoidJoinStart=Math.round(Date.now()),N.debug("[".concat(this._clientId,"] set avoidJoinStart to ").concat(this.store.avoidJoinStart))),Me.setAppId(t);try{if(!o&&o!==null)throw new z(G.INVALID_PARAMS,"Invalid token: ".concat(o,". If you don not use token, set it to null"));o&&MA(o,"token",1,2047),MA(t,"appid",1,2047),BI(A),s&&pI(s),c&&MA(c,"optionalInfo",1,2047)}catch(v){throw Me.reportApiInvoke(Ls(),{name:fA.JOIN,options:[t,A,o,s],states:{isHttps:C,isSecureContext:l},tag:eA.TRACER}).onError(v),v}if(this._leaveMutex.isLocked&&(N.debug("[".concat(this._clientId,"] join: waiting leave operation")),(await this._leaveMutex.lock())(),N.debug("[".concat(this._clientId,"] join: continue"))),this._joinAndNotLeaveYet=!0,this.connectionState!=="DISCONNECTED"){const v=new z(G.INVALID_OPERATION,"[".concat(this._clientId,"] Client already in connecting/connected state"));throw Me.reportApiInvoke(Ls(),{name:fA.JOIN,options:[t,A,o,s],states:{isHttps:C,isSecureContext:l},tag:eA.TRACER}).onError(v),v}this._gateway.state="CONNECTING";const d=await Qw({appId:t,cname:A,uid:s,stringUid:typeof s=="string"?s:void 0,token:o||t,cloudProxyServer:this._cloudProxyServerMode});if(!this._joinAndNotLeaveYet)throw new z(G.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));const h=(d==null?void 0:d.sid)||Ls();N.info("[".concat(this._clientId,"] start join channel ").concat(A,", join number: ").concat(I)),this._sessionId||(this._sessionId=h,this.store.sessionId=this._sessionId);const Q=Me.reportApiInvoke(h,{name:fA.JOIN,options:[t,A,o,s],states:{isHttps:C,isSecureContext:l},tag:eA.TRACER}),_=Hr(Hr({},this._rtmConfig),{},{clientId:this._clientId,appId:t,sid:this._sessionId,cname:A,uid:typeof s!="string"?s:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:o||t,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:c,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint,preload:!!d},this._remoteDefaultVideoStreamType!==void 0&&{defaultVideoStream:this._remoteDefaultVideoStreamType});if(this._useLocalAccessPoint&&(_.setLocalAPVersion=this._setLocalAPVersion),typeof s=="string"&&(_.stringUid=s,this._uintUid?(_.uid=this._uintUid,this._uintUid=void 0):_.uid=0),this._encryptionMode!=="none"&&this._encryptionSecret){if(_.aesmode=this._encryptionMode,_.aespassword=await(async v=>{const b=function(X){const Z=window.atob(`MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu
STM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+
HvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy
xQiYDz3vqa6bP29adwIDAQAB`),ie=new Uint8Array(new ArrayBuffer(Z.length));for(let ce=0;ce<Z.length;ce+=1)ie[ce]=Z.charCodeAt(ce);return ie}(),P=await window.crypto.subtle.importKey("spki",b,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]),K=eu(v),W=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},P,K);return function(X){let Z="";for(let ie=0;ie<X.length;ie+=1)Z+=String.fromCharCode(X[ie]);return window.btoa(Z)}(new Uint8Array(W))})(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new z(G.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this._encryptionSalt&&(_.aessalt=this._encryptionSalt)}if(this._encryptDataStream&&(this._encryptionMode==="aes-128-gcm2"||this._encryptionMode==="aes-256-gcm2"))if(this._encryptionSalt&&this._encryptionSecret)if(window.crypto.subtle){const v=new TextEncoder,b=J("USE_PURE_ENCRYPTION_MASTER_KEY")?v.encode(_.appId+this._encryptionSecret+this._encryptionSecret):v.encode(_.appId+_.cname+this._encryptionSecret);this._encryptDataStreamIv=await async function(P,K,W){const X=await window.crypto.subtle.importKey("raw",K,"PBKDF2",!1,["deriveBits","deriveKey"]),Z=P==="aes-128-gcm2"?128:256,ie=await window.crypto.subtle.deriveBits({name:"PBKDF2",iterations:OR,hash:"SHA-256",salt:W},X,Z+EF);return new Uint8Array(ie).subarray(Z/8)}(this._encryptionMode,b,On(this._encryptionSalt)),this._encryptDataStreamKey=await async function(P,K,W){const X=await window.crypto.subtle.importKey("raw",K,"PBKDF2",!1,["deriveBits","deriveKey"]),Z=P==="aes-128-gcm2"?128:256;return await window.crypto.subtle.deriveKey({name:"PBKDF2",iterations:OR,hash:"SHA-256",salt:W},X,{name:"AES-GCM",length:Z},!0,["encrypt","decrypt"])}(this._encryptionMode,b,On(this._encryptionSalt))}else l?N.warning("[".concat(this._clientId,"] encrypt datastream must be running in a secure context, fallback to plain data stream")):N.warning("[".concat(this._clientId,"] current browser do not support WebCrypto ,fallback to plain data stream")),this._encryptDataStream=!1;else this._encryptDataStream=!1,N.debug("[".concat(this._clientId,"] no salt / secret, cannot support encrypt data stream, fallback to plain data stream"));this._startSession(this._sessionId,{channel:A,appId:t,stringUid:_.stringUid});const S=this._sessionId;setTimeout(()=>{this.connectionState==="CONNECTING"&&S===this._sessionId&&Me.joinChannelTimeout(this._sessionId,5)},5e3);try{var w;let v;const b=_.cloudProxyServer;if(Re(w=["proxy3","proxy4","proxy5"]).call(w,b)){const Z=J("PROXY_SERVER_TYPE3");Array.isArray(Z)?_.proxyServer=Z[0]:_.proxyServer=Z}if(Me.setProxyServer(_.proxyServer),N.setProxyServer(_.proxyServer),this.store.requestAPStart(),d){if(N.debug("[".concat(this._clientId,"] get serverInfo Success from Preload Cache ").concat(_.stringUid?", ".concat(_.stringUid," => ").concat(d.intUid):""," ")),_.stringUid&&!_.uid&&(_.uid=d.intUid),v={gatewayInfo:d.ap.gatewayInfo},J("JOIN_WITH_FALLBACK_MEDIA_PROXY")&&_.turnServer.mode==="auto")if(d.ap.proxyInfo.addresses.length===0)N.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers");else{const Z=(await ny(d.ap.proxyInfo,d.ap.gatewayInfo.uid)).map(ie=>({turnServerURL:ie.address,tcpport:ie.tcpport||JA.tcpport,udpport:ie.udpport||JA.udpport,username:ie.username||JA.username,password:ie.password||JA.password,forceturn:!1,security:!0}));_.turnServer={mode:"manual",servers:Z}}Rw(d,_.stringUid)}else{if(_.stringUid&&!_.uid){let Z;[Z,v]=await pe.all([aD(_.stringUid,_,this._axiosCancelSource.token,this._config.httpRetryConfig||hA,this.store),sD(_,this._axiosCancelSource.token,this._config.httpRetryConfig||hA,!0,this.store)]),N.debug("[".concat(this._clientId,"] getUserAccount Success ").concat(_.stringUid," => ").concat(Z)),_.uid=Z,v.gatewayInfo.uid=Z,v.gatewayInfo.res.uid=Z}else v=await sD(_,this._axiosCancelSource.token,this._config.httpRetryConfig||hA,!0,this.store);if(!this._joinAndNotLeaveYet)throw new z(G.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"))}this.store.requestAPEnd(),setTimeout(()=>{this._configDistribute.startGetConfigDistribute(_,this._axiosCancelSource.token),this._configDistribute.on(Qu.UPDATE_BITRATE_LIMIT,Z=>{this._p2pChannel.updateBitrateLimit(Z)})},0),this._key=o||t;const P=v.gatewayInfo,K=_.uid?_.uid:P.uid;this._joinInfo=Hr(Hr({},_),{},{cid:P.cid,uid:K,vid:P.vid,apResponse:P.res,apGatewayAddress:P.apGatewayAddress,uni_lbs_ip:P.uni_lbs_ip,gatewayAddrs:P.gatewayAddrs}),this.store.intUid=K;const W=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new z(G.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));Q.onSuccess(W),this._appId=t,this._channelName=_.cname,this._uid=W,this.store.uid=W,setTimeout(()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(KA()?"beforeunload":"pagehide",this._handleBeforeUnload),this._statsCollector.startUpdateStats()},0);const X=_.stringUid?"string uid: ".concat(_.stringUid,",uid: ").concat(_.uid):"uid: ".concat(this._uid);return N.info("[".concat(this._clientId,"] Joining channel success: channel: ").concat(A,",").concat(X)),setTimeout(()=>{N.startUpload()},5e3),this.store.joinEnd(),k=this,Re(tn).call(tn,k)||tn.push(k),this._cloudProxyServerMode==="disabled"&&Ct().supportWebCrypto&&J("ENABLE_PRELOAD")&&Ud(this._joinInfo),W}catch(v){const b=Array.isArray(v)?v[0]:v;throw b&&b.code===G.OPERATION_ABORTED?N.warning("[".concat(this._clientId,"] join number: ").concat(I,", Joining channel failed, rollback"),b):N.error("[".concat(this._clientId,"] join number: ").concat(I,", Joining channel failed, rollback"),b),b.code!==G.OPERATION_ABORTED&&this._numberOfJoinCount===I&&(this._gateway.state="DISCONNECTED",this._reset()),Q.onError(b),b}var k}_joinGateway(){if(!this._joinInfo||!this._key)throw new z(G.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!(this._joinInfo.cloudProxyServer!=="disabled"||this._joinInfo.proxyServer||!J("JOIN_WITH_FALLBACK_SIGNAL_PROXY")))}async leave(){N.info("[".concat(this._clientId,"] Leaving channel")),window.removeEventListener(KA()?"beforeunload":"pagehide",this._handleBeforeUnload),this._reset(),function(A){const o=tn.indexOf(A);o!==-1&&tn.splice(o,1)}(this),this._statsCollector.stopUpdateStats();const t=await this._leaveMutex.lock();if(this.connectionState==="DISCONNECTED")return N.info("[".concat(this._clientId,"] Leaving channel repeated, success")),void t();await this._gateway.leave(this.connectionState!=="CONNECTED"),N.info("[".concat(this._clientId,"] Leaving channel success")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),t()}async publish(t){let A=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!Array.isArray(t)){if(!(t instanceof ta))return this._publishDataChannel(t);t=[t]}if(t.length===0)throw new z(G.INVALID_PARAMS,"param list is empty");const o=t;if(this._gateway.role==="audience")throw new z(G.INVALID_OPERATION,"audience can not publish stream");for(const c of o){if(!(c instanceof ta))throw new z(G.INVALID_PARAMS,"parameter is not local track");if(!c._enabled&&A)throw new z(G.TRACK_IS_DISABLED,"can not publish a disabled track: ".concat(c.getTrackId()))}N.info("[".concat(this._clientId,"] Publishing tracks, id ").concat(o.map(c=>"".concat(c.getTrackId()," "))));const s=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),A&&o.forEach(c=>{const I=this._configDistribute.getBitrateLimit();c instanceof Ft&&I&&c.setBitrateLimit(I.uplink)});try{await this._publishHighStream(o),N.info("[".concat(this._clientId,"] Publish success, id ").concat(o.map(c=>"".concat(c.getTrackId()," "))))}catch(c){throw N.error("[".concat(this._clientId,"] publish error"),c.toString()),c}finally{s()}}async _publishDataChannel(t){bt(t.id,"id",0,65535,!0),Do(t.ordered,"ordered"),MA(t.metadata,"metadata",0,512),N.info("[".concat(this._clientId,"] Publishing datachannels, id ").concat(t.id));const A=await this._publishMutex.lock();try{if(this._p2pChannel.getAllDataChannels().findIndex(c=>c.id===t.id)!==-1)throw new z(G.INVALID_PARAMS,"Invalid id: ".concat(t.id,". If you want to republish the datachannel, unpublish first"));if(!this._joinInfo||this._uid===void 0)throw new z(G.INVALID_OPERATION,"Can't publish datachannel, haven't joined yet!");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"can not publish datachannel in ".concat(this.connectionState," state"));if(this._turnServer.mode==="auto"&&J("FORCE_TURN")&&!J("TURN_ENABLE_TCP")&&!J("TURN_ENABLE_UDP"))throw new z(G.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");const o=function(c){return Ew(c,!1)}(t),s=await this._p2pChannel.publishDataChannel([o]);if(s.length>0){if(typeof o._originDataChannelId!="number")throw N.error("[".concat(this._clientId,"] can not publish with mediaType datachannel, cannot get RTCDatachannel id")),new z(G.CREATE_DATACHANNEL_ERROR);try{await pe.all(s.map(c=>this._uid&&this._gateway.publishDataChannel(this._uid,c,!0))),await o._waitTillOpen()}catch(c){if(c.code!==G.DISCONNECT_P2P)throw c}}return N.info("[".concat(this._clientId,"] Publish dataChannels success, id ").concat(o.id)),o}catch(o){throw N.error("[".concat(this._clientId,"] publish datachannels error"),o.toString()),o}finally{A()}}async unpublish(t){if(!this._joinInfo||this._uid===void 0)throw new z(G.INVALID_OPERATION,"Can't unpublish stream, haven't joined yet!");let A=[];if(t)if(Array.isArray(t))A=t;else{if(!(t instanceof ta))return this._unpublishDataChannel([t]);A=[t]}else this.store.useP2P||await this._unpublishDataChannel(),A=this._p2pChannel.getAllTracks(!0);N.info("[".concat(this._clientId,"] Unpublish tracks, tracks ").concat(A.map(s=>"".concat(s.getTrackId()," "))," "));const o=await this._publishMutex.lock();try{if(this._p2pChannel instanceof Oi){const s=await this._p2pChannel.unpublish(A);s&&await this._gateway.sendExtensionMessage(nA.UNPUBLISH,{unpubMsg:s},!0)}else{const s=await this._p2pChannel.unpublish(A);s&&await this._gateway.unpublish(s,this._uid),N.info("[".concat(this._clientId,"] Unpublish success,tracks ").concat(A.map(c=>"".concat(c.getTrackId()))))}}catch(s){throw N.error("[".concat(this._clientId,"] unpublish error"),s.toString()),s}finally{o&&o()}}async _unpublishDataChannel(t){t!==void 0&&t.length!==0||(t=this._p2pChannel.getAllDataChannels()),N.info("[".concat(this._clientId,"] Unpublish datachannels, datachannels ").concat(t.map(o=>"".concat(o.id," "))," "));const A=await this._publishMutex.lock();try{const o=await this._p2pChannel.unpublishDataChannel(t);o&&await this._gateway.unpublishDataChannel(o),N.info("[".concat(this._clientId,"] Unpublish dataChannel success,dataChannel ").concat(t.map(s=>"".concat(s.id))))}catch(o){throw N.error("[".concat(this._clientId,"] unpublish dataChannel error"),o.toString()),o}finally{A&&A()}}async subscribe(t,A,o){if(!(t instanceof En)){const s=this.remoteUsers.find(c=>c.uid===t);if(!s)throw new z(G.INVALID_REMOTE_USER,"user is not in the channel");t=s}return A==="datachannel"?this._subscribeDataChannel(t,o):this._subscribe(t,A)}async presubscribe(t,A){if(yA(A,"mediaType",["audio","video"]),this._p2pChannel instanceof Oi)throw new z(G.INVALID_OPERATION,"can't presub at p2p mode");if(!this._joinInfo)throw new z(G.INVALID_OPERATION,"can't presub when not join");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"can't presub in ".concat(this.connectionState," state"));const o=A===Oe.AUDIO,s=A===Oe.VIDEO,c=await this._subscribeMutex.lock();try{const{ssrcId:I,ortc:C,rtxSsrcId:l,cname:d,uint_id:h}=await this._gateway.presubscribe(t,A,!0);if(I==null)throw new z(G.UNEXPECTED_RESPONSE,"no ssrc id");let Q=this._users.find(S=>S.uid===t);Q||(Q=new En(t,h||t),Q._is_pre_created=!0,this._users.push(Q)),d&&(Q._cname=d),Q._uintid||(Q._uintid=h||t),o&&(Q._audioSSRC=I,Q._audio_pre_subscribed=!0,C&&(Q._audioOrtc=C)),s&&(Q._videoSSRC=I,Q._video_pre_subscribed=!0,C&&(Q._videoOrtc=C),l!=null&&(Q._rtxSsrcId=l)),N.info("[".concat(this._clientId,"] presub succeed ssrc: ").concat(I)),await this._p2pChannel.subscribe(Q,A,I,l,C);const _=o?Q._audioTrack:Q._videoTrack;if(!_)throw new z(G.UNEXPECTED_ERROR,"can not find remote track in user");return o&&(Q._trust_audio_stream_added_state_=!0,Q._audio_added_=!0),s&&(Q._trust_video_stream_added_state_=!0,Q._video_added_=!0),_}catch(I){throw N.error("[".concat(this._clientId,"] presub user ").concat(t," error"),I),I}finally{c()}}async _subscribeDataChannel(t,A){var o;if(bt(A,"channelId",0,65535,!0),!this._joinInfo)throw new z(G.INVALID_OPERATION,"Can't subscribe datachannel, not joined");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"Can't subscribe datachannel in ".concat(this.connectionState," state"));if(!this._users.find(l=>l===t))throw N.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", this user is not in the channel")),new z(G.INVALID_REMOTE_USER,"user is not in the channel");if(!t.hasAudio&&!t.hasVideo&&t._dataChannels.length===0)throw N.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", user is not published")),new z(G.INVALID_REMOTE_USER,"user is not published");const c=(o=t._dataChannels)===null||o===void 0?void 0:o.find(l=>l.id===A);if(!c)throw N.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid," with mediaType datachannel, remote datachannel is not published")),new z(G.REMOTE_USER_IS_NOT_PUBLISHED);const I=await this._subscribeMutex.lock();N.info("[".concat(this._clientId,"] subscribe user ").concat(t.uid,", mediaType: datachannel"));try{const l=await this._p2pChannel.subscribeDataChannel(t,[c]);if(l&&Re(l).call(l,c.id))try{var C;if(typeof c._originDataChannelId!="number")throw N.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid," with mediaType datachannel, cannot get RTCDatachannel")),new z(G.CREATE_DATACHANNEL_ERROR);const d={id:c.id,datachannelId:c._originDataChannelId,ordered:c.ordered,maxRetransmits:c.maxRetransmits,metadata:(C=c.metadata)!==null&&C!==void 0?C:""};await this._gateway.subscribeDataChannel(t.uid,d,!0),await c._waitTillOpen()}catch(d){if((d==null?void 0:d.code)!==G.WS_ABORT)throw await this._p2pChannel.unsubscribeDataChannel(t,[c]),d;await this._p2pChannel.unsubscribeDataChannel(t,[c]),this._p2pChannel.setPendingRemoteDataChannel(t,c.id)}return N.info("[".concat(this._clientId,"] subscribe success user ").concat(t.uid,", mediaType: datachannel")),c}finally{I()}}async _p2pSubscribe(t,A,o){if(yA(A,"mediaType",["audio","video"]),!this._joinInfo)throw new z(G.INVALID_OPERATION,"Can't subscribe stream, not joined");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));if(!this._users.find(I=>I===t)){const I=new z(G.INVALID_REMOTE_USER,"user is not in the channel");throw N.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", this user is not in the channel")),I}if(!t.hasAudio&&!t.hasVideo){const I=new z(G.INVALID_REMOTE_USER,"user is not published");throw N.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", user is not published")),I}if(!o&&(A==="audio"&&!t.hasAudio||A==="video"&&!t.hasVideo)){const I=new z(G.REMOTE_USER_IS_NOT_PUBLISHED);throw N.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid," with mediaType ").concat(A,", remote track is not published")),I}const c=await this._subscribeMutex.lock();N.info("[".concat(this._clientId,"] subscribe user ").concat(t.uid,", mediaType: ").concat(A));try{if(await this._p2pChannel.hasRemoteMediaWithLock(t,A))await this._p2pChannel.unmuteRemote(t,A);else try{const C=A==="audio"?t._audioSSRC:t._videoSSRC,l=A==="audio"?t._audioMid:t._videoMid;this.store.subscribe(t.uid,A,Date.now()),this._p2pChannel instanceof Oi&&await this._p2pChannel.subscribe(t,A,C,l)}catch(C){throw C}N.info("[".concat(this._clientId,"] subscribe success user ").concat(t.uid,", mediaType: ").concat(A)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(t.uid,this._defaultStreamFallbackType).catch(C=>{N.warning("[".concat(this._clientId,"] auto set fallback failed"),C)});const I=A==="audio"?t._audioTrack:t._videoTrack;if(!I)throw new z(G.UNEXPECTED_ERROR,"can not find remote track in user object");return I}catch(I){throw N.error("[".concat(this._clientId,"] subscribe user ").concat(t.uid," error"),I),I}finally{c()}}async _subscribe(t,A,o){if(this._p2pChannel instanceof Oi)return this._p2pSubscribe(t,A);if(yA(A,"mediaType",["audio","video"]),!this._joinInfo)throw new z(G.INVALID_OPERATION,"Can't subscribe stream, not joined");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));if(!this._users.find(h=>h===t)){const h=new z(G.INVALID_REMOTE_USER,"user is not in the channel");throw N.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", this user is not in the channel")),h}if(!t.hasAudio&&!t.hasVideo){const h=new z(G.INVALID_REMOTE_USER,"user is not published");throw N.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", user is not published")),h}if(!(o||(A!=="audio"||t.hasAudio&&t._audioSSRC!==void 0)&&(A!=="video"||t.hasVideo&&t._videoSSRC!==void 0))){const h=new z(G.REMOTE_USER_IS_NOT_PUBLISHED);throw N.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid," with mediaType ").concat(A,", remote track is not published")),h}let c=A==="audio"?t._audioSSRC:t._videoSSRC,I=A==="audio"?t._audioOrtc:t._videoOrtc,C=A==="video"?t._rtxSsrcId:void 0,l={stream_type:A==="audio"?Oe.AUDIO:Oe.VIDEO,ssrcId:c};const d=await this._subscribeMutex.lock();N.info("[".concat(this._clientId,"] subscribe user ").concat(t.uid,", mediaType: ").concat(A));try{if(await this._p2pChannel.hasRemoteMediaWithLock(t,A))await this._p2pChannel.unmuteRemote(t,A);else try{const Q=A==="audio"?t._audioSSRC:t._videoSSRC;Q!==void 0&&Q!==c&&(c=Q,I=A==="audio"?t._audioOrtc:t._videoOrtc,C=A==="video"?t._rtxSsrcId:void 0,l={stream_type:A==="audio"?Oe.AUDIO:Oe.VIDEO,ssrcId:c}),XA.markSubscribeStart(this.store.clientId,c),this.store.subscribe(t.uid,A,Date.now()),await this._p2pChannel.subscribe(t,A,c,C,I);try{this._p2pChannel.isPreSubScribe(c)||await this._gateway.subscribe(t.uid,l,!0)}catch(_){if((_==null?void 0:_.code)!==G.WS_ABORT)throw await this._p2pChannel.unsubscribe(t,A),_;await this._p2pChannel.unsubscribe(t,A,!0),this._p2pChannel.setPendingRemoteMedia(t,A)}this.store.subscribe(t.uid,A,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,t,A)}catch(Q){throw this._p2pChannel.reportSubscribeEvent(!1,Q==null?void 0:Q.code,t,A),Q}N.info("[".concat(this._clientId,"] subscribe success user ").concat(t.uid,", mediaType: ").concat(A)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(t.uid,this._defaultStreamFallbackType).catch(Q=>{N.warning("[".concat(this._clientId,"] auto set fallback failed"),Q)});const h=A==="audio"?t._audioTrack:t._videoTrack;if(!h)throw new z(G.UNEXPECTED_ERROR,"can not find remote track in user object");return h}catch(h){throw N.error("[".concat(this._clientId,"] subscribe user ").concat(t.uid," error"),h),h}finally{d()}}async massSubscribe(t){if(wo(t,"subscribeList"),!this._joinInfo)throw new z(G.INVALID_OPERATION,"Can't subscribe stream, not joined");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));const A=Date.now(),o=new Map,s=await this._subscribeMutex.lock();N.info("[".concat(this._clientId,"]start massSubscribe user ").concat(t.map(l=>{let{user:d,mediaType:h}=l;return"user: ".concat(d==null?void 0:d.uid,", mediaType: ").concat(h)}).join("; ")));const c=(t=[...t]).map(l=>{let{user:d,mediaType:h}=l;return{user:d,mediaType:h}}),I=await this._p2pChannel.globalLock();try{var C;for(let d=t.length-1;d>=0;d--){const h=t[d],{user:Q,mediaType:_}=h;if(yA(_,"mediaType",["audio","video"]),!Q){const v=new z(G.INVALID_PARAMS,"user property does not exist in subscribeList item");throw N.error("[".concat(this._clientId,"] user property does not exist in subscribeList item")),v}if(!this._users.find(v=>v===Q)){const v=new z(G.INVALID_REMOTE_USER,"user is not in the channel");N.error("[".concat(this._clientId,"] can not massSubscribe ").concat(Q.uid,", this user is not in the channel")),c[d].error=v,t.splice(d,1);continue}if(_==="audio"&&(!Q.hasAudio||Q._audioSSRC===void 0)||_==="video"&&(!Q.hasVideo||Q._videoSSRC===void 0)){const v=new z(G.REMOTE_USER_IS_NOT_PUBLISHED);N.error("[".concat(this._clientId,"] can not subscribe ").concat(Q.uid," with mediaType ").concat(_,", remote user is not published")),c[d].error=v,t.splice(d,1);continue}const w=NA.Video|NA.LwoVideo,k=o.get(Q);if(k){if(_==="video"?k&w:k&NA.Audio){t.splice(d,1),N.warning("[".concat(this._clientId,"] repeat massSubscribe user:").concat(Q.uid,", mediaType:").concat(_," twice"));continue}o.set(Q,k|(_==="video"?w:NA.Audio))}else o.set(Q,_==="video"?w:NA.Audio)}for(let d=t.length-1;d>=0;d--){const h=t[d],{user:Q,mediaType:_}=h,S=NA.Video|NA.LwoVideo;if(this._p2pChannel.hasRemoteMedia(Q,_)){await this._p2pChannel.unmuteRemoteNoLock(Q,_);const w=o.get(Q);o.set(Q,_==="video"?w^S:w^NA.Audio),t.splice(d,1)}}this.store.massSubscribe(t.map(d=>({userId:d.user.uid,type:d.mediaType})),A);let l=Mr(C=Array.from(o.entries())).call(C,(d,h)=>{let[Q,_]=h;if(_===0)return d;const S={stream_id:Q.uid,stream_type:_};return _&NA.Audio&&(S.audio_ssrc=Q._audioSSRC),_&NA.Video&&(S.video_ssrc=Q._videoSSRC),d.push(S),d},[]);try{t.length>0&&await this._p2pChannel.massSubscribeNoLock(t.map(h=>{let{user:Q,mediaType:_}=h;return{user:Q,mediaType:_,ssrcId:_===Oe.VIDEO?Q._videoSSRC:Q._audioSSRC,rtxSsrcId:_===Oe.VIDEO?Q._rtxSsrcId:void 0}}));const d=new Map;if(l=l.filter(h=>h.video_ssrc&&!this._p2pChannel.isPreSubScribe(h.video_ssrc)||h.audio_ssrc&&!this._p2pChannel.isPreSubScribe(h.audio_ssrc)||!h.video_ssrc&&!h.audio_ssrc),l.length>0){const h=await this._gateway.subscribeAll(l,!0);((h==null?void 0:h.users)||[]).forEach(Q=>{let{stream_id:_,video_error_code:S,audio_error_code:w,error_code:k}=Q;(S||w||k)&&d.set(_,{video_error_code:S,audio_error_code:w,error_code:k})})}if(Array.from(d.entries()).length>0){const h=[];Array.from(d.entries()).forEach(Q=>{let[_,S]=Q;const w=this.remoteUsers.find(k=>k.uid===_);if(w){let k;S.error_code||S.video_error_code&&S.audio_error_code?k=void 0:S.video_error_code?k=Oe.VIDEO:S.audio_error_code&&(k=Oe.AUDIO),h.push({user:w,mediaType:k})}}),h.length>0&&await this._p2pChannel.massUnsubscribeNoLock(h)}for(const h of c){const Q=d.get(h.user.uid);if(Q){const _=Q.error_code||h.mediaType==="audio"&&Q.audio_error_code||h.mediaType==="video"&&Q.video_error_code;if(_){const S=nc(_);N.error("user:".concat(h.user.uid," mediaType:").concat(h.mediaType," has massSubscribe error ").concat(S.desc)),h.error=new z(G.SUBSCRIBE_FAILED,"code ".concat(_,": ").concat(S.desc))}}h.error||(h.mediaType==="video"?h.track=h.user.videoTrack:h.track=h.user.audioTrack)}return this.store.massSubscribe(c.filter(h=>!h.error).map(h=>({userId:h.user.uid,type:h.mediaType})),void 0,Date.now()),c.forEach(h=>{var Q;Me.subscribe(this.store.sessionId,{succ:!!h.error,ec:((Q=h.error)===null||Q===void 0?void 0:Q.code)||null,video:h.mediaType===Oe.VIDEO,audio:h.mediaType===Oe.AUDIO,peerid:h.user.uid,subscribeRequestid:h.mediaType===Oe.VIDEO?h.user._videoSSRC:h.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-A),preSsrc:this._p2pChannel.isPreSubScribe(h.user._videoSSRC)},!0)}),N.info("[".concat(this._clientId,"] massSubscribe success ").concat(t.map(h=>{let{user:Q,mediaType:_}=h;return"user: ".concat(Q==null?void 0:Q.uid,", mediaType: ").concat(_)}).join("; "))),c}catch(d){throw await this._p2pChannel.massUnsubscribeNoLock(t),d}}finally{I(),s()}}async unsubscribe(t,A,o){if(!(t instanceof En)){const I=this.remoteUsers.find(C=>C.uid===t);if(!I)throw new z(G.INVALID_REMOTE_USER,"user is not in the channel");t=I}if(A||this.store.useP2P){if(A==="datachannel")return this._unsubscribeDataChannel(t,o)}else await this._unsubscribeDataChannel(t,o);if(A&&yA(A,"mediaType",["audio","video"]),!this._joinInfo)throw new z(G.INVALID_OPERATION,"Can't unsubscribe stream, haven't joined yet!");if(!this._users.find(I=>I===t)){const I=new z(G.INVALID_REMOTE_USER,"user is not in the channel");throw N.error("[".concat(this._clientId,"] can not unsubscribe ").concat(t.uid,", user is not in the channel")),I}N.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(t.uid,", mediaType: ").concat(A));const c=await this._subscribeMutex.lock();try{if(this._p2pChannel instanceof Oi)await this._p2pChannel.unsubscribe(t,A);else{const I=await this._p2pChannel.unsubscribe(t,A);I&&await this._gateway.unsubscribe(I,t.uid),A&&A!=="audio"||(t._audio_pre_subscribed=!1),A&&A!=="video"||(t._video_pre_subscribed=!1),t._is_pre_created&&cI(this._users,t),N.info("[".concat(this._clientId,"] unsubscribe success uid: ").concat(t.uid,", mediaType: ").concat(A))}}catch(I){if(I.code===G.DISCONNECT_P2P)return void N.warning("disconnecting p2p, abort unsubscribe request.");throw N.error("[".concat(this._clientId,"] unsubscribe user ").concat(t.uid," error"),I.toString()),I}finally{c()}}async _unsubscribeDataChannel(t,A){if(A&&bt(A,"id",0,65535,!0),!this._joinInfo)throw new z(G.INVALID_OPERATION,"Can't unsubscribe datachannel, haven't joined yet!");if(!this._users.find(c=>c===t)){const c=new z(G.INVALID_REMOTE_USER,"user is not in the channel");throw N.error("[".concat(this._clientId,"] can not unsubscribe ").concat(t.uid,", user is not in the channel")),c}let s;if(typeof A=="number"){const c=t._dataChannels.find(I=>I.id===A);c&&(s=[c])}else s=t._dataChannels;if(s===void 0){const c=new z(G.REMOTE_USER_IS_NOT_PUBLISHED);throw N.error("[".concat(this._clientId,"] can not unsubscribe ").concat(t.uid," with channelId ").concat(A,", remote datachannel is not published")),c}N.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(t.uid,", mediaType: datachannel, ids: ").concat(s.map(c=>c.id)));try{const c=await this._p2pChannel.unsubscribeDataChannel(t,s);c&&await this._gateway.unsubscribeDataChannel(c,t.uid),N.info("[".concat(this._clientId,"] unsubscribe datachannel success uid: ").concat(t.uid,", mediaType: datachannel, ids: ").concat(c))}catch(c){if(c.code===G.DISCONNECT_P2P)return void N.warning("disconnecting p2p, abort unsubscribe request.");throw N.error("[".concat(this._clientId,"] unsubscribe user ").concat(t.uid," error"),c.toString()),c}}async massUnsubscribe(t){if(wo(t,"unsubscribeList"),!this._joinInfo)throw new z(G.INVALID_OPERATION,"Can't unsubscribeAll stream, haven't joined yet!");N.info("[".concat(this._clientId,"] start massUnsubscribe ").concat(t.map(o=>{let{user:s,mediaType:c}=o;return"user: ".concat(s==null?void 0:s.uid,", mediaType: ").concat(c,";")}).join())),t=[...t];const A=new Map;for(let o=t.length-1;o>=0;o--){const{user:s,mediaType:c}=t[o];if(!s){const l=new z(G.INVALID_PARAMS,"user property does not exist in unsubscribeList item");throw N.error("[".concat(this._clientId,"] user property does not exist in unsubscribeList item")),l}if(yA(c,"mediaType",["video","audio",void 0]),!this._users.find(l=>l===s)){N.warning("[".concat(this._clientId,"] can not unsubscribe ").concat(s.uid,", user is not in the channel")),t.splice(o,1);continue}const C=NA.Video|NA.LwoVideo;if(A.has(s)){const l=A.get(s);let d;switch(c){case"video":d=l&C;break;case"audio":d=l&NA.Audio;break;default:d=l&(NA.Audio|C)}if(d){N.warning("[".concat(this._clientId,"] repeat massUnsubscribe user:").concat(s.uid,",mediaType:").concat(c," twice.")),t.splice(o,1);continue}c?c==="audio"?A.set(s,l|NA.Audio):c==="video"&&A.set(s,l|C):A.set(s,l|NA.Audio|C)}else c?c==="audio"?A.set(s,NA.Audio):c==="video"&&A.set(s,C):A.set(s,NA.Audio|C)}try{const o=await this._p2pChannel.massUnsubscribe(t);o&&await this._gateway.massUnsubscribe(o),N.info("[".concat(this._clientId,"] massUnsubscribe success ").concat(t.map(s=>{let{user:c,mediaType:I}=s;return"user: ".concat(c==null?void 0:c.uid,", mediaType: ").concat(I,";")}).join()))}catch(o){if(o.code===G.DISCONNECT_P2P)return void N.warning("[".concat(this._clientId,"] disconnecting p2p, abort unsubscribe request."));throw N.error("[".concat(this._clientId,"] massUnsubscribe error"),o.toString()),o}}async setLowStreamParameter(t){(function(o){if(!o)throw new Ae(G.INVALID_PARAMS);Wt(o.width)||Zl(o.width,"streamParameter.width"),Wt(o.height)||Zl(o.height,"streamParameter.height"),Wt(o.framerate)||Zl(o.framerate,"streamParameter.framerate"),Wt(o.bitrate)||bt(o.bitrate,"streamParameter.bitrate")})(t),(!t.width&&t.height||t.width&&!t.height)&&N.warning("[".concat(this._clientId,"] The width and height parameters take effect only when both are set")),N.info("[".concat(this._clientId,"] set low stream parameter to"),JSON.stringify(t));const A=this._configDistribute.getLowStreamConfigDistribute();if(A&&A.bitrate&&t.bitrate&&A.bitrate<t.bitrate&&(t.bitrate=A.bitrate),this._lowStreamParameter=t,this._isDualStreamEnabled)return this._p2pChannel.updateVideoStreamParameter(t,Ie.LocalVideoLowTrack)}async enableDualStream(){if(!Ct().supportDualStream)throw Me.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new z(G.NOT_SUPPORTED,"Your browser is not support dual stream");if(this._isDualStreamEnabled)throw new z(G.INVALID_OPERATION,"Dual stream is already enabled");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(t){throw Me.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),t}this._isDualStreamEnabled=!0,Me.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),N.info("[".concat(this._clientId,"] enable dual stream"))}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)throw new z(G.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this._p2pChannel.getLocalMedia(Ie.LocalVideoLowTrack))try{const t=await this._p2pChannel.unpublishLowStream();t&&await this._gateway.unpublish(t,this._joinInfo.stringUid||this._joinInfo.uid)}catch(t){throw Me.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),t}this._isDualStreamEnabled=!1,Me.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),N.info("[".concat(this._clientId,"] disable dual stream"))}}async setClientRole(t,A){if(function(o){yA(o,"role",["audience","host"])}(t),A&&fR(A),this.mode==="rtc"||this.mode==="p2p")throw N.warning("[".concat(this._clientId,"]").concat(this.mode," mode can not use setClientRole")),new z(G.INVALID_OPERATION,"".concat(this.mode," mode can not use setClientRole"));if(A&&A.level&&t==="host")throw new z(G.INVALID_OPERATION,"host mode can not set audience latency level");if(t==="audience"&&this._p2pChannel.hasLocalMedia())throw new z(G.INVALID_OPERATION,"can not set client role to audience when publishing stream");await this._gateway.setClientRole(t,A),this._config.role=t,N.info("[".concat(this._clientId,"] set client role to ").concat(t,", level: ").concat(A&&A.level))}getRemoteInboundOffset(){var t;const A=(t=this._p2pChannel.getStats())===null||t===void 0?void 0:t.audioSend[0];if(!A||!A.timestamp)return 0;const o=A.timestamp-Date.now();return Math.abs(o)>1e3+A.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,this.ntpAlignErrorCount>=3?o:0}getNtpWallTimeInMs(){return document.visibilityState==="visible"&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}setProxyServer(t,A){if(MA(t,"proxyServer"),!A){if(this.connectionState!=="DISCONNECTED")throw new z(G.INVALID_OPERATION,"Set proxy server before join channel");if(this._cloudProxyServerMode!=="disabled"||this._useLocalAccessPoint)throw new z(G.INVALID_OPERATION,"You have already set the proxy")}this._proxyServer=t,Me.setProxyServer(this._proxyServer),N.setProxyServer(this._proxyServer),N.info("[".concat(this._clientId,"] Set proxy server ").concat(A?"by initialize call":""," success."))}setTurnServer(t,A){if(Array.isArray(t)||(t=[t]),!A){if(this.connectionState!=="DISCONNECTED")throw new z(G.INVALID_OPERATION,"Set turn server before join channel");if(this._cloudProxyServerMode!=="disabled"||this._useLocalAccessPoint)throw new z(G.INVALID_OPERATION,"You have already set the proxy")}if(aI(t))return this._turnServer={servers:t,mode:"original-manual"},void N.info("[".concat(this._clientId,"] Set original turnserver ").concat(A?"by initialize call":""," success: ").concat(t.map(o=>o.urls).join(","),"."));t.forEach(o=>QR(o)),this._turnServer={servers:t,mode:"manual"},N.info("[".concat(this._clientId,"] Set turnserver ").concat(A?"by initialize call":""," success."))}setLicense(t){if(this.connectionState!=="DISCONNECTED")throw new z(G.INVALID_OPERATION,"you should set license before join channel");if(MA(t,"license",32,32),!/^[A-Za-z\d]+$/.test(t))throw new z(G.INVALID_PARAMS,"license should only contains characters from A-Z a-z 0-9");this._license=t,N.info("[".concat(this._clientId,"] set license success"),t)}startProxyServer(t){if(this.connectionState!=="DISCONNECTED")throw new z(G.INVALID_OPERATION,"Start proxy server before join channel");if(this._proxyServer||this._turnServer.mode==="manual"||this._useLocalAccessPoint)throw new z(G.INVALID_OPERATION,"You have already set the proxy");const A=[3,4,5];let o;switch(t===void 0&&(t=3),t){case 1:case 2:throw new z(G.NOT_SUPPORTED,"proxy mode 1/2 has been deprecated and not supported.");case 3:o="proxy3";break;case 4:o="proxy4";break;case 5:o="proxy5";break;default:throw new z(G.INVALID_PARAMS,"proxy server mode must be ".concat(A.join("|")))}this._cloudProxyServerMode=o,this.store.cloudProxyServerMode=o,N.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode)}stopProxyServer(){if(this.connectionState!=="DISCONNECTED")throw new z(G.INVALID_OPERATION,"Stop proxy server after leave channel");Me.setProxyServer(),N.setProxyServer(),this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled",N.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:"auto",servers:[]}}setLocalAccessPointsV2(t){if(!t.accessPoints)throw new z(G.INVALID_PARAMS,"accessPoints is required.");wo(t.accessPoints.serverList,"accessPoints.serverList"),MA(t.accessPoints.domain,"accessPoints.domain");const A=(S,w)=>{bt(S,w,0,65535,!0)};let o=443;if(t.accessPoints.port&&(A(t.accessPoints.port,"accessPoints.port"),o=t.accessPoints.port),this._proxyServer||this._cloudProxyServerMode!=="disabled")throw new z(G.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");J("CLOSE_AFB_FOR_LOCAL_AP")&&(vt("JOIN_WITH_FALLBACK_SIGNAL_PROXY",!1),vt("JOIN_WITH_FALLBACK_MEDIA_PROXY",!1));const s=/^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,c=t.accessPoints.domain,I=t.accessPoints.serverList.map(S=>s.test(S)?"".concat(S.replace(/\./g,"-"),".").concat(c):S),C=I.map(S=>"".concat(S,":").concat(o));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,vt("WEBCS_DOMAIN",C),vt("WEBCS_DOMAIN_BACKUP_LIST",C),vt("GATEWAY_DOMAINS",[c]),t.report&&t.report.hostname&&Array.isArray(t.report.hostname)&&t.report.hostname.length?(wo(t.report.hostname,"report.hostname"),vt("EVENT_REPORT_DOMAIN",t.report.hostname[0]),vt("EVENT_REPORT_BACKUP_DOMAIN",t.report.hostname[1]||t.report.hostname[0])):(vt("EVENT_REPORT_DOMAIN",I[0]),vt("EVENT_REPORT_BACKUP_DOMAIN",I[1]||I[0]));let l=6443;t.report&&t.report.port&&(A(t.report.port,"report.port"),l=t.report.port),vt("STATS_COLLECTOR_PORT",l),t.report?vt("ENABLE_EVENT_REPORT",!0):vt("ENABLE_EVENT_REPORT",!1);let d="";t.log&&t.log.hostname&&Array.isArray(t.log.hostname)&&t.log.hostname.length?(wo(t.log.hostname,"log.hostname"),d=t.log.hostname[0]):d=I[0];let h=6444;t.log&&t.log.port&&(A(t.log.port,"log.port"),h=t.log.port),vt("LOG_UPLOAD_SERVER","".concat(d,":").concat(h));let Q=[];t.cds&&t.cds.hostname&&Array.isArray(t.cds.hostname)&&t.cds.hostname.length?(wo(t.cds.hostname,"cds.hostname"),Q=t.cds.hostname):Q=I;let _=443;t.cds&&t.cds.port&&(A(t.cds.port,"cds.port"),_=t.cds.port),vt("CDS_AP",Q.map(S=>"".concat(S,":").concat(_))),t.cds?vt("ENABLE_CONFIG_DISTRIBUTE",!0):vt("ENABLE_CONFIG_DISTRIBUTE",!1),N.info("set local access point v2 success")}setLocalAccessPoints(t,A){if(wo(t,"serverList"),MA(A,"domain"),this._proxyServer||this._cloudProxyServerMode!=="disabled")throw new z(G.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");const o=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;t=t.map(s=>o.test(s)?"".concat(s.replace(/\./g,"-"),".").concat(A):s),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,vt("WEBCS_DOMAIN",t),vt("WEBCS_DOMAIN_BACKUP_LIST",t),vt("GATEWAY_DOMAINS",[A]),vt("EVENT_REPORT_DOMAIN",t[0]),vt("EVENT_REPORT_BACKUP_DOMAIN",t[1]||t[0]),vt("LOG_UPLOAD_SERVER","".concat(t[0],":6444")),N.info("[".concat(this._clientId,"] set local access point success"))}async setRemoteDefaultVideoStreamType(t){if(yA(t,"streamType",[0,1]),this._remoteDefaultVideoStreamType=t,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(t),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(A){throw N.error("[".concat(this._clientId,"] set default remote video stream type error"),A.toString()),A}else N.debug("[".concat(this._clientId,"] haven't joined yet, cache remoteDefaultVideoStreamType ").concat(t))}async setRemoteVideoStreamType(t,A){yA(A,"streamType",[0,1]);try{await this._gateway.setRemoteVideoStreamType(t,A),setTimeout(()=>{const o=this._users.find(s=>s.uid===t);o&&o.videoTrack&&o.videoTrack.updateMediaStreamTrackResolution()},2e3)}catch(o){throw N.error("[".concat(this._clientId,"] set remote video stream type error"),o.toString()),o}N.info("[".concat(this._clientId,"] set remote ").concat(t," video stream type to ").concat(A)),this._remoteStreamTypeCacheMap.set(t,A)}async setStreamFallbackOption(t,A){yA(A,"fallbackType",[0,1,2]);try{await this._gateway.setStreamFallbackOption(t,A)}catch(o){throw N.error("[".concat(this._clientId,"] set stream fallback option"),o.toString()),o}N.info("[".concat(this._clientId,"] set remote ").concat(t," stream fallback type to ").concat(A)),this._streamFallbackTypeCacheMap.set(t,A)}setEncryptionConfig(t,A,o,s){(function(I){yA(I,"encryptionMode",["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-128-gcm","aes-256-gcm","aes-128-gcm2","aes-256-gcm2","none"])})(t),MA(A,"secret");const c=["aes-128-gcm2","aes-256-gcm2"];if(Re(c).call(c,t)){if(!o||!(o instanceof Uint8Array&&o.length===32))throw new z(G.INVALID_PARAMS,"salt must be an Uint8Array and exactly equal to 32 bytes")}else if(o)throw new z(G.INVALID_PARAMS,"current encrypt mode does not need salt");if(s){if(Do(s,"encryptDataStream"),!Re(c).call(c,t))throw new z(G.INVALID_PARAMS,"current encrypt mode does not support data stream");this._encryptDataStream=!0}new RegExp(`^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'"|{}\\[\\]])(?=.{8,})`).test(A)||N.warning(`The secret is not strong:
      The secret must contain at least 1 lowercase alphabetical character,
      The secret must contain at least 1 uppercase alphabetical character,
      The secret must contain at least 1 numeric character,
      The secret must contain at least one special character,
      The secret must be eight characters or longer.
      `),this._encryptionMode=t,this._encryptionSecret=A,o&&(this._encryptionSalt=zo(o))}async renewToken(t){if(MA(t,"token",1,2047),!this._key||!this._joinInfo)throw new z(G.INVALID_OPERATION,"renewToken should not be called before user join");const A=this._key;this._key=t,this._joinInfo&&(this._joinInfo.token=t);const o=await this._renewTokenMutex.lock();try{if(J("USE_NEW_TOKEN")){N.debug("[".concat(this._clientId,"] start renew token with ticket from unilbs"));const s=await Wx(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||hA);N.debug("[".concat(this._clientId,"] get ticket from unilbs success")),await this._gateway.renewToken({token:t,ticket:s})}else N.debug("[".concat(this._clientId,"] start renew token without ticket")),await this._gateway.renewToken({token:t});N.debug("[".concat(this._clientId,"] renewToken success"))}catch(s){throw this._key=A,this._joinInfo.token=A,N.error("[".concat(this._clientId,"] renewToken failed"),s.toString()),s}finally{o()}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?N.warning("you have already enabled audio volume indicator!"):this._audioVolumeIndicationInterval=window.setInterval(()=>{const t=this._p2pChannel.getAudioLevels();this.safeEmit(st.VOLUME_INDICATOR,t)},J("AUDIO_VOLUME_INDICATION_INTERVAL")||2e3)}getRTCStats(){const t=this._statsCollector.getRTCStats(),A=this._gateway.getInChannelInfo();return t.Duration=Math.round(A.duration/1e3),t}async startLiveStreaming(t,A){if(!A){if(this.codec!=="h264")throw new z(G.LIVE_STREAMING_INVALID_RAW_STREAM,"raw streaming is only support h264");if(!this._p2pChannel.hasLocalMedia())throw new z(G.LIVE_STREAMING_INVALID_RAW_STREAM,"can not find stream to raw streaming")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(t)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(t))throw new z(G.LIVE_STREAMING_TASK_CONFLICT);const o=A?No.TRANSCODE:No.RAW;return this._createLiveStreamingClient(o).startLiveStreamingTask(t,o)}setLiveTranscoding(t){return this._createLiveStreamingClient(No.TRANSCODE).setTranscodingConfig(t)}async stopLiveStreaming(t){const A=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter(o=>o&&o.hasUrl(t));if(!A.length)throw new z(G.INVALID_PARAMS,"can not find live streaming url to stop");await pe.all(A.map(o=>o&&o.stopLiveStreamingTask(t)))}async startChannelMediaRelay(t){WD(t),await this._createChannelMediaRelayClient().startChannelMediaRelay(t)}async updateChannelMediaRelay(t){WD(t),await this._createChannelMediaRelayClient().updateChannelMediaRelay(t)}async stopChannelMediaRelay(){await this._createChannelMediaRelayClient().stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0)}async sendStreamMessage(t){var A;let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!this._joinInfo)throw new z(G.INVALID_OPERATION,"can not send data stream, not joined");if((typeof t=="string"||t instanceof Uint8Array)&&(t={payload:t}),typeof t.payload=="string"){const c=new TextEncoder;t.payload=c.encode(t.payload)}let s=!1;if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Re(A=["aes-128-gcm2","aes-256-gcm2"]).call(A,this._encryptionMode)&&(s=!0,t.payload=await async function(c,I,C){var l;const d=Mr(l=Array.from(C)).call(l,(v,b)=>v+b,0),h={serverTs:0,seq:CF++,length:C.length,checkSum:d},Q=new Uint8Array(NR(d,2)),_=new ArrayBuffer(Us),S=new DataView(_);S.setUint32(0,h.serverTs),S.setUint16(4,h.seq),S.setUint16(6,h.length),S.setUint16(8,h.checkSum);const w=16-C.length%16;C=yR(C,new Uint8Array(w));const k=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:c,tagLength:MR,additionalData:Q},I,C);return yR(new Uint8Array(_),new Uint8Array(k))}(this._encryptDataStreamIv,this._encryptDataStreamKey,t.payload)),new Blob([t.payload]).size>1024)throw new z(G.INVALID_PARAMS,s?"encrypted stream message out of range.":"stream message out of range.");return this._gateway.signal.request(Ke.DATA_STREAM,{payload:zo(t.payload),syncWithAudio:t.syncWithAudio,sendTs:Date.now()-f2},!o)}sendMetadata(t){if(!this._joinInfo)throw new z(G.INVALID_OPERATION,"can not send metadata, not joined");if(new Blob([t]).size>1024)throw new z(G.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(Ke.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:zo(t)})}async sendCustomReportMessage(t){if(Array.isArray(t)||(t=[t]),t.forEach(uF),!this._joinInfo)throw new z(G.INVALID_OPERATION,"can not send custom report, not joined");await Me.sendCustomReportMessage(this._joinInfo.sid,t)}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(t,A){yA(A.spatialLayer,"spatialLayer",[0,1,2,3]),yA(A.temporalLayer,"temporalLayer",[0,1,2,3]);try{await this._gateway.pickSVCLayer(t,A)}catch(o){throw N.error("[".concat(this._clientId,"] pick SVC layer failed"),o.toString()),o}}async setRTMConfig(t){const{apRTM:A=!1,rtmFlag:o}=t;if(Do(A,"apRTM"),bt(o,"rtmFlag",0),this._rtmConfig.apRTM=A,this._rtmConfig.rtmFlag=o,N.debug("[".concat(this._clientId,"] setRTMconfig ").concat(JSON.stringify(t)," in ").concat(this.connectionState," state")),(this.connectionState==="CONNECTED"||this.connectionState==="RECONNECTING")&&this._joinInfo)return this._joinInfo.apRTM=A,this._joinInfo.rtmFlag=o,this._gateway.setRTM2Flag(o)}_reset(){if(N.debug("[".concat(this._clientId,"] reset client")),this._axiosCancelSource.cancel(),this._axiosCancelSource=di.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo&&_w(this._joinInfo),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode="none",this._encryptionSecret=null,this._encryptionSalt=null,this._encryptDataStreamKey=null,this._encryptDataStreamIv=null,this._pendingPublishedUsers=[],this._users.forEach(t=>{t._audioTrack&&t._audioTrack._destroy(),t._videoTrack&&t._videoTrack._destroy(),t._dataChannels&&(t._dataChannels.forEach(A=>A._close()),t._dataChannels.length=0)}),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),this._cloudProxyServerMode==="fallback"&&(this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled"),this._p2pChannel.reset(),this._publishMutex=new $A("client-publish"),this._subscribeMutex=new $A("client-subscribe"),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch{}if(this._moderation)try{this.setImageModeration(!1)}catch{}}_startSession(t,A){var o;const s=t||Ls();t?N.debug("[".concat(this._clientId,"] new Session ").concat(s)):N.debug("[".concat(this._clientId,"] renewSession ").concat(this._sessionId," => ").concat(s));const c=t?"":this._sessionId||"";this._sessionId=s,this.store.sessionId=s;const I={lts:new Date().getTime(),mode:this.mode,buildFormat:1,stringUid:(A==null?void 0:A.stringUid)||((o=this._joinInfo)===null||o===void 0?void 0:o.stringUid),channelProfile:this.mode==="live"?1:0,channelMode:0,isABTestSuccess:Number(this._configDistribute.isSuccess),lsid:c,clientRole:this.role==="audience"?2:1};Me.sessionInit(this._sessionId,Hr({cname:A.channel,appid:A.appId},I)),this._joinInfo&&(this._joinInfo.sid=s),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=s)}async _publishHighStream(t){if(!this._joinInfo||this._uid===void 0)throw new z(G.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));if(this._turnServer.mode==="auto"&&J("FORCE_TURN")&&!J("TURN_ENABLE_TCP")&&!J("TURN_ENABLE_UDP"))throw new z(G.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");N.debug("[".concat(this._clientId,"] publish high stream"));try{const o=await this._p2pChannel.publish(t,this._isDualStreamEnabled,this._lowStreamParameter);if(this._p2pChannel instanceof Oi){const s=(await o.next()).value;if(s){try{await this._gateway.sendExtensionMessage(nA.PUBLISH,s,!0)}catch(c){throw o.throw(c),c}await o.next()}this._p2pChannel.reportPublishEvent(!0,null)}else{const s=(await o.next()).value;if(s){var A;let c;try{c=await this._gateway.publish(this._uid,s,!0)}catch(I){if(I.code!==G.DISCONNECT_P2P)throw o.throw(I),I}await o.next(((A=c)===null||A===void 0?void 0:A.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const c of t)c instanceof Ft&&c._encoderConfig&&this._gateway.setVideoProfile(c._encoderConfig),!c.muted&&c.enabled||await this._p2pChannel.muteLocalTrack(c)}}catch(o){if(this._p2pChannel.reportPublishEvent(!1,o==null?void 0:o.code,t),(o==null?void 0:o.code)===G.WS_ABORT)return;throw o}}async _publishLowStream(){if(!this._joinInfo||this._uid===void 0)throw new z(G.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new z(G.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));N.debug("[".concat(this._clientId,"] publish low stream"));const t=this._configDistribute.getLowStreamConfigDistribute();t&&t.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&t.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=t.bitrate));try{const o=await this._p2pChannel.publishLowStream(this._lowStreamParameter),s=(await o.next()).value;if(s){var A;let c;try{c=await this._gateway.publish(this._uid,s,!0)}catch(I){if(I.code!==G.DISCONNECT_P2P)throw o.throw(I),I}o.next(((A=c)===null||A===void 0?void 0:A.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(o){if(this._p2pChannel.reportPublishEvent(!1,o==null?void 0:o.code,void 0,!0),(o==null?void 0:o.code)===G.WS_ABORT)return;throw o}}_createLiveStreamingClient(t){const A=()=>{if(!this._joinInfo||!this._appId)return new z(G.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();const o=(s={joinInfo:this._joinInfo,appId:this._appId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig},Dc("LiveStreaming").create(s));var s;return o.onLiveStreamError=(c,I)=>{Me.reportApiInvoke(this._sessionId,{name:fA.ON_LIVE_STREAM_ERROR,options:[c,I],tag:eA.TRACER}).onSuccess(),this.safeEmit(st.LIVE_STREAMING_ERROR,c,I)},o.onLiveStreamWarning=(c,I)=>{Me.reportApiInvoke(this._sessionId,{name:fA.ON_LIVE_STREAM_WARNING,options:[c,I],tag:eA.TRACER}).onSuccess(),this.safeEmit(st.LIVE_STREAMING_WARNING,c,I)},o.on(pu.REQUEST_WORKER_MANAGER_LIST,(c,I,C)=>{if(!this._joinInfo)return C(new z(G.INVALID_OPERATION,"can not find join info to get worker manager"));(async function(l,d,h,Q){const _=J("UAP_AP").slice(0,J("AJAX_REQUEST_CONCURRENT")).map(S=>d.proxyServer?"https://".concat(d.proxyServer,"/ap/?url=").concat(S+"/api/v1?action=uap"):"https://".concat(S,"/api/v1?action=uap"));return await Jx(_,l,d,h,Q)})(c,this._joinInfo,this._axiosCancelSource.token,hA).then(I).catch(C)}),o};return t===No.RAW?(this._liveRawStreamingClient=this._liveRawStreamingClient||A(),this._liveRawStreamingClient):(this._liveTranscodeStreamingClient=this._liveTranscodeStreamingClient||A(),this._liveTranscodeStreamingClient)}_createChannelMediaRelayClient(){if(!this._joinInfo)return new z(G.INVALID_OPERATION,"can not create channel media relay client, please join channel first").throw();if(!this._channelMediaRelayClient){const{sendResolutionWidth:A,sendResolutionHeight:o}=this.getLocalVideoStats(),s=(t={joinInfo:this._joinInfo,clientId:this._clientId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig,resolution:{width:A,height:o}},Dc("ChannelMediaRelay").create(t));s.on("state",c=>{c===yi.RELAY_STATE_FAILURE&&s&&s.dispose(),this.safeEmit(st.CHANNEL_MEDIA_RELAY_STATE,c)}),s.on("event",c=>{this.safeEmit(st.CHANNEL_MEDIA_RELAY_EVENT,c)}),this._channelMediaRelayClient=s,this._statsCollector.onStatsChanged=(c,I)=>{var C;c==="resolution"&&((C=this._channelMediaRelayClient)===null||C===void 0||C.setVideoProfile(I))}}var t;return this._channelMediaRelayClient}_handleUpdateDataChannel(t,A){const{added:o,deleted:s}=t,c=[];if(A){const I=[];this._users.forEach(C=>{C._dataChannels.forEach(l=>{o.every(d=>d.uid!==C._uintid||d.stream_id!==l.id)&&I.push({uid:C._uintid,stream_id:l.id,ordered:l.ordered,max_retrans_times:l.maxRetransmits,metadata:l.metadata})})}),I.length>0&&this._handleUpdateDataChannel({added:[],deleted:I})}Array.isArray(o)&&o.length>0&&o.forEach(I=>{const{uid:C,stream_id:l,ordered:d,max_retrans_times:h,metadata:Q}=I,_=this._users.find(S=>S._uintid===C);if(!_)return void N.error("[".concat(this._clientId,"] can not find target user!(on_add_data_channel)"));if(N.debug("[".concat(this._clientId,"] data_channel added with uid ").concat(C)),Re(c).call(c,_)||c.push(_),_._uintid||(_._uintid=C),_._dataChannels.findIndex(S=>S.id===I.stream_id)===-1){const S={id:l,ordered:!!d,maxRetransmits:h,metadata:Q},w=function(k){return Ew(k,!0)}(S);_._dataChannels.push(w),N.info("[".concat(this._clientId,"] remote user ").concat(_.uid," published datachannel")),A||this.safeEmit(st.USER_PUBLISHED,_,"datachannel",S)}this._p2pChannel.hasPendingRemoteDataChannel(_,I.stream_id)&&(N.debug("[".concat(this._clientId,"] resubscribe datachannel for user ").concat(_.uid," after reconnect.")),this._subscribeDataChannel(_,I.stream_id).catch(S=>{N.error("[".concat(this._clientId,"] resubscribe datachannel error"),S.toString())}))}),A&&(this.safeEmit(st.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(s)&&s.length>0&&s.forEach(I=>{const{uid:C,stream_id:l}=I,d=this._users.find(Q=>Q._uintid===C);if(!d)return void N.error("[".concat(this._clientId,"] can not find target user!(on_delete_data_channel)"));const h=d._dataChannels.find(Q=>Q.id===I.stream_id);h&&(N.debug("[".concat(this._clientId,"] data_stream delete with uid ").concat(C)),this._p2pChannel.unsubscribeDataChannel(d,[h]).then(Q=>{if(d._dataChannels=d._dataChannels.filter(_=>_!==h),Q)return this._gateway.unsubscribeDataChannel(Q,d.uid)}),N.info("[".concat(this._clientId,"] remote user ").concat(C," unpublished datachannel ,id:").concat(h.id)),this.safeEmit(st.USER_UNPUBLISHED,d,"datachannel",h._config))})}_handleRemoveDataChannels(t){const A=this._users.find(o=>o.uid===t.uid);if(A){if(A._dataChannels!==void 0&&A._dataChannels.length>0){N.debug("[".concat(this._clientId,"] datachannel removed with uid ").concat(t.uid));const o=()=>{N.info("[".concat(this._clientId,"] remote user ").concat(A.uid," unpublished datachannel")),A._dataChannels.forEach(s=>{this.safeEmit(st.USER_UNPUBLISHED,A,"datachannel",s._config)})};this._p2pChannel.unsubscribeDataChannel(A,A._dataChannels).then(s=>{if(s)return this._gateway.unsubscribeDataChannel(s,A.uid)}),o()}}else N.warning("[".concat(this._clientId,"] can not find target user!(on_remove_datachannel)"))}_handleGatewayEvents(){this._gateway.on(HA.DISCONNECT_P2P,async()=>{await this._p2pChannel.disconnectForReconnect()}),this._gateway.on(HA.CONNECTION_STATE_CHANGE,(t,A,o)=>{var s;if(o===St.FALLBACK)return;const c=()=>{this.safeEmit(st.CONNECTION_STATE_CHANGE,t,A,o)};if(Me.reportApiInvoke(this._sessionId||((s=this._gateway.joinInfo)===null||s===void 0?void 0:s.sid)||null,{name:fA.CONNECTION_STATE_CHANGE,options:[t,A,o],tag:eA.TRACER}).onSuccess(JSON.stringify({cur:t,prev:A,reason:o})),N.info("[".concat(this._clientId,"] connection state change: ").concat(A," -> ").concat(t)),t==="DISCONNECTED")return this._reset(),void c();if(t==="RECONNECTING")this._users.forEach(C=>{C._trust_in_room_=!1,C._trust_audio_enabled_state_=!1,C._trust_video_enabled_state_=!1,C._trust_audio_mute_state_=!1,C._trust_video_mute_state_=!1,C._trust_audio_stream_added_state_=!1,C._trust_video_stream_added_state_=!1,C._is_pre_created||(C._audio_pre_subscribed||(C._audioSSRC=void 0,C._audioOrtc=void 0),C._video_pre_subscribed||(C._videoSSRC=void 0,C._videoOrtc=void 0,C._rtxSsrcId=void 0),C._cname=void 0)}),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if(t==="CONNECTED"){var I;this._streamFallbackTypeCacheMap.forEach((C,l)=>{this._gateway.setStreamFallbackOption(l,C).catch(d=>{N.warning("[".concat(this._clientId,"] auto set stream fallback option failed"),d)})}),this._remoteStreamTypeCacheMap.forEach((C,l)=>{this._gateway.setRemoteVideoStreamType(l,C).catch(d=>{N.warning("[".concat(this._clientId,"] auto set remote stream type failed"),d)})}),this._remoteDefaultVideoStreamType!==void 0&&((I=this._joinInfo)===null||I===void 0?void 0:I.defaultVideoStream)===void 0&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then(()=>{N.debug("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway connected"))}).catch(C=>{N.error("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway failed, ").concat(C))}),this.store.useP2P||(this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout(()=>{this.connectionState==="CONNECTED"&&(this._userOfflineTimeout=void 0,this._users.filter(C=>!C._trust_in_room_).forEach(C=>{N.debug("[".concat(this._clientId,"] user offline timeout, emit user offline ").concat(C.uid)),this._handleUserOffline({uid:C.uid})}))},3e3),this._streamRemovedTimeout=window.setTimeout(()=>{this.connectionState==="CONNECTED"&&(this._streamRemovedTimeout=void 0,this._users.forEach(C=>{C._trust_audio_mute_state_||(N.debug("[".concat(this._clientId,"] auto dispatch audio unmute event ").concat(C.uid)),this._handleMuteStream(C.uid,Oe.AUDIO,!1)),C._trust_video_mute_state_||(N.debug("[".concat(this._clientId,"] auto dispatch video unmute event ").concat(C.uid)),this._handleMuteStream(C.uid,Oe.VIDEO,!1)),C._trust_audio_enabled_state_||(N.debug("[".concat(this._clientId,"] auto dispatch enable local audio ").concat(C.uid)),this._handleSetStreamLocalEnable("audio",C.uid,!0)),C._trust_video_enabled_state_||(N.debug("[".concat(this._clientId,"] auto dispatch enable local video ").concat(C.uid)),this._handleSetStreamLocalEnable("video",C.uid,!0)),C._trust_video_stream_added_state_||(N.debug("[".concat(this._clientId,"] auto dispatch reset video stream added ").concat(C.uid)),this._handleResetAddStream(C,"video")),C._trust_audio_stream_added_state_||(N.debug("[".concat(this._clientId,"] auto dispatch reset audio stream added ").concat(C.uid)),this._handleResetAddStream(C,"audio")),C._video_added_||C._audio_added_||(N.debug("[".concat(this._clientId,"] auto dispatch stream remove ").concat(C.uid)),this._handleRemoveStream({uid:C.uid,uint_id:C._uintid}))}))},1e3))}c()}),this._gateway.on(HA.REQUEST_NEW_GATEWAY_LIST,async(t,A)=>{if(!this._joinInfo)return A(new z(G.UNEXPECTED_ERROR,"can not recover, no join info"));try{let o;const s=await Qw(Hr(Hr({},this._joinInfo),{},{uid:this._joinInfo.uid,stringUid:void 0}));s?(o=s.ap,Rw(s),this._joinInfo.preload=!0):(o=await Qd(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||hA,this.store),this._joinInfo.preload=!1),this._joinInfo&&(this._joinInfo.apResponse=o.gatewayInfo.res,this._joinInfo.gatewayAddrs=o.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=o.gatewayInfo.uni_lbs_ip);const c=[];o.gatewayInfo.gatewayAddrs.forEach(I=>{let{address:C}=I;const[l,d]=C.split(":");this._joinInfo&&this._joinInfo.proxyServer?c.push({proxy:this._joinInfo.proxyServer,host:l,port:d}):c.push({host:l,port:d})}),t(c)}catch(o){A(o)}}),this._gateway.on(HA.NETWORK_QUALITY,t=>{this._networkQualitySensitivity==="normal"&&this.safeEmit(st.NETWORK_QUALITY,t)}),this._gateway.on(HA.STREAM_TYPE_CHANGE,(t,A)=>{this.safeEmit(st.STREAM_TYPE_CHANGED,t,A),Me.reportApiInvoke(this._sessionId,{name:fA.STREAM_TYPE_CHANGE,options:[t,A],tag:eA.TRACER}).onSuccess(JSON.stringify({uid:t,streamType:A}))}),this._gateway.on(HA.IS_P2P_DISCONNECTED,t=>{this._p2pChannel.isP2PDisconnected()?t(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?t(!1):t(!0)}),this._gateway.on(HA.REQUEST_P2P_CONNECTION_PARAMS,async(t,A,o)=>{try{let s=await this._p2pChannel.getEstablishParams();J("ENABLE_PREALLOC_PC")&&s||(s=await this._p2pChannel.startP2PConnection(t)),A(s)}catch(s){o(s)}}),this._gateway.on(HA.JOIN_RESPONSE,(t,A)=>{if(this.store.useP2P)return;const o=HS(t.ortc,A,t.attributes.userAttributes.preSubSsrcs);this._p2pChannel.connect(o)}),this._gateway.on(HA.PRE_CONNECT_PC,async t=>{const{candidates:A,fingerprint:o}=t;if(this._joinInfo&&A.length>0&&!this._p2pChannel.isPlanB){var s;await this._p2pChannel.startP2PConnection({turnServer:this._joinInfo.turnServer});const{cert:c,cid:I}=this._joinInfo.apResponse;await this._p2pChannel.connect({iceParameters:{iceUfrag:"".concat(I,"_").concat(c),icePwd:"".concat(I,"_").concat(c)},dtlsParameters:{fingerprints:[{hashFunction:"sha-256",fingerprint:(s=J("FINGERPRINT"))!==null&&s!==void 0?s:o}]},candidates:A,rtpCapabilities:{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},setup:"active",cname:"o/i14u9pJrxRKAsu",preallocation:!0})}})}_handleGatewaySignalEvents(){this._gateway.signal.on(rt.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(rt.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(rt.ON_ADD_AUDIO_STREAM,t=>this._handleAddAudioOrVideoStream("audio",t.uid,t.ssrcId,t.cname,t.uint_id,t.ortc)),this._gateway.signal.on(rt.ON_ADD_VIDEO_STREAM,t=>this._handleAddAudioOrVideoStream("video",t.uid,t.ssrcId,t.cname,t.uint_id,t.ortc,t.rtxSsrcId)),this._gateway.signal.on(rt.ON_REMOTE_DATASTREAM_UPDATE,t=>{this._handleUpdateDataChannel(t)}),this._gateway.signal.on(rt.ON_REMOTE_FULL_DATASTREAM_INFO,t=>{this._handleUpdateDataChannel({added:t.datastreams||[],deleted:[]},!0)}),this._gateway.signal.on(rt.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(rt.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(rt.MUTE_AUDIO,t=>this._handleMuteStream(t.uid,Oe.AUDIO,!0)),this._gateway.signal.on(rt.UNMUTE_AUDIO,t=>this._handleMuteStream(t.uid,Oe.AUDIO,!1)),this._gateway.signal.on(rt.MUTE_VIDEO,t=>this._handleMuteStream(t.uid,Oe.VIDEO,!0)),this._gateway.signal.on(rt.UNMUTE_VIDEO,t=>this._handleMuteStream(t.uid,Oe.VIDEO,!1)),this._gateway.signal.on(rt.RECEIVE_METADATA,t=>{const A=On(t.metadata);this.safeEmit(st.RECEIVE_METADATA,t.uid,A)}),this._gateway.signal.on(rt.ON_DATA_STREAM,async t=>{var A;if(!t)return;let o=On(t.payload);if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Re(A=["aes-128-gcm2","aes-256-gcm2"]).call(A,this._encryptionMode)){if(t.payload.length<Us)throw new z(G.UNEXPECTED_RESPONSE,"payload length ".concat(t.payload.length," is less than header length ").concat(Us));o=await async function(I,C,l){const d=l.subarray(0,Us),h=d.slice(8,Us),Q=(h[0]<<8)+h[1],_=(d[6]<<8)+d[7],S=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:I,tagLength:MR,additionalData:new Uint8Array(NR(Q,2))},C,l.subarray(Us));return new Uint8Array(S).subarray(0,_)}(this._encryptDataStreamIv,this._encryptDataStreamKey,o)}let s=0;if(t.ordered||t.syncWithAudio){const c=this._p2pChannel.getStats(),I=this.remoteUsers.find(l=>l.uid===t.uid),C=c==null?void 0:c.audioRecv.find(l=>l.ssrc===(I==null?void 0:I._audioSSRC));s=C==null?void 0:C.jitterBufferMs}s==null&&(s=0),R2(Hr(Hr({},t),{},{payload:o}),s,{id:this._clientId,onStreamMessage:typeof this.onStreamMessage=="function"?this.onStreamMessage.bind(this):void 0,safeEmit:this.safeEmit.bind(this)})}),this._gateway.signal.on(rt.ON_CRYPT_ERROR,()=>{Zo(()=>{N.warning("[".concat(this._clientId,"] on crypt error")),this.safeEmit(st.CRYPT_ERROR)},this._sessionId)}),this._gateway.signal.on(rt.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(rt.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{N.warning("[".concat(this._clientId,"] received message onTokenPrivilegeDidExpire, please get new token and join again")),this._gateway.leave(!0,St.TOKEN_EXPIRE),this.safeEmit(st.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()}),this._gateway.signal.on(rt.ON_STREAM_FALLBACK_UPDATE,t=>{N.debug("[".concat(this._clientId,"] stream fallback peerId: ").concat(t.stream_id,", attr: ").concat(t.stream_type)),this.safeEmit(st.STREAM_FALLBACK,t.stream_id,t.stream_type===1?"fallback":"recover")}),this._gateway.signal.on(rt.ON_PUBLISH_STREAM,t=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:t.proxy})),N.info("[".concat(this._clientId,"] on publish stream, ").concat(JSON.stringify(t))))}),this._gateway.signal.on(rt.ENABLE_LOCAL_VIDEO,t=>{this._handleSetStreamLocalEnable("video",t.uid,!0)}),this._gateway.signal.on(rt.DISABLE_LOCAL_VIDEO,t=>{this._handleSetStreamLocalEnable("video",t.uid,!1)}),this._gateway.signal.on(xe.REQUEST_TIMEOUT,(t,A)=>{if(this._joinInfo)switch(t){case Ke.PUBLISH:{if(!A)return;const c=A.ortc;if(c){var o,s;const I=c.some(d=>{let{stream_type:h}=d;return h===yt.Audio}),C=c.some(d=>{let{stream_type:h}=d;return h!==yt.Audio}),l=c.some(d=>{let{stream_type:h}=d;return h===yt.Screen||h===yt.ScreenLow});A.state==="offer"&&Me.publish(this._joinInfo.sid,{eventElapse:XA.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:G.TIMEOUT,audio:I,video:C,p2pid:A.p2p_id,publishRequestid:this.store.pubId,screenshare:l,audioName:I?(o=c.find(d=>{let{stream_type:h}=d;return h===yt.Audio}))===null||o===void 0||(o=o.ssrcs[0])===null||o===void 0?void 0:o.ssrcId.toString():void 0,videoName:C?(s=c.find(d=>{let{stream_type:h}=d;return h!==yt.Audio}))===null||s===void 0||(s=s.ssrcs[0])===null||s===void 0?void 0:s.ssrcId.toString():void 0})}break}case Ke.SUBSCRIBE:A&&Me.subscribe(this._joinInfo.sid,{succ:!1,ec:G.TIMEOUT,audio:A.stream_type===Oe.AUDIO,video:A.stream_type===Oe.VIDEO,peerid:A.stream_id,subscribeRequestid:A.ssrcId,p2pid:this.store.p2pId,eventElapse:XA.measureFromSubscribeStart(this.store.clientId,A.ssrcId),preSsrc:this._p2pChannel.isPreSubScribe(A.ssrcId)})}}),this._gateway.signal.on(rt.ON_P2P_OK,t=>{this.uid,this._uid}),this._gateway.signal.on(rt.ON_PUBLISHED_USER_LIST,t=>{if(t==null||!t.users)return;J("BLOCK_LOCAL_CLIENT")&&(t.users=t.users.filter(s=>!kn(s.string_id||s.stream_id,this.channelName)));const A=[],o=[];for(const s of t.users){let c=this._users.find(Q=>Q._uintid===s.stream_id);c?c._trust_in_room_=!0:(c=new En(s.string_id||s.stream_id,s.stream_id),this._users.push(c),this.getListeners(st.PUBLISHED_USER_LIST).length===0&&(N.debug("[".concat(this._clientId,"] user online"),s.stream_id),this.safeEmit(st.USER_JOINED,c)));const I=NA.Audio&s.stream_type,C=(NA.Video|NA.LwoVideo)&s.stream_type,l=(65280&s.stream_type)!=0,d=I&&c.hasAudio,h=C&&c.hasVideo;C&&(c._trust_video_stream_added_state_=!0,c._video_added_=!0,c._videoSSRC=s.video_ssrc,c._rtxSsrcId=s.video_rtx),I&&(c._trust_audio_stream_added_state_=!0,c._audio_added_=!0,c._audioSSRC=s.audio_ssrc),I&&!d&&this.getListeners(st.PUBLISHED_USER_LIST).length===0&&(N.info("[".concat(this._clientId,"] remote user ").concat(c.uid," published audio")),this.safeEmit(st.USER_PUBLISHED,c,"audio")),C&&!h&&this.getListeners(st.PUBLISHED_USER_LIST).length===0&&(N.info("[".concat(this._clientId,"] remote user ").concat(c.uid," published video")),this.safeEmit(st.USER_PUBLISHED,c,"video")),(I&&!d||C&&!h||l)&&A.push(c),C&&this._p2pChannel.hasPendingRemoteMedia(c,"video")&&o.push({user:c,mediaType:"video"}),I&&this._p2pChannel.hasPendingRemoteMedia(c,"audio")&&o.push({user:c,mediaType:"audio"})}o.length>0&&(N.debug("[".concat(this._clientId,"] RE massSubscribe after reconnect ").concat(o.map(s=>"user: ".concat(s.user.uid,", mediaType: ").concat(s.mediaType)).join("; ")," ")),this.massSubscribe(o).catch(s=>{N.error("[".concat(this._clientId,"] mass resubscribe error"),s.toString())})),this.getListeners(st.PUBLISHED_USER_LIST).length>0?J("ENABLE_DATASTREAM_2")?this._pendingPublishedUsers=A:(N.info("[".concat(this._clientId,"] client emit user-list event, users: ").concat(A.map(s=>s.uid).join(", "))),this.safeEmit(st.PUBLISHED_USER_LIST,A)):N.info("[".concat(this._clientId,"] client not emit user-list event case there is no user-list listener, users: ").concat(A.map(s=>s.uid).join(", ")))}),this._gateway.signal.on(rt.ON_RTP_CAPABILITY_CHANGE,t=>{const{video_codec:A}=t;this._p2pChannel instanceof eE&&this._p2pChannel.updateRemoteRTPCapabilities(A.map(o=>o.toLowerCase()).filter(o=>{var s;return Re(s=Object.keys(uI)).call(s,o)}))})}_handleP2PEvents(){this._gateway.signal.on(rt.ON_USER_OFFLINE,()=>{this._p2pChannel.disconnectForReconnect()}),this._gateway.signal.on(nA.PUBLISH,(t,A,o)=>{const{uid:s}=t;t.forEach(c=>{const{kind:I,ssrcs:C,mid:l,isMuted:d}=c;this._handleP2PAddAudioOrVideoStream(I,s,C[0].ssrcId,l);const h=this._users.find(Q=>Q.uid===s);return h&&this._p2pChannel instanceof Oi?this._p2pChannel.mockSubscribe(h,I,C[0].ssrcId,l).then(()=>{A()}).catch(o):A(),this._handleMuteStream(s,I,!!d)})}),this._gateway.signal.on(nA.CALL,async(t,A,o)=>{if(this._p2pChannel instanceof Oi)try{var s;A(await this._p2pChannel.startP2P({turnServer:(s=this._joinInfo)===null||s===void 0?void 0:s.turnServer},t))}catch(c){o(c)}}),this._gateway.signal.on(xe.P2P_CONNECTION,async t=>{this._p2pChannel instanceof Oi&&await this._p2pChannel.p2pConnect(t)}),this._gateway.signal.on(nA.UNPUBLISH,async(t,A,o)=>{if(this._p2pChannel instanceof Oi){const{unpubMsg:s,uid:c}=t,I=this._users.find(C=>C.uid===c);if(!I)return N.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(c)),void A();try{s.forEach(async C=>{let{stream_type:l}=C;const d=l===yt.Audio?Oe.AUDIO:Oe.VIDEO;await this._p2pChannel.unsubscribe(I,d),this._handleMuteStream(c,d,!0)}),A()}catch(C){o(C)}}}),this._gateway.signal.on(nA.CONTROL,async(t,A)=>{const{action:o}=t;switch(o){case rn.MUTE_LOCAL_VIDEO:this._handleMuteStream(A,Oe.VIDEO,!0);break;case rn.MUTE_LOCAL_AUDIO:this._handleMuteStream(A,Oe.AUDIO,!0);break;case rn.UNMUTE_LOCAL_VIDEO:this._handleP2PAddAudioOrVideoStream("video",A),this._handleMuteStream(A,Oe.VIDEO,!1);break;case rn.UNMUTE_LOCAL_AUDIO:this._handleP2PAddAudioOrVideoStream("audio",A),this._handleMuteStream(A,Oe.AUDIO,!1)}}),this._gateway.signal.on(nA.RESTART_ICE,async(t,A,o)=>{if(this._p2pChannel instanceof Oi)try{const{direction:s,iceParameter:c}=t;s!==Ei.SEND_ONLY||c?A(await this._p2pChannel.restartICE(s,c)):(this._p2pChannel.handleDisconnect(s),A())}catch(s){o(s)}}),this._gateway.signal.on(nA.CANDIDATE,t=>{if(this._p2pChannel instanceof Oi){const{candidate:A,direction:o}=t;this._p2pChannel.addRemoteCandidate(A,o)}}),this._p2pChannel.on(Ge.RequestP2PRestartICE,async(t,A,o)=>{try{const{direction:s}=t;A(await this._gateway.sendExtensionMessage(nA.RESTART_ICE,t,s===Ei.SEND_ONLY))}catch(s){o(s)}}),this._p2pChannel.on(Ge.LocalCandidate,t=>{this._gateway.sendExtensionMessage(nA.CANDIDATE,JSON.stringify(t),!0)}),this._p2pChannel.on(Ge.RequestP2PMuteLocal,async(t,A,o)=>{try{await this._gateway.sendExtensionMessage(nA.CONTROL,t,!0),A()}catch(s){o(s)}}),this._p2pChannel.on(Ge.RequestP2PUnmuteRemote,async(t,A,o)=>{if(this._joinInfo)try{await this._gateway.unmuteRemote(t,this._joinInfo.stringUid||this._joinInfo.uid),A()}catch(s){s.code===G.DISCONNECT_P2P?A():o(s)}else A()}),this._p2pChannel.on(Ge.RequestP2PMuteRemote,async(t,A,o)=>{if(this._joinInfo)try{await this._gateway.muteRemote(t,this._joinInfo.stringUid||this._joinInfo.uid),A()}catch(s){s.code===G.DISCONNECT_P2P?A():o(s)}else A()}),this._p2pChannel.on(Ge.StateChange,(t,A)=>{A===mt.Connected&&this._p2pChannel.republish()})}_handleP2PChannelEvents(){this._p2pChannel.on(Ge.RequestMuteLocal,async(t,A,o)=>{if(this._joinInfo)try{await this._gateway.muteLocal(t,this._joinInfo.stringUid||this._joinInfo.uid),A()}catch(s){s.code===G.DISCONNECT_P2P?A():o(s)}else A()}),this._p2pChannel.on(Ge.RequestUnmuteLocal,async(t,A,o)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(t,this._joinInfo.stringUid||this._joinInfo.uid),A()}catch(s){s.code===G.DISCONNECT_P2P?A():o(s)}else A()}),this._p2pChannel.on(Ge.RequestRePublish,(t,A,o)=>{this.publish(t,!1).then(A).catch(o)}),this._p2pChannel.on(Ge.RequestRePublishDataChannel,(t,A,o)=>{pe.all(t.map(async s=>{const c=await this._p2pChannel.publishDataChannel([s]);try{c.forEach(I=>{this._uid&&this._gateway.publishDataChannel(this._uid,I,!0)})}catch(I){if(I.code!==G.DISCONNECT_P2P)throw I}})).then(A).catch(o)}),this._p2pChannel.on(Ge.RequestReSubscribe,async(t,A,o)=>{try{for(const{user:s,kind:c}of t)c===Oe.VIDEO?await this.subscribe(s,"video"):await this.subscribe(s,"audio");A()}catch(s){o(s)}}),this._p2pChannel.on(Ge.RequestUpload,(t,A)=>{this._gateway.upload(t,A)}),this._p2pChannel.on(Ge.RequestUploadStats,t=>{this._gateway.uploadWRTCStats(t)}),this._p2pChannel.on(Ge.MediaReconnectStart,t=>{this.safeEmit(st.MEDIA_RECONNECT_START,t)}),this._p2pChannel.on(Ge.MediaReconnectEnd,t=>{this.safeEmit(st.MEDIA_RECONNECT_END,t)}),this._p2pChannel.on(Ge.NeedSignalRTT,t=>{t(this._gateway.getSignalRTT())}),this._p2pChannel.on(Ge.RequestRestartICE,async t=>{if(this._p2pChannel instanceof Oi)return;const A=await this._p2pChannel.restartICE(t),o=await A.next();if(o.done)return;const s=o.value;let c;try{c=await this._gateway.restartICE({iceParameters:s})}catch(C){return void A.throw(C)}const{iceParameters:I}=function(C){const l=C.iceParameters;return{iceParameters:{iceUfrag:l.iceUfrag,icePwd:l.icePwd}}}(c);await A.next({remoteIceParameters:I})}),this._p2pChannel.on(Ge.RequestReconnect,async()=>{this._gateway.reconnect()}),this._p2pChannel.on(Ge.RequestReconnectPC,async()=>{var t;const{iceParameters:A,dtlsParameters:o,rtpCapabilities:s}=await this._p2pChannel.startP2PConnection({turnServer:(t=this._joinInfo)===null||t===void 0?void 0:t.turnServer}),{gatewayEstablishParams:c,gatewayAddress:I}=await this._gateway.reconnectPC({iceParameters:A,dtlsParameters:o,rtpCapabilities:s}),C=HS(c,I);await this._p2pChannel.connect(C),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()}),this._p2pChannel.on(Ge.RequestUnpublishForReconnectPC,async(t,A,o)=>{this._joinInfo&&this._uid!==void 0?(await this._gateway.unpublish(t,this._uid),A()):o()}),this._p2pChannel.on(Ge.P2PLost,()=>{this.safeEmit(st.P2P_LOST,this.store.uid)}),this._p2pChannel.on(Ge.UpdateVideoEncoder,t=>{t._encoderConfig&&this._gateway.setVideoProfile(t._encoderConfig)}),this._p2pChannel.on(Ge.ConnectionTypeChange,t=>{this.safeEmit(st.IS_USING_CLOUD_PROXY,t)}),this._p2pChannel.on(Ge.RequestLowStreamParameter,t=>{t(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})}),this._p2pChannel.on(Ge.QueryClientConnectionState,t=>{t(this.connectionState)})}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(t){if(!this._joinInfo||this.connectionState!=="CONNECTED")throw new z(G.INVALID_OPERATION,"[".concat(this._clientId,"] can not create content inspect, please join channel first"));if(this._inspect)throw new z(G.INVALID_OPERATION,"[".concat(this._clientId,"] Inspect content service already in connecting/connected state"));try{const o=(A={config:t},Dc("ContentInspect").create(A));this._inspect=o,this.handleVideoInspectEvents(o);const{appId:s,cname:c,sid:I,token:C,uid:l,cid:d,vid:h}=this._joinInfo;await o.init({appId:s,areaCode:"",cname:c,sid:I,token:C,uid:l,cid:d,vid:h?Number(h):0},hA)}catch(o){throw Array.isArray(o)?o[0]:o}var A}handleVideoInspectEvents(t){t.on(bA.CONNECTION_STATE_CHANGE,(A,o)=>{if(this.safeEmit(st.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,A,o),o===dr.CONNECTED){if(this.connectionState!=="CONNECTED")return void this.safeEmit(st.CONTENT_INSPECT_ERROR,new z(G.OPERATION_ABORTED,"Content inspect was cancelled because it left the channel"));t.inspectImage()}}),t.on(bA.INSPECT_RESULT,(A,o)=>{var s;if((o==null?void 0:o.code)===G.INVALID_OPERATION&&this.connectionState==="DISCONNECTED")return N.debug("Stop inspect content because that has left channel"),this==null||(s=this._inspect)===null||s===void 0||s.close(),void(this._inspect=void 0);this.safeEmit(st.CONTENT_INSPECT_RESULT,A,o)}),t.on(bA.CLIENT_LOCAL_VIDEO_TRACK,A=>{A(this.localTracks.filter(o=>o.trackMediaType==="video")[0])})}async disableContentInspect(){if(!this._inspect)throw new z(G.INVALID_OPERATION,"[".concat(this._clientId,"] inspectVideoContent not started"));try{this._inspect.close(),this._inspect=void 0}catch(t){throw Array.isArray(t)?t[0]:t}}async setImageModeration(t,A){if(Do(t,"enabled"),t){if(!A)throw new z(G.INVALID_PARAMS,"config is required");if(Lw(A),!this._joinInfo)throw new z(G.INVALID_OPERATION,"can not create image moderation, please join channel first");try{if(this._moderation)this._moderation.updateConfig(A);else{const s=(o={config:A},Dc("ImageModeration").create(o));this._moderation=s,this.handleImageModerationEvents(s);const{appId:c,cname:I,sid:C,token:l,uid:d,cid:h,vid:Q}=this._joinInfo;await s.init({appId:c,areaCode:"",cname:I,sid:C,token:l,uid:d,cid:h,vid:Q?Number(Q):0},hA)}}catch(s){throw Array.isArray(s)?s[0]:s}}else{var o;if(!this._moderation)throw new z(G.INVALID_OPERATION,"[".concat(this._clientId,"] image moderation not started"));try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0}catch(s){throw Array.isArray(s)?s[0]:s}}}handleImageModerationEvents(t){t.on(Ur.CONNECTION_STATE_CHANGE,(A,o)=>{if(this.safeEmit(st.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,A,o),A===Ar.CONNECTED){if(this.connectionState!=="CONNECTED")throw this.setImageModeration(!1),new z(G.OPERATION_ABORTED,"Image moderation was cancelled because it left the channel");t.inspectImage()}}),t.on(Ur.CLIENT_LOCAL_VIDEO_TRACK,A=>{A(this.localTracks.filter(o=>o.trackMediaType==="video")[0])})}setP2PTransport(t){if(function(A){yA(A,"transport",["default","auto","relay","sd-rtn"])}(t),this.mode!=="p2p")throw new z(G.INVALID_OPERATION,"only p2p mode can set p2pTransport");this.store.p2pTransport=t,N.info("[".concat(this._clientId,"] set client p2pTransport to ").concat(t))}getJoinChannelServiceRecords(){return N.debug("getJoinChannelServiceRecords"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(t){Do(t,"enabled"),vt("ENABLE_PUBLISH_AUDIO_FILTER",t),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(t)}_handleResetAddStream(t,A){switch(A){case"audio":t._audio_added_=!1,t._trust_audio_stream_added_state_=!0;break;case"video":t._video_added_=!1,t._trust_video_stream_added_state_=!0}}},Ne(Qe.prototype,"leave",[kw],Object.getOwnPropertyDescriptor(Qe.prototype,"leave"),Qe.prototype),Ne(Qe.prototype,"publish",[Uw],Object.getOwnPropertyDescriptor(Qe.prototype,"publish"),Qe.prototype),Ne(Qe.prototype,"unpublish",[Pw],Object.getOwnPropertyDescriptor(Qe.prototype,"unpublish"),Qe.prototype),Ne(Qe.prototype,"subscribe",[Gw],Object.getOwnPropertyDescriptor(Qe.prototype,"subscribe"),Qe.prototype),Ne(Qe.prototype,"presubscribe",[Fw],Object.getOwnPropertyDescriptor(Qe.prototype,"presubscribe"),Qe.prototype),Ne(Qe.prototype,"massSubscribe",[Kw],Object.getOwnPropertyDescriptor(Qe.prototype,"massSubscribe"),Qe.prototype),Ne(Qe.prototype,"unsubscribe",[xw],Object.getOwnPropertyDescriptor(Qe.prototype,"unsubscribe"),Qe.prototype),Ne(Qe.prototype,"massUnsubscribe",[Yw],Object.getOwnPropertyDescriptor(Qe.prototype,"massUnsubscribe"),Qe.prototype),Ne(Qe.prototype,"setLowStreamParameter",[Jw],Object.getOwnPropertyDescriptor(Qe.prototype,"setLowStreamParameter"),Qe.prototype),Ne(Qe.prototype,"enableDualStream",[Hw],Object.getOwnPropertyDescriptor(Qe.prototype,"enableDualStream"),Qe.prototype),Ne(Qe.prototype,"disableDualStream",[qw],Object.getOwnPropertyDescriptor(Qe.prototype,"disableDualStream"),Qe.prototype),Ne(Qe.prototype,"setClientRole",[Vw],Object.getOwnPropertyDescriptor(Qe.prototype,"setClientRole"),Qe.prototype),Ne(Qe.prototype,"setProxyServer",[jw],Object.getOwnPropertyDescriptor(Qe.prototype,"setProxyServer"),Qe.prototype),Ne(Qe.prototype,"setTurnServer",[$w],Object.getOwnPropertyDescriptor(Qe.prototype,"setTurnServer"),Qe.prototype),Ne(Qe.prototype,"setLicense",[Ww],Object.getOwnPropertyDescriptor(Qe.prototype,"setLicense"),Qe.prototype),Ne(Qe.prototype,"startProxyServer",[Xw],Object.getOwnPropertyDescriptor(Qe.prototype,"startProxyServer"),Qe.prototype),Ne(Qe.prototype,"stopProxyServer",[Zw],Object.getOwnPropertyDescriptor(Qe.prototype,"stopProxyServer"),Qe.prototype),Ne(Qe.prototype,"setLocalAccessPointsV2",[zw],Object.getOwnPropertyDescriptor(Qe.prototype,"setLocalAccessPointsV2"),Qe.prototype),Ne(Qe.prototype,"setLocalAccessPoints",[e0],Object.getOwnPropertyDescriptor(Qe.prototype,"setLocalAccessPoints"),Qe.prototype),Ne(Qe.prototype,"setRemoteDefaultVideoStreamType",[t0],Object.getOwnPropertyDescriptor(Qe.prototype,"setRemoteDefaultVideoStreamType"),Qe.prototype),Ne(Qe.prototype,"setRemoteVideoStreamType",[A0],Object.getOwnPropertyDescriptor(Qe.prototype,"setRemoteVideoStreamType"),Qe.prototype),Ne(Qe.prototype,"setStreamFallbackOption",[i0],Object.getOwnPropertyDescriptor(Qe.prototype,"setStreamFallbackOption"),Qe.prototype),Ne(Qe.prototype,"setEncryptionConfig",[r0],Object.getOwnPropertyDescriptor(Qe.prototype,"setEncryptionConfig"),Qe.prototype),Ne(Qe.prototype,"renewToken",[o0],Object.getOwnPropertyDescriptor(Qe.prototype,"renewToken"),Qe.prototype),Ne(Qe.prototype,"enableAudioVolumeIndicator",[n0],Object.getOwnPropertyDescriptor(Qe.prototype,"enableAudioVolumeIndicator"),Qe.prototype),Ne(Qe.prototype,"startLiveStreaming",[s0],Object.getOwnPropertyDescriptor(Qe.prototype,"startLiveStreaming"),Qe.prototype),Ne(Qe.prototype,"setLiveTranscoding",[a0],Object.getOwnPropertyDescriptor(Qe.prototype,"setLiveTranscoding"),Qe.prototype),Ne(Qe.prototype,"stopLiveStreaming",[c0],Object.getOwnPropertyDescriptor(Qe.prototype,"stopLiveStreaming"),Qe.prototype),Ne(Qe.prototype,"startChannelMediaRelay",[g0],Object.getOwnPropertyDescriptor(Qe.prototype,"startChannelMediaRelay"),Qe.prototype),Ne(Qe.prototype,"updateChannelMediaRelay",[I0],Object.getOwnPropertyDescriptor(Qe.prototype,"updateChannelMediaRelay"),Qe.prototype),Ne(Qe.prototype,"stopChannelMediaRelay",[E0],Object.getOwnPropertyDescriptor(Qe.prototype,"stopChannelMediaRelay"),Qe.prototype),Ne(Qe.prototype,"sendCustomReportMessage",[C0],Object.getOwnPropertyDescriptor(Qe.prototype,"sendCustomReportMessage"),Qe.prototype),Ne(Qe.prototype,"pickSVCLayer",[l0],Object.getOwnPropertyDescriptor(Qe.prototype,"pickSVCLayer"),Qe.prototype),Ne(Qe.prototype,"setRTMConfig",[u0],Object.getOwnPropertyDescriptor(Qe.prototype,"setRTMConfig"),Qe.prototype),Ne(Qe.prototype,"enableContentInspect",[d0],Object.getOwnPropertyDescriptor(Qe.prototype,"enableContentInspect"),Qe.prototype),Ne(Qe.prototype,"disableContentInspect",[h0],Object.getOwnPropertyDescriptor(Qe.prototype,"disableContentInspect"),Qe.prototype),Ne(Qe.prototype,"setImageModeration",[B0],Object.getOwnPropertyDescriptor(Qe.prototype,"setImageModeration"),Qe.prototype),Ne(Qe.prototype,"setP2PTransport",[p0],Object.getOwnPropertyDescriptor(Qe.prototype,"setP2PTransport"),Qe.prototype),Ne(Qe.prototype,"getJoinChannelServiceRecords",[Q0],Object.getOwnPropertyDescriptor(Qe.prototype,"getJoinChannelServiceRecords"),Qe.prototype),Ne(Qe.prototype,"setPublishAudioFilterEnabled",[f0],Object.getOwnPropertyDescriptor(Qe.prototype,"setPublishAudioFilterEnabled"),Qe.prototype),Qe);class Tc{constructor(A,o){L(this,"id",0),L(this,"element",void 0),L(this,"peerPair",void 0),L(this,"context",void 0),L(this,"audioPlayerElement",void 0),L(this,"audioTrack",void 0),Tc.count+=1,this.id=Tc.count,this.element=A,this.context=o}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=A=>{const o=document.createElement("audio");o.srcObject=new MediaStream([A.track]),o.play(),this.audioPlayerElement=o}}async switchSdp(){if(!this.peerPair)return;const A=async(s,c)=>{const I=c==="offer"?await s.createOffer():await s.createAnswer();return await s.setLocalDescription(I),s.iceGatheringState==="complete"?s.localDescription:new pe(C=>{s.onicegatheringstatechange=()=>{s.iceGatheringState==="complete"&&C(s.localDescription)}})},o=async(s,c)=>await s.setRemoteDescription(c);try{const s=await A(this.peerPair[0],"offer");await o(this.peerPair[1],s);const c=await A(this.peerPair[1],"answer");await o(this.peerPair[0],c)}catch(s){throw new z(G.LOCAL_AEC_ERROR,s.toString()).print()}}async getTracksFromMediaElement(A){if(this.audioTrack)return this.audioTrack;let o;try{A instanceof HTMLVideoElement&&(A.captureStream?A.captureStream():A.mozCaptureStream()),o=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(A).connect(o)}catch(c){throw new z(G.LOCAL_AEC_ERROR,c.toString()).print()}if(!o)throw new z(G.LOCAL_AEC_ERROR,"no dest node when local aec").print();const s=o.stream.getAudioTracks()[0];return this.audioTrack=s,s}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const A=this.element,o=await this.getTracksFromMediaElement(A);this.peerPair&&this.peerPair[0].addTrack(o),await this.switchSdp()}close(){N.debug("close echo cancellation unit, id is",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach(A=>{A.close()}),this.peerPair=void 0,this.audioPlayerElement=void 0}}var R0,nE;L(Tc,"count",0);const K2=window.AudioContext||window.webkitAudioContext,x2=new(R0=Pe({report:Me}),Ne((nE=class{constructor(){L(this,"units",[]),L(this,"context",void 0)}processExternalMediaAEC(t){if(!this._doesEnvironmentNeedAEC())return N.debug("the system does not need to process local aec"),-1;this.context||(this.context=new K2);let A=this.units.find(o=>o&&o.getElement()===t);return A||(A=new Tc(t,this.context),this.units.push(A)),A.startEchoCancellation(),N.debug("start processing local audio echo cancellation, id is",A.id),A.id}_doesEnvironmentNeedAEC(){return Et().name!==Rt.SAFARI}}).prototype,"processExternalMediaAEC",[R0],Object.getOwnPropertyDescriptor(nE.prototype,"processExternalMediaAEC"),nE.prototype),nE);function y0(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function m0(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?y0(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):y0(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}const Fd=window||document;function S0(t){let A=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!Fd)return;const o=BA._cspEventHandlerPointer;if(o&&A)return void console.error(o,A);const s=c=>{if(!(c&&c.blockedURI&&(BA.onSecurityPolicyViolation||BA.getListeners(io.SECURITY_POLICY_VIOLATION).length>0)))return;const I=c.blockedURI;J("CSP_DETECTED_HOSTNAME_LIST").some(C=>Re(I).call(I,C))&&(BA.onSecurityPolicyViolation&&typeof BA.onSecurityPolicyViolation=="function"&&BA.onSecurityPolicyViolation(c),BA.getListeners(io.SECURITY_POLICY_VIOLATION).length>0&&BA.safeEmit(io.SECURITY_POLICY_VIOLATION,c))};o&&Fd.removeEventListener("securitypolicyviolation",o),(A||t&&typeof t=="function"||BA.getListeners(io.SECURITY_POLICY_VIOLATION).length>0)&&Fd.addEventListener("securitypolicyviolation",s),BA._cspEventHandlerPointer=s}var Y2=M,J2=b_,D0=RegExp.prototype,H2=function(t){return t===D0||Y2(D0,t)?J2(t):t.flags},ni=g(H2);function Ca(t){let A=t.length;for(;--A>=0;)t[A]=0}const Kd=256,w0=286,bc=30,vc=15,xd=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),sE=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),q2=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),N0=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Po=new Array(576);Ca(Po);const Mc=new Array(60);Ca(Mc);const Oc=new Array(512);Ca(Oc);const Lc=new Array(256);Ca(Lc);const Yd=new Array(29);Ca(Yd);const aE=new Array(bc);function Jd(t,A,o,s,c){this.static_tree=t,this.extra_bits=A,this.extra_base=o,this.elems=s,this.max_length=c,this.has_stree=t&&t.length}let T0,b0,v0;function Hd(t,A){this.dyn_tree=t,this.max_code=0,this.stat_desc=A}Ca(aE);const M0=t=>t<256?Oc[t]:Oc[256+(t>>>7)],kc=(t,A)=>{t.pending_buf[t.pending++]=255&A,t.pending_buf[t.pending++]=A>>>8&255},Wi=(t,A,o)=>{t.bi_valid>16-o?(t.bi_buf|=A<<t.bi_valid&65535,kc(t,t.bi_buf),t.bi_buf=A>>16-t.bi_valid,t.bi_valid+=o-16):(t.bi_buf|=A<<t.bi_valid&65535,t.bi_valid+=o)},Eo=(t,A,o)=>{Wi(t,o[2*A],o[2*A+1])},O0=(t,A)=>{let o=0;do o|=1&t,t>>>=1,o<<=1;while(--A>0);return o>>>1},L0=(t,A,o)=>{const s=new Array(16);let c,I,C=0;for(c=1;c<=vc;c++)C=C+o[c-1]<<1,s[c]=C;for(I=0;I<=A;I++){let l=t[2*I+1];l!==0&&(t[2*I]=O0(s[l]++,l))}},k0=t=>{let A;for(A=0;A<w0;A++)t.dyn_ltree[2*A]=0;for(A=0;A<bc;A++)t.dyn_dtree[2*A]=0;for(A=0;A<19;A++)t.bl_tree[2*A]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},U0=t=>{t.bi_valid>8?kc(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},P0=(t,A,o,s)=>{const c=2*A,I=2*o;return t[c]<t[I]||t[c]===t[I]&&s[A]<=s[o]},qd=(t,A,o)=>{const s=t.heap[o];let c=o<<1;for(;c<=t.heap_len&&(c<t.heap_len&&P0(A,t.heap[c+1],t.heap[c],t.depth)&&c++,!P0(A,s,t.heap[c],t.depth));)t.heap[o]=t.heap[c],o=c,c<<=1;t.heap[o]=s},G0=(t,A,o)=>{let s,c,I,C,l=0;if(t.sym_next!==0)do s=255&t.pending_buf[t.sym_buf+l++],s+=(255&t.pending_buf[t.sym_buf+l++])<<8,c=t.pending_buf[t.sym_buf+l++],s===0?Eo(t,c,A):(I=Lc[c],Eo(t,I+Kd+1,A),C=xd[I],C!==0&&(c-=Yd[I],Wi(t,c,C)),s--,I=M0(s),Eo(t,I,o),C=sE[I],C!==0&&(s-=aE[I],Wi(t,s,C)));while(l<t.sym_next);Eo(t,256,A)},Vd=(t,A)=>{const o=A.dyn_tree,s=A.stat_desc.static_tree,c=A.stat_desc.has_stree,I=A.stat_desc.elems;let C,l,d,h=-1;for(t.heap_len=0,t.heap_max=573,C=0;C<I;C++)o[2*C]!==0?(t.heap[++t.heap_len]=h=C,t.depth[C]=0):o[2*C+1]=0;for(;t.heap_len<2;)d=t.heap[++t.heap_len]=h<2?++h:0,o[2*d]=1,t.depth[d]=0,t.opt_len--,c&&(t.static_len-=s[2*d+1]);for(A.max_code=h,C=t.heap_len>>1;C>=1;C--)qd(t,o,C);d=I;do C=t.heap[1],t.heap[1]=t.heap[t.heap_len--],qd(t,o,1),l=t.heap[1],t.heap[--t.heap_max]=C,t.heap[--t.heap_max]=l,o[2*d]=o[2*C]+o[2*l],t.depth[d]=(t.depth[C]>=t.depth[l]?t.depth[C]:t.depth[l])+1,o[2*C+1]=o[2*l+1]=d,t.heap[1]=d++,qd(t,o,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((Q,_)=>{const S=_.dyn_tree,w=_.max_code,k=_.stat_desc.static_tree,v=_.stat_desc.has_stree,b=_.stat_desc.extra_bits,P=_.stat_desc.extra_base,K=_.stat_desc.max_length;let W,X,Z,ie,ce,de,Ce=0;for(ie=0;ie<=vc;ie++)Q.bl_count[ie]=0;for(S[2*Q.heap[Q.heap_max]+1]=0,W=Q.heap_max+1;W<573;W++)X=Q.heap[W],ie=S[2*S[2*X+1]+1]+1,ie>K&&(ie=K,Ce++),S[2*X+1]=ie,X>w||(Q.bl_count[ie]++,ce=0,X>=P&&(ce=b[X-P]),de=S[2*X],Q.opt_len+=de*(ie+ce),v&&(Q.static_len+=de*(k[2*X+1]+ce)));if(Ce!==0){do{for(ie=K-1;Q.bl_count[ie]===0;)ie--;Q.bl_count[ie]--,Q.bl_count[ie+1]+=2,Q.bl_count[K]--,Ce-=2}while(Ce>0);for(ie=K;ie!==0;ie--)for(X=Q.bl_count[ie];X!==0;)Z=Q.heap[--W],Z>w||(S[2*Z+1]!==ie&&(Q.opt_len+=(ie-S[2*Z+1])*S[2*Z],S[2*Z+1]=ie),X--)}})(t,A),L0(o,h,t.bl_count)},F0=(t,A,o)=>{let s,c,I=-1,C=A[1],l=0,d=7,h=4;for(C===0&&(d=138,h=3),A[2*(o+1)+1]=65535,s=0;s<=o;s++)c=C,C=A[2*(s+1)+1],++l<d&&c===C||(l<h?t.bl_tree[2*c]+=l:c!==0?(c!==I&&t.bl_tree[2*c]++,t.bl_tree[32]++):l<=10?t.bl_tree[34]++:t.bl_tree[36]++,l=0,I=c,C===0?(d=138,h=3):c===C?(d=6,h=3):(d=7,h=4))},K0=(t,A,o)=>{let s,c,I=-1,C=A[1],l=0,d=7,h=4;for(C===0&&(d=138,h=3),s=0;s<=o;s++)if(c=C,C=A[2*(s+1)+1],!(++l<d&&c===C)){if(l<h)do Eo(t,c,t.bl_tree);while(--l!=0);else c!==0?(c!==I&&(Eo(t,c,t.bl_tree),l--),Eo(t,16,t.bl_tree),Wi(t,l-3,2)):l<=10?(Eo(t,17,t.bl_tree),Wi(t,l-3,3)):(Eo(t,18,t.bl_tree),Wi(t,l-11,7));l=0,I=c,C===0?(d=138,h=3):c===C?(d=6,h=3):(d=7,h=4)}};let x0=!1;const Y0=(t,A,o,s)=>{Wi(t,0+(s?1:0),3),U0(t),kc(t,o),kc(t,~o),o&&t.pending_buf.set(t.window.subarray(A,A+o),t.pending),t.pending+=o};var V2=t=>{x0||((()=>{let A,o,s,c,I;const C=new Array(16);for(s=0,c=0;c<28;c++)for(Yd[c]=s,A=0;A<1<<xd[c];A++)Lc[s++]=c;for(Lc[s-1]=c,I=0,c=0;c<16;c++)for(aE[c]=I,A=0;A<1<<sE[c];A++)Oc[I++]=c;for(I>>=7;c<bc;c++)for(aE[c]=I<<7,A=0;A<1<<sE[c]-7;A++)Oc[256+I++]=c;for(o=0;o<=vc;o++)C[o]=0;for(A=0;A<=143;)Po[2*A+1]=8,A++,C[8]++;for(;A<=255;)Po[2*A+1]=9,A++,C[9]++;for(;A<=279;)Po[2*A+1]=7,A++,C[7]++;for(;A<=287;)Po[2*A+1]=8,A++,C[8]++;for(L0(Po,287,C),A=0;A<bc;A++)Mc[2*A+1]=5,Mc[2*A]=O0(A,5);T0=new Jd(Po,xd,257,w0,vc),b0=new Jd(Mc,sE,0,bc,vc),v0=new Jd(new Array(0),q2,0,19,7)})(),x0=!0),t.l_desc=new Hd(t.dyn_ltree,T0),t.d_desc=new Hd(t.dyn_dtree,b0),t.bl_desc=new Hd(t.bl_tree,v0),t.bi_buf=0,t.bi_valid=0,k0(t)},j2=(t,A,o,s)=>{let c,I,C=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=(l=>{let d,h=4093624447;for(d=0;d<=31;d++,h>>>=1)if(1&h&&l.dyn_ltree[2*d]!==0)return 0;if(l.dyn_ltree[18]!==0||l.dyn_ltree[20]!==0||l.dyn_ltree[26]!==0)return 1;for(d=32;d<Kd;d++)if(l.dyn_ltree[2*d]!==0)return 1;return 0})(t)),Vd(t,t.l_desc),Vd(t,t.d_desc),C=(l=>{let d;for(F0(l,l.dyn_ltree,l.l_desc.max_code),F0(l,l.dyn_dtree,l.d_desc.max_code),Vd(l,l.bl_desc),d=18;d>=3&&l.bl_tree[2*N0[d]+1]===0;d--);return l.opt_len+=3*(d+1)+5+5+4,d})(t),c=t.opt_len+3+7>>>3,I=t.static_len+3+7>>>3,I<=c&&(c=I)):c=I=o+5,o+4<=c&&A!==-1?Y0(t,A,o,s):t.strategy===4||I===c?(Wi(t,2+(s?1:0),3),G0(t,Po,Mc)):(Wi(t,4+(s?1:0),3),((l,d,h,Q)=>{let _;for(Wi(l,d-257,5),Wi(l,h-1,5),Wi(l,Q-4,4),_=0;_<Q;_++)Wi(l,l.bl_tree[2*N0[_]+1],3);K0(l,l.dyn_ltree,d-1),K0(l,l.dyn_dtree,h-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,C+1),G0(t,t.dyn_ltree,t.dyn_dtree)),k0(t),s&&U0(t)},$2=(t,A,o)=>(t.pending_buf[t.sym_buf+t.sym_next++]=A,t.pending_buf[t.sym_buf+t.sym_next++]=A>>8,t.pending_buf[t.sym_buf+t.sym_next++]=o,A===0?t.dyn_ltree[2*o]++:(t.matches++,A--,t.dyn_ltree[2*(Lc[o]+Kd+1)]++,t.dyn_dtree[2*M0(A)]++),t.sym_next===t.sym_end),W2=t=>{Wi(t,2,3),Eo(t,256,Po),(A=>{A.bi_valid===16?(kc(A,A.bi_buf),A.bi_buf=0,A.bi_valid=0):A.bi_valid>=8&&(A.pending_buf[A.pending++]=255&A.bi_buf,A.bi_buf>>=8,A.bi_valid-=8)})(t)},X2={_tr_init:V2,_tr_stored_block:Y0,_tr_flush_block:j2,_tr_tally:$2,_tr_align:W2},Uc=(t,A,o,s)=>{let c=65535&t|0,I=t>>>16&65535|0,C=0;for(;o!==0;){C=o>2e3?2e3:o,o-=C;do c=c+A[s++]|0,I=I+c|0;while(--C);c%=65521,I%=65521}return c|I<<16|0};const Z2=new Uint32Array((()=>{let t,A=[];for(var o=0;o<256;o++){t=o;for(var s=0;s<8;s++)t=1&t?3988292384^t>>>1:t>>>1;A[o]=t}return A})());var ui=(t,A,o,s)=>{const c=Z2,I=s+o;t^=-1;for(let C=s;C<I;C++)t=t>>>8^c[255&(t^A[C])];return-1^t},Zn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},cE={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:z2,_tr_stored_block:jd,_tr_flush_block:eY,_tr_tally:dn,_tr_align:tY}=X2,{Z_NO_FLUSH:hn,Z_PARTIAL_FLUSH:AY,Z_FULL_FLUSH:iY,Z_FINISH:Nr,Z_BLOCK:J0,Z_OK:pi,Z_STREAM_END:H0,Z_STREAM_ERROR:Co,Z_DATA_ERROR:rY,Z_BUF_ERROR:$d,Z_DEFAULT_COMPRESSION:oY,Z_FILTERED:nY,Z_HUFFMAN_ONLY:gE,Z_RLE:sY,Z_FIXED:aY,Z_DEFAULT_STRATEGY:cY,Z_UNKNOWN:gY,Z_DEFLATED:IE}=cE,Wd=286,IY=30,EY=19,CY=2*Wd+1,lY=15,zn=258,lo=262,la=42,es=113,Pc=666,ts=(t,A)=>(t.msg=Zn[A],A),q0=t=>2*t-(t>4?9:0),Bn=t=>{let A=t.length;for(;--A>=0;)t[A]=0},uY=t=>{let A,o,s,c=t.w_size;A=t.hash_size,s=A;do o=t.head[--s],t.head[s]=o>=c?o-c:0;while(--A);A=c,s=A;do o=t.prev[--s],t.prev[s]=o>=c?o-c:0;while(--A)};let pn=(t,A,o)=>(A<<t.hash_shift^o)&t.hash_mask;const nr=t=>{const A=t.state;let o=A.pending;o>t.avail_out&&(o=t.avail_out),o!==0&&(t.output.set(A.pending_buf.subarray(A.pending_out,A.pending_out+o),t.next_out),t.next_out+=o,A.pending_out+=o,t.total_out+=o,t.avail_out-=o,A.pending-=o,A.pending===0&&(A.pending_out=0))},sr=(t,A)=>{eY(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,A),t.block_start=t.strstart,nr(t.strm)},iA=(t,A)=>{t.pending_buf[t.pending++]=A},Gc=(t,A)=>{t.pending_buf[t.pending++]=A>>>8&255,t.pending_buf[t.pending++]=255&A},Xd=(t,A,o,s)=>{let c=t.avail_in;return c>s&&(c=s),c===0?0:(t.avail_in-=c,A.set(t.input.subarray(t.next_in,t.next_in+c),o),t.state.wrap===1?t.adler=Uc(t.adler,A,c,o):t.state.wrap===2&&(t.adler=ui(t.adler,A,c,o)),t.next_in+=c,t.total_in+=c,c)},V0=(t,A)=>{let o,s,c=t.max_chain_length,I=t.strstart,C=t.prev_length,l=t.nice_match;const d=t.strstart>t.w_size-lo?t.strstart-(t.w_size-lo):0,h=t.window,Q=t.w_mask,_=t.prev,S=t.strstart+zn;let w=h[I+C-1],k=h[I+C];t.prev_length>=t.good_match&&(c>>=2),l>t.lookahead&&(l=t.lookahead);do if(o=A,h[o+C]===k&&h[o+C-1]===w&&h[o]===h[I]&&h[++o]===h[I+1]){I+=2,o++;do;while(h[++I]===h[++o]&&h[++I]===h[++o]&&h[++I]===h[++o]&&h[++I]===h[++o]&&h[++I]===h[++o]&&h[++I]===h[++o]&&h[++I]===h[++o]&&h[++I]===h[++o]&&I<S);if(s=zn-(S-I),I=S-zn,s>C){if(t.match_start=A,C=s,s>=l)break;w=h[I+C-1],k=h[I+C]}}while((A=_[A&Q])>d&&--c!=0);return C<=t.lookahead?C:t.lookahead},ua=t=>{const A=t.w_size;let o,s,c;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=A+(A-lo)&&(t.window.set(t.window.subarray(A,A+A-s),0),t.match_start-=A,t.strstart-=A,t.block_start-=A,t.insert>t.strstart&&(t.insert=t.strstart),uY(t),s+=A),t.strm.avail_in===0)break;if(o=Xd(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=o,t.lookahead+t.insert>=3)for(c=t.strstart-t.insert,t.ins_h=t.window[c],t.ins_h=pn(t,t.ins_h,t.window[c+1]);t.insert&&(t.ins_h=pn(t,t.ins_h,t.window[c+3-1]),t.prev[c&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=c,c++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<lo&&t.strm.avail_in!==0)},j0=(t,A)=>{let o,s,c,I=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,C=0,l=t.strm.avail_in;do{if(o=65535,c=t.bi_valid+42>>3,t.strm.avail_out<c||(c=t.strm.avail_out-c,s=t.strstart-t.block_start,o>s+t.strm.avail_in&&(o=s+t.strm.avail_in),o>c&&(o=c),o<I&&(o===0&&A!==Nr||A===hn||o!==s+t.strm.avail_in)))break;C=A===Nr&&o===s+t.strm.avail_in?1:0,jd(t,0,0,C),t.pending_buf[t.pending-4]=o,t.pending_buf[t.pending-3]=o>>8,t.pending_buf[t.pending-2]=~o,t.pending_buf[t.pending-1]=~o>>8,nr(t.strm),s&&(s>o&&(s=o),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+s),t.strm.next_out),t.strm.next_out+=s,t.strm.avail_out-=s,t.strm.total_out+=s,t.block_start+=s,o-=s),o&&(Xd(t.strm,t.strm.output,t.strm.next_out,o),t.strm.next_out+=o,t.strm.avail_out-=o,t.strm.total_out+=o)}while(C===0);return l-=t.strm.avail_in,l&&(l>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=l&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-l,t.strm.next_in),t.strstart),t.strstart+=l,t.insert+=l>t.w_size-t.insert?t.w_size-t.insert:l),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),C?4:A!==hn&&A!==Nr&&t.strm.avail_in===0&&t.strstart===t.block_start?2:(c=t.window_size-t.strstart,t.strm.avail_in>c&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,c+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),c>t.strm.avail_in&&(c=t.strm.avail_in),c&&(Xd(t.strm,t.window,t.strstart,c),t.strstart+=c,t.insert+=c>t.w_size-t.insert?t.w_size-t.insert:c),t.high_water<t.strstart&&(t.high_water=t.strstart),c=t.bi_valid+42>>3,c=t.pending_buf_size-c>65535?65535:t.pending_buf_size-c,I=c>t.w_size?t.w_size:c,s=t.strstart-t.block_start,(s>=I||(s||A===Nr)&&A!==hn&&t.strm.avail_in===0&&s<=c)&&(o=s>c?c:s,C=A===Nr&&t.strm.avail_in===0&&o===s?1:0,jd(t,t.block_start,o,C),t.block_start+=o,nr(t.strm)),C?3:1)},Zd=(t,A)=>{let o,s;for(;;){if(t.lookahead<lo){if(ua(t),t.lookahead<lo&&A===hn)return 1;if(t.lookahead===0)break}if(o=0,t.lookahead>=3&&(t.ins_h=pn(t,t.ins_h,t.window[t.strstart+3-1]),o=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),o!==0&&t.strstart-o<=t.w_size-lo&&(t.match_length=V0(t,o)),t.match_length>=3)if(s=dn(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do t.strstart++,t.ins_h=pn(t,t.ins_h,t.window[t.strstart+3-1]),o=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!=0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=pn(t,t.ins_h,t.window[t.strstart+1]);else s=dn(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(s&&(sr(t,!1),t.strm.avail_out===0))return 1}return t.insert=t.strstart<2?t.strstart:2,A===Nr?(sr(t,!0),t.strm.avail_out===0?3:4):t.sym_next&&(sr(t,!1),t.strm.avail_out===0)?1:2},da=(t,A)=>{let o,s,c;for(;;){if(t.lookahead<lo){if(ua(t),t.lookahead<lo&&A===hn)return 1;if(t.lookahead===0)break}if(o=0,t.lookahead>=3&&(t.ins_h=pn(t,t.ins_h,t.window[t.strstart+3-1]),o=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,o!==0&&t.prev_length<t.max_lazy_match&&t.strstart-o<=t.w_size-lo&&(t.match_length=V0(t,o),t.match_length<=5&&(t.strategy===nY||t.match_length===3&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){c=t.strstart+t.lookahead-3,s=dn(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=c&&(t.ins_h=pn(t,t.ins_h,t.window[t.strstart+3-1]),o=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!=0);if(t.match_available=0,t.match_length=2,t.strstart++,s&&(sr(t,!1),t.strm.avail_out===0))return 1}else if(t.match_available){if(s=dn(t,0,t.window[t.strstart-1]),s&&sr(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(s=dn(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,A===Nr?(sr(t,!0),t.strm.avail_out===0?3:4):t.sym_next&&(sr(t,!1),t.strm.avail_out===0)?1:2};function uo(t,A,o,s,c){this.good_length=t,this.max_lazy=A,this.nice_length=o,this.max_chain=s,this.func=c}const Fc=[new uo(0,0,0,0,j0),new uo(4,4,8,4,Zd),new uo(4,5,16,8,Zd),new uo(4,6,32,32,Zd),new uo(4,4,16,16,da),new uo(8,16,32,32,da),new uo(8,16,128,128,da),new uo(8,32,128,256,da),new uo(32,128,258,1024,da),new uo(32,258,258,4096,da)];function dY(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=IE,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*CY),this.dyn_dtree=new Uint16Array(2*(2*IY+1)),this.bl_tree=new Uint16Array(2*(2*EY+1)),Bn(this.dyn_ltree),Bn(this.dyn_dtree),Bn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(lY+1),this.heap=new Uint16Array(2*Wd+1),Bn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Wd+1),Bn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Kc=t=>{if(!t)return 1;const A=t.state;return!A||A.strm!==t||A.status!==la&&A.status!==57&&A.status!==69&&A.status!==73&&A.status!==91&&A.status!==103&&A.status!==es&&A.status!==Pc?1:0},$0=t=>{if(Kc(t))return ts(t,Co);t.total_in=t.total_out=0,t.data_type=gY;const A=t.state;return A.pending=0,A.pending_out=0,A.wrap<0&&(A.wrap=-A.wrap),A.status=A.wrap===2?57:A.wrap?la:es,t.adler=A.wrap===2?0:1,A.last_flush=-2,z2(A),pi},W0=t=>{const A=$0(t);return A===pi&&(o=>{o.window_size=2*o.w_size,Bn(o.head),o.max_lazy_match=Fc[o.level].max_lazy,o.good_match=Fc[o.level].good_length,o.nice_match=Fc[o.level].nice_length,o.max_chain_length=Fc[o.level].max_chain,o.strstart=0,o.block_start=0,o.lookahead=0,o.insert=0,o.match_length=o.prev_length=2,o.match_available=0,o.ins_h=0})(t.state),A},X0=(t,A,o,s,c,I)=>{if(!t)return Co;let C=1;if(A===oY&&(A=6),s<0?(C=0,s=-s):s>15&&(C=2,s-=16),c<1||c>9||o!==IE||s<8||s>15||A<0||A>9||I<0||I>aY||s===8&&C!==1)return ts(t,Co);s===8&&(s=9);const l=new dY;return t.state=l,l.strm=t,l.status=la,l.wrap=C,l.gzhead=null,l.w_bits=s,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=c+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new Uint8Array(2*l.w_size),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<c+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=3*(l.lit_bufsize-1),l.level=A,l.strategy=I,l.method=o,W0(t)};var hY=(t,A)=>{if(Kc(t)||A>J0||A<0)return t?ts(t,Co):Co;const o=t.state;if(!t.output||t.avail_in!==0&&!t.input||o.status===Pc&&A!==Nr)return ts(t,t.avail_out===0?$d:Co);const s=o.last_flush;if(o.last_flush=A,o.pending!==0){if(nr(t),t.avail_out===0)return o.last_flush=-1,pi}else if(t.avail_in===0&&q0(A)<=q0(s)&&A!==Nr)return ts(t,$d);if(o.status===Pc&&t.avail_in!==0)return ts(t,$d);if(o.status===la&&o.wrap===0&&(o.status=es),o.status===la){let c=IE+(o.w_bits-8<<4)<<8,I=-1;if(I=o.strategy>=gE||o.level<2?0:o.level<6?1:o.level===6?2:3,c|=I<<6,o.strstart!==0&&(c|=32),c+=31-c%31,Gc(o,c),o.strstart!==0&&(Gc(o,t.adler>>>16),Gc(o,65535&t.adler)),t.adler=1,o.status=es,nr(t),o.pending!==0)return o.last_flush=-1,pi}if(o.status===57){if(t.adler=0,iA(o,31),iA(o,139),iA(o,8),o.gzhead)iA(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),iA(o,255&o.gzhead.time),iA(o,o.gzhead.time>>8&255),iA(o,o.gzhead.time>>16&255),iA(o,o.gzhead.time>>24&255),iA(o,o.level===9?2:o.strategy>=gE||o.level<2?4:0),iA(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(iA(o,255&o.gzhead.extra.length),iA(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=ui(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69;else if(iA(o,0),iA(o,0),iA(o,0),iA(o,0),iA(o,0),iA(o,o.level===9?2:o.strategy>=gE||o.level<2?4:0),iA(o,3),o.status=es,nr(t),o.pending!==0)return o.last_flush=-1,pi}if(o.status===69){if(o.gzhead.extra){let c=o.pending,I=(65535&o.gzhead.extra.length)-o.gzindex;for(;o.pending+I>o.pending_buf_size;){let l=o.pending_buf_size-o.pending;if(o.pending_buf.set(o.gzhead.extra.subarray(o.gzindex,o.gzindex+l),o.pending),o.pending=o.pending_buf_size,o.gzhead.hcrc&&o.pending>c&&(t.adler=ui(t.adler,o.pending_buf,o.pending-c,c)),o.gzindex+=l,nr(t),o.pending!==0)return o.last_flush=-1,pi;c=0,I-=l}let C=new Uint8Array(o.gzhead.extra);o.pending_buf.set(C.subarray(o.gzindex,o.gzindex+I),o.pending),o.pending+=I,o.gzhead.hcrc&&o.pending>c&&(t.adler=ui(t.adler,o.pending_buf,o.pending-c,c)),o.gzindex=0}o.status=73}if(o.status===73){if(o.gzhead.name){let c,I=o.pending;do{if(o.pending===o.pending_buf_size){if(o.gzhead.hcrc&&o.pending>I&&(t.adler=ui(t.adler,o.pending_buf,o.pending-I,I)),nr(t),o.pending!==0)return o.last_flush=-1,pi;I=0}c=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,iA(o,c)}while(c!==0);o.gzhead.hcrc&&o.pending>I&&(t.adler=ui(t.adler,o.pending_buf,o.pending-I,I)),o.gzindex=0}o.status=91}if(o.status===91){if(o.gzhead.comment){let c,I=o.pending;do{if(o.pending===o.pending_buf_size){if(o.gzhead.hcrc&&o.pending>I&&(t.adler=ui(t.adler,o.pending_buf,o.pending-I,I)),nr(t),o.pending!==0)return o.last_flush=-1,pi;I=0}c=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,iA(o,c)}while(c!==0);o.gzhead.hcrc&&o.pending>I&&(t.adler=ui(t.adler,o.pending_buf,o.pending-I,I))}o.status=103}if(o.status===103){if(o.gzhead.hcrc){if(o.pending+2>o.pending_buf_size&&(nr(t),o.pending!==0))return o.last_flush=-1,pi;iA(o,255&t.adler),iA(o,t.adler>>8&255),t.adler=0}if(o.status=es,nr(t),o.pending!==0)return o.last_flush=-1,pi}if(t.avail_in!==0||o.lookahead!==0||A!==hn&&o.status!==Pc){let c=o.level===0?j0(o,A):o.strategy===gE?((I,C)=>{let l;for(;;){if(I.lookahead===0&&(ua(I),I.lookahead===0)){if(C===hn)return 1;break}if(I.match_length=0,l=dn(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++,l&&(sr(I,!1),I.strm.avail_out===0))return 1}return I.insert=0,C===Nr?(sr(I,!0),I.strm.avail_out===0?3:4):I.sym_next&&(sr(I,!1),I.strm.avail_out===0)?1:2})(o,A):o.strategy===sY?((I,C)=>{let l,d,h,Q;const _=I.window;for(;;){if(I.lookahead<=zn){if(ua(I),I.lookahead<=zn&&C===hn)return 1;if(I.lookahead===0)break}if(I.match_length=0,I.lookahead>=3&&I.strstart>0&&(h=I.strstart-1,d=_[h],d===_[++h]&&d===_[++h]&&d===_[++h])){Q=I.strstart+zn;do;while(d===_[++h]&&d===_[++h]&&d===_[++h]&&d===_[++h]&&d===_[++h]&&d===_[++h]&&d===_[++h]&&d===_[++h]&&h<Q);I.match_length=zn-(Q-h),I.match_length>I.lookahead&&(I.match_length=I.lookahead)}if(I.match_length>=3?(l=dn(I,1,I.match_length-3),I.lookahead-=I.match_length,I.strstart+=I.match_length,I.match_length=0):(l=dn(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++),l&&(sr(I,!1),I.strm.avail_out===0))return 1}return I.insert=0,C===Nr?(sr(I,!0),I.strm.avail_out===0?3:4):I.sym_next&&(sr(I,!1),I.strm.avail_out===0)?1:2})(o,A):Fc[o.level].func(o,A);if(c!==3&&c!==4||(o.status=Pc),c===1||c===3)return t.avail_out===0&&(o.last_flush=-1),pi;if(c===2&&(A===AY?tY(o):A!==J0&&(jd(o,0,0,!1),A===iY&&(Bn(o.head),o.lookahead===0&&(o.strstart=0,o.block_start=0,o.insert=0))),nr(t),t.avail_out===0))return o.last_flush=-1,pi}return A!==Nr?pi:o.wrap<=0?H0:(o.wrap===2?(iA(o,255&t.adler),iA(o,t.adler>>8&255),iA(o,t.adler>>16&255),iA(o,t.adler>>24&255),iA(o,255&t.total_in),iA(o,t.total_in>>8&255),iA(o,t.total_in>>16&255),iA(o,t.total_in>>24&255)):(Gc(o,t.adler>>>16),Gc(o,65535&t.adler)),nr(t),o.wrap>0&&(o.wrap=-o.wrap),o.pending!==0?pi:H0)},BY=(t,A)=>{let o=A.length;if(Kc(t))return Co;const s=t.state,c=s.wrap;if(c===2||c===1&&s.status!==la||s.lookahead)return Co;if(c===1&&(t.adler=Uc(t.adler,A,o,0)),s.wrap=0,o>=s.w_size){c===0&&(Bn(s.head),s.strstart=0,s.block_start=0,s.insert=0);let d=new Uint8Array(s.w_size);d.set(A.subarray(o-s.w_size,o),0),A=d,o=s.w_size}const I=t.avail_in,C=t.next_in,l=t.input;for(t.avail_in=o,t.next_in=0,t.input=A,ua(s);s.lookahead>=3;){let d=s.strstart,h=s.lookahead-2;do s.ins_h=pn(s,s.ins_h,s.window[d+3-1]),s.prev[d&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=d,d++;while(--h);s.strstart=d,s.lookahead=2,ua(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=2,s.match_available=0,t.next_in=C,t.input=l,t.avail_in=I,s.wrap=c,pi},xc={deflateInit:(t,A)=>X0(t,A,IE,15,8,cY),deflateInit2:X0,deflateReset:W0,deflateResetKeep:$0,deflateSetHeader:(t,A)=>Kc(t)||t.state.wrap!==2?Co:(t.state.gzhead=A,pi),deflate:hY,deflateEnd:t=>{if(Kc(t))return Co;const A=t.state.status;return t.state=null,A===es?ts(t,rY):pi},deflateSetDictionary:BY,deflateInfo:"pako deflate (from Nodeca project)"};const pY=(t,A)=>Object.prototype.hasOwnProperty.call(t,A);var EE={assign:function(t){const A=Array.prototype.slice.call(arguments,1);for(;A.length;){const o=A.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(const s in o)pY(o,s)&&(t[s]=o[s])}}return t},flattenChunks:t=>{let A=0;for(let s=0,c=t.length;s<c;s++)A+=t[s].length;const o=new Uint8Array(A);for(let s=0,c=0,I=t.length;s<I;s++){let C=t[s];o.set(C,c),c+=C.length}return o}};let Z0=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Z0=!1}const Yc=new Uint8Array(256);for(let t=0;t<256;t++)Yc[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Yc[254]=Yc[254]=1;var Jc={string2buf:t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let A,o,s,c,I,C=t.length,l=0;for(c=0;c<C;c++)o=t.charCodeAt(c),(64512&o)==55296&&c+1<C&&(s=t.charCodeAt(c+1),(64512&s)==56320&&(o=65536+(o-55296<<10)+(s-56320),c++)),l+=o<128?1:o<2048?2:o<65536?3:4;for(A=new Uint8Array(l),I=0,c=0;I<l;c++)o=t.charCodeAt(c),(64512&o)==55296&&c+1<C&&(s=t.charCodeAt(c+1),(64512&s)==56320&&(o=65536+(o-55296<<10)+(s-56320),c++)),o<128?A[I++]=o:o<2048?(A[I++]=192|o>>>6,A[I++]=128|63&o):o<65536?(A[I++]=224|o>>>12,A[I++]=128|o>>>6&63,A[I++]=128|63&o):(A[I++]=240|o>>>18,A[I++]=128|o>>>12&63,A[I++]=128|o>>>6&63,A[I++]=128|63&o);return A},buf2string:(t,A)=>{const o=A||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,A));let s,c;const I=new Array(2*o);for(c=0,s=0;s<o;){let C=t[s++];if(C<128){I[c++]=C;continue}let l=Yc[C];if(l>4)I[c++]=65533,s+=l-1;else{for(C&=l===2?31:l===3?15:7;l>1&&s<o;)C=C<<6|63&t[s++],l--;l>1?I[c++]=65533:C<65536?I[c++]=C:(C-=65536,I[c++]=55296|C>>10&1023,I[c++]=56320|1023&C)}}return((C,l)=>{if(l<65534&&C.subarray&&Z0)return String.fromCharCode.apply(null,C.length===l?C:C.subarray(0,l));let d="";for(let h=0;h<l;h++)d+=String.fromCharCode(C[h]);return d})(I,c)},utf8border:(t,A)=>{(A=A||t.length)>t.length&&(A=t.length);let o=A-1;for(;o>=0&&(192&t[o])==128;)o--;return o<0||o===0?A:o+Yc[t[o]]>A?o:A}},z0=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const eN=Object.prototype.toString,{Z_NO_FLUSH:QY,Z_SYNC_FLUSH:fY,Z_FULL_FLUSH:_Y,Z_FINISH:RY,Z_OK:CE,Z_STREAM_END:yY,Z_DEFAULT_COMPRESSION:mY,Z_DEFAULT_STRATEGY:SY,Z_DEFLATED:DY}=cE;function lE(t){this.options=EE.assign({level:mY,method:DY,chunkSize:16384,windowBits:15,memLevel:8,strategy:SY},t||{});let A=this.options;A.raw&&A.windowBits>0?A.windowBits=-A.windowBits:A.gzip&&A.windowBits>0&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new z0,this.strm.avail_out=0;let o=xc.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(o!==CE)throw new Error(Zn[o]);if(A.header&&xc.deflateSetHeader(this.strm,A.header),A.dictionary){let s;if(s=typeof A.dictionary=="string"?Jc.string2buf(A.dictionary):eN.call(A.dictionary)==="[object ArrayBuffer]"?new Uint8Array(A.dictionary):A.dictionary,o=xc.deflateSetDictionary(this.strm,s),o!==CE)throw new Error(Zn[o]);this._dict_set=!0}}function wY(t,A){const o=new lE(A);if(o.push(t,!0),o.err)throw o.msg||Zn[o.err];return o.result}lE.prototype.push=function(t,A){const o=this.strm,s=this.options.chunkSize;let c,I;if(this.ended)return!1;for(I=A===~~A?A:A===!0?RY:QY,typeof t=="string"?o.input=Jc.string2buf(t):eN.call(t)==="[object ArrayBuffer]"?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;;)if(o.avail_out===0&&(o.output=new Uint8Array(s),o.next_out=0,o.avail_out=s),(I===fY||I===_Y)&&o.avail_out<=6)this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;else{if(c=xc.deflate(o,I),c===yY)return o.next_out>0&&this.onData(o.output.subarray(0,o.next_out)),c=xc.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===CE;if(o.avail_out!==0){if(I>0&&o.next_out>0)this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;else if(o.avail_in===0)break}else this.onData(o.output)}return!0},lE.prototype.onData=function(t){this.chunks.push(t)},lE.prototype.onEnd=function(t){t===CE&&(this.result=EE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var NY={deflate:wY};const uE=16209;var TY=function(t,A){let o,s,c,I,C,l,d,h,Q,_,S,w,k,v,b,P,K,W,X,Z,ie,ce,de,Ce;const be=t.state;o=t.next_in,de=t.input,s=o+(t.avail_in-5),c=t.next_out,Ce=t.output,I=c-(A-t.avail_out),C=c+(t.avail_out-257),l=be.dmax,d=be.wsize,h=be.whave,Q=be.wnext,_=be.window,S=be.hold,w=be.bits,k=be.lencode,v=be.distcode,b=(1<<be.lenbits)-1,P=(1<<be.distbits)-1;e:do{w<15&&(S+=de[o++]<<w,w+=8,S+=de[o++]<<w,w+=8),K=k[S&b];t:for(;;){if(W=K>>>24,S>>>=W,w-=W,W=K>>>16&255,W===0)Ce[c++]=65535&K;else{if(!(16&W)){if(!(64&W)){K=k[(65535&K)+(S&(1<<W)-1)];continue t}if(32&W){be.mode=16191;break e}t.msg="invalid literal/length code",be.mode=uE;break e}X=65535&K,W&=15,W&&(w<W&&(S+=de[o++]<<w,w+=8),X+=S&(1<<W)-1,S>>>=W,w-=W),w<15&&(S+=de[o++]<<w,w+=8,S+=de[o++]<<w,w+=8),K=v[S&P];A:for(;;){if(W=K>>>24,S>>>=W,w-=W,W=K>>>16&255,!(16&W)){if(!(64&W)){K=v[(65535&K)+(S&(1<<W)-1)];continue A}t.msg="invalid distance code",be.mode=uE;break e}if(Z=65535&K,W&=15,w<W&&(S+=de[o++]<<w,w+=8,w<W&&(S+=de[o++]<<w,w+=8)),Z+=S&(1<<W)-1,Z>l){t.msg="invalid distance too far back",be.mode=uE;break e}if(S>>>=W,w-=W,W=c-I,Z>W){if(W=Z-W,W>h&&be.sane){t.msg="invalid distance too far back",be.mode=uE;break e}if(ie=0,ce=_,Q===0){if(ie+=d-W,W<X){X-=W;do Ce[c++]=_[ie++];while(--W);ie=c-Z,ce=Ce}}else if(Q<W){if(ie+=d+Q-W,W-=Q,W<X){X-=W;do Ce[c++]=_[ie++];while(--W);if(ie=0,Q<X){W=Q,X-=W;do Ce[c++]=_[ie++];while(--W);ie=c-Z,ce=Ce}}}else if(ie+=Q-W,W<X){X-=W;do Ce[c++]=_[ie++];while(--W);ie=c-Z,ce=Ce}for(;X>2;)Ce[c++]=ce[ie++],Ce[c++]=ce[ie++],Ce[c++]=ce[ie++],X-=3;X&&(Ce[c++]=ce[ie++],X>1&&(Ce[c++]=ce[ie++]))}else{ie=c-Z;do Ce[c++]=Ce[ie++],Ce[c++]=Ce[ie++],Ce[c++]=Ce[ie++],X-=3;while(X>2);X&&(Ce[c++]=Ce[ie++],X>1&&(Ce[c++]=Ce[ie++]))}break}}break}}while(o<s&&c<C);X=w>>3,o-=X,w-=X<<3,S&=(1<<w)-1,t.next_in=o,t.next_out=c,t.avail_in=o<s?s-o+5:5-(o-s),t.avail_out=c<C?C-c+257:257-(c-C),be.hold=S,be.bits=w};const dE=15,bY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),vY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),MY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),OY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Hc=(t,A,o,s,c,I,C,l)=>{const d=l.bits;let h,Q,_,S,w,k,v=0,b=0,P=0,K=0,W=0,X=0,Z=0,ie=0,ce=0,de=0,Ce=null;const be=new Uint16Array(16),tt=new Uint16Array(16);let ft,Pt,dA,jt=null;for(v=0;v<=dE;v++)be[v]=0;for(b=0;b<s;b++)be[A[o+b]]++;for(W=d,K=dE;K>=1&&be[K]===0;K--);if(W>K&&(W=K),K===0)return c[I++]=20971520,c[I++]=20971520,l.bits=1,0;for(P=1;P<K&&be[P]===0;P++);for(W<P&&(W=P),ie=1,v=1;v<=dE;v++)if(ie<<=1,ie-=be[v],ie<0)return-1;if(ie>0&&(t===0||K!==1))return-1;for(tt[1]=0,v=1;v<dE;v++)tt[v+1]=tt[v]+be[v];for(b=0;b<s;b++)A[o+b]!==0&&(C[tt[A[o+b]]++]=b);if(t===0?(Ce=jt=C,k=20):t===1?(Ce=bY,jt=vY,k=257):(Ce=MY,jt=OY,k=0),de=0,b=0,v=P,w=I,X=W,Z=0,_=-1,ce=1<<W,S=ce-1,t===1&&ce>852||t===2&&ce>592)return 1;for(;;){ft=v-Z,C[b]+1<k?(Pt=0,dA=C[b]):C[b]>=k?(Pt=jt[C[b]-k],dA=Ce[C[b]-k]):(Pt=96,dA=0),h=1<<v-Z,Q=1<<X,P=Q;do Q-=h,c[w+(de>>Z)+Q]=ft<<24|Pt<<16|dA|0;while(Q!==0);for(h=1<<v-1;de&h;)h>>=1;if(h!==0?(de&=h-1,de+=h):de=0,b++,--be[v]==0){if(v===K)break;v=A[o+C[b]]}if(v>W&&(de&S)!==_){for(Z===0&&(Z=W),w+=P,X=v-Z,ie=1<<X;X+Z<K&&(ie-=be[X+Z],!(ie<=0));)X++,ie<<=1;if(ce+=1<<X,t===1&&ce>852||t===2&&ce>592)return 1;_=de&S,c[_]=W<<24|X<<16|w-I|0}}return de!==0&&(c[w+de]=v-Z<<24|64<<16|0),l.bits=W,0};const{Z_FINISH:tN,Z_BLOCK:LY,Z_TREES:hE,Z_OK:As,Z_STREAM_END:kY,Z_NEED_DICT:UY,Z_STREAM_ERROR:Tr,Z_DATA_ERROR:AN,Z_MEM_ERROR:iN,Z_BUF_ERROR:PY,Z_DEFLATED:rN}=cE,BE=16180,pE=16190,Go=16191,zd=16192,eh=16194,QE=16199,fE=16200,th=16206,vA=16209,oN=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function GY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const is=t=>{if(!t)return 1;const A=t.state;return!A||A.strm!==t||A.mode<BE||A.mode>16211?1:0},nN=t=>{if(is(t))return Tr;const A=t.state;return t.total_in=t.total_out=A.total=0,t.msg="",A.wrap&&(t.adler=1&A.wrap),A.mode=BE,A.last=0,A.havedict=0,A.flags=-1,A.dmax=32768,A.head=null,A.hold=0,A.bits=0,A.lencode=A.lendyn=new Int32Array(852),A.distcode=A.distdyn=new Int32Array(592),A.sane=1,A.back=-1,As},sN=t=>{if(is(t))return Tr;const A=t.state;return A.wsize=0,A.whave=0,A.wnext=0,nN(t)},aN=(t,A)=>{let o;if(is(t))return Tr;const s=t.state;return A<0?(o=0,A=-A):(o=5+(A>>4),A<48&&(A&=15)),A&&(A<8||A>15)?Tr:(s.window!==null&&s.wbits!==A&&(s.window=null),s.wrap=o,s.wbits=A,sN(t))},cN=(t,A)=>{if(!t)return Tr;const o=new GY;t.state=o,o.strm=t,o.window=null,o.mode=BE;const s=aN(t,A);return s!==As&&(t.state=null),s};let Ah,ih,gN=!0;const FY=t=>{if(gN){Ah=new Int32Array(512),ih=new Int32Array(32);let A=0;for(;A<144;)t.lens[A++]=8;for(;A<256;)t.lens[A++]=9;for(;A<280;)t.lens[A++]=7;for(;A<288;)t.lens[A++]=8;for(Hc(1,t.lens,0,288,Ah,0,t.work,{bits:9}),A=0;A<32;)t.lens[A++]=5;Hc(2,t.lens,0,32,ih,0,t.work,{bits:5}),gN=!1}t.lencode=Ah,t.lenbits=9,t.distcode=ih,t.distbits=5},IN=(t,A,o,s)=>{let c;const I=t.state;return I.window===null&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new Uint8Array(I.wsize)),s>=I.wsize?(I.window.set(A.subarray(o-I.wsize,o),0),I.wnext=0,I.whave=I.wsize):(c=I.wsize-I.wnext,c>s&&(c=s),I.window.set(A.subarray(o-s,o-s+c),I.wnext),(s-=c)?(I.window.set(A.subarray(o-s,o),0),I.wnext=s,I.whave=I.wsize):(I.wnext+=c,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=c))),0};var KY=(t,A)=>{let o,s,c,I,C,l,d,h,Q,_,S,w,k,v,b,P,K,W,X,Z,ie,ce,de=0;const Ce=new Uint8Array(4);let be,tt;const ft=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(is(t)||!t.output||!t.input&&t.avail_in!==0)return Tr;o=t.state,o.mode===Go&&(o.mode=zd),C=t.next_out,c=t.output,d=t.avail_out,I=t.next_in,s=t.input,l=t.avail_in,h=o.hold,Q=o.bits,_=l,S=d,ce=As;e:for(;;)switch(o.mode){case BE:if(o.wrap===0){o.mode=zd;break}for(;Q<16;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}if(2&o.wrap&&h===35615){o.wbits===0&&(o.wbits=15),o.check=0,Ce[0]=255&h,Ce[1]=h>>>8&255,o.check=ui(o.check,Ce,2,0),h=0,Q=0,o.mode=16181;break}if(o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",o.mode=vA;break}if((15&h)!==rN){t.msg="unknown compression method",o.mode=vA;break}if(h>>>=4,Q-=4,ie=8+(15&h),o.wbits===0&&(o.wbits=ie),ie>15||ie>o.wbits){t.msg="invalid window size",o.mode=vA;break}o.dmax=1<<o.wbits,o.flags=0,t.adler=o.check=1,o.mode=512&h?16189:Go,h=0,Q=0;break;case 16181:for(;Q<16;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}if(o.flags=h,(255&ni(o))!==rN){t.msg="unknown compression method",o.mode=vA;break}if(57344&ni(o)){t.msg="unknown header flags set",o.mode=vA;break}o.head&&(o.head.text=h>>8&1),512&ni(o)&&4&o.wrap&&(Ce[0]=255&h,Ce[1]=h>>>8&255,o.check=ui(o.check,Ce,2,0)),h=0,Q=0,o.mode=16182;case 16182:for(;Q<32;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}o.head&&(o.head.time=h),512&ni(o)&&4&o.wrap&&(Ce[0]=255&h,Ce[1]=h>>>8&255,Ce[2]=h>>>16&255,Ce[3]=h>>>24&255,o.check=ui(o.check,Ce,4,0)),h=0,Q=0,o.mode=16183;case 16183:for(;Q<16;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}o.head&&(o.head.xflags=255&h,o.head.os=h>>8),512&ni(o)&&4&o.wrap&&(Ce[0]=255&h,Ce[1]=h>>>8&255,o.check=ui(o.check,Ce,2,0)),h=0,Q=0,o.mode=16184;case 16184:if(1024&ni(o)){for(;Q<16;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}o.length=h,o.head&&(o.head.extra_len=h),512&ni(o)&&4&o.wrap&&(Ce[0]=255&h,Ce[1]=h>>>8&255,o.check=ui(o.check,Ce,2,0)),h=0,Q=0}else o.head&&(o.head.extra=null);o.mode=16185;case 16185:if(1024&ni(o)&&(w=o.length,w>l&&(w=l),w&&(o.head&&(ie=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Uint8Array(o.head.extra_len)),o.head.extra.set(s.subarray(I,I+w),ie)),512&ni(o)&&4&o.wrap&&(o.check=ui(o.check,s,w,I)),l-=w,I+=w,o.length-=w),o.length))break e;o.length=0,o.mode=16186;case 16186:if(2048&ni(o)){if(l===0)break e;w=0;do ie=s[I+w++],o.head&&ie&&o.length<65536&&(o.head.name+=String.fromCharCode(ie));while(ie&&w<l);if(512&ni(o)&&4&o.wrap&&(o.check=ui(o.check,s,w,I)),l-=w,I+=w,ie)break e}else o.head&&(o.head.name=null);o.length=0,o.mode=16187;case 16187:if(4096&ni(o)){if(l===0)break e;w=0;do ie=s[I+w++],o.head&&ie&&o.length<65536&&(o.head.comment+=String.fromCharCode(ie));while(ie&&w<l);if(512&ni(o)&&4&o.wrap&&(o.check=ui(o.check,s,w,I)),l-=w,I+=w,ie)break e}else o.head&&(o.head.comment=null);o.mode=16188;case 16188:if(512&ni(o)){for(;Q<16;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}if(4&o.wrap&&h!==(65535&o.check)){t.msg="header crc mismatch",o.mode=vA;break}h=0,Q=0}o.head&&(o.head.hcrc=ni(o)>>9&1,o.head.done=!0),t.adler=o.check=0,o.mode=Go;break;case 16189:for(;Q<32;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}t.adler=o.check=oN(h),h=0,Q=0,o.mode=pE;case pE:if(o.havedict===0)return t.next_out=C,t.avail_out=d,t.next_in=I,t.avail_in=l,o.hold=h,o.bits=Q,UY;t.adler=o.check=1,o.mode=Go;case Go:if(A===LY||A===hE)break e;case zd:if(o.last){h>>>=7&Q,Q-=7&Q,o.mode=th;break}for(;Q<3;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}switch(o.last=1&h,h>>>=1,Q-=1,3&h){case 0:o.mode=16193;break;case 1:if(FY(o),o.mode=QE,A===hE){h>>>=2,Q-=2;break e}break;case 2:o.mode=16196;break;case 3:t.msg="invalid block type",o.mode=vA}h>>>=2,Q-=2;break;case 16193:for(h>>>=7&Q,Q-=7&Q;Q<32;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",o.mode=vA;break}if(o.length=65535&h,h=0,Q=0,o.mode=eh,A===hE)break e;case eh:o.mode=16195;case 16195:if(w=o.length,w){if(w>l&&(w=l),w>d&&(w=d),w===0)break e;c.set(s.subarray(I,I+w),C),l-=w,I+=w,d-=w,C+=w,o.length-=w;break}o.mode=Go;break;case 16196:for(;Q<14;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}if(o.nlen=257+(31&h),h>>>=5,Q-=5,o.ndist=1+(31&h),h>>>=5,Q-=5,o.ncode=4+(15&h),h>>>=4,Q-=4,o.nlen>286||o.ndist>30){t.msg="too many length or distance symbols",o.mode=vA;break}o.have=0,o.mode=16197;case 16197:for(;o.have<o.ncode;){for(;Q<3;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}o.lens[ft[o.have++]]=7&h,h>>>=3,Q-=3}for(;o.have<19;)o.lens[ft[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,be={bits:o.lenbits},ce=Hc(0,o.lens,0,19,o.lencode,0,o.work,be),o.lenbits=be.bits,ce){t.msg="invalid code lengths set",o.mode=vA;break}o.have=0,o.mode=16198;case 16198:for(;o.have<o.nlen+o.ndist;){for(;de=o.lencode[h&(1<<o.lenbits)-1],b=de>>>24,P=de>>>16&255,K=65535&de,!(b<=Q);){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}if(K<16)h>>>=b,Q-=b,o.lens[o.have++]=K;else{if(K===16){for(tt=b+2;Q<tt;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}if(h>>>=b,Q-=b,o.have===0){t.msg="invalid bit length repeat",o.mode=vA;break}ie=o.lens[o.have-1],w=3+(3&h),h>>>=2,Q-=2}else if(K===17){for(tt=b+3;Q<tt;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}h>>>=b,Q-=b,ie=0,w=3+(7&h),h>>>=3,Q-=3}else{for(tt=b+7;Q<tt;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}h>>>=b,Q-=b,ie=0,w=11+(127&h),h>>>=7,Q-=7}if(o.have+w>o.nlen+o.ndist){t.msg="invalid bit length repeat",o.mode=vA;break}for(;w--;)o.lens[o.have++]=ie}}if(o.mode===vA)break;if(o.lens[256]===0){t.msg="invalid code -- missing end-of-block",o.mode=vA;break}if(o.lenbits=9,be={bits:o.lenbits},ce=Hc(1,o.lens,0,o.nlen,o.lencode,0,o.work,be),o.lenbits=be.bits,ce){t.msg="invalid literal/lengths set",o.mode=vA;break}if(o.distbits=6,o.distcode=o.distdyn,be={bits:o.distbits},ce=Hc(2,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,be),o.distbits=be.bits,ce){t.msg="invalid distances set",o.mode=vA;break}if(o.mode=QE,A===hE)break e;case QE:o.mode=fE;case fE:if(l>=6&&d>=258){t.next_out=C,t.avail_out=d,t.next_in=I,t.avail_in=l,o.hold=h,o.bits=Q,TY(t,S),C=t.next_out,c=t.output,d=t.avail_out,I=t.next_in,s=t.input,l=t.avail_in,h=o.hold,Q=o.bits,o.mode===Go&&(o.back=-1);break}for(o.back=0;de=o.lencode[h&(1<<o.lenbits)-1],b=de>>>24,P=de>>>16&255,K=65535&de,!(b<=Q);){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}if(P&&!(240&P)){for(W=b,X=P,Z=K;de=o.lencode[Z+((h&(1<<W+X)-1)>>W)],b=de>>>24,P=de>>>16&255,K=65535&de,!(W+b<=Q);){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}h>>>=W,Q-=W,o.back+=W}if(h>>>=b,Q-=b,o.back+=b,o.length=K,P===0){o.mode=16205;break}if(32&P){o.back=-1,o.mode=Go;break}if(64&P){t.msg="invalid literal/length code",o.mode=vA;break}o.extra=15&P,o.mode=16201;case 16201:if(o.extra){for(tt=o.extra;Q<tt;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}o.length+=h&(1<<o.extra)-1,h>>>=o.extra,Q-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=16202;case 16202:for(;de=o.distcode[h&(1<<o.distbits)-1],b=de>>>24,P=de>>>16&255,K=65535&de,!(b<=Q);){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}if(!(240&P)){for(W=b,X=P,Z=K;de=o.distcode[Z+((h&(1<<W+X)-1)>>W)],b=de>>>24,P=de>>>16&255,K=65535&de,!(W+b<=Q);){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}h>>>=W,Q-=W,o.back+=W}if(h>>>=b,Q-=b,o.back+=b,64&P){t.msg="invalid distance code",o.mode=vA;break}o.offset=K,o.extra=15&P,o.mode=16203;case 16203:if(o.extra){for(tt=o.extra;Q<tt;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}o.offset+=h&(1<<o.extra)-1,h>>>=o.extra,Q-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){t.msg="invalid distance too far back",o.mode=vA;break}o.mode=16204;case 16204:if(d===0)break e;if(w=S-d,o.offset>w){if(w=o.offset-w,w>o.whave&&o.sane){t.msg="invalid distance too far back",o.mode=vA;break}w>o.wnext?(w-=o.wnext,k=o.wsize-w):k=o.wnext-w,w>o.length&&(w=o.length),v=o.window}else v=c,k=C-o.offset,w=o.length;w>d&&(w=d),d-=w,o.length-=w;do c[C++]=v[k++];while(--w);o.length===0&&(o.mode=fE);break;case 16205:if(d===0)break e;c[C++]=o.length,d--,o.mode=fE;break;case th:if(o.wrap){for(;Q<32;){if(l===0)break e;l--,h|=s[I++]<<Q,Q+=8}if(S-=d,t.total_out+=S,o.total+=S,4&o.wrap&&S&&(t.adler=o.check=ni(o)?ui(o.check,c,S,C-S):Uc(o.check,c,S,C-S)),S=d,4&o.wrap&&(ni(o)?h:oN(h))!==o.check){t.msg="incorrect data check",o.mode=vA;break}h=0,Q=0}o.mode=16207;case 16207:if(o.wrap&&ni(o)){for(;Q<32;){if(l===0)break e;l--,h+=s[I++]<<Q,Q+=8}if(4&o.wrap&&h!==(4294967295&o.total)){t.msg="incorrect length check",o.mode=vA;break}h=0,Q=0}o.mode=16208;case 16208:ce=kY;break e;case vA:ce=AN;break e;case 16210:return iN;default:return Tr}return t.next_out=C,t.avail_out=d,t.next_in=I,t.avail_in=l,o.hold=h,o.bits=Q,(o.wsize||S!==t.avail_out&&o.mode<vA&&(o.mode<th||A!==tN))&&IN(t,t.output,t.next_out,S-t.avail_out),_-=t.avail_in,S-=t.avail_out,t.total_in+=_,t.total_out+=S,o.total+=S,4&o.wrap&&S&&(t.adler=o.check=ni(o)?ui(o.check,c,S,t.next_out-S):Uc(o.check,c,S,t.next_out-S)),t.data_type=o.bits+(o.last?64:0)+(o.mode===Go?128:0)+(o.mode===QE||o.mode===eh?256:0),(_===0&&S===0||A===tN)&&ce===As&&(ce=PY),ce},Fo={inflateReset:sN,inflateReset2:aN,inflateResetKeep:nN,inflateInit:t=>cN(t,15),inflateInit2:cN,inflate:KY,inflateEnd:t=>{if(is(t))return Tr;let A=t.state;return A.window&&(A.window=null),t.state=null,As},inflateGetHeader:(t,A)=>{if(is(t))return Tr;const o=t.state;return 2&o.wrap?(o.head=A,A.done=!1,As):Tr},inflateSetDictionary:(t,A)=>{const o=A.length;let s,c,I;return is(t)?Tr:(s=t.state,s.wrap!==0&&s.mode!==pE?Tr:s.mode===pE&&(c=1,c=Uc(c,A,o,0),c!==s.check)?AN:(I=IN(t,A,o,o),I?(s.mode=16210,iN):(s.havedict=1,As)))},inflateInfo:"pako inflate (from Nodeca project)"},xY=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const EN=Object.prototype.toString,{Z_NO_FLUSH:YY,Z_FINISH:JY,Z_OK:qc,Z_STREAM_END:rh,Z_NEED_DICT:oh,Z_STREAM_ERROR:HY,Z_DATA_ERROR:CN,Z_MEM_ERROR:qY}=cE;function _E(t){this.options=EE.assign({chunkSize:65536,windowBits:15,to:""},t||{});const A=this.options;A.raw&&A.windowBits>=0&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(A.windowBits>=0&&A.windowBits<16)||t&&t.windowBits||(A.windowBits+=32),A.windowBits>15&&A.windowBits<48&&!(15&A.windowBits)&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new z0,this.strm.avail_out=0;let o=Fo.inflateInit2(this.strm,A.windowBits);if(o!==qc)throw new Error(Zn[o]);if(this.header=new xY,Fo.inflateGetHeader(this.strm,this.header),A.dictionary&&(typeof A.dictionary=="string"?A.dictionary=Jc.string2buf(A.dictionary):EN.call(A.dictionary)==="[object ArrayBuffer]"&&(A.dictionary=new Uint8Array(A.dictionary)),A.raw&&(o=Fo.inflateSetDictionary(this.strm,A.dictionary),o!==qc)))throw new Error(Zn[o])}function VY(t,A){const o=new _E(A);if(o.push(t),o.err)throw o.msg||Zn[o.err];return o.result}_E.prototype.push=function(t,A){const o=this.strm,s=this.options.chunkSize,c=this.options.dictionary;let I,C,l;if(this.ended)return!1;for(C=A===~~A?A:A===!0?JY:YY,EN.call(t)==="[object ArrayBuffer]"?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;;){for(o.avail_out===0&&(o.output=new Uint8Array(s),o.next_out=0,o.avail_out=s),I=Fo.inflate(o,C),I===oh&&c&&(I=Fo.inflateSetDictionary(o,c),I===qc?I=Fo.inflate(o,C):I===CN&&(I=oh));o.avail_in>0&&I===rh&&o.state.wrap>0&&t[o.next_in]!==0;)Fo.inflateReset(o),I=Fo.inflate(o,C);switch(I){case HY:case CN:case oh:case qY:return this.onEnd(I),this.ended=!0,!1}if(l=o.avail_out,o.next_out&&(o.avail_out===0||I===rh))if(this.options.to==="string"){let d=Jc.utf8border(o.output,o.next_out),h=o.next_out-d,Q=Jc.buf2string(o.output,d);o.next_out=h,o.avail_out=s-h,h&&o.output.set(o.output.subarray(d,d+h),0),this.onData(Q)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(I!==qc||l!==0){if(I===rh)return I=Fo.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,!0;if(o.avail_in===0)break}}return!0},_E.prototype.onData=function(t){this.chunks.push(t)},_E.prototype.onEnd=function(t){t===qc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=EE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var jY={inflate:VY};const{deflate:$Y}=NY,{inflate:WY}=jY;var XY=$Y,ZY=WY,lN=function(t){return t[t.ONE_BYTE=0]="ONE_BYTE",t[t.TWO_BYTE=1]="TWO_BYTE",t}(lN||{});class zY{constructor(){L(this,"_sequence",0),L(this,"_startTime",Date.now()),L(this,"isUseOneByte",!0)}get startTime(){const A=Date.now()-this._startTime;return A<Math.pow(2,16)?A:(this._startTime+=Math.pow(2,16),this.startTime)}get sequence(){return this._sequence<Math.pow(2,32)?this._sequence++:(this._sequence-=Math.pow(2,32),this.sequence)}serialize(A){const o={commonPacketHeader:{length:0,reserved:0,extension:0,sequence:this.sequence},commonStreamHeader:this.startTime,extension:void 0,payload:A};if(A.byteLength>128){const l=new Uint8Array(4);l.set([1,0,0,0]);const d={id:0,length:4,data:l.buffer},h={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[d]};o.commonPacketHeader.extension=1,o.extension=h,o.payload=this.compress(A),o.commonPacketHeader.length=8+(o.extension.length+2)+o.payload.byteLength}else o.commonPacketHeader.length=8+o.payload.byteLength;J("SHOW_DATASTREAM2_LOG")&&N.debug("send data header: ".concat(JSON.stringify(o.commonPacketHeader)));const s=new ArrayBuffer(o.commonPacketHeader.length),c=new Uint8Array(s),I=new DataView(s);let C=0;if(I.setUint16(C,o.commonPacketHeader.extension<<15|o.commonPacketHeader.reserved<<14|o.commonPacketHeader.length,!0),C+=2,I.setUint32(C,o.commonPacketHeader.sequence,!0),C+=4,I.setUint16(C,o.commonStreamHeader,!0),C+=2,o.extension){const l=this.serializeExtension(o.extension);c.set(new Uint8Array(l),C),C+=l.byteLength}if(c.set(new Uint8Array(o.payload),C),C+=o.payload.byteLength,C!==o.commonPacketHeader.length)throw Error("serialize error!");return s}deserialize(A){if(A.byteLength<4)return new ArrayBuffer(0);const o=new DataView(A);let s=0;const c=o.getUint16(s,!0);s+=2;const I={length:16383&c,reserved:(16384&c)>>14,extension:(32768&c)>>15,sequence:o.getUint16(s+2,!0)<<16|o.getUint16(s,!0)};let C,l;if(s+=4,J("SHOW_DATASTREAM2_LOG")&&N.debug("receive data header: ".concat(JSON.stringify(I))),o.getUint16(s,!0),s+=2,I.extension){l=this.deserializeExtension(A.slice(s)),s+=2+l.length,C=A.slice(s);let d=!1;if(l.datas.length>0){const h=l.datas.find(Q=>Q.id===0);h&&(d=(1&new DataView(h.data).getUint32(0,!0))==1)}C=d?this.decompress(C):C}else C=A.slice(8);return C}serializeExtension(A){const{profile:o,length:s,datas:c}=A,I=new ArrayBuffer(s+2),C=new Uint8Array(I),l=new DataView(I);let d=0;if(l.setUint8(d++,o),l.setUint8(d++,s),c.forEach(h=>{o?(l.setUint8(d++,h.id),l.setUint8(d++,h.length),C.set(new Uint8Array(h.data),d),d+=h.data.byteLength):(l.setUint8(d++,h.id|h.length<<4),C.set(new Uint8Array(h.data),d),d+=h.data.byteLength)}),d!==s+2)throw Error("serialize extension error, is ".concat(d,"!==").concat(s+2));return I}deserializeExtension(A){const o=new DataView(A);let s=0;const c=o.getUint8(s);s++;const I=o.getUint8(s);s++;const C=c===lN.TWO_BYTE,l=[],d=new DataView(A,2);let h=0;for(;h<I;){let Q=0,_=0,S=new ArrayBuffer(0);C?(Q=d.getUint8(h),h++,_=d.getUint8(h),h++):(Q=15&d.getUint8(h),_=d.getUint8(h)>>4,h++),_>0&&(S=d.buffer.slice(h+2,h+2+_),h+=S.byteLength),l.push({id:Q,length:_,data:S})}if(h!==I)throw Error("parse error");return{profile:c,length:I,datas:l}}decompress(A){return ZY(new Uint8Array(A))}compress(A){return XY(new Uint8Array(A))}}const eJ={name:"DataStream",create:(t,A)=>{const o=A?new Ux(t):new Px(t);return o.useDataStream(new zY),o}};class tJ extends Xt{constructor(A,o,s){super(),L(this,"ws",void 0),L(this,"requestId",1),L(this,"heartBeatTimer",void 0),L(this,"joinInfo",void 0),L(this,"clientId",void 0),L(this,"onOpen",()=>{this.emit("open"),this.startHeartBeatCheck()}),L(this,"onClose",c=>{this.emit("close"),this.dispose()}),L(this,"onMessage",c=>{const I=JSON.parse(c.data);if(!I||I.command!=="serverResponse"||!I.requestId)return I&&I.command==="serverStatus"&&I.serverStatus&&I.serverStatus.command?(this.emit("status",I.serverStatus),void this.emit(I.serverStatus.command,I.serverStatus)):void 0;this.emit("req_".concat(I.requestId),I)}),this.joinInfo=A,this.clientId=o,this.ws=new sc("cross-channel-".concat(this.clientId),s),this.ws.on(Je.RECONNECTING,()=>{this.ws.reconnectMode="retry",this.emit("reconnecting")}),this.ws.on(Je.CONNECTED,this.onOpen),this.ws.on(Je.ON_MESSAGE,this.onMessage),this.ws.on(Je.CLOSED,this.onClose)}isConnect(){return this.ws.state==="connected"}sendMessage(A){const o=this.requestId++;return A.requestId=o,A.seq=o,this.ws.sendMessage(A),o}waitStatus(A){return new pe((o,s)=>{const c=window.setTimeout(()=>{s(new z(G.TIMEOUT,"wait status timeout, status: ".concat(A)))},5e3);this.once(A,I=>{window.clearTimeout(c),I.state&&I.state!==0?s(new z(G.CROSS_CHANNEL_WAIT_STATUS_ERROR,"wait status error, status: ".concat(A))):o(void 0)}),this.once("dispose",()=>{window.clearTimeout(c),s(new z(G.WS_ABORT))})})}async request(A){if(this.ws.state==="closed")throw new z(G.WS_DISCONNECT);const o=()=>new pe((C,l)=>{this.ws.once(Je.CLOSED,()=>l(new z(G.WS_ABORT))),this.ws.once(Je.CONNECTED,C)});this.ws.state!=="connected"&&await o();const s=this.sendMessage(A),c=new pe((C,l)=>{const d=()=>{l(new z(G.WS_ABORT))};this.ws.once(Je.RECONNECTING,d),this.ws.once(Je.CLOSED,d),this.once("req_".concat(s),C),OA(3e3).then(()=>{this.removeAllListeners("req_".concat(s)),this.ws.off(Je.RECONNECTING,d),this.ws.off(Je.CLOSED,d),l(new z(G.TIMEOUT,"cross channel ws request timeout"))})}),I=await c;if(!I||I.code!==200)throw new z(G.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,"response: ".concat(JSON.stringify(I)));return I}async connect(A){this.ws.removeAllListeners(Je.REQUEST_NEW_URLS),this.ws.on(Je.REQUEST_NEW_URLS,o=>{o(A)}),await this.ws.init(A)}dispose(){this.clearHeartBeatCheck(),this.emit("dispose"),this.removeAllListeners(),this.ws.close()}sendPing(A){const o=this.requestId++;return A.requestId=o,this.ws.sendMessage(A),o}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval(()=>{this.sendPing({command:"ping",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})},3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class AJ extends Xt{set state(A){A!==this._state&&(A!==yi.RELAY_STATE_FAILURE&&(this.errorCode=Ps.RELAY_OK),this.emit("state",A,this.errorCode),this._state=A)}get state(){return this._state}constructor(A,o,s,c,I){super(),L(this,"joinInfo",void 0),L(this,"sid",void 0),L(this,"clientId",void 0),L(this,"cancelToken",di.CancelToken.source()),L(this,"workerToken",void 0),L(this,"requestId",0),L(this,"signal",void 0),L(this,"prevChannelMediaConfig",void 0),L(this,"httpRetryConfig",void 0),L(this,"_resolution",void 0),L(this,"_state",yi.RELAY_STATE_IDLE),L(this,"errorCode",Ps.RELAY_OK),L(this,"onStatus",C=>{N.debug("[".concat(this.clientId,"] ChannelMediaStatus: ").concat(JSON.stringify(C))),C&&C.command&&(C.command==="onAudioPacketReceived"&&this.emit("event",To.PACKET_RECEIVED_AUDIO_FROM_SRC),C.command==="onVideoPacketReceived"&&this.emit("event",To.PACKET_RECEIVED_VIDEO_FROM_SRC),C.command==="onSrcTokenPrivilegeDidExpire"&&(this.errorCode=Ps.SRC_TOKEN_EXPIRED,this.state=yi.RELAY_STATE_FAILURE),C.command==="onDestTokenPrivilegeDidExpire"&&(this.errorCode=Ps.DEST_TOKEN_EXPIRED,this.state=yi.RELAY_STATE_FAILURE))}),L(this,"onReconnect",async()=>{N.debug("[".concat(this.clientId,"] ChannelMediaSocket disconnect, reconnecting")),this.emit("event",To.NETWORK_DISCONNECTED),this.state=yi.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch(C=>{this.state!==yi.RELAY_STATE_IDLE&&(N.error("auto restart channel media relay failed",C.toString()),this.errorCode=Ps.SERVER_CONNECTION_LOST,this.state=yi.RELAY_STATE_FAILURE)})}),this.joinInfo=A,this.clientId=o,this.sid=Ls(),this.signal=new tJ(this.joinInfo,this.clientId,s),this.httpRetryConfig=c,this._resolution=I}async startChannelMediaRelay(A){if(this.state!==yi.RELAY_STATE_IDLE)throw new z(G.INVALID_OPERATION);this.state=yi.RELAY_STATE_CONNECTING,await this.connect(),N.debug("[".concat(this.clientId,"] startChannelMediaRelay: connect success"));try{await this.sendStartRelayMessage(A)}catch(o){throw o.data&&o.data.serverResponse&&o.data.serverResponse.command==="SetSourceChannel"?new z(G.CROSS_CHANNEL_FAILED_JOIN_SRC):o.data&&o.data.serverResponse&&o.serverResponse.command==="SetDestChannelStatus"?new z(G.CROSS_CHANNEL_FAILED_JOIN_DEST):o.data&&o.data.serverResponse&&o.serverResponse.command==="StartPacketTransfer"?new z(G.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST):o}this.prevChannelMediaConfig=A}async updateChannelMediaRelay(A){if(this.state!==yi.RELAY_STATE_RUNNING)throw new z(G.INVALID_OPERATION);await this.sendUpdateMessage(A),this.prevChannelMediaConfig=A}async setVideoProfile(A){if(this._resolution=A,this.state!==yi.RELAY_STATE_RUNNING)throw new z(G.INVALID_OPERATION);const o=this.genMessage(Ci.SetVideoProfile);await this.signal.request(o),N.debug("[".concat(this.clientId,"] startChannelMediaRelay: setVideoProfile success"))}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),N.debug("[".concat(this.clientId,"] stopChannelMediaRelay: send stop message success")),this.state=yi.RELAY_STATE_IDLE,this.dispose()}dispose(){N.debug("[".concat(this.clientId,"] disposeChannelMediaRelay")),this.cancelToken.cancel(),this.cancelToken=di.CancelToken.source(),this.state=yi.RELAY_STATE_IDLE,this.emit("dispose"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const A=await $x(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=A.workerToken,await this.signal.connect(A.addressList),this.emit("event",To.NETWORK_CONNECTED),this.signal.on("status",this.onStatus),this.signal.on("reconnecting",this.onReconnect)}async sendStartRelayMessage(A){const o=this.genMessage(Ci.StopPacketTransfer);await this.signal.request(o),await this.signal.waitStatus("Normal Quit"),N.debug("[".concat(this.clientId,"] startChannelMediaRelay: StopPacketTransfer success"));const s=this.genMessage(Ci.SetSdkProfile,A);await this.signal.request(s),N.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSdkProfile success"));const c=this.genMessage(Ci.SetSourceChannel,A);await this.signal.request(c),await this.signal.waitStatus("SetSourceChannelStatus"),this.emit("event",To.PACKET_JOINED_SRC_CHANNEL),N.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceChannel success"));const I=this.genMessage(Ci.SetSourceUserId,A);await this.signal.request(I),N.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceUserId success"));const C=this.genMessage(Ci.SetDestChannel,A);await this.signal.request(C),await this.signal.waitStatus("SetDestChannelStatus"),this.emit("event",To.PACKET_JOINED_DEST_CHANNEL),N.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetDestChannel success"));const l=this.genMessage(Ci.StartPacketTransfer,A);await this.signal.request(l),this.emit("event",To.PACKET_SENT_TO_DEST_CHANNEL),this.state=yi.RELAY_STATE_RUNNING,N.debug("[".concat(this.clientId,"] startChannelMediaRelay: StartPacketTransfer success")),this.setVideoProfile(this._resolution)}async sendUpdateMessage(A){const o=this.genMessage(Ci.UpdateDestChannel,A);await this.signal.request(o),this.emit("event",To.PACKET_UPDATE_DEST_CHANNEL),N.debug("[".concat(this.clientId,"] sendUpdateMessage: UpdateDestChannel success"))}async sendStopRelayMessage(){const A=this.genMessage(Ci.StopPacketTransfer);await this.signal.request(A),N.debug("[".concat(this.clientId,"] sendStopRelayMessage: StopPacketTransfer success"))}genMessage(A,o){const s=[],c=[],I=[];this.requestId+=1;const C={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:er,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};C.sdkVersion==="4.22.0"&&(C.sdkVersion="0.0.1");let l=null,d=null;switch(A){case Ci.SetSdkProfile:return C.clientRequest={command:"SetSdkProfile",type:"multi_channel"},C;case Ci.SetSourceChannel:if(d=o&&o.getSrcChannelMediaInfo(),!d)throw new z(G.UNEXPECTED_ERROR,"can not find source config");return C.clientRequest={command:"SetSourceChannel",uid:"0",channelName:d.channelName,token:d.token||this.joinInfo.appId},C;case Ci.SetSourceUserId:if(d=o&&o.getSrcChannelMediaInfo(),!d)throw new z(G.UNEXPECTED_ERROR,"can not find source config");return C.clientRequest={command:"SetSourceUserId",uid:d.uid+""},C;case Ci.SetDestChannel:if(l=o&&o.getDestChannelMediaInfo(),!l)throw new z(G.UNEXPECTED_ERROR,"can not find dest config");return l.forEach(h=>{s.push(h.channelName),c.push(h.uid+""),I.push(h.token||this.joinInfo.appId)}),C.clientRequest={command:"SetDestChannel",channelName:s,uid:c,token:I},C;case Ci.StartPacketTransfer:return C.clientRequest={command:"StartPacketTransfer"},C;case Ci.Reconnect:return C.clientRequest={command:"Reconnect"},C;case Ci.StopPacketTransfer:return C.clientRequest={command:"StopPacketTransfer"},C;case Ci.UpdateDestChannel:if(l=o&&o.getDestChannelMediaInfo(),!l)throw new z(G.UNEXPECTED_ERROR,"can not find dest config");return l.forEach(h=>{s.push(h.channelName),c.push(h.uid+""),I.push(h.token||this.joinInfo.appId)}),C.clientRequest={command:"UpdateDestChannel",channelName:s,uid:c,token:I},C;case Ci.SetVideoProfile:C.clientRequest={command:"SetVideoProfile",width:this._resolution.width,height:this._resolution.height}}return C}}const iJ={name:"ChannelMediaRelay",create:function(t){return new AJ(t.joinInfo,t.clientId,t.websocketRetryConfig||hA,t.httpRetryConfig||hA,t.resolution)}};function uN(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function Vc(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?uN(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):uN(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}class rJ extends Xt{constructor(A,o,s,c){super(),L(this,"spec",void 0),L(this,"token",void 0),L(this,"websocket",void 0),L(this,"pingpongTimer",void 0),L(this,"reconnectMode","retry"),L(this,"serviceMode",void 0),L(this,"reqId",0),L(this,"commandReqId",0),L(this,"handleWebSocketOpen",()=>{this.reconnectMode="retry",this.startPingPong()}),L(this,"handleWebSocketMessage",I=>{if(!I.data)return;const C=JSON.parse(I.data);C.requestId?this.emit("@".concat(C.requestId,"-").concat(C.sid),C):(Me.workerEvent(this.spec.sid,{actionType:"status",serverCode:C.code,workerType:this.serviceMode===No.TRANSCODE?1:2}),this.emit(An.PUBLISH_STREAM_STATUS,C))}),this.spec=o,this.token=A,this.serviceMode=c,this.websocket=new sc("live-streaming",s),this.websocket.on(Je.CONNECTED,this.handleWebSocketOpen),this.websocket.on(Je.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(Je.REQUEST_NEW_URLS,(I,C)=>{YA(this,An.REQUEST_NEW_ADDRESS).then(I).catch(C)}),this.websocket.on(Je.RECONNECTING,()=>{this.websocket.reconnectMode=this.reconnectMode})}init(A){return this.websocket.init(A)}async request(A,o,s,c){this.reqId+=1,A==="request"&&(this.commandReqId+=1);const I=this.commandReqId,C=this.reqId;if(!C||!this.websocket)throw new z(G.UNEXPECTED_ERROR);const l=Vc({command:A,sdkVersion:er==="4.22.0"?"0.0.1":er,seq:C,requestId:C,allocate:s,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},o);if(this.websocket.state==="closed")throw new z(G.WS_DISCONNECT);const d=()=>new pe((S,w)=>{this.websocket.once(Je.CLOSED,()=>w(new z(G.WS_ABORT))),this.websocket.once(Je.CONNECTED,S)});this.websocket.state!=="connected"&&await d(),l.clientRequest&&(l.clientRequest.workerToken=this.token);const h=new pe((S,w)=>{const k=()=>{w(new z(G.WS_ABORT))};this.websocket.once(Je.RECONNECTING,k),this.websocket.once(Je.CLOSED,k),this.once("@".concat(C,"-").concat(this.spec.sid),v=>{S(v)})});c&&Me.workerEvent(this.spec.sid,Vc(Vc({},c),{},{requestId:I,actionType:"request",payload:JSON.stringify(o.clientRequest),serverCode:0,code:0}));const Q=Date.now();this.websocket.sendMessage(l);let _=null;try{_=await h}catch(S){if(this.websocket.state==="closed")throw S;return await d(),await this.request(A,o,s)}return c&&Me.workerEvent(this.spec.sid,Vc(Vc({},c),{},{requestId:I,actionType:"response",payload:JSON.stringify(_.serverResponse),serverCode:_.code,success:_.code===200,responseTime:Date.now()-Q})),_.code!==200&&this.handleResponseError(_),_}tryNextAddress(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")}close(){const A=er==="4.22.0"?"0.0.1":er;this.reqId+=1,this.websocket.state==="connected"?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:A,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(A){switch(A.code){case _A.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void N.warning("live stream response already exists stream");case _A.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case _A.LIVE_STREAM_RESPONSE_BAD_STREAM:case _A.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new z(G.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:A.code}).throw();case _A.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if(A.serverResponse.command==="UnpublishStream")return;throw new z(G.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case _A.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new z(G.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:A.code}).throw();case _A.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const o=new z(G.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(An.WARNING,o,A.serverResponse.url)}case _A.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const o=new z(G.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(An.WARNING,o,A.serverResponse.url)}case _A.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new z(G.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case _A.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new z(G.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,"",{code:A.code}).throw();case _A.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const o=new z(G.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(An.WARNING,o,A.serverResponse.url)}case _A.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new z(G.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:A.code}).throw();case _A.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new z(G.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case _A.LIVE_STREAM_RESPONSE_WORKER_LOST:case _A.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(A.serverResponse.command==="UnpublishStream")return;throw new z(G.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case _A.ERROR_FAIL_SEND_MESSAGE:if(A.serverResponse.command==="UnpublishStream")return;if(A.serverResponse.command==="UpdateTranscoding"||A.serverResponse.command==="ControlStream")return new z(G.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:A.code}).throw();throw new z(G.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case _A.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case _A.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case _A.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case _A.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new z(G.LIVE_STREAMING_CDN_ERROR,"",{code:A.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(()=>{this.websocket.state==="connected"&&this.request("ping",{}).catch(II)},6e3)}}function dN(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}function mi(t){for(var A=1;A<arguments.length;A++){var o=arguments[A]!=null?arguments[A]:{};A%2?dN(Object(o),!0).forEach(function(s){L(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):dN(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}class oJ extends Xt{constructor(A){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hA,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hA;super(),L(this,"onLiveStreamWarning",void 0),L(this,"onLiveStreamError",void 0),L(this,"spec",void 0),L(this,"retryTimeout",1e4),L(this,"connection",void 0),L(this,"httpRetryConfig",void 0),L(this,"wsRetryConfig",void 0),L(this,"streamingTasks",new Map),L(this,"isStartingStreamingTask",!1),L(this,"taskMutex",new $A("live-streaming")),L(this,"cancelToken",di.CancelToken.source()),L(this,"transcodingConfig",void 0),L(this,"uapResponse",void 0),L(this,"lastTaskId",1),L(this,"statusError",new Map),this.spec=A,this.httpRetryConfig=s,this.wsRetryConfig=o}async setTranscodingConfig(A){const o=mi(mi({},tK),A);o.videoCodecProfile!==66&&o.videoCodecProfile!==77&&o.videoCodecProfile!==100&&(N.debug("[".concat(this.spec.clientId,"] set transcoding config, fix video codec profile: ").concat(o.videoCodecProfile," -> 100")),o.videoCodecProfile=100),o.transcodingUsers||(o.transcodingUsers=o.userConfigs),o.transcodingUsers&&(o.transcodingUsers=o.transcodingUsers.map(C=>mi(mi(mi({},eK),C),{},{zOrder:C.zOrder?C.zOrder+1:1}))),function(C){Wt(C.width)||bt(C.width,"config.width",0,1e4),Wt(C.height)||bt(C.height,"config.height",0,1e4),Wt(C.videoBitrate)||bt(C.videoBitrate,"config.videoBitrate",1,1e6),Wt(C.videoFrameRate)||bt(C.videoFrameRate,"config.videoFrameRate"),Wt(C.lowLatency)||Do(C.lowLatency,"config.lowLatency"),Wt(C.audioSampleRate)||yA(C.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),Wt(C.audioBitrate)||bt(C.audioBitrate,"config.audioBitrate",1,128),Wt(C.audioChannels)||yA(C.audioChannels,"config.audioChannels",[1,2,3,4,5]),Wt(C.videoGop)||bt(C.videoGop,"config.videoGop"),Wt(C.videoCodecProfile)||yA(C.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),Wt(C.userCount)||bt(C.userCount,"config.userCount",0,17),Wt(C.backgroundColor)||bt(C.backgroundColor,"config.backgroundColor",0,16777215),Wt(C.userConfigExtraInfo)||MA(C.userConfigExtraInfo,"config.userConfigExtraInfo",0,4096,!1),C.transcodingUsers&&!Wt(C.transcodingUsers)&&(wo(C.transcodingUsers,"config.transcodingUsers"),C.transcodingUsers.forEach((l,d)=>{pI(l.uid),Wt(l.x)||bt(l.x,"transcodingUser[".concat(d,"].x"),0,1e4),Wt(l.y)||bt(l.y,"transcodingUser[".concat(d,"].y"),0,1e4),Wt(l.width)||bt(l.width,"transcodingUser[".concat(d,"].width"),0,1e4),Wt(l.height)||bt(l.height,"transcodingUser[".concat(d,"].height"),0,1e4),Wt(l.zOrder)||bt(l.zOrder-1,"transcodingUser[".concat(d,"].zOrder"),0,100),Wt(l.alpha)||bt(l.alpha,"transcodingUser[".concat(d,"].alpha"),0,1,!1)})),Wt(C.watermark)||Bu(C.watermark,"watermark"),Wt(C.backgroundImage)||Bu(C.backgroundImage,"backgroundImage"),C.images&&!Wt(C.images)&&(wo(C.images,"config.images"),C.images.forEach((l,d)=>{Bu(l,"images[".concat(d,"]"))}))}(o);const s=[];o.images&&s.push(...o.images.map(C=>mi(mi(mi({},hu),C),{},{zOrder:255}))),o.backgroundImage&&(s.push(mi(mi(mi({},hu),o.backgroundImage),{},{zOrder:0})),delete o.backgroundImage),o.watermark&&(s.push(mi(mi(mi({},hu),o.watermark),{},{zOrder:255})),delete o.watermark),o.images=s,o.transcodingUsers&&(o.userConfigs=o.transcodingUsers.map(C=>mi({},C)),o.userCount=o.transcodingUsers.length,delete o.transcodingUsers);const c=(o.userConfigs||[]).map(C=>typeof C.uid=="number"?pe.resolve(C.uid):aD(C.uid,this.spec,this.cancelToken.token,this.httpRetryConfig));if((await pe.all(c)).forEach((C,l)=>{o.userConfigs&&o.userConfigs[l]&&(o.userConfigs[l].uid=C)}),this.transcodingConfig=o,this.connection)try{var I;const C=await this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(vo(I=this.streamingTasks).call(I)).map(l=>l.taskId).join("#")});N.debug("[".concat(this.spec.clientId,"] update live transcoding config success, code: ").concat(C.code,", config:"),JSON.stringify(this.transcodingConfig))}catch(C){if(!C.data||!C.data.retry)throw C;C.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach(l=>{N.warning("[".concat(this.spec.clientId,"] live streaming receive error"),C.toString(),"try to republish",l.url),this.startLiveStreamingTask(l.url,l.mode,C).then(()=>{N.debug("[".concat(this.spec.clientId,"] live streaming republish ").concat(l.url," success"))}).catch(d=>{N.error("[".concat(this.spec.clientId,"] live streaming republish failed"),l.url,d.toString()),this.onLiveStreamError&&this.onLiveStreamError(l.url,d)})})}}async startLiveStreamingTask(A,o,s){if(!this.transcodingConfig&&o===No.TRANSCODE)throw new z(G.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");const c={command:"PublishStream",ts:Date.now(),url:A,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};N.debug("[".concat(this.spec.clientId,"] start live streaming ").concat(A,", mode: ").concat(o));const I=await this.taskMutex.lock();if(!this.connection&&s)return void I();if(this.streamingTasks.get(A)&&!s)return I(),new z(G.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(o))}catch(l){throw I(),l}switch(o){case No.TRANSCODE:c.transcodingConfig=mi({},this.transcodingConfig)}this.uapResponse&&this.uapResponse.vid&&(c.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const C=this.lastTaskId++;try{const l=new pe((h,Q)=>{OA(this.retryTimeout).then(()=>{if(s)return Q(s);const _=this.statusError.get(A);return _?(this.statusError.delete(A),Q(_)):void 0})}),d=await pe.race([this.connection.request("request",{clientRequest:c},!0,{url:A,command:"PublishStream",workerType:o===No.TRANSCODE?1:2,requestByUser:!s,tid:C.toString()}),l]);this.isStartingStreamingTask=!1,N.debug("[".concat(this.spec.clientId,"] live streaming started, code: ").concat(d.code)),this.streamingTasks.set(A,{clientRequest:c,mode:o,url:A,taskId:C}),I()}catch(l){if(I(),this.isStartingStreamingTask=!1,!l.data||!l.data.retry||s)throw l;return l.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(A,o,l)):await this.startLiveStreamingTask(A,o,l)}}stopLiveStreamingTask(A){return new pe((o,s)=>{const c=this.streamingTasks.get(A);if(!c||!this.connection)return new z(G.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();const I=c.mode;c.abortTask=()=>{N.debug("[".concat(this.spec.clientId,"] stop live streaming success(worker exception)")),this.streamingTasks.delete(A),o()},this.connection.request("request",{clientRequest:{command:"UnpublishStream",url:c.url}},!1,{url:A,command:"UnPublishStream",workerType:I===No.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then(C=>{N.debug("[".concat(this.spec.clientId,"] stop live streaming success, code: ").concat(C.code)),this.streamingTasks.delete(A),this.streamingTasks.size===0&&(this.connection&&this.connection.close(),this.connection=void 0),o()}).catch(s)})}resetAllTask(){var A;const o=Array.from(vo(A=this.streamingTasks).call(A));this.terminate();for(const s of o)this.startLiveStreamingTask(s.url,s.mode).catch(c=>{this.onLiveStreamError&&this.onLiveStreamError(s.url,c)})}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=di.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(A){if(this.connection)throw new z(G.UNEXPECTED_ERROR,"live streaming connection has already connected");const o=await YA(this,pu.REQUEST_WORKER_MANAGER_LIST,A);return this.uapResponse=o,this.connection=new rJ(o.workerToken,this.spec,this.wsRetryConfig,A),this.connection.on(An.WARNING,(s,c)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(c,s)),this.connection.on(An.PUBLISH_STREAM_STATUS,s=>this.handlePublishStreamServer(s)),this.connection.on(An.REQUEST_NEW_ADDRESS,(s,c)=>{if(!this.connection)return c(new z(G.UNEXPECTED_ERROR,"can not get new live streaming address list"));YA(this,pu.REQUEST_WORKER_MANAGER_LIST,A).then(I=>{this.uapResponse=I,s(I.addressList)}).catch(c)}),await this.connection.init(o.addressList),this.connection}handlePublishStreamServer(A){const o=A.serverStatus&&A.serverStatus.url||"empty_url",s=this.streamingTasks.get(o),c=A.reason;switch(A.code){case _A.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case _A.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case _A.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case _A.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const C=new z(G.LIVE_STREAMING_CDN_ERROR,"",{code:A.code});if(s)return N.error(C.toString()),this.onLiveStreamError&&this.onLiveStreamError(o,C);if(!this.isStartingStreamingTask)return;this.statusError.set(o,C)}case _A.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const C=new z(G.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,c);return this.onLiveStreamWarning&&this.onLiveStreamWarning(o,C)}case _A.LIVE_STREAM_RESPONSE_WORKER_LOST:case _A.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var I;if(!this.connection)return;this.connection.tryNextAddress();const C=Array.from(vo(I=this.streamingTasks).call(I));for(const l of C)l.abortTask?l.abortTask():(N.warning("[".concat(this.spec.clientId,"] publish stream status code"),A.code,"try to republish",l.url),this.startLiveStreamingTask(l.url,l.mode,new z(G.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:A.code})).then(()=>{N.debug("[".concat(this.spec.clientId,"] republish live stream success"),l.url)}).catch(d=>{N.error(d.toString()),this.onLiveStreamError&&this.onLiveStreamError(l.url,d)}));return}}}hasUrl(A){return this.streamingTasks.has(A)}}const nJ={name:"LiveStreaming",create:function(t){return new oJ(t.joinInfo,t.websocketRetryConfig||hA,t.httpRetryConfig||hA)}};function sJ(t){let A=pN();return function(o,s){let c=o.appId;c!==void 0&&(Dt(s,10),ho(s,c));let I=o.cid;I!==void 0&&(Dt(s,16),Dt(s,I));let C=o.cname;C!==void 0&&(Dt(s,26),ho(s,C));let l=o.deviceId;l!==void 0&&(Dt(s,34),ho(s,l));let d=o.elapse;d!==void 0&&(Dt(s,40),Qn(s,d));let h=o.fileSize;h!==void 0&&(Dt(s,48),Qn(s,ha(h)));let Q=o.height;Q!==void 0&&(Dt(s,56),Qn(s,ha(Q)));let _=o.jpg;_!==void 0&&(Dt(s,66),Dt(s,_.length),function(br,se){let ue=Ba(br,se.length);br.bytes.set(se,ue)}(s,_));let S=o.networkType;S!==void 0&&(Dt(s,72),Qn(s,ha(S)));let w=o.osType;w!==void 0&&(Dt(s,80),Qn(s,ha(w)));let k=o.requestId;k!==void 0&&(Dt(s,90),ho(s,k));let v=o.sdkVersion;v!==void 0&&(Dt(s,98),ho(s,v));let b=o.sequence;b!==void 0&&(Dt(s,104),Qn(s,ha(b)));let P=o.sid;P!==void 0&&(Dt(s,114),ho(s,P));let K=o.timestamp;K!==void 0&&(Dt(s,120),Qn(s,K));let W=o.uid;W!==void 0&&(Dt(s,128),Dt(s,W));let X=o.vid;X!==void 0&&(Dt(s,136),Dt(s,X));let Z=o.width;Z!==void 0&&(Dt(s,144),Qn(s,ha(Z)));let ie=o.service;ie!==void 0&&(Dt(s,152),Dt(s,ie));let ce=o.callbackData;ce!==void 0&&(Dt(s,162),ho(s,ce));let de=o.jpgEncryption;de!==void 0&&(Dt(s,168),Dt(s,de));let Ce=o.requestType;Ce!==void 0&&(Dt(s,176),Dt(s,Ce));let be=o.scorePorn;be!==void 0&&(Dt(s,185),gh(s,be));let tt=o.scoreSexy;tt!==void 0&&(Dt(s,193),gh(s,tt));let ft=o.scoreNeutral;ft!==void 0&&(Dt(s,201),gh(s,ft));let Pt=o.scene;Pt!==void 0&&(Dt(s,208),Dt(s,Pt));let dA=o.ossFilePrefix;dA!==void 0&&(Dt(s,218),ho(s,dA));let jt=o.serviceVendor;if(jt!==void 0)for(let br of jt){Dt(s,226);let se=pN();gJ(br,se),Dt(s,se.limit),lJ(s,se),CJ(se)}}(t,A),function(o){let s=o.bytes,c=o.limit;return s.length===c?s:s.subarray(0,c)}(A)}function aJ(t){return function(o){let s={};e:for(;!QN(o);){let c=Bo(o);switch(c>>>3){case 0:break e;case 1:s.code=Bo(o);break;case 2:s.msg=fN(o,Bo(o));break;case 3:{let I=IJ(o);s.data=cJ(o),o.limit=I;break}default:hN(o,7&c)}}return s}({bytes:A=t,offset:0,limit:A.length});var A}function cJ(t){let A={};e:for(;!QN(t);){let o=Bo(t);switch(o>>>3){case 0:break e;case 1:A.requestId=fN(t,Bo(t));break;case 2:A.requestType=Bo(t)>>>0;break;case 3:A.scorePorn=ch(t);break;case 4:A.scoreSexy=ch(t);break;case 5:A.scoreNeutral=ch(t);break;case 6:A.requestScene=Bo(t)>>>0;break;case 7:A.scene=Bo(t)>>>0;break;default:hN(t,7&o)}}return A}function gJ(t,A){let o=t.service;o!==void 0&&(Dt(A,8),Dt(A,o));let s=t.vendor;s!==void 0&&(Dt(A,16),Dt(A,s));let c=t.token;c!==void 0&&(Dt(A,26),ho(A,c));let I=t.callbackUrl;I!==void 0&&(Dt(A,34),ho(A,I))}function IJ(t){let A=Bo(t),o=t.limit;return t.limit=t.offset+A,o}function hN(t,A){switch(A){case 0:for(;128&_N(t););break;case 2:sh(t,Bo(t));break;case 5:sh(t,4);break;case 1:sh(t,8);break;default:throw new Error("Unimplemented type: "+A)}}let EJ=new Float32Array(1);new Uint8Array(EJ.buffer);let nh=new Float64Array(1),Si=new Uint8Array(nh.buffer);function ha(t){return{low:t|=0,high:t>>31,unsigned:t>=0}}let BN=[];function pN(){const t=BN.pop();return t?(t.offset=t.limit=0,t):{bytes:new Uint8Array(64),offset:0,limit:0}}function CJ(t){BN.push(t)}function sh(t,A){if(t.offset+A>t.limit)throw new Error("Skip past limit");t.offset+=A}function QN(t){return t.offset>=t.limit}function Ba(t,A){let o=t.bytes,s=t.offset,c=t.limit,I=s+A;if(I>o.length){let C=new Uint8Array(2*I);C.set(o),t.bytes=C}return t.offset=I,I>c&&(t.limit=I),s}function ah(t,A){let o=t.offset;if(o+A>t.limit)throw new Error("Read past limit");return t.offset+=A,o}function fN(t,A){let o=ah(t,A),s=String.fromCharCode,c=t.bytes,I="ï¿½",C="";for(let l=0;l<A;l++){let d,h,Q,_,S=c[l+o];128&S?(224&S)==192?l+1>=A?C+=I:(d=c[l+o+1],(192&d)!=128?C+=I:(_=(31&S)<<6|63&d,_<128?C+=I:(C+=s(_),l++))):(240&S)==224?l+2>=A?C+=I:(d=c[l+o+1],h=c[l+o+2],(49344&(d|h<<8))!=32896?C+=I:(_=(15&S)<<12|(63&d)<<6|63&h,_<2048||_>=55296&&_<=57343?C+=I:(C+=s(_),l+=2))):(248&S)==240?l+3>=A?C+=I:(d=c[l+o+1],h=c[l+o+2],Q=c[l+o+3],(12632256&(d|h<<8|Q<<16))!=8421504?C+=I:(_=(7&S)<<18|(63&d)<<12|(63&h)<<6|63&Q,_<65536||_>1114111?C+=I:(_-=65536,C+=s(55296+(_>>10),56320+(1023&_)),l+=3))):C+=I:C+=s(S)}return C}function ho(t,A){let o=A.length,s=0;for(let C=0;C<o;C++){let l=A.charCodeAt(C);l>=55296&&l<=56319&&C+1<o&&(l=(l<<10)+A.charCodeAt(++C)-56613888),s+=l<128?1:l<2048?2:l<65536?3:4}Dt(t,s);let c=Ba(t,s),I=t.bytes;for(let C=0;C<o;C++){let l=A.charCodeAt(C);l>=55296&&l<=56319&&C+1<o&&(l=(l<<10)+A.charCodeAt(++C)-56613888),l<128?I[c++]=l:(l<2048?I[c++]=l>>6&31|192:(l<65536?I[c++]=l>>12&15|224:(I[c++]=l>>18&7|240,I[c++]=l>>12&63|128),I[c++]=l>>6&63|128),I[c++]=63&l|128)}}function lJ(t,A){let o=Ba(t,A.limit),s=t.bytes,c=A.bytes;for(let I=0,C=A.limit;I<C;I++)s[I+o]=c[I]}function _N(t){return t.bytes[ah(t,1)]}function RN(t,A){let o=Ba(t,1);t.bytes[o]=A}function ch(t){let A=ah(t,8),o=t.bytes;return Si[0]=o[A++],Si[1]=o[A++],Si[2]=o[A++],Si[3]=o[A++],Si[4]=o[A++],Si[5]=o[A++],Si[6]=o[A++],Si[7]=o[A++],nh[0]}function gh(t,A){let o=Ba(t,8),s=t.bytes;nh[0]=A,s[o++]=Si[0],s[o++]=Si[1],s[o++]=Si[2],s[o++]=Si[3],s[o++]=Si[4],s[o++]=Si[5],s[o++]=Si[6],s[o++]=Si[7]}function Bo(t){let A,o=0,s=0;do A=_N(t),o<32&&(s|=(127&A)<<o),o+=7;while(128&A);return s}function Dt(t,A){for(A>>>=0;A>=128;)RN(t,127&A|128),A>>>=7;RN(t,A)}function Qn(t,A){let o=A.low>>>0,s=(A.low>>>28|A.high<<4)>>>0,c=A.high>>>24,I=c===0?s===0?o<16384?o<128?1:2:o<1<<21?3:4:s<16384?s<128?5:6:s<1<<21?7:8:c<128?9:10,C=Ba(t,I),l=t.bytes;switch(I){case 10:l[C+9]=c>>>7&1;case 9:l[C+8]=I!==9?128|c:127&c;case 8:l[C+7]=I!==8?s>>>21|128:s>>>21&127;case 7:l[C+6]=I!==7?s>>>14|128:s>>>14&127;case 6:l[C+5]=I!==6?s>>>7|128:s>>>7&127;case 5:l[C+4]=I!==5?128|s:127&s;case 4:l[C+3]=I!==4?o>>>21|128:o>>>21&127;case 3:l[C+2]=I!==3?o>>>14|128:o>>>14&127;case 2:l[C+1]=I!==2?o>>>7|128:o>>>7&127;case 1:l[C]=I!==1?128|o:127&o}}function yN(t,A){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);A&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,s)}return o}const uJ=new Map([["moderation",1],["supervise",2]]);function mN(t){return{low:t|=0,high:t>>31,unsigned:t>=0}}class dJ extends Xt{get connectionState(){return this._connectionState}set connectionState(A){if(this._connectionState===A)return;const o=this._connectionState;this._connectionState=A,this.emit(bA.CONNECTION_STATE_CHANGE,o,A)}get inspectType(){return this._inspectType}set inspectType(A){var o;this._inspectMode=Mr(o=A.map(s=>uJ.get(s)||0)).call(o,(s,c)=>s+c),this._inspectType=A}get quality(){return this._quality}set quality(A){this._quality=A>1?1:A<.1?.1:A,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this.qualityRatio},6e4))}constructor(A){super(),L(this,"name","AgoraRTCVideoContentInspect"),L(this,"_connectionState",dr.CONNECTING),L(this,"_innerConnectionState",void 0),L(this,"sequence",0),L(this,"inspectStartTime",void 0),L(this,"workerManagerConnection",void 0),L(this,"workerConnection",void 0),L(this,"workerMessageLengthLimit",void 0),L(this,"inspectIntervalMinimum",void 0),L(this,"qualityRatio",void 0),L(this,"_connectInfo",void 0),L(this,"_cancelTokenSource",di.CancelToken.source()),L(this,"_retryConfig",void 0),L(this,"wmSequence",0),L(this,"inspectInterval",void 0),L(this,"inspectTimer",null),L(this,"ossFilePrefix",void 0),L(this,"extraInfo",void 0),L(this,"_inspectType",void 0),L(this,"_inspectMode",void 0),L(this,"_quality",1),L(this,"qualityTimer",null),L(this,"_inspectId",void 0),L(this,"_needWorkUrlOnly",!1),L(this,"inspectImage",()=>{if(this.connectionState!==dr.CONNECTED)throw new z(G.OPERATION_ABORTED,"content inspect service connection status is ".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval(()=>{this.connectionState===dr.CONNECTED?this.requestToInspectImage():N.debug("[".concat(this._inspectId,"] Inspect State is not connected , "),this.connectionState)},this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()}),this._inspectId=kt(5,"inspect-"),this.workerMessageLengthLimit=J("VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT"),this.inspectIntervalMinimum=J("VIDEO_INSPECT_INTERVAL_MINIMUM"),this.qualityRatio=J("VIDEO_INSPECT_QUALITY_RATIO"),this.inspectInterval=A.interval,this.ossFilePrefix=A.ossFilePrefix,this.extraInfo=A.extraInfo,this.inspectType=A.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new sc("worker-manager-"+this._inspectId,hA),this.on(bA.STATE_CHANGE,(o,s)=>{this._innerConnectionState=o,N.debug("[".concat(this._inspectId,"] Inspect operation :").concat(hr[o]," ").concat(s||""))}),this.handleWorkerManagerEvents(),this.workerConnection=new sc("worker-"+this._inspectId,hA),this.handleWorkerEvents()}async init(A,o){this.emit(bA.STATE_CHANGE,hr.CONNECT_AP),this._connectInfo=A;const s=this._cancelTokenSource.token;return this._retryConfig=o,new pe((c,I)=>{this.on(bA.CONNECTION_STATE_CHANGE,(C,l)=>{l===dr.CONNECTED&&c()}),this.requestAP(A,s,o).then(C=>{this.connectWorkerManager(C)}).catch(C=>{I(C)})})}async requestAP(A,o,s){const c=J("WEBCS_DOMAIN").map(l=>"https://".concat(l,"/api/v1")),I=await function(l,d,h,Q){let{appId:_,areaCode:S,cname:w,sid:k,token:v,uid:b}=d;aa++;const P="image_moderation_api",K={service_name:P,json_body:JSON.stringify({appId:_,areaCode:S,cname:w,command:"allocateEdge",requestId:aa,seq:aa,sid:k,token:v,ts:Date.now(),uid:b+""})};let W,X,Z=l[0];return kr(async()=>{W=Date.now();const ie=await Fr(Z,{data:K,cancelToken:h,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(X=Date.now()-W,ie.code!==0){const be=new z(G.UNEXPECTED_RESPONSE,"image inspect ap error, code"+ie.code,{retry:!0,responseTime:X});throw N.error(be.toString()),be}const ce=JSON.parse(ie.json_body);if(ce.code!==200){const be=new z(G.UNEXPECTED_RESPONSE,"image inspect ap error, code: ".concat(ce.code,", reason: ").concat(ce.reason),{code:ce.code,responseTime:X});throw N.error(be.toString()),be}if(!ce.servers||!Array.isArray(ce.servers)||ce.servers.length===0){const be=new z(G.UNEXPECTED_RESPONSE,"image inspect ap empty server",{code:ce.code,responseTime:X});throw N.error(be.toString()),be}const de=J("VIDEO_INSPECT_WORKER_MANAGER_HOST"),Ce=J("VIDEO_INSPECT_WORKER_MANAGER_PORT");return{addressList:ce.servers.map(be=>{let{address:tt,wss:ft}=be;if(tt&&ft)return"wss://".concat(tt.replace(/\./g,"-"),".").concat(de,":").concat(Ce||ft)}).filter(be=>!!be),workerToken:ce.workerToken,vid:ce.vid,responseTime:X}},(ie,ce)=>(Me.apworkerEvent(k,{success:!0,sc:200,serviceName:P,responseDetail:JSON.stringify(ie.addressList),firstSuccess:ce===0,responseTime:X,serverIp:l[ce%l.length]}),!1),(ie,ce)=>(Me.apworkerEvent(k,{success:!1,sc:ie.data&&ie.data.code||200,serviceName:P,responseTime:X,serverIp:l[ce%l.length]}),!!(ie.code!==G.OPERATION_ABORTED&&ie.code!==G.UNEXPECTED_RESPONSE||ie.data&&ie.data.retry)&&(Z=l[(ce+1)%l.length],!0)),Q)}(c,A,o,s);this.emit(bA.STATE_CHANGE,hr.AP_CONNECTED);const{addressList:C}=I;return this.wmSequence++,C}async connectWorkerManager(A){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this._needWorkUrlOnly=o,this.emit(bA.STATE_CHANGE,hr.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(A,1e4)}async connectWorker(A){await this.workerConnection.init([A])}handleWorkerManagerEvents(){this.workerManagerConnection.on(Je.CONNECTED,async()=>{this.emit(bA.STATE_CHANGE,hr.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+"",sdkVersion:"4.22.0",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:"join"}},!0)}),this.workerManagerConnection.on(Je.CLOSED,()=>{this._innerConnectionState<hr.GET_WORKER_MANAGER_RESPONSE&&N.debug("[".concat(this._inspectId,"] Inspect worker manager is closed before connecting worker"))}),this.workerManagerConnection.on(Je.FAILED,()=>{this._innerConnectionState<hr.GET_WORKER_MANAGER_RESPONSE&&N.debug("[".concat(this._inspectId,"] Connecting inspect worker manager is failed before connecting worker"))}),this.workerManagerConnection.on(Je.RECONNECTING,()=>{this._innerConnectionState<hr.GET_WORKER_MANAGER_RESPONSE&&N.debug("[".concat(this._inspectId,"] Inspect worker manager is reconnecting before connecting worker"))}),this.workerManagerConnection.on(Je.ON_MESSAGE,async A=>{this.emit(bA.STATE_CHANGE,hr.GET_WORKER_MANAGER_RESPONSE);const o=this.workerManagerConnection.url;this.workerManagerConnection.close();const s=JSON.parse(A.data);if(s.code!==200)throw N.error("[".concat(this._inspectId,"] Unexpected code ").concat(s.code," from worker manager")),new z(G.UNEXPECTED_RESPONSE,"response code of worker is unexpected",s);if(!(s.serverResponse&&s.serverResponse.portWss&&o))throw N.error("[".concat(this._inspectId,"] Unexpected content from worker manager : ").concat(JSON.stringify(s))),new z(G.UNEXPECTED_RESPONSE,"response content of worker is unexpected",s);{const c=J("VIDEO_INSPECT_WORKER_PORT")||s.serverResponse.portWss,I=o.replace(/:\d+\/?$/,":".concat(c));this.emit(bA.STATE_CHANGE,hr.CONNECT_WORKER,I),this._needWorkUrlOnly?this.emit(bA.REQUEST_NEW_WORKER_URL,I):await this.connectWorker(I)}}),this.workerManagerConnection.on(Je.WILL_RECONNECT,(A,o,s)=>{s(A)}),this.workerManagerConnection.on(Je.REQUEST_NEW_URLS,(A,o)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(A).catch(o)})}handleWorkerEvents(){this.workerConnection.on(Je.CONNECTED,async()=>{this.emit(bA.STATE_CHANGE,hr.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=dr.CONNECTED}),this.workerConnection.on(Je.ON_MESSAGE,async A=>{if(A.data instanceof ArrayBuffer){const s=aJ(new Uint8Array(A.data));if(J("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")&&N.debug("[".concat(this._inspectId,"] Response message for worker of inspect content "),JSON.stringify(s)),s.code===200){if(Array.isArray(this.inspectType)&&this.inspectType.length===1&&this.inspectType[0]==="supervise")return void this.emit(bA.INSPECT_RESULT,void 0,void 0);if(s.data&&s.data.scorePorn&&s.data.scoreSexy&&s.data.scoreNeutral){var o;const c={porn:s.data.scorePorn,sexy:s.data.scoreSexy,neutral:s.data.scoreNeutral},I=Mr(o=Object.keys(c)).call(o,(l,d)=>c[l]>c[d]?l:d,"porn"),C=Object.keys(c).find(l=>l===I);this.emit(bA.INSPECT_RESULT,C)}else this.emit(bA.INSPECT_RESULT,void 0,new z(G.UNEXPECTED_RESPONSE,s.code+"","There is an unexpected data on message"))}else this.emit(bA.INSPECT_RESULT,void 0,new z(G.UNEXPECTED_RESPONSE,s.code+"",s.msg))}else N.error("[".concat(this._inspectId,"] Unexpected message type from worker")),this.emit(bA.INSPECT_RESULT,void 0,new z(G.UNEXPECTED_RESPONSE,"invalid worker message type"))}),this.workerConnection.on(Je.CLOSED,()=>{this.connectionState=dr.CLOSED}),this.workerConnection.on(Je.FAILED,()=>{this.connectionState=dr.CLOSED}),this.workerConnection.on(Je.RECONNECTING,()=>{this.connectionState=this.connectionState===dr.CONNECTED?dr.RECONNECTING:dr.CONNECTING}),this.workerConnection.on(Je.WILL_RECONNECT,(A,o,s)=>{A==="recover"&&s(A),s("tryNext")}),this.workerConnection.on(Je.REQUEST_NEW_URLS,(A,o)=>{this.workerManagerConnection.close(),this.once(bA.REQUEST_NEW_WORKER_URL,s=>{A([s])}),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(s=>{this.connectWorkerManager(s,!0)}).catch(s=>{o(s)})})}async requestToInspectImage(){this.sequence++;const A=zi(this,bA.CLIENT_LOCAL_VIDEO_TRACK),o={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(A){if(!A.isPlaying)return void this.emit(bA.INSPECT_RESULT,void 0,new z(G.INVALID_OPERATION,"Only the track being played can be inspected"));const s=await this.generateRequestData(A,o);this.workerConnection.sendMessage(s,!0,!0)}else this.emit(bA.INSPECT_RESULT,void 0,new z(G.INVALID_OPERATION,"Only the track being published can be inspected"))}async generateRequestData(A,o){let{appId:s,cname:c,cid:I,vid:C,sid:l,uid:d}=o;const h=Date.now(),Q=await A.getCurrentFrameImage("image/jpeg",this.quality),_=await am(Q,s,c),S=this.sequence+"-"+I+"-"+d+"-"+h+"-"+kt(12,""),w={appId:s,cid:I,cname:c,deviceId:"",elapse:mN(Number(h-this.inspectStartTime)),fileSize:_.byteLength,jpgEncryption:2,height:Q.height,width:Q.width,jpg:_,networkType:6,osType:7,requestId:S,sdkVersion:"4.22.0",sequence:this.sequence,sid:l,timestamp:mN(h),uid:d,vid:C,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};this.extraInfo===void 0&&delete w.callbackData,this.ossFilePrefix===void 0&&delete w.ossFilePrefix;const k=sJ(w);if(k.byteLength<this.workerMessageLengthLimit){if(J("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")){const v=function(b){for(var P=1;P<arguments.length;P++){var K=arguments[P]!=null?arguments[P]:{};P%2?yN(Object(K),!0).forEach(function(W){L(b,W,K[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(K)):yN(Object(K)).forEach(function(W){Object.defineProperty(b,W,Object.getOwnPropertyDescriptor(K,W))})}return b}({},w);delete v.jpg,N.debug("[".concat(this._inspectId,"] Request message for worker of inspect content "),JSON.stringify(v))}return k}{const v=this.quality*this.qualityRatio;return this.quality=v,await this.generateRequestData(A,{appId:s,cname:c,cid:I,vid:C,sid:l,uid:d})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=di.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=dr.CLOSED,this.emit(bA.STATE_CHANGE,hr.CLOSED)}}const hJ={name:"ContentInspect",create:function(t){let{config:A}=t;return function(o){if(!o)throw new z(G.INVALID_PARAMS,"inspectConfig is necessary.");if(!o.inspectType||!Array.isArray(o.inspectType))throw new z(G.INVALID_PARAMS,"inspectConfig.inspectType is necessary and is an instance of Array.");{const s=[...new Set(o.inspectType)];s.forEach(c=>{var I;if(!Re(I=["supervise","moderation"]).call(I,c))throw new z(G.INVALID_PARAMS,"".concat(c," is not a valid inspect type."))}),o.inspectType=s}if(o&&o.extraInfo&&o.extraInfo.length>1024)throw new z(G.INVALID_PARAMS,"inspectConfig.extraInfo length cannot exceed 1024 bytes")}(A),new dJ(A)}};vt("PROCESS_ID","process-".concat(kt(8,""),"-").concat(kt(4,""),"-").concat(kt(4,""),"-").concat(kt(4,""),"-").concat(kt(12,""))),function(){let t;try{t=window.localStorage.getItem("websdk_ng_global_parameter")}catch(A){return void N.error("Error loading sdk config",A.message)}if(t)try{const A=JSON.parse(window.atob(t)),o=Date.now();N.debug("Loading global parameters from cache",A),Object.keys(A).forEach(s=>{if(Object.prototype.hasOwnProperty.call(rA,s)){const{value:c,expires:I}=A[s];if(I&&I<=o)return;en[s]=c,rA[s]=c}})}catch(A){N.error("Error loading mutableParamsCache: ".concat(t),A.message)}}(),Array.isArray(en.AREAS)&&en.AREAS.length>0&&ld(en.AREAS,!0);const SN=(t,A,o)=>{N.debug("setParameter key:".concat(t,", value:").concat(JSON.stringify(A))),vt(t,A,o)};Sc(iJ,!1),Sc(nJ,!1),Sc(G2,!1),Sc(hJ,!1),Sc(eJ,!1);const BA=function(t){const A=new Xt,o=t,s={getListeners:A.getListeners.bind(A),on:(c,I)=>(function(C,l){C===io.SECURITY_POLICY_VIOLATION&&S0(l,!0)}(c,I),A.on.bind(A)(c,I)),addListener:A.addListener.bind(A),once:A.once.bind(A),off:A.off.bind(A),removeAllListeners:A.removeAllListeners.bind(A),emit:A.emit.bind(A),safeEmit:A.safeEmit.bind(A)};return m0(m0({},o),s)}({__TRACK_LIST__:Ws,VERSION:er,BUILD:cu,ESM_BUNDLER:!1,ESM:!1,UMD:!0,DEV:!1,setParameter:SN,getParameter:J,getSupportedCodec:async function(){let t={audio:[],video:[]};try{let A=new RTCPeerConnection;const o=await async function(s){let c;return Ct().supportUnifiedPlan?(s.addTransceiver("video",{direction:"recvonly"}),s.addTransceiver("audio",{direction:"recvonly"}),c=(await s.createOffer()).sdp):c=(await s.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})).sdp,c}(A);if(!o)return t;A.close(),A=null,t=function(s){const c={video:[],audio:[]};return s.match(/ VP8/i)&&c.video.push("VP8"),s.match(/ VP9/i)&&c.video.push("VP9"),s.match(/ AV1/i)&&c.video.push("AV1"),s.match(/ H264/i)&&c.video.push("H264"),s.match(/ H265/i)&&c.video.push("H265"),s.match(/ opus/i)&&c.audio.push("OPUS"),s.match(/ PCMU/i)&&c.audio.push("PCMU"),s.match(/ PCMA/i)&&c.audio.push("PCMA"),s.match(/ G722/i)&&c.audio.push("G722"),c}(o)}catch(A){throw new z(G.CREATE_OFFER_FAILED,A.toString&&A.toString()).print()}return t},checkSystemRequirements:function(){const t=Me.reportApiInvoke(null,{name:fA.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:eA.TRACER});let A=!1;try{const I=window.RTCPeerConnection,C=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,l=window.WebSocket;A=!!(I&&C&&l),A&&Xl()&&rR(75)&&new I().close()}catch(I){return N.error("check system requirement failed: ",I),!1}let o=!1;const s=Et();s.name===Rt.CHROME&&Number(s.version)>=58&&(Lr.engine.name!=="WebKit"||function(){const I=Et();if(nI()){if(I.os===wA.MAC_OS)return!0;if(I.os===wA.IOS){const C=Lr.os.version&&Lr.os.version.split(".");if(C&&Number(C[0])===14&&C[1]&&Number(C[1])>=3||C&&Number(C[0])>14)return!0}}return!1}())&&(o=!0),(s.name===Rt.FIREFOX&&Number(s.version)>=56||s.name===Rt.OPERA&&Number(s.version)>=45||s.name===Rt.SAFARI&&Number(s.version)>=11||s.name==="WebKit"&&(gi()||lr())&&s.osVersion&&Number(s.osVersion.split(".")[0])>=11||ER()||Et().name===Rt.QQ)&&(o=!0),N.debug("checkSystemRequirements, api:",A,"browser",o);const c=A&&o;return t.onSuccess(c),c},getDevices:function(t){return Vi.enumerateDevices(!0,!0,t)},getMicrophones:function(t){return Vi.getRecordingDevices(t)},getCameras:function(t){return Vi.getCamerasDevices(t)},getElectronScreenSources:Xy,getPlaybackDevices:function(t){return Vi.getSpeakers(t)},createClient:function(){var t;let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{codec:"vp8",audioCodec:"opus",mode:"rtc"};const o=Me.reportApiInvoke(null,{name:fA.CREATE_CLIENT,options:[A],tag:eA.TRACER});try{(function(s){yA(s.codec,"config.codec",["vp8","vp9","av1","h264","h265"]),yA(s.mode,"config.mode",["rtc","live","p2p"]),s.audioCodec!==void 0&&yA(s.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),s.proxyServer!==void 0&&MA(s.proxyServer,"config.proxyServer",1,1e4),s.turnServer!==void 0&&QR(s.turnServer),s.httpRetryConfig!==void 0&&pR(s.httpRetryConfig),s.websocketRetryConfig!==void 0&&pR(s.websocketRetryConfig)})(A)}catch(s){throw o.onError(s),s}return(sR(16,0)||aR(16,0,!0))&&(A.codec==="vp9"&&(A.codec="vp8",N.debug("browser not support vp9, force use vp8")),vt("UNSUPPORTED_VIDEO_CODEC",["vp9"])),A.audioCodec===void 0&&(A.audioCodec="opus"),o.onSuccess(),new F2(Hr(Hr({forceWaitGatewayResponse:!0},A),{},{role:Re(t=["rtc","p2p"]).call(t,A.mode)?"host":A.role||"audience"}))},createCameraVideoTrack:async function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const A=J("CAMERA_CAPTURE_CONFIG"),o=Me.reportApiInvoke(null,{tag:eA.TRACER,name:fA.CREATE_CAM_VIDEO_TRACK,options:[Jt({},t),A]});A&&(t.encoderConfig=A);const s=LI(t),c=kt(8,"track-cam-");let I=null;N.info("start create camera video track with config",JSON.stringify(t),"trackId",c);try{I=(await qi({video:s},c)).getVideoTracks()[0]||null}catch(l){throw o.onError(l),l}if(!I){const l=new Ae(G.UNEXPECTED_ERROR,"can not find track in media stream");return o.onError(l),l.throw(N)}t.optimizationMode&&nd(c,I,t,oo(t.encoderConfig));const C=new od(I,t,s,t.scalabiltyMode?bI(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,c);return o.onSuccess(C.getTrackId()),N.info("create camera video success, trackId:",c),C},createCustomVideoTrack:function(t){const A=Me.reportApiInvoke(null,{tag:eA.TRACER,name:fA.CREATE_CUSTOM_VIDEO_TRACK,options:[t]}),o=new Ft(t.mediaStreamTrack,{width:t.width,height:t.height,frameRate:t.frameRate,bitrateMax:t.bitrateMax,bitrateMin:t.bitrateMin},t.scalabiltyMode?bI(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,kt(8,"track-cus-"),[xt.CUSTOM_TRACK]);return A.onSuccess(o.getTrackId()),N.info("create custom video track success with config",t,"trackId",o.getTrackId()),o},createScreenVideoTrack:async function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"disable";const o=Me.reportApiInvoke(null,{tag:eA.TRACER,name:fA.CREATE_SCREEN_VIDEO_TRACK,options:[Jt({},t),A]});t.encoderConfig?typeof t.encoderConfig=="string"||t.encoderConfig.width&&t.encoderConfig.height||(t.encoderConfig.width={max:1920},t.encoderConfig.height={max:1080}):t.encoderConfig="1080p_2";const s=function(Q){const _={};Q.screenSourceType&&(_.mediaSource=Q.screenSourceType),Q.extensionId&&Wo()&&(_.extensionId=Q.extensionId);const{displaySurface:S,selfBrowserSurface:w,surfaceSwitching:k,systemAudio:v}=Q;($l(107)||oR(107)||cR(93))&&(S&&(yA(S,"displaySurface",["browser","window","monitor"]),_.displaySurface=S),w?(yA(w,"selfBrowserSurface",["exclude","include"]),_.selfBrowserSurface=w):_.selfBrowserSurface="include",k&&(yA(k,"surfaceSwitching",["exclude","include"]),_.surfaceSwitching=k)),($l(105)||oR(105)||cR(91))&&v&&(yA(v,"systemAudio",["exclude","include"]),_.systemAudio=v),Q.electronScreenSourceId&&(_.sourceId=Q.electronScreenSourceId);const b=Q.encoderConfig?ju(Q.encoderConfig):null;return _.mandatory={chromeMediaSource:"desktop",maxWidth:b?b.width:void 0,maxHeight:b?b.height:void 0},b&&(b.frameRate&&(typeof b.frameRate=="number"?(_.mandatory.maxFrameRate=b.frameRate,_.mandatory.minFrameRate=b.frameRate):(_.mandatory.maxFrameRate=b.frameRate.max||b.frameRate.ideal||b.frameRate.exact||void 0,_.mandatory.minFrameRate=b.frameRate.min||b.frameRate.ideal||b.frameRate.exact||void 0),_.frameRate=b.frameRate),b.width&&(_.width=b.width),b.height&&(_.height=b.height)),_}(t),c=kt(8,"track-scr-v-");let I=null,C=null;const l=Ct();if(!l.supportShareAudio&&A==="enable"){const Q=new Ae(G.NOT_SUPPORTED,"your browser or platform is not support share-screen with audio");return o.onError(Q),Q.throw(N)}N.info("start create screen video track with config",t,"withAudio",A,"trackId",c);try{const Q=await qi({screen:s,screenAudio:A==="auto"?l.supportShareAudio:A==="enable"},c);I=Q.getVideoTracks()[0]||null,C=Q.getAudioTracks()[0]||null}catch(Q){throw o.onError(Q),Q}if(!I){const Q=new Ae(G.UNEXPECTED_ERROR,"can not find track in media stream");return o.onError(Q),Q.throw(N)}if(!C&&A==="enable"){I&&I.stop();const Q=new Ae(G.SHARE_AUDIO_NOT_ALLOWED);return o.onError(Q),Q.throw(N)}t.optimizationMode||(t.optimizationMode="detail"),t.optimizationMode&&(nd(c,I,t,t.encoderConfig&&ju(t.encoderConfig)||void 0),t.encoderConfig&&typeof t.encoderConfig!="string"&&(t.encoderConfig.bitrateMin=t.encoderConfig.bitrateMax));const d=new Ft(I,t.encoderConfig?ju(t.encoderConfig):{},t.scalabiltyMode?bI(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,c,[xt.SCREEN_TRACK]);if(!C)return o.onSuccess(d.getTrackId()),N.info("create screen video track success","video:",d.getTrackId()),d;const h=new tA(C,void 0,kt(8,"track-scr-a-"),!1);return o.onSuccess([d.getTrackId(),h.getTrackId()]),N.info("create screen video track success","video:",d.getTrackId(),"audio:",h.getTrackId()),[d,h]},createMicrophoneAndCameraTracks:async function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=J("CAMERA_CAPTURE_CONFIG"),s=Me.reportApiInvoke(null,{tag:eA.TRACER,name:fA.CREATE_MIC_AND_CAM_TRACKS,options:[t,A,o]});o&&(A.encoderConfig=o);const c=LI(A),I=sm(t),C=kt(8,"track-mic-"),l=kt(8,"track-cam-");let d=null,h=null;N.info("start create camera video track(".concat(l,") and microphone audio track(").concat(C,") with config, audio: ").concat(JSON.stringify(t),", video: ").concat(JSON.stringify(A)));try{const S=await qi({audio:I,video:c},"".concat(C,"-").concat(l));d=S.getAudioTracks()[0],h=S.getVideoTracks()[0]}catch(S){throw s.onError(S),S}if(!d||!h){const S=new Ae(G.UNEXPECTED_ERROR,"can not find tracks in media stream");return s.onError(S),S.throw(N)}A.optimizationMode&&nd(l,h,A,oo(A.encoderConfig));const Q=new kI(d,t,I,C),_=new od(h,A,c,A.scalabiltyMode?bI(A.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},A.optimizationMode,l);return s.onSuccess([Q.getTrackId(),_.getTrackId()]),N.info("create camera video track(".concat(l,") and microphone audio track(").concat(C,") success")),[Q,_]},createMicrophoneAudioTrack:async function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const A=Me.reportApiInvoke(null,{tag:eA.TRACER,name:fA.CREATE_MIC_AUDIO_TRACK,options:[t]}),o=sm(t),s=kt(8,"track-mic-");let c=null;N.info("start create microphone audio track with config",JSON.stringify(t),"trackId",s);try{c=(await qi({audio:o},s)).getAudioTracks()[0]||null}catch(C){throw A.onError(C),C}if(!c){const C=new Ae(G.UNEXPECTED_ERROR,"can not find track in media stream");return A.onError(C),C.throw(N)}const I=new kI(c,t,o,s);return A.onSuccess(I.getTrackId()),N.info("create microphone audio track success, trackId:",s),I},createCustomAudioTrack:function(t){const A=Me.reportApiInvoke(null,{tag:eA.TRACER,name:fA.CREATE_CUSTOM_AUDIO_TRACK,options:[t]}),o=new tA(t.mediaStreamTrack,t.encoderConfig?vI(t.encoderConfig):{},kt(8,"track-cus-"),!1);return N.info("create custom audio track success with config",t,"trackId",o.getTrackId()),A.onSuccess(o.getTrackId()),o},createBufferSourceAudioTrack:async function(t){var A;const{cacheOnlineFile:o,encoderConfig:s}=t;let{source:c}=t;const I={source:c instanceof AudioBuffer?"AudioBuffer":c instanceof File?(A=File.name)!==null&&A!==void 0?A:"File":c,cacheOnlineFile:o,encoderConfig:s},C=Me.reportApiInvoke(null,{tag:eA.TRACER,name:fA.CREATE_BUFFER_AUDIO_TRACK,options:[I]});if(J("DISABLE_WEBAUDIO"))throw new Ae(G.NOT_SUPPORTED,"can not create BufferSourceAudioTrack when WebAudio disabled");const l=kt(8,"track-buf-");N.info("start create buffer source audio track with config",JSON.stringify(I),"trackId",l);const d=c;if(!(c instanceof AudioBuffer))try{c=await async function(_,S){let w=null;if(typeof _=="string"){const v=Vm.get(_);if(v)return N.debug("use cached audio resource: ",_),v;try{w=(await kr(()=>di.get(_,{responseType:"arraybuffer"}),void 0,void 0,{maxRetryCount:3})).data}catch(b){throw new Ae(G.FETCH_AUDIO_FILE_FAILED,b.toString())}}else w=await new pe((b,P)=>{const K=new FileReader;K.onload=W=>{W.target?b(W.target.result):P(new Ae(G.READ_LOCAL_AUDIO_FILE_ERROR))},K.onerror=()=>{P(new Ae(G.READ_LOCAL_AUDIO_FILE_ERROR))},K.readAsArrayBuffer(_)});const k=await function(v){const b=Aa();return new pe((P,K)=>{b.decodeAudioData(v,W=>{P(W)},W=>{K(new Ae(G.DECODE_AUDIO_FILE_FAILED,W.toString()))})})}(w);return typeof _=="string"&&S&&Vm.set(_,k),k}(c,o)}catch(_){return C.onError(_),_.throw(N)}const h=new kx(c),Q=new Lx(d,h,s?vI(s):{},l);return N.info("create buffer source audio track success, trackId:",l),C.onSuccess(Q.getTrackId()),Q},setAppType:function(t){if(N.debug("setAppType: ".concat(t)),!(Number.isInteger(t)&&t>=0))throw N.debug("Invalid appType"),new z(G.INVALID_PARAMS,"invalid app type",t);vt("APP_TYPE",Math.floor(t))},setLogLevel:function(t){N.setLogLevel(t)},enableLogUpload:function(){J("USE_NEW_LOG")?vt("UPLOAD_LOG",!0):N.enableLogUpload()},disableLogUpload:function(){J("USE_NEW_LOG")?vt("UPLOAD_LOG",!1):N.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new $D},checkAudioTrackIsActive:async function(t){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3;const o=Me.reportApiInvoke(null,{tag:eA.TRACER,name:fA.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[A]});if(!(t instanceof tA||t instanceof oa)){const d=new z(G.INVALID_TRACK,"the parameter is not a audio track");return o.onError(d),d.throw()}A&&A<1e3&&(A=1e3);const s=t instanceof tA?t.getTrackLabel():"remote_track",c=t.getVolumeLevel();let I=c,C=c;const l=Date.now();return new pe(d=>{const h=setInterval(()=>{const Q=t.getVolumeLevel();I=Q>I?Q:I,C=Q<C?Q:C;const _=I-C>1e-4,S=Date.now()-l;if(_||S>A){clearInterval(h);const w=_,k={duration:S,deviceLabel:s,maxVolumeLevel:I,result:w};N.info("[track-".concat(t.getTrackId(),"] check audio track active completed. ").concat(JSON.stringify(k))),o.onSuccess(k),d(w)}},200)})},checkVideoTrackIsActive:async function(t){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3;const o=Me.reportApiInvoke(null,{tag:eA.TRACER,name:fA.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[A]});if(!(t instanceof Ft||t instanceof ra)){const _=new z(G.INVALID_TRACK,"the parameter is not a video track");return o.onError(_),_.throw()}A&&A<1e3&&(A=1e3);const s=t instanceof Ft?t.getTrackLabel():"remote_track",c=t.getMediaStreamTrack(!0),I=document.createElement("video");I.style.width="1px",I.style.height="1px",I.setAttribute("muted",""),I.muted=!0,I.setAttribute("playsinline",""),I.controls=!1,(KA()||nI())&&(I.style.opacity="0.01",I.style.position="fixed",I.style.left="0",I.style.top="0",document.body.appendChild(I)),I.srcObject=new MediaStream([c]),I.play();const C=document.createElement("canvas");C.width=160,C.height=120;let l=0,d=0;try{const _=Date.now();l=await function(S,w,k,v){let b,P=0,K=null;return new pe((W,X)=>{function Z(){P>v&&b&&(b(),W(P));const ie=k.getContext("2d");if(!ie){const Ce=new z(G.UNEXPECTED_ERROR,"can not get canvas 2d context.");return N.error(Ce.toString()),void X(Ce)}ie.drawImage(S,0,0,160,120);const ce=ie.getImageData(0,0,k.width,k.height),de=Math.floor(ce.data.length/3);if(K){for(let Ce=0;Ce<de;Ce+=3)if(ce.data[Ce]!==K[Ce])return P+=1,void(K=ce.data);K=ce.data}else K=ce.data}setTimeout(()=>{b&&(b(),W(P))},w),b=zu(()=>{Z()},30)})}(I,A,C,4),d=Date.now()-_}catch(_){throw o.onError(_),_}y2===Rt.SAFARI&&(I.pause(),I.remove()),I.srcObject=null;const h=l>4,Q={duration:d,changedPicNum:l,deviceLabel:s,result:h};return N.info("[track-".concat(t.getTrackId(),"] check video track active completed. ").concat(JSON.stringify(Q))),o.onSuccess(Q),h},setArea:ld,audioElementPlayCenter:hi,resumeAudioContext:function(){hi.autoResumeAfterInterruption(!0)},processExternalMediaAEC:function(t){x2.processExternalMediaAEC(t)},registerExtensions:function(t){const A=J("PLUGIN_INFO")||[];t.forEach(o=>{"name"in o&&!Re(A).call(A,o.name)&&A.push(o.name);const s=o;s.__registered__=!0,s.logger.hookLog=N.extLog,s.reporter.hookApiInvoke=Me.extApiInvoke,s.parameters&&Object.keys(s.parameters).forEach(c=>{s.parameters[c]=J(c)})}),SN("PLUGIN_INFO",A)},ChannelMediaRelayError:Ps,ChannelMediaRelayEvent:To,ChannelMediaRelayState:yi,RemoteStreamFallbackType:wx,RemoteStreamType:Dx,ConnectionDisconnectedReason:St,AudienceLatencyLevelType:sF,AREAS:dt,preload:async function(t,A,o,s){return pw(t,A,o,s)}});return Object.defineProperties(BA,{onAudioAutoplayFailed:{get:()=>ji.onAudioAutoplayFailed,set:t=>{ji.onAudioAutoplayFailed=t}},onAutoplayFailed:{get:()=>ji.onAutoplayFailed,set:t=>{ji.onAutoplayFailed=t}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>BA._onSecurityPolicyViolation,set(t){BA._onSecurityPolicyViolation=t,S0(t)}},__CLIENT_LIST__:{get:()=>J("SHOW_GLOBAL_CLIENT_LIST")?tn:[]}}),Vi.on(Kn.CAMERA_DEVICE_CHANGED,t=>{N.info("camera device changed",JSON.stringify(t)),BA.onCameraChanged&&BA.onCameraChanged(t),BA.safeEmit(io.CAMERA_CHANGED,t)}),Vi.on(Kn.RECORDING_DEVICE_CHANGED,t=>{N.info("microphone device changed",JSON.stringify(t)),BA.onMicrophoneChanged&&BA.onMicrophoneChanged(t),BA.safeEmit(io.MICROPHONE_CHANGED,t)}),Vi.on(Kn.PLAYOUT_DEVICE_CHANGED,t=>{N.debug("playout device changed",JSON.stringify(t)),BA.onPlaybackDeviceChanged&&BA.onPlaybackDeviceChanged(t),BA.safeEmit(io.PLAYBACK_DEVICE_CHANGED,t)}),hi.onAutoplayFailed=()=>{N.info("detect audio element autoplay failed"),ji.onAudioAutoplayFailed&&ji.onAudioAutoplayFailed()},Nt.on("autoplay-failed",()=>{N.info("detect webaudio autoplay failed"),ji.onAudioAutoplayFailed&&ji.onAudioAutoplayFailed(),BA.safeEmit(io.AUTOPLAY_FAILED)}),Nt.on(UA.STATE_CHANGE,(t,A)=>{N.info("audio context state changed: ".concat(A," => ").concat(t)),BA.onAudioContextStateChanged&&BA.onAudioContextStateChanged(t,A),BA.safeEmit(io.AUDIO_CONTEXT_STATE_CHANGED,t,A)}),EA.on(Ms.NETWORK_STATE_CHANGE,(t,A)=>{N.info("[network-indicator] network state changed, ".concat(A," => ").concat(t))}),window&&(window.__ARTC__=BA),BA})}(AgoraRTC_NProduction)),AgoraRTC_NProduction.exports}(function(module,exports){var define_process_env_default={};/*! @preserve
 * AgoraRTM Web SDK 2.2.1 - commit: v2.2.1-0-g69f68c57-dirty - fusion: false
 * Copyright (C) 2018-2024 Agora Lab.
 * This file is licensed under the AGORA, INC. SDK LICENSE AGREEMENT
 * A copy of this license may be found at https://www.agora.io/en/sdk-license-agreement/
 */(function(n,e){module.exports=e(requireAgoraRTC_NProduction())})(commonjsGlobal,function(AgoraRTC){function _applyDecoratedDescriptor(n,e,r,a,g){var E={};return Object.keys(a).forEach(function(u){E[u]=a[u]}),E.enumerable=!!E.enumerable,E.configurable=!!E.configurable,("value"in E||E.initializer)&&(E.writable=!0),E=r.slice().reverse().reduce(function(u,B){return B(n,e,u)||u},E),g&&E.initializer!==void 0&&(E.value=E.initializer?E.initializer.call(g):void 0,E.initializer=void 0),E.initializer===void 0?(Object.defineProperty(n,e,E),null):E}function _defineProperty$1(n,e,r){return(e=_toPropertyKey(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function ownKeys(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(g){return Object.getOwnPropertyDescriptor(n,g).enumerable})),r.push.apply(r,a)}return r}function _objectSpread2(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(a){_defineProperty$1(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function _objectWithoutProperties(n,e){if(n==null)return{};var r,a,g=_objectWithoutPropertiesLoose(n,e);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(n);for(a=0;a<E.length;a++)r=E[a],e.includes(r)||{}.propertyIsEnumerable.call(n,r)&&(g[r]=n[r])}return g}function _objectWithoutPropertiesLoose(n,e){if(n==null)return{};var r={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(e.includes(a))continue;r[a]=n[a]}return r}function _toPrimitive(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _toPropertyKey(n){var e=_toPrimitive(n,"string");return typeof e=="symbol"?e:e+""}let subscribedState=function(n){return n.UNSUBSCRIBED="UNSUBSCRIBED",n.SUBSCRIBED="SUBSCRIBED",n}({}),MessageType$1=function(n){return n.STRING="STRING",n.BINARY="BINARY",n}({}),LegacyAreaCode=function(n){return n.CN="CN",n.NA="NA",n.EU="EU",n.AS="AS",n.JP="JP",n.IN="IN",n.GLOB="GLOB",n.OC="OC",n.SA="SA",n.AF="AF",n.KR="KR",n.US="US",n.OVS="OVS",n}({}),AreaCode=function(n){return n.GLOBAL="GLOBAL",n.INDIA="INDIA",n.JAPAN="JAPAN",n.ASIA="ASIA",n.EUROPE="EUROPE",n.CHINA="CHINA",n.NORTH_AMERICA="NORTH_AMERICA",n}({}),LinkStateChangeReason4Report=function(n){return n[n.UNKNOWN=0]="UNKNOWN",n[n.LOGIN=1]="LOGIN",n[n.LOGIN_SUCCESS=2]="LOGIN_SUCCESS",n[n.LOGIN_TIMEOUT=3]="LOGIN_TIMEOUT",n[n.LOGIN_NOT_AUTHORIZED=4]="LOGIN_NOT_AUTHORIZED",n[n.LOGIN_REJECTED=5]="LOGIN_REJECTED",n[n.RELOGIN=6]="RELOGIN",n[n.LOGOUT=7]="LOGOUT",n[n.AUTO_RECONNECT=8]="AUTO_RECONNECT",n[n.RECONNECT_TIMEOUT=9]="RECONNECT_TIMEOUT",n[n.RECONNECT_SUCCESS=10]="RECONNECT_SUCCESS",n[n.JOIN=11]="JOIN",n[n.JOIN_SUCCESS=12]="JOIN_SUCCESS",n[n.JOIN_FAILED=13]="JOIN_FAILED",n[n.REJOIN=14]="REJOIN",n[n.LEAVE=15]="LEAVE",n[n.INVALID_TOKEN=16]="INVALID_TOKEN",n[n.TOKEN_EXPIRED=17]="TOKEN_EXPIRED",n[n.INCONSISTENT_APP_ID=18]="INCONSISTENT_APP_ID",n[n.INVALID_CHANNEL_NAME=19]="INVALID_CHANNEL_NAME",n[n.INVALID_USER_ID=20]="INVALID_USER_ID",n[n.NOT_INITIALIZED=21]="NOT_INITIALIZED",n[n.RTM_SERVICE_NOT_CONNECTED=22]="RTM_SERVICE_NOT_CONNECTED",n[n.CHANNEL_INSTANCE_EXCEED_LIMITATION=23]="CHANNEL_INSTANCE_EXCEED_LIMITATION",n[n.OPERATION_RATE_EXCEED_LIMITATION=24]="OPERATION_RATE_EXCEED_LIMITATION",n[n.CHANNEL_IN_ERROR_STATE=25]="CHANNEL_IN_ERROR_STATE",n[n.PRESENCE_NOT_CONNECTED=26]="PRESENCE_NOT_CONNECTED",n[n.SAME_UID_LOGIN=27]="SAME_UID_LOGIN",n[n.KICKED_OUT_BY_SERVER=28]="KICKED_OUT_BY_SERVER",n[n.KEEP_ALIVE_TIMEOUT=29]="KEEP_ALIVE_TIMEOUT",n[n.CONNECTION_ERROR=30]="CONNECTION_ERROR",n[n.PRESENCE_NOT_READY=31]="PRESENCE_NOT_READY",n[n.NETWORK_CHANGE=32]="NETWORK_CHANGE",n[n.SERVICE_NOT_SUPPORTED=33]="SERVICE_NOT_SUPPORTED",n[n.STREAM_CHANNEL_NOT_AVAILABLE=34]="STREAM_CHANNEL_NOT_AVAILABLE",n[n.STORAGE_NOT_AVAILABLE=35]="STORAGE_NOT_AVAILABLE",n[n.LOCK_NOT_AVAILABLE=36]="LOCK_NOT_AVAILABLE",n}({}),LinkStateChangeReasonDescription=function(n){return n.UNKNOWN="Unknown",n.LOGIN="Perform login operation",n.LOGIN_SUCCESS="Login success",n.LOGIN_TIMEOUT="Login timeout",n.LOGIN_NOT_AUTHORIZED="Login not authorized",n.LOGIN_REJECTED="Login rejected",n.RELOGIN="Perform login operation again",n.LOGOUT="Logout success",n.AUTO_RECONNECT="Reconnecting",n.RECONNECT_TIMEOUT="Reconnect timeout",n.RECONNECT_SUCCESS="Reconnect success",n.JOIN="Perform join operation",n.JOIN_SUCCESS="Join channel success",n.JOIN_FAILED="Join channel failed",n.REJOIN="Perform join operation again",n.LEAVE="Leave channel success",n.INVALID_TOKEN="Invalid token",n.TOKEN_EXPIRED="Token expired",n.INCONSISTENT_APP_ID="Inconsistent app ID",n.INVALID_CHANNEL_NAME="Invalid channel name",n.INVALID_USER_ID="Invalid user id",n.NOT_INITIALIZED="Not initialized",n.RTM_SERVICE_NOT_CONNECTED="RTM service not connected",n.CHANNEL_INSTANCE_EXCEED_LIMITATION="Channel instance exceed limitation",n.OPERATION_RATE_EXCEED_LIMITATION="Operation rate exceed limitation",n.CHANNEL_IN_ERROR_STATE="Channel in error state",n.PRESENCE_NOT_CONNECTED="Presence not connected",n.SAME_UID_LOGIN="The same uid login on another device",n.KICKED_OUT_BY_SERVER="Kicked out by server",n.KEEP_ALIVE_TIMEOUT="Keep alive timeout",n.CONNECTION_ERROR="Connection error",n.PRESENCE_NOT_READY="Presence not ready",n.NETWORK_CHANGE="Network change",n.SERVICE_NOT_SUPPORTED="Service not supported",n.STREAM_CHANNEL_NOT_AVAILABLE="Stream channel not available",n.STORAGE_NOT_AVAILABLE="Storage service is not available",n.LOCK_NOT_AVAILABLE="Lock service is not available",n}({}),ChannelTypeEnum=function(n){return n[n.MESSAGE=1]="MESSAGE",n[n.STREAM=2]="STREAM",n[n.USER=3]="USER",n}({});var ConstantsType=Object.freeze({__proto__:null,AreaCode,ChannelTypeEnum,LegacyAreaCode,LinkStateChangeReason4Report,LinkStateChangeReasonDescription,MessageType:MessageType$1,subscribedState}),commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:{};function getDefaultExportFromCjs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function getAugmentedNamespace(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var r=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(a){var g=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(r,a,g.get?g:{enumerable:!0,get:function(){return n[a]}})}),r}function format(n){var e=Array.prototype.slice.call(arguments,1);return e.length&&(n=n.replace(/(%?)(%([jds]))/g,function(r,a,g,E){var u=e.shift();switch(E){case"s":u=""+u;break;case"d":u=Number(u);break;case"j":u=JSON.stringify(u)}return a?(e.unshift(u),r):u})),e.length&&(n+=" "+e.join(" ")),""+(n=n.replace(/%{2,2}/g,"%"))}var format_1=format,format$1=getDefaultExportFromCjs(format_1),_extendStatics=function(n,e){return _extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var g in a)a.hasOwnProperty(g)&&(r[g]=a[g])},_extendStatics(n,e)};function __extends$3(n,e){function r(){this.constructor=n}_extendStatics(n,e),n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function isFunction$7(n){return typeof n=="function"}var _enable_super_gross_mode_that_will_cause_bad_things=!1,config$1={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){n&&new Error().stack,_enable_super_gross_mode_that_will_cause_bad_things=n},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(n){setTimeout(function(){throw n},0)}var empty$1={closed:!0,next:function(n){},error:function(n){if(config$1.useDeprecatedSynchronousErrorHandling)throw n;hostReportError(n)},complete:function(){}},isArray$h=function(){return Array.isArray||function(n){return n&&typeof n.length=="number"}}();function isObject$e(n){return n!==null&&typeof n=="object"}var UnsubscriptionErrorImpl$1=function(){function n(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,a){return a+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n}(),UnsubscriptionError$1=UnsubscriptionErrorImpl$1,Subscription$2=function(){function n(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return n.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,a=r._parentOrParents,g=r._ctorUnsubscribe,E=r._unsubscribe,u=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof n)a.remove(this);else if(a!==null)for(var B=0;B<a.length;++B)a[B].remove(this);if(isFunction$7(E)){g&&(this._unsubscribe=void 0);try{E.call(this)}catch(y){e=y instanceof UnsubscriptionError$1?flattenUnsubscriptionErrors$1(y.errors):[y]}}if(isArray$h(u)){B=-1;for(var f=u.length;++B<f;){var m=u[B];if(isObject$e(m))try{m.unsubscribe()}catch(y){e=e||[],y instanceof UnsubscriptionError$1?e=e.concat(flattenUnsubscriptionErrors$1(y.errors)):e.push(y)}}}if(e)throw new UnsubscriptionError$1(e)}},n.prototype.add=function(e){var r=e;if(!e)return n.EMPTY;switch(typeof e){case"function":r=new n(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof n)){var a=r;(r=new n)._subscriptions=[a]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var g=r._parentOrParents;if(g===null)r._parentOrParents=this;else if(g instanceof n){if(g===this)return r;r._parentOrParents=[g,this]}else{if(g.indexOf(this)!==-1)return r;g.push(this)}var E=this._subscriptions;return E===null?this._subscriptions=[r]:E.push(r),r},n.prototype.remove=function(e){var r=this._subscriptions;if(r){var a=r.indexOf(e);a!==-1&&r.splice(a,1)}},n.EMPTY=function(e){return e.closed=!0,e}(new n),n}();function flattenUnsubscriptionErrors$1(n){return n.reduce(function(e,r){return e.concat(r instanceof UnsubscriptionError$1?r.errors:r)},[])}var rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Subscriber=function(n){function e(r,a,g){var E=n.call(this)||this;switch(E.syncErrorValue=null,E.syncErrorThrown=!1,E.syncErrorThrowable=!1,E.isStopped=!1,arguments.length){case 0:E.destination=empty$1;break;case 1:if(!r){E.destination=empty$1;break}if(typeof r=="object"){r instanceof e?(E.syncErrorThrowable=r.syncErrorThrowable,E.destination=r,r.add(E)):(E.syncErrorThrowable=!0,E.destination=new SafeSubscriber(E,r));break}default:E.syncErrorThrowable=!0,E.destination=new SafeSubscriber(E,r,a,g)}return E}return __extends$3(e,n),e.prototype[rxSubscriber]=function(){return this},e.create=function(r,a,g){var E=new e(r,a,g);return E.syncErrorThrowable=!1,E},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(Subscription$2),SafeSubscriber=function(n){function e(r,a,g,E){var u,B=n.call(this)||this;B._parentSubscriber=r;var f=B;return isFunction$7(a)?u=a:a&&(u=a.next,g=a.error,E=a.complete,a!==empty$1&&(isFunction$7((f=Object.create(a)).unsubscribe)&&B.add(f.unsubscribe.bind(f)),f.unsubscribe=B.unsubscribe.bind(B))),B._context=f,B._next=u,B._error=g,B._complete=E,B}return __extends$3(e,n),e.prototype.next=function(r){if(!this.isStopped&&this._next){var a=this._parentSubscriber;config$1.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable?this.__tryOrSetError(a,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}},e.prototype.error=function(r){if(!this.isStopped){var a=this._parentSubscriber,g=config$1.useDeprecatedSynchronousErrorHandling;if(this._error)g&&a.syncErrorThrowable?(this.__tryOrSetError(a,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(a.syncErrorThrowable)g?(a.syncErrorValue=r,a.syncErrorThrown=!0):hostReportError(r),this.unsubscribe();else{if(this.unsubscribe(),g)throw r;hostReportError(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var a=this._parentSubscriber;if(this._complete){var g=function(){return r._complete.call(r._context)};config$1.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable?(this.__tryOrSetError(a,g),this.unsubscribe()):(this.__tryOrUnsub(g),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,a){try{r.call(this._context,a)}catch(g){if(this.unsubscribe(),config$1.useDeprecatedSynchronousErrorHandling)throw g;hostReportError(g)}},e.prototype.__tryOrSetError=function(r,a,g){if(!config$1.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{a.call(this._context,g)}catch(E){return config$1.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=E,r.syncErrorThrown=!0,!0):(hostReportError(E),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(Subscriber);function canReportError(n){for(;n;){var e=n,r=e.closed,a=e.destination,g=e.isStopped;if(r||g)return!1;n=a&&a instanceof Subscriber?a:null}return!0}function toSubscriber(n,e,r){if(n){if(n instanceof Subscriber)return n;if(n[rxSubscriber])return n[rxSubscriber]()}return n||e||r?new Subscriber(n,e,r):new Subscriber(empty$1)}var observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity$5(n){return n}function pipe(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return pipeFromArray(n)}function pipeFromArray(n){return n.length===0?identity$5:n.length===1?n[0]:function(e){return n.reduce(function(r,a){return a(r)},e)}}var Observable=function(){function n(e){this._isScalar=!1,e&&(this._subscribe=e)}return n.prototype.lift=function(e){var r=new n;return r.source=this,r.operator=e,r},n.prototype.subscribe=function(e,r,a){var g=this.operator,E=toSubscriber(e,r,a);if(g?E.add(g.call(E,this.source)):E.add(this.source||config$1.useDeprecatedSynchronousErrorHandling&&!E.syncErrorThrowable?this._subscribe(E):this._trySubscribe(E)),config$1.useDeprecatedSynchronousErrorHandling&&E.syncErrorThrowable&&(E.syncErrorThrowable=!1,E.syncErrorThrown))throw E.syncErrorValue;return E},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){config$1.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),canReportError(e)?e.error(r):console.warn(r)}},n.prototype.forEach=function(e,r){var a=this;return new(r=getPromiseCtor(r))(function(g,E){var u;u=a.subscribe(function(B){try{e(B)}catch(f){E(f),u&&u.unsubscribe()}},E,g)})},n.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},n.prototype[observable]=function(){return this},n.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:pipeFromArray(e)(this)},n.prototype.toPromise=function(e){var r=this;return new(e=getPromiseCtor(e))(function(a,g){var E;r.subscribe(function(u){return E=u},function(u){return g(u)},function(){return a(E)})})},n.create=function(e){return new n(e)},n}();function getPromiseCtor(n){if(n||(n=config$1.Promise||Promise),!n)throw new Error("no Promise impl found");return n}var ObjectUnsubscribedErrorImpl=function(){function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n}(),ObjectUnsubscribedError=ObjectUnsubscribedErrorImpl,SubjectSubscription=function(n){function e(r,a){var g=n.call(this)||this;return g.subject=r,g.subscriber=a,g.closed=!1,g}return __extends$3(e,n),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,a=r.observers;if(this.subject=null,a&&a.length!==0&&!r.isStopped&&!r.closed){var g=a.indexOf(this.subscriber);g!==-1&&a.splice(g,1)}}},e}(Subscription$2),SubjectSubscriber=function(n){function e(r){var a=n.call(this,r)||this;return a.destination=r,a}return __extends$3(e,n),e}(Subscriber),Subject=function(n){function e(){var r=n.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return __extends$3(e,n),e.prototype[rxSubscriber]=function(){return new SubjectSubscriber(this)},e.prototype.lift=function(r){var a=new AnonymousSubject(this,this);return a.operator=r,a},e.prototype.next=function(r){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped)for(var a=this.observers,g=a.length,E=a.slice(),u=0;u<g;u++)E[u].next(r)},e.prototype.error=function(r){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var a=this.observers,g=a.length,E=a.slice(),u=0;u<g;u++)E[u].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;for(var r=this.observers,a=r.length,g=r.slice(),E=0;E<a;E++)g[E].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new ObjectUnsubscribedError;return n.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(r.error(this.thrownError),Subscription$2.EMPTY):this.isStopped?(r.complete(),Subscription$2.EMPTY):(this.observers.push(r),new SubjectSubscription(this,r))},e.prototype.asObservable=function(){var r=new Observable;return r.source=this,r},e.create=function(r,a){return new AnonymousSubject(r,a)},e}(Observable),AnonymousSubject=function(n){function e(r,a){var g=n.call(this)||this;return g.destination=r,g.source=a,g}return __extends$3(e,n),e.prototype.next=function(r){var a=this.destination;a&&a.next&&a.next(r)},e.prototype.error=function(r){var a=this.destination;a&&a.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){return this.source?this.source.subscribe(r):Subscription$2.EMPTY},e}(Subject);function refCount(){return function(n){return n.lift(new RefCountOperator(n))}}var RefCountOperator=function(){function n(e){this.connectable=e}return n.prototype.call=function(e,r){var a=this.connectable;a._refCount++;var g=new RefCountSubscriber(e,a),E=r.subscribe(g);return g.closed||(g.connection=a.connect()),E},n}(),RefCountSubscriber=function(n){function e(r,a){var g=n.call(this,r)||this;return g.connectable=a,g}return __extends$3(e,n),e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var a=r._refCount;if(a<=0)this.connection=null;else if(r._refCount=a-1,a>1)this.connection=null;else{var g=this.connection,E=r._connection;this.connection=null,!E||g&&E!==g||E.unsubscribe()}}else this.connection=null},e}(Subscriber),ConnectableObservable=function(n){function e(r,a){var g=n.call(this)||this;return g.source=r,g.subjectFactory=a,g._refCount=0,g._isComplete=!1,g}return __extends$3(e,n),e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return r&&!r.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,(r=this._connection=new Subscription$2).add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),r.closed&&(this._connection=null,r=Subscription$2.EMPTY)),r},e.prototype.refCount=function(){return refCount()(this)},e}(Observable),connectableObservableDescriptor=function(){var n=ConnectableObservable.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}}(),ConnectableSubscriber=function(n){function e(r,a){var g=n.call(this,r)||this;return g.connectable=a,g}return __extends$3(e,n),e.prototype._error=function(r){this._unsubscribe(),n.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),n.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var a=r._connection;r._refCount=0,r._subject=null,r._connection=null,a&&a.unsubscribe()}},e}(SubjectSubscriber),GroupedObservable=function(n){function e(r,a,g){var E=n.call(this)||this;return E.key=r,E.groupSubject=a,E.refCountSubscription=g,E}return __extends$3(e,n),e.prototype._subscribe=function(r){var a=new Subscription$2,g=this.refCountSubscription,E=this.groupSubject;return g&&!g.closed&&a.add(new InnerRefCountSubscription(g)),a.add(E.subscribe(r)),a},e}(Observable),InnerRefCountSubscription=function(n){function e(r){var a=n.call(this)||this;return a.parent=r,r.count++,a}return __extends$3(e,n),e.prototype.unsubscribe=function(){var r=this.parent;r.closed||this.closed||(n.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(Subscription$2),BehaviorSubject=function(n){function e(r){var a=n.call(this)||this;return a._value=r,a}return __extends$3(e,n),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var a=n.prototype._subscribe.call(this,r);return a&&!a.closed&&r.next(this._value),a},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value},e.prototype.next=function(r){n.prototype.next.call(this,this._value=r)},e}(Subject),Action$2=function(n){function e(r,a){return n.call(this)||this}return __extends$3(e,n),e.prototype.schedule=function(r,a){return this},e}(Subscription$2),AsyncAction$2=function(n){function e(r,a){var g=n.call(this,r,a)||this;return g.scheduler=r,g.work=a,g.pending=!1,g}return __extends$3(e,n),e.prototype.schedule=function(r,a){if(a===void 0&&(a=0),this.closed)return this;this.state=r;var g=this.id,E=this.scheduler;return g!=null&&(this.id=this.recycleAsyncId(E,g,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(E,this.id,a),this},e.prototype.requestAsyncId=function(r,a,g){return g===void 0&&(g=0),setInterval(r.flush.bind(r,this),g)},e.prototype.recycleAsyncId=function(r,a,g){if(g===void 0&&(g=0),g!==null&&this.delay===g&&this.pending===!1)return a;clearInterval(a)},e.prototype.execute=function(r,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var g=this._execute(r,a);if(g)return g;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,a){var g=!1,E=void 0;try{this.work(r)}catch(u){g=!0,E=!!u&&u||new Error(u)}if(g)return this.unsubscribe(),E},e.prototype._unsubscribe=function(){var r=this.id,a=this.scheduler,g=a.actions,E=g.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,E!==-1&&g.splice(E,1),r!=null&&(this.id=this.recycleAsyncId(a,r,null)),this.delay=null},e}(Action$2),QueueAction=function(n){function e(r,a){var g=n.call(this,r,a)||this;return g.scheduler=r,g.work=a,g}return __extends$3(e,n),e.prototype.schedule=function(r,a){return a===void 0&&(a=0),a>0?n.prototype.schedule.call(this,r,a):(this.delay=a,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,a){return a>0||this.closed?n.prototype.execute.call(this,r,a):this._execute(r,a)},e.prototype.requestAsyncId=function(r,a,g){return g===void 0&&(g=0),g!==null&&g>0||g===null&&this.delay>0?n.prototype.requestAsyncId.call(this,r,a,g):r.flush(this)},e}(AsyncAction$2),Scheduler$2=function(){function n(e,r){r===void 0&&(r=n.now),this.SchedulerAction=e,this.now=r}return n.prototype.schedule=function(e,r,a){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(a,r)},n.now=function(){return Date.now()},n}(),AsyncScheduler$2=function(n){function e(r,a){a===void 0&&(a=Scheduler$2.now);var g=n.call(this,r,function(){return e.delegate&&e.delegate!==g?e.delegate.now():a()})||this;return g.actions=[],g.active=!1,g.scheduled=void 0,g}return __extends$3(e,n),e.prototype.schedule=function(r,a,g){return a===void 0&&(a=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,a,g):n.prototype.schedule.call(this,r,a,g)},e.prototype.flush=function(r){var a=this.actions;if(this.active)a.push(r);else{var g;this.active=!0;do if(g=r.execute(r.state,r.delay))break;while(r=a.shift());if(this.active=!1,g){for(;r=a.shift();)r.unsubscribe();throw g}}},e}(Scheduler$2),QueueScheduler=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return __extends$3(e,n),e}(AsyncScheduler$2),queueScheduler=new QueueScheduler(QueueAction),queue=queueScheduler,EMPTY=new Observable(function(n){return n.complete()});function empty(n){return n?emptyScheduled(n):EMPTY}function emptyScheduled(n){return new Observable(function(e){return n.schedule(function(){return e.complete()})})}function isScheduler(n){return n&&typeof n.schedule=="function"}var subscribeToArray=function(n){return function(e){for(var r=0,a=n.length;r<a&&!e.closed;r++)e.next(n[r]);e.complete()}},NotificationKind;function scheduleArray(n,e){return new Observable(function(r){var a=new Subscription$2,g=0;return a.add(e.schedule(function(){g!==n.length?(r.next(n[g++]),r.closed||a.add(this.schedule())):r.complete()})),a})}function fromArray(n,e){return e?scheduleArray(n,e):new Observable(subscribeToArray(n))}function of(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=n[n.length-1];return isScheduler(r)?(n.pop(),scheduleArray(n,r)):fromArray(n)}function throwError(n,e){return new Observable(e?function(r){return e.schedule(dispatch$7,0,{error:n,subscriber:r})}:function(r){return r.error(n)})}function dispatch$7(n){var e=n.error;n.subscriber.error(e)}NotificationKind||(NotificationKind={});var Notification=function(){function n(e,r,a){this.kind=e,this.value=r,this.error=a,this.hasValue=e==="N"}return n.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},n.prototype.do=function(e,r,a){switch(this.kind){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return a&&a()}},n.prototype.accept=function(e,r,a){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,a)},n.prototype.toObservable=function(){switch(this.kind){case"N":return of(this.value);case"E":return throwError(this.error);case"C":return empty()}throw new Error("unexpected notification kind value")},n.createNext=function(e){return e!==void 0?new n("N",e):n.undefinedValueNotification},n.createError=function(e){return new n("E",void 0,e)},n.createComplete=function(){return n.completeNotification},n.completeNotification=new n("C"),n.undefinedValueNotification=new n("N",void 0),n}();function observeOn(n,e){return e===void 0&&(e=0),function(r){return r.lift(new ObserveOnOperator(n,e))}}var ObserveOnOperator=function(){function n(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return n.prototype.call=function(e,r){return r.subscribe(new ObserveOnSubscriber(e,this.scheduler,this.delay))},n}(),ObserveOnSubscriber=function(n){function e(r,a,g){g===void 0&&(g=0);var E=n.call(this,r)||this;return E.scheduler=a,E.delay=g,E}return __extends$3(e,n),e.dispatch=function(r){var a=r.notification,g=r.destination;a.observe(g),this.unsubscribe()},e.prototype.scheduleMessage=function(r){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new ObserveOnMessage(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(Notification.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(Notification.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Notification.createComplete()),this.unsubscribe()},e}(Subscriber),ObserveOnMessage=function(){return function(n,e){this.notification=n,this.destination=e}}(),ReplaySubject=function(n){function e(r,a,g){r===void 0&&(r=Number.POSITIVE_INFINITY),a===void 0&&(a=Number.POSITIVE_INFINITY);var E=n.call(this)||this;return E.scheduler=g,E._events=[],E._infiniteTimeWindow=!1,E._bufferSize=r<1?1:r,E._windowTime=a<1?1:a,a===Number.POSITIVE_INFINITY?(E._infiniteTimeWindow=!0,E.next=E.nextInfiniteTimeWindow):E.next=E.nextTimeWindow,E}return __extends$3(e,n),e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var a=this._events;a.push(r),a.length>this._bufferSize&&a.shift()}n.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new ReplayEvent(this._getNow(),r)),this._trimBufferThenGetEvents()),n.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var a,g=this._infiniteTimeWindow,E=g?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,B=E.length;if(this.closed)throw new ObjectUnsubscribedError;if(this.isStopped||this.hasError?a=Subscription$2.EMPTY:(this.observers.push(r),a=new SubjectSubscription(this,r)),u&&r.add(r=new ObserveOnSubscriber(r,u)),g)for(var f=0;f<B&&!r.closed;f++)r.next(E[f]);else for(f=0;f<B&&!r.closed;f++)r.next(E[f].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),a=this._bufferSize,g=this._windowTime,E=this._events,u=E.length,B=0;B<u&&!(r-E[B].time<g);)B++;return u>a&&(B=Math.max(B,u-a)),B>0&&E.splice(0,B),E},e}(Subject),ReplayEvent=function(){return function(n,e){this.time=n,this.value=e}}(),AsyncSubject=function(n){function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return __extends$3(e,n),e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Subscription$2.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Subscription$2.EMPTY):n.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||n.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&n.prototype.next.call(this,this.value),n.prototype.complete.call(this)},e}(Subject),nextHandle=1,RESOLVED=function(){return Promise.resolve()}(),activeHandles={};function findAndClearHandle(n){return n in activeHandles&&(delete activeHandles[n],!0)}var Immediate={setImmediate:function(n){var e=nextHandle++;return activeHandles[e]=!0,RESOLVED.then(function(){return findAndClearHandle(e)&&n()}),e},clearImmediate:function(n){findAndClearHandle(n)}},AsapAction=function(n){function e(r,a){var g=n.call(this,r,a)||this;return g.scheduler=r,g.work=a,g}return __extends$3(e,n),e.prototype.requestAsyncId=function(r,a,g){return g===void 0&&(g=0),g!==null&&g>0?n.prototype.requestAsyncId.call(this,r,a,g):(r.actions.push(this),r.scheduled||(r.scheduled=Immediate.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,a,g){if(g===void 0&&(g=0),g!==null&&g>0||g===null&&this.delay>0)return n.prototype.recycleAsyncId.call(this,r,a,g);r.actions.length===0&&(Immediate.clearImmediate(a),r.scheduled=void 0)},e}(AsyncAction$2),AsapScheduler=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return __extends$3(e,n),e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var a,g=this.actions,E=-1,u=g.length;r=r||g.shift();do if(a=r.execute(r.state,r.delay))break;while(++E<u&&(r=g.shift()));if(this.active=!1,a){for(;++E<u&&(r=g.shift());)r.unsubscribe();throw a}},e}(AsyncScheduler$2),asapScheduler=new AsapScheduler(AsapAction),asap=asapScheduler,asyncScheduler=new AsyncScheduler$2(AsyncAction$2),async=asyncScheduler,AnimationFrameAction=function(n){function e(r,a){var g=n.call(this,r,a)||this;return g.scheduler=r,g.work=a,g}return __extends$3(e,n),e.prototype.requestAsyncId=function(r,a,g){return g===void 0&&(g=0),g!==null&&g>0?n.prototype.requestAsyncId.call(this,r,a,g):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,a,g){if(g===void 0&&(g=0),g!==null&&g>0||g===null&&this.delay>0)return n.prototype.recycleAsyncId.call(this,r,a,g);r.actions.length===0&&(cancelAnimationFrame(a),r.scheduled=void 0)},e}(AsyncAction$2),AnimationFrameScheduler=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return __extends$3(e,n),e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var a,g=this.actions,E=-1,u=g.length;r=r||g.shift();do if(a=r.execute(r.state,r.delay))break;while(++E<u&&(r=g.shift()));if(this.active=!1,a){for(;++E<u&&(r=g.shift());)r.unsubscribe();throw a}},e}(AsyncScheduler$2),animationFrameScheduler=new AnimationFrameScheduler(AnimationFrameAction),animationFrame=animationFrameScheduler,VirtualTimeScheduler=function(n){function e(r,a){r===void 0&&(r=VirtualAction),a===void 0&&(a=Number.POSITIVE_INFINITY);var g=n.call(this,r,function(){return g.frame})||this;return g.maxFrames=a,g.frame=0,g.index=-1,g}return __extends$3(e,n),e.prototype.flush=function(){for(var r,a,g=this.actions,E=this.maxFrames;(a=g[0])&&a.delay<=E&&(g.shift(),this.frame=a.delay,!(r=a.execute(a.state,a.delay))););if(r){for(;a=g.shift();)a.unsubscribe();throw r}},e.frameTimeFactor=10,e}(AsyncScheduler$2),VirtualAction=function(n){function e(r,a,g){g===void 0&&(g=r.index+=1);var E=n.call(this,r,a)||this;return E.scheduler=r,E.work=a,E.index=g,E.active=!0,E.index=r.index=g,E}return __extends$3(e,n),e.prototype.schedule=function(r,a){if(a===void 0&&(a=0),!this.id)return n.prototype.schedule.call(this,r,a);this.active=!1;var g=new e(this.scheduler,this.work);return this.add(g),g.schedule(r,a)},e.prototype.requestAsyncId=function(r,a,g){g===void 0&&(g=0),this.delay=r.frame+g;var E=r.actions;return E.push(this),E.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,a,g){},e.prototype._execute=function(r,a){if(this.active===!0)return n.prototype._execute.call(this,r,a)},e.sortActions=function(r,a){return r.delay===a.delay?r.index===a.index?0:r.index>a.index?1:-1:r.delay>a.delay?1:-1},e}(AsyncAction$2);function noop$3(){}function isObservable(n){return!!n&&(n instanceof Observable||typeof n.lift=="function"&&typeof n.subscribe=="function")}var ArgumentOutOfRangeErrorImpl=function(){function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n}(),ArgumentOutOfRangeError=ArgumentOutOfRangeErrorImpl,EmptyErrorImpl=function(){function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n}(),EmptyError=EmptyErrorImpl,TimeoutErrorImpl=function(){function n(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return n.prototype=Object.create(Error.prototype),n}(),TimeoutError=TimeoutErrorImpl;function map$1(n,e){return function(r){if(typeof n!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new MapOperator(n,e))}}var MapOperator=function(){function n(e,r){this.project=e,this.thisArg=r}return n.prototype.call=function(e,r){return r.subscribe(new MapSubscriber(e,this.project,this.thisArg))},n}(),MapSubscriber=function(n){function e(r,a,g){var E=n.call(this,r)||this;return E.project=a,E.count=0,E.thisArg=g||E,E}return __extends$3(e,n),e.prototype._next=function(r){var a;try{a=this.project.call(this.thisArg,r,this.count++)}catch(g){return void this.destination.error(g)}this.destination.next(a)},e}(Subscriber);function bindCallback(n,e,r){if(e){if(!isScheduler(e))return function(){for(var a=[],g=0;g<arguments.length;g++)a[g]=arguments[g];return bindCallback(n,r).apply(void 0,a).pipe(map$1(function(E){return isArray$h(E)?e.apply(void 0,E):e(E)}))};r=e}return function(){for(var a=[],g=0;g<arguments.length;g++)a[g]=arguments[g];var E,u=this,B={context:u,subject:E,callbackFunc:n,scheduler:r};return new Observable(function(f){if(r){var m={args:a,subscriber:f,params:B};return r.schedule(dispatch$6,0,m)}if(!E){E=new AsyncSubject;try{n.apply(u,a.concat([function(){for(var y=[],D=0;D<arguments.length;D++)y[D]=arguments[D];E.next(y.length<=1?y[0]:y),E.complete()}]))}catch(y){canReportError(E)?E.error(y):console.warn(y)}}return E.subscribe(f)})}}function dispatch$6(n){var e=this,r=n.args,a=n.subscriber,g=n.params,E=g.callbackFunc,u=g.context,B=g.scheduler,f=g.subject;if(!f){f=g.subject=new AsyncSubject;try{E.apply(u,r.concat([function(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];var D=m.length<=1?m[0]:m;e.add(B.schedule(dispatchNext$2,0,{value:D,subject:f}))}]))}catch(m){f.error(m)}}this.add(f.subscribe(a))}function dispatchNext$2(n){var e=n.value,r=n.subject;r.next(e),r.complete()}function bindNodeCallback(n,e,r){if(e){if(!isScheduler(e))return function(){for(var a=[],g=0;g<arguments.length;g++)a[g]=arguments[g];return bindNodeCallback(n,r).apply(void 0,a).pipe(map$1(function(E){return isArray$h(E)?e.apply(void 0,E):e(E)}))};r=e}return function(){for(var a=[],g=0;g<arguments.length;g++)a[g]=arguments[g];var E={subject:void 0,args:a,callbackFunc:n,scheduler:r,context:this};return new Observable(function(u){var B=E.context,f=E.subject;if(r)return r.schedule(dispatch$5,0,{params:E,subscriber:u,context:B});if(!f){f=E.subject=new AsyncSubject;try{n.apply(B,a.concat([function(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];var D=m.shift();D?f.error(D):(f.next(m.length<=1?m[0]:m),f.complete())}]))}catch(m){canReportError(f)?f.error(m):console.warn(m)}}return f.subscribe(u)})}}function dispatch$5(n){var e=this,r=n.params,a=n.subscriber,g=n.context,E=r.callbackFunc,u=r.args,B=r.scheduler,f=r.subject;if(!f){f=r.subject=new AsyncSubject;try{E.apply(g,u.concat([function(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];var D=m.shift();if(D)e.add(B.schedule(dispatchError,0,{err:D,subject:f}));else{var M=m.length<=1?m[0]:m;e.add(B.schedule(dispatchNext$1,0,{value:M,subject:f}))}}]))}catch(m){this.add(B.schedule(dispatchError,0,{err:m,subject:f}))}}this.add(f.subscribe(a))}function dispatchNext$1(n){var e=n.value,r=n.subject;r.next(e),r.complete()}function dispatchError(n){var e=n.err;n.subject.error(e)}var OuterSubscriber=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return __extends$3(e,n),e.prototype.notifyNext=function(r,a,g,E,u){this.destination.next(a)},e.prototype.notifyError=function(r,a){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(Subscriber),InnerSubscriber=function(n){function e(r,a,g){var E=n.call(this)||this;return E.parent=r,E.outerValue=a,E.outerIndex=g,E.index=0,E}return __extends$3(e,n),e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Subscriber),subscribeToPromise=function(n){return function(e){return n.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,hostReportError),e}};function getSymbolIterator(){return typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator"}var iterator=getSymbolIterator(),subscribeToIterable=function(n){return function(e){for(var r=n[iterator]();;){var a=void 0;try{a=r.next()}catch(g){return e.error(g),e}if(a.done){e.complete();break}if(e.next(a.value),e.closed)break}return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},subscribeToObservable=function(n){return function(e){var r=n[observable]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},isArrayLike$9=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function isPromise(n){return!!n&&typeof n.subscribe!="function"&&typeof n.then=="function"}var subscribeTo=function(n){if(n&&typeof n[observable]=="function")return subscribeToObservable(n);if(isArrayLike$9(n))return subscribeToArray(n);if(isPromise(n))return subscribeToPromise(n);if(n&&typeof n[iterator]=="function")return subscribeToIterable(n);var e=isObject$e(n)?"an invalid object":"'"+n+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function subscribeToResult(n,e,r,a,g){if(g===void 0&&(g=new InnerSubscriber(n,r,a)),!g.closed)return e instanceof Observable?e.subscribe(g):subscribeTo(e)(g)}var NONE={};function combineLatest(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=void 0,a=void 0;return isScheduler(n[n.length-1])&&(a=n.pop()),typeof n[n.length-1]=="function"&&(r=n.pop()),n.length===1&&isArray$h(n[0])&&(n=n[0]),fromArray(n,a).lift(new CombineLatestOperator(r))}var CombineLatestOperator=function(){function n(e){this.resultSelector=e}return n.prototype.call=function(e,r){return r.subscribe(new CombineLatestSubscriber(e,this.resultSelector))},n}(),CombineLatestSubscriber=function(n){function e(r,a){var g=n.call(this,r)||this;return g.resultSelector=a,g.active=0,g.values=[],g.observables=[],g}return __extends$3(e,n),e.prototype._next=function(r){this.values.push(NONE),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,a=r.length;if(a===0)this.destination.complete();else{this.active=a,this.toRespond=a;for(var g=0;g<a;g++){var E=r[g];this.add(subscribeToResult(this,E,void 0,g))}}},e.prototype.notifyComplete=function(r){(this.active-=1)==0&&this.destination.complete()},e.prototype.notifyNext=function(r,a,g){var E=this.values,u=E[g],B=this.toRespond?u===NONE?--this.toRespond:this.toRespond:0;E[g]=a,B===0&&(this.resultSelector?this._tryResultSelector(E):this.destination.next(E.slice()))},e.prototype._tryResultSelector=function(r){var a;try{a=this.resultSelector.apply(this,r)}catch(g){return void this.destination.error(g)}this.destination.next(a)},e}(OuterSubscriber);function scheduleObservable(n,e){return new Observable(function(r){var a=new Subscription$2;return a.add(e.schedule(function(){var g=n[observable]();a.add(g.subscribe({next:function(E){a.add(e.schedule(function(){return r.next(E)}))},error:function(E){a.add(e.schedule(function(){return r.error(E)}))},complete:function(){a.add(e.schedule(function(){return r.complete()}))}}))})),a})}function schedulePromise(n,e){return new Observable(function(r){var a=new Subscription$2;return a.add(e.schedule(function(){return n.then(function(g){a.add(e.schedule(function(){r.next(g),a.add(e.schedule(function(){return r.complete()}))}))},function(g){a.add(e.schedule(function(){return r.error(g)}))})})),a})}function scheduleIterable(n,e){if(!n)throw new Error("Iterable cannot be null");return new Observable(function(r){var a,g=new Subscription$2;return g.add(function(){a&&typeof a.return=="function"&&a.return()}),g.add(e.schedule(function(){a=n[iterator](),g.add(e.schedule(function(){if(!r.closed){var E,u;try{var B=a.next();E=B.value,u=B.done}catch(f){return void r.error(f)}u?r.complete():(r.next(E),this.schedule())}}))})),g})}function isInteropObservable(n){return n&&typeof n[observable]=="function"}function isIterable$1(n){return n&&typeof n[iterator]=="function"}function scheduled(n,e){if(n!=null){if(isInteropObservable(n))return scheduleObservable(n,e);if(isPromise(n))return schedulePromise(n,e);if(isArrayLike$9(n))return scheduleArray(n,e);if(isIterable$1(n)||typeof n=="string")return scheduleIterable(n,e)}throw new TypeError((n!==null&&typeof n||n)+" is not observable")}function from(n,e){return e?scheduled(n,e):n instanceof Observable?n:new Observable(subscribeTo(n))}var SimpleInnerSubscriber=function(n){function e(r){var a=n.call(this)||this;return a.parent=r,a}return __extends$3(e,n),e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(Subscriber),SimpleOuterSubscriber=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return __extends$3(e,n),e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(Subscriber);function innerSubscribe(n,e){if(!e.closed){if(n instanceof Observable)return n.subscribe(e);var r;try{r=subscribeTo(n)(e)}catch(a){e.error(a)}return r}}function mergeMap(n,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(a){return a.pipe(mergeMap(function(g,E){return from(n(g,E)).pipe(map$1(function(u,B){return e(g,u,E,B)}))},r))}:(typeof e=="number"&&(r=e),function(a){return a.lift(new MergeMapOperator(n,r))})}var MergeMapOperator=function(){function n(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return n.prototype.call=function(e,r){return r.subscribe(new MergeMapSubscriber(e,this.project,this.concurrent))},n}(),MergeMapSubscriber=function(n){function e(r,a,g){g===void 0&&(g=Number.POSITIVE_INFINITY);var E=n.call(this,r)||this;return E.project=a,E.concurrent=g,E.hasCompleted=!1,E.buffer=[],E.active=0,E.index=0,E}return __extends$3(e,n),e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var a,g=this.index++;try{a=this.project(r,g)}catch(E){return void this.destination.error(E)}this.active++,this._innerSub(a)},e.prototype._innerSub=function(r){var a=new SimpleInnerSubscriber(this),g=this.destination;g.add(a);var E=innerSubscribe(r,a);E!==a&&g.add(E)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(SimpleOuterSubscriber);function mergeAll(n){return n===void 0&&(n=Number.POSITIVE_INFINITY),mergeMap(identity$5,n)}function concatAll(){return mergeAll(1)}function concat(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return concatAll()(of.apply(void 0,n))}function defer(n){return new Observable(function(e){var r;try{r=n()}catch(a){return void e.error(a)}return(r?from(r):empty()).subscribe(e)})}function forkJoin(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n.length===1){var r=n[0];if(isArray$h(r))return forkJoinInternal(r,null);if(isObject$e(r)&&Object.getPrototypeOf(r)===Object.prototype){var a=Object.keys(r);return forkJoinInternal(a.map(function(E){return r[E]}),a)}}if(typeof n[n.length-1]=="function"){var g=n.pop();return forkJoinInternal(n=n.length===1&&isArray$h(n[0])?n[0]:n,null).pipe(map$1(function(E){return g.apply(void 0,E)}))}return forkJoinInternal(n,null)}function forkJoinInternal(n,e){return new Observable(function(r){var a=n.length;if(a!==0)for(var g=new Array(a),E=0,u=0,B=function(m){var y=from(n[m]),D=!1;r.add(y.subscribe({next:function(M){D||(D=!0,u++),g[m]=M},error:function(M){return r.error(M)},complete:function(){++E!==a&&D||(u===a&&r.next(e?e.reduce(function(M,O,U){return M[O]=g[U],M},{}):g),r.complete())}}))},f=0;f<a;f++)B(f);else r.complete()})}function fromEvent(n,e,r,a){return isFunction$7(r)&&(a=r,r=void 0),a?fromEvent(n,e,r).pipe(map$1(function(g){return isArray$h(g)?a.apply(void 0,g):a(g)})):new Observable(function(g){setupSubscription(n,e,function(E){arguments.length>1?g.next(Array.prototype.slice.call(arguments)):g.next(E)},g,r)})}function setupSubscription(n,e,r,a,g){var E;if(isEventTarget(n)){var u=n;n.addEventListener(e,r,g),E=function(){return u.removeEventListener(e,r,g)}}else if(isJQueryStyleEventEmitter(n)){var B=n;n.on(e,r),E=function(){return B.off(e,r)}}else if(isNodeStyleEventEmitter(n)){var f=n;n.addListener(e,r),E=function(){return f.removeListener(e,r)}}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(var m=0,y=n.length;m<y;m++)setupSubscription(n[m],e,r,a,g)}a.add(E)}function isNodeStyleEventEmitter(n){return n&&typeof n.addListener=="function"&&typeof n.removeListener=="function"}function isJQueryStyleEventEmitter(n){return n&&typeof n.on=="function"&&typeof n.off=="function"}function isEventTarget(n){return n&&typeof n.addEventListener=="function"&&typeof n.removeEventListener=="function"}function fromEventPattern(n,e,r){return r?fromEventPattern(n,e).pipe(map$1(function(a){return isArray$h(a)?r.apply(void 0,a):r(a)})):new Observable(function(a){var g,E=function(){for(var u=[],B=0;B<arguments.length;B++)u[B]=arguments[B];return a.next(u.length===1?u[0]:u)};try{g=n(E)}catch(u){return void a.error(u)}if(isFunction$7(e))return function(){return e(E,g)}})}function generate(n,e,r,a,g){var E,u;if(arguments.length==1){var B=n;u=B.initialState,e=B.condition,r=B.iterate,E=B.resultSelector||identity$5,g=B.scheduler}else a===void 0||isScheduler(a)?(u=n,E=identity$5,g=a):(u=n,E=a);return new Observable(function(f){var m=u;if(g)return g.schedule(dispatch$4,0,{subscriber:f,iterate:r,condition:e,resultSelector:E,state:m});for(;;){if(e){var y=void 0;try{y=e(m)}catch(M){return void f.error(M)}if(!y){f.complete();break}}var D=void 0;try{D=E(m)}catch(M){return void f.error(M)}if(f.next(D),f.closed)break;try{m=r(m)}catch(M){return void f.error(M)}}})}function dispatch$4(n){var e=n.subscriber,r=n.condition;if(!e.closed){if(n.needIterate)try{n.state=n.iterate(n.state)}catch(E){return void e.error(E)}else n.needIterate=!0;if(r){var a=void 0;try{a=r(n.state)}catch(E){return void e.error(E)}if(!a)return void e.complete();if(e.closed)return}var g;try{g=n.resultSelector(n.state)}catch(E){return void e.error(E)}if(!e.closed&&(e.next(g),!e.closed))return this.schedule(n)}}function iif(n,e,r){return e===void 0&&(e=EMPTY),r===void 0&&(r=EMPTY),defer(function(){return n()?e:r})}function isNumeric(n){return!isArray$h(n)&&n-parseFloat(n)+1>=0}function interval(n,e){return n===void 0&&(n=0),e===void 0&&(e=async),(!isNumeric(n)||n<0)&&(n=0),e&&typeof e.schedule=="function"||(e=async),new Observable(function(r){return r.add(e.schedule(dispatch$3,n,{subscriber:r,counter:0,period:n})),r})}function dispatch$3(n){var e=n.subscriber,r=n.counter,a=n.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:a},a)}function merge(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=Number.POSITIVE_INFINITY,a=null,g=n[n.length-1];return isScheduler(g)?(a=n.pop(),n.length>1&&typeof n[n.length-1]=="number"&&(r=n.pop())):typeof g=="number"&&(r=n.pop()),a===null&&n.length===1&&n[0]instanceof Observable?n[0]:mergeAll(r)(fromArray(n,a))}var NEVER=new Observable(noop$3);function never(){return NEVER}function onErrorResumeNext(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n.length===0)return EMPTY;var r=n[0],a=n.slice(1);return n.length===1&&isArray$h(r)?onErrorResumeNext.apply(void 0,r):new Observable(function(g){var E=function(){return g.add(onErrorResumeNext.apply(void 0,a).subscribe(g))};return from(r).subscribe({next:function(u){g.next(u)},error:E,complete:E})})}function pairs(n,e){return new Observable(e?function(r){var a=Object.keys(n),g=new Subscription$2;return g.add(e.schedule(dispatch$2,0,{keys:a,index:0,subscriber:r,subscription:g,obj:n})),g}:function(r){for(var a=Object.keys(n),g=0;g<a.length&&!r.closed;g++){var E=a[g];n.hasOwnProperty(E)&&r.next([E,n[E]])}r.complete()})}function dispatch$2(n){var e=n.keys,r=n.index,a=n.subscriber,g=n.subscription,E=n.obj;if(!a.closed)if(r<e.length){var u=e[r];a.next([u,E[u]]),g.add(this.schedule({keys:e,index:r+1,subscriber:a,subscription:g,obj:E}))}else a.complete()}function not(n,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=n,r.thisArg=e,r}function filter(n,e){return function(r){return r.lift(new FilterOperator(n,e))}}var FilterOperator=function(){function n(e,r){this.predicate=e,this.thisArg=r}return n.prototype.call=function(e,r){return r.subscribe(new FilterSubscriber(e,this.predicate,this.thisArg))},n}(),FilterSubscriber=function(n){function e(r,a,g){var E=n.call(this,r)||this;return E.predicate=a,E.thisArg=g,E.count=0,E}return __extends$3(e,n),e.prototype._next=function(r){var a;try{a=this.predicate.call(this.thisArg,r,this.count++)}catch(g){return void this.destination.error(g)}a&&this.destination.next(r)},e}(Subscriber);function partition(n,e,r){return[filter(e,r)(new Observable(subscribeTo(n))),filter(not(e,r))(new Observable(subscribeTo(n)))]}function race(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n.length===1){if(!isArray$h(n[0]))return n[0];n=n[0]}return fromArray(n,void 0).lift(new RaceOperator)}var RaceOperator=function(){function n(){}return n.prototype.call=function(e,r){return r.subscribe(new RaceSubscriber(e))},n}(),RaceSubscriber=function(n){function e(r){var a=n.call(this,r)||this;return a.hasFirst=!1,a.observables=[],a.subscriptions=[],a}return __extends$3(e,n),e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,a=r.length;if(a===0)this.destination.complete();else{for(var g=0;g<a&&!this.hasFirst;g++){var E=subscribeToResult(this,r[g],void 0,g);this.subscriptions&&this.subscriptions.push(E),this.add(E)}this.observables=null}},e.prototype.notifyNext=function(r,a,g){if(!this.hasFirst){this.hasFirst=!0;for(var E=0;E<this.subscriptions.length;E++)if(E!==g){var u=this.subscriptions[E];u.unsubscribe(),this.remove(u)}this.subscriptions=null}this.destination.next(a)},e}(OuterSubscriber);function range(n,e,r){return n===void 0&&(n=0),new Observable(function(a){e===void 0&&(e=n,n=0);var g=0,E=n;if(r)return r.schedule(dispatch$1,0,{index:g,count:e,start:n,subscriber:a});for(;;){if(g++>=e){a.complete();break}if(a.next(E++),a.closed)break}})}function dispatch$1(n){var e=n.start,r=n.index,a=n.count,g=n.subscriber;r>=a?g.complete():(g.next(e),g.closed||(n.index=r+1,n.start=e+1,this.schedule(n)))}function timer(n,e,r){n===void 0&&(n=0);var a=-1;return isNumeric(e)?a=Number(e)<1?1:Number(e):isScheduler(e)&&(r=e),isScheduler(r)||(r=async),new Observable(function(g){var E=isNumeric(n)?n:+n-r.now();return r.schedule(dispatch,E,{index:0,period:a,subscriber:g})})}function dispatch(n){var e=n.index,r=n.period,a=n.subscriber;if(a.next(e),!a.closed){if(r===-1)return a.complete();n.index=e+1,this.schedule(n,r)}}function using(n,e){return new Observable(function(r){var a,g;try{a=n()}catch(u){return void r.error(u)}try{g=e(a)}catch(u){return void r.error(u)}var E=(g?from(g):EMPTY).subscribe(r);return function(){E.unsubscribe(),a&&a.unsubscribe()}})}function zip(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=n[n.length-1];return typeof r=="function"&&n.pop(),fromArray(n,void 0).lift(new ZipOperator(r))}var ZipOperator=function(){function n(e){this.resultSelector=e}return n.prototype.call=function(e,r){return r.subscribe(new ZipSubscriber(e,this.resultSelector))},n}(),ZipSubscriber=function(n){function e(r,a,g){var E=n.call(this,r)||this;return E.resultSelector=a,E.iterators=[],E.active=0,E.resultSelector=typeof a=="function"?a:void 0,E}return __extends$3(e,n),e.prototype._next=function(r){var a=this.iterators;isArray$h(r)?a.push(new StaticArrayIterator(r)):typeof r[iterator]=="function"?a.push(new StaticIterator(r[iterator]())):a.push(new ZipBufferIterator(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,a=r.length;if(this.unsubscribe(),a!==0){this.active=a;for(var g=0;g<a;g++){var E=r[g];E.stillUnsubscribed?this.destination.add(E.subscribe()):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,a=r.length,g=this.destination,E=0;E<a;E++)if(typeof(f=r[E]).hasValue=="function"&&!f.hasValue())return;var u=!1,B=[];for(E=0;E<a;E++){var f,m=(f=r[E]).next();if(f.hasCompleted()&&(u=!0),m.done)return void g.complete();B.push(m.value)}this.resultSelector?this._tryresultSelector(B):g.next(B),u&&g.complete()},e.prototype._tryresultSelector=function(r){var a;try{a=this.resultSelector.apply(this,r)}catch(g){return void this.destination.error(g)}this.destination.next(a)},e}(Subscriber),StaticIterator=function(){function n(e){this.iterator=e,this.nextResult=e.next()}return n.prototype.hasValue=function(){return!0},n.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},n.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},n}(),StaticArrayIterator=function(){function n(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return n.prototype[iterator]=function(){return this},n.prototype.next=function(e){var r=this.index++,a=this.array;return r<this.length?{value:a[r],done:!1}:{value:null,done:!0}},n.prototype.hasValue=function(){return this.array.length>this.index},n.prototype.hasCompleted=function(){return this.array.length===this.index},n}(),ZipBufferIterator=function(n){function e(r,a,g){var E=n.call(this,r)||this;return E.parent=a,E.observable=g,E.stillUnsubscribed=!0,E.buffer=[],E.isComplete=!1,E}return __extends$3(e,n),e.prototype[iterator]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return innerSubscribe(this.observable,new SimpleInnerSubscriber(this))},e}(SimpleOuterSubscriber),_esm5=Object.freeze({__proto__:null,ArgumentOutOfRangeError,AsyncSubject,BehaviorSubject,ConnectableObservable,EMPTY,EmptyError,GroupedObservable,NEVER,Notification,get NotificationKind(){return NotificationKind},ObjectUnsubscribedError,Observable,ReplaySubject,Scheduler:Scheduler$2,Subject,Subscriber,Subscription:Subscription$2,TimeoutError,UnsubscriptionError:UnsubscriptionError$1,VirtualAction,VirtualTimeScheduler,animationFrame,animationFrameScheduler,asap,asapScheduler,async,asyncScheduler,bindCallback,bindNodeCallback,combineLatest,concat,config:config$1,defer,empty,forkJoin,from,fromEvent,fromEventPattern,generate,identity:identity$5,iif,interval,isObservable,merge,never,noop:noop$3,observable,of,onErrorResumeNext,pairs,partition,pipe,queue,queueScheduler,race,range,scheduled,throwError,timer,using,zip});const addPeriodIfNeeded=n=>typeof n=="string"?n.endsWith(".")?n:"".concat(n,"."):n;function genErrorMessage(n,e){const r=typeof e=="number"?e:e!==void 0&&typeof e!="string"?e.code:void 0,a=typeof e!="number"&&typeof e!="string"&&e!==void 0&&e.serverCode!==void 0?e.serverCode:void 0,g="".concat(r!==void 0?"Error Code ".concat(r):"").concat(a!==void 0?", server Code ".concat(a):"");let E;return E=typeof n=="string"&&n?addPeriodIfNeeded(n):Array.isArray(n)&&typeof n[0]=="string"&&n[0]?addPeriodIfNeeded(format$1(n[0],...n.slice(1))):"","".concat(g===""?"":"".concat(g," - ")).concat(E)}class RTMBaseError extends Error{constructor(e,r,a){var g;let E;super(genErrorMessage(r,a)),_defineProperty$1(this,"originalError",void 0),_defineProperty$1(this,"code",void 0),_defineProperty$1(this,"serverCode",void 0),_defineProperty$1(this,"error",void 0),_defineProperty$1(this,"reason",void 0),_defineProperty$1(this,"operation",void 0),_defineProperty$1(this,"errorCode",void 0),typeof a=="number"?this.code=a:typeof a=="string"?this.name=a:a!==void 0&&(a.originalError&&(this.originalError=a.originalError),a.code!==void 0&&(this.code=a.code),a.serverCode!==void 0&&(this.serverCode=a.serverCode)),E=typeof r=="string"&&r?addPeriodIfNeeded(r):Array.isArray(r)&&typeof r[0]=="string"&&r[0]?addPeriodIfNeeded(format$1(r[0],...r.slice(1))):"",this.error=!0,this.errorCode=(g=this.code)!==null&&g!==void 0?g:0,this.operation=e??"",this.reason=E}}class RtmInternalError extends Error{constructor(e,r){super(genErrorMessage(e,r)),_defineProperty$1(this,"name","RtmInternalError"),_defineProperty$1(this,"code",void 0),this.code=r}}const genError=()=>class extends RtmInternalError{constructor(n){const e=Object.keys(n);super(n[e[0]],e[0])}},CommonError=genError();class RtmTimeoutError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,"name","RtmTimeoutError")}}class RtmInvalidArgumentError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,"name","RtmInvalidArgumentError")}}class RtmInvalidStatusError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,"name","RtmInvalidStatusError")}}class RtmLimitExceededError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,"name","RtmLimitExceededError")}}class RtmInvokeTooOftenError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,"name","RtmInvokeTooOftenError")}}class RtmUnavailableError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,"name","RtmUnavailableError"),_defineProperty$1(this,"statusCode",void 0)}}class RtmUnauthenticatedError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,"name","RtmUnauthenticatedError"),_defineProperty$1(this,"serverCode",void 0)}}class RtmUnknownError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,"name","RtmUnknownError")}}const isTimeout=n=>n instanceof RtmTimeoutError||n instanceof TimeoutError,isRtmError=n=>n instanceof RTMBaseError,isNoLogged=n=>n instanceof RtmInvalidStatusError;function getType(n){return Object.prototype.toString.call(n).slice(8,-1)}function isUndefined$2(n){return getType(n)==="Undefined"}function isNull$2(n){return getType(n)==="Null"}function isPlainObject$3(n){return getType(n)==="Object"&&n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function isEmptyObject(n){return isPlainObject$3(n)&&Object.keys(n).length===0}function isAnyObject(n){return getType(n)==="Object"}function isFunction$6(n){return typeof n=="function"}function isString(n){return getType(n)==="String"}function isNumber(n){return getType(n)==="Number"&&!isNaN(n)}function isBoolean(n){return getType(n)==="Boolean"}function isSymbol$6(n){return getType(n)==="Symbol"}function isPrimitive(n){return isBoolean(n)||isNull$2(n)||isUndefined$2(n)||isNumber(n)||isString(n)||isSymbol$6(n)}function isNil(n){return n==null}var isNil_1=isNil,isNil$1=getDefaultExportFromCjs(isNil_1);function copyArray$3(n,e){var r=-1,a=n.length;for(e||(e=Array(a));++r<a;)e[r]=n[r];return e}var _copyArray=copyArray$3,nativeFloor=Math.floor,nativeRandom=Math.random;function baseRandom$2(n,e){return n+nativeFloor(nativeRandom()*(e-n+1))}var _baseRandom=baseRandom$2,baseRandom$1=_baseRandom;function shuffleSelf$2(n,e){var r=-1,a=n.length,g=a-1;for(e=e===void 0?a:e;++r<e;){var E=baseRandom$1(r,g),u=n[E];n[E]=n[r],n[r]=u}return n.length=e,n}var _shuffleSelf=shuffleSelf$2,copyArray$2=_copyArray,shuffleSelf$1=_shuffleSelf;function arrayShuffle$1(n){return shuffleSelf$1(copyArray$2(n))}var _arrayShuffle=arrayShuffle$1;function arrayMap$5(n,e){for(var r=-1,a=n==null?0:n.length,g=Array(a);++r<a;)g[r]=e(n[r],r,n);return g}var _arrayMap=arrayMap$5,arrayMap$4=_arrayMap;function baseValues$1(n,e){return arrayMap$4(e,function(r){return n[r]})}var _baseValues=baseValues$1;function baseTimes$1(n,e){for(var r=-1,a=Array(n);++r<n;)a[r]=e(r);return a}var _baseTimes=baseTimes$1,freeGlobal$1=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$7=root$8.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(n){var e=hasOwnProperty$c.call(n,symToStringTag$1),r=n[symToStringTag$1];try{n[symToStringTag$1]=void 0;var a=!0}catch{}var g=nativeObjectToString$1.call(n);return a&&(e?n[symToStringTag$1]=r:delete n[symToStringTag$1]),g}var _getRawTag=getRawTag$1,objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString$1(n){return nativeObjectToString.call(n)}var _objectToString=objectToString$1,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$6(n){return n==null?n===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(n)?getRawTag(n):objectToString(n)}var _baseGetTag=baseGetTag$6;function isObjectLike$9(n){return n!=null&&typeof n=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$5=_baseGetTag,isObjectLike$8=isObjectLike_1,argsTag$3="[object Arguments]";function baseIsArguments$1(n){return isObjectLike$8(n)&&baseGetTag$5(n)==argsTag$3}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$7=isObjectLike_1,objectProto$d=Object.prototype,hasOwnProperty$b=objectProto$d.hasOwnProperty,propertyIsEnumerable$1=objectProto$d.propertyIsEnumerable,isArguments$4=baseIsArguments(function(){return arguments}())?baseIsArguments:function(n){return isObjectLike$7(n)&&hasOwnProperty$b.call(n,"callee")&&!propertyIsEnumerable$1.call(n,"callee")},isArguments_1=isArguments$4,isArray$g=Array.isArray,isArray_1$1=isArray$g,isBuffer$4={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$4.exports,function(n,e){var r=_root,a=stubFalse_1,g=e&&!e.nodeType&&e,E=g&&n&&!n.nodeType&&n,u=E&&E.exports===g?r.Buffer:void 0,B=(u?u.isBuffer:void 0)||a;n.exports=B}(isBuffer$4,isBuffer$4.exports);var isBufferExports=isBuffer$4.exports,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$4(n,e){var r=typeof n;return!!(e=e??MAX_SAFE_INTEGER$1)&&(r=="number"||r!="symbol"&&reIsUint.test(n))&&n>-1&&n%1==0&&n<e}var _isIndex=isIndex$4,MAX_SAFE_INTEGER=9007199254740991;function isLength$3(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=MAX_SAFE_INTEGER}var isLength_1=isLength$3,baseGetTag$4=_baseGetTag,isLength$2=isLength_1,isObjectLike$6=isObjectLike_1,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$2="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray$1(n){return isObjectLike$6(n)&&isLength$2(n.length)&&!!typedArrayTags[baseGetTag$4(n)]}typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0,typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$2]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$4(n){return function(e){return n(e)}}var _baseUnary=baseUnary$4,_nodeUtil={exports:{}};_nodeUtil.exports,function(n,e){var r=_freeGlobal,a=e&&!e.nodeType&&e,g=a&&n&&!n.nodeType&&n,E=g&&g.exports===a&&r.process,u=function(){try{var B=g&&g.require&&g.require("util").types;return B||E&&E.binding&&E.binding("util")}catch{}}();n.exports=u}(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$3=_baseUnary,nodeUtil$2=_nodeUtilExports,nodeIsTypedArray=nodeUtil$2&&nodeUtil$2.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary$3(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments$3=isArguments_1,isArray$f=isArray_1$1,isBuffer$3=isBufferExports,isIndex$3=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function arrayLikeKeys$2(n,e){var r=isArray$f(n),a=!r&&isArguments$3(n),g=!r&&!a&&isBuffer$3(n),E=!r&&!a&&!g&&isTypedArray$2(n),u=r||a||g||E,B=u?baseTimes(n.length,String):[],f=B.length;for(var m in n)!e&&!hasOwnProperty$a.call(n,m)||u&&(m=="length"||g&&(m=="offset"||m=="parent")||E&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||isIndex$3(m,f))||B.push(m);return B}var _arrayLikeKeys=arrayLikeKeys$2,objectProto$b=Object.prototype;function isPrototype$3(n){var e=n&&n.constructor;return n===(typeof e=="function"&&e.prototype||objectProto$b)}var _isPrototype=isPrototype$3;function overArg$2(n,e){return function(r){return n(e(r))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype$2=_isPrototype,nativeKeys=_nativeKeys,objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty;function baseKeys$1(n){if(!isPrototype$2(n))return nativeKeys(n);var e=[];for(var r in Object(n))hasOwnProperty$9.call(n,r)&&r!="constructor"&&e.push(r);return e}var _baseKeys=baseKeys$1;function isObject$d(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var isObject_1$1=isObject$d,baseGetTag$3=_baseGetTag,isObject$c=isObject_1$1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$5(n){if(!isObject$c(n))return!1;var e=baseGetTag$3(n);return e==funcTag$1||e==genTag$1||e==asyncTag||e==proxyTag}var isFunction_1$1=isFunction$5,isFunction$4=isFunction_1$1,isLength$1=isLength_1;function isArrayLike$8(n){return n!=null&&isLength$1(n.length)&&!isFunction$4(n)}var isArrayLike_1=isArrayLike$8,arrayLikeKeys$1=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$7=isArrayLike_1;function keys$7(n){return isArrayLike$7(n)?arrayLikeKeys$1(n):baseKeys(n)}var keys_1=keys$7,baseValues=_baseValues,keys$6=keys_1;function values$2(n){return n==null?[]:baseValues(n,keys$6(n))}var values_1=values$2,values$3=getDefaultExportFromCjs(values_1),shuffleSelf=_shuffleSelf,values$1=values_1;function baseShuffle$1(n){return shuffleSelf(values$1(n))}var _baseShuffle=baseShuffle$1,arrayShuffle=_arrayShuffle,baseShuffle=_baseShuffle,isArray$e=isArray_1$1;function shuffle(n){return(isArray$e(n)?arrayShuffle:baseShuffle)(n)}var shuffle_1=shuffle,shuffle$1=getDefaultExportFromCjs(shuffle_1);function arraySome$2(n,e){for(var r=-1,a=n==null?0:n.length;++r<a;)if(e(n[r],r,n))return!0;return!1}var _arraySome=arraySome$2;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$5(n,e){return n===e||n!=n&&e!=e}var eq_1=eq$5,eq$4=eq_1;function assocIndexOf$4(n,e){for(var r=n.length;r--;)if(eq$4(n[r][0],e))return r;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(n){var e=this.__data__,r=assocIndexOf$3(e,n);return!(r<0)&&(r==e.length-1?e.pop():splice.call(e,r,1),--this.size,!0)}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(n){var e=this.__data__,r=assocIndexOf$2(e,n);return r<0?void 0:e[r][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(n){return assocIndexOf$1(this.__data__,n)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(n,e){var r=this.__data__,a=assocIndexOf(r,n);return a<0?(++this.size,r.push([n,e])):r[a][1]=e,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var a=n[e];this.set(a[0],a[1])}}ListCache$4.prototype.clear=listCacheClear,ListCache$4.prototype.delete=listCacheDelete,ListCache$4.prototype.get=listCacheGet,ListCache$4.prototype.has=listCacheHas,ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(n){var e=this.__data__,r=e.delete(n);return this.size=e.size,r}var _stackDelete=stackDelete$1;function stackGet$1(n){return this.__data__.get(n)}var _stackGet=stackGet$1;function stackHas$1(n){return this.__data__.has(n)}var _stackHas=stackHas$1,root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""),uid?"Symbol(src)_1."+uid:""),uid;function isMasked$1(n){return!!maskSrcKey&&maskSrcKey in n}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(n){if(n!=null){try{return funcToString$2.call(n)}catch{}try{return n+""}catch{}}return""}var _toSource=toSource$2,isFunction$3=isFunction_1$1,isMasked=_isMasked,isObject$b=isObject_1$1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$9=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$8=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$8).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(n){return!(!isObject$b(n)||isMasked(n))&&(isFunction$3(n)?reIsNative:reIsHostCtor).test(toSource$1(n))}var _baseIsNative=baseIsNative$1;function getValue$1(n,e){return n==null?void 0:n[e]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(n,e){var r=getValue(n,e);return baseIsNative(r)?r:void 0}var _getNative=getNative$7,getNative$6=_getNative,root$6=_root,Map$5=getNative$6(root$6,"Map"),_Map=Map$5,getNative$5=_getNative,nativeCreate$4=getNative$5(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashGet$1(n){var e=this.__data__;if(nativeCreate$2){var r=e[n];return r===HASH_UNDEFINED$2?void 0:r}return hasOwnProperty$7.call(e,n)?e[n]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function hashHas$1(n){var e=this.__data__;return nativeCreate$1?e[n]!==void 0:hasOwnProperty$6.call(e,n)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(n,e){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=nativeCreate&&e===void 0?HASH_UNDEFINED$1:e,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var a=n[e];this.set(a[0],a[1])}}Hash$1.prototype.clear=hashClear,Hash$1.prototype.delete=hashDelete,Hash$1.prototype.get=hashGet,Hash$1.prototype.has=hashHas,Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$4=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$4||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(n,e){var r=n.__data__;return isKeyable(e)?r[typeof e=="string"?"string":"hash"]:r.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(n){var e=getMapData$3(this,n).delete(n);return this.size-=e?1:0,e}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(n){return getMapData$2(this,n).get(n)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(n){return getMapData$1(this,n).has(n)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(n,e){var r=getMapData(this,n),a=r.size;return r.set(n,e),this.size+=r.size==a?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var a=n[e];this.set(a[0],a[1])}}MapCache$3.prototype.clear=mapCacheClear,MapCache$3.prototype.delete=mapCacheDelete,MapCache$3.prototype.get=mapCacheGet,MapCache$3.prototype.has=mapCacheHas,MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,ListCache$1=_ListCache,Map$3=_Map,MapCache$2=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$1(n,e){var r=this.__data__;if(r instanceof ListCache$1){var a=r.__data__;if(!Map$3||a.length<LARGE_ARRAY_SIZE$1-1)return a.push([n,e]),this.size=++r.size,this;r=this.__data__=new MapCache$2(a)}return r.set(n,e),this.size=r.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$4(n){var e=this.__data__=new ListCache(n);this.size=e.size}Stack$4.prototype.clear=stackClear,Stack$4.prototype.delete=stackDelete,Stack$4.prototype.get=stackGet,Stack$4.prototype.has=stackHas,Stack$4.prototype.set=stackSet;var _Stack=Stack$4,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(n){return this.__data__.set(n,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(n){return this.__data__.has(n)}var _setCacheHas=setCacheHas$1,MapCache$1=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$2(n){var e=-1,r=n==null?0:n.length;for(this.__data__=new MapCache$1;++e<r;)this.add(n[e])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd,SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;function cacheHas$2(n,e){return n.has(e)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(n,e,r,a,g,E){var u=r&COMPARE_PARTIAL_FLAG$5,B=n.length,f=e.length;if(B!=f&&!(u&&f>B))return!1;var m=E.get(n),y=E.get(e);if(m&&y)return m==e&&y==n;var D=-1,M=!0,O=r&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(E.set(n,e),E.set(e,n);++D<B;){var U=n[D],F=e[D];if(a)var x=u?a(F,U,D,e,n,E):a(U,F,D,n,e,E);if(x!==void 0){if(x)continue;M=!1;break}if(O){if(!arraySome$1(e,function(H,j){if(!cacheHas$1(O,j)&&(U===H||g(U,H,r,a,E)))return O.push(j)})){M=!1;break}}else if(U!==F&&!g(U,F,r,a,E)){M=!1;break}}return E.delete(n),E.delete(e),M}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$3=root$5.Uint8Array,_Uint8Array=Uint8Array$3;function mapToArray$1(n){var e=-1,r=Array(n.size);return n.forEach(function(a,g){r[++e]=[g,a]}),r}var _mapToArray=mapToArray$1;function setToArray$3(n){var e=-1,r=Array(n.size);return n.forEach(function(a){r[++e]=a}),r}var _setToArray=setToArray$3,Symbol$4=_Symbol,Uint8Array$2=_Uint8Array,eq$3=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",mapTag$4="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",symbolTag$3="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",symbolProto$2=Symbol$4?Symbol$4.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function equalByTag$1(n,e,r,a,g,E,u){switch(r){case dataViewTag$3:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case arrayBufferTag$2:return!(n.byteLength!=e.byteLength||!E(new Uint8Array$2(n),new Uint8Array$2(e)));case boolTag$2:case dateTag$2:case numberTag$2:return eq$3(+n,+e);case errorTag$1:return n.name==e.name&&n.message==e.message;case regexpTag$2:case stringTag$2:return n==e+"";case mapTag$4:var B=mapToArray;case setTag$4:var f=a&COMPARE_PARTIAL_FLAG$4;if(B||(B=setToArray$2),n.size!=e.size&&!f)return!1;var m=u.get(n);if(m)return m==e;a|=COMPARE_UNORDERED_FLAG$2,u.set(n,e);var y=equalArrays$1(B(n),B(e),a,g,E,u);return u.delete(n),y;case symbolTag$3:if(symbolValueOf$1)return symbolValueOf$1.call(n)==symbolValueOf$1.call(e)}return!1}var _equalByTag=equalByTag$1;function arrayPush$3(n,e){for(var r=-1,a=e.length,g=n.length;++r<a;)n[g+r]=e[r];return n}var _arrayPush=arrayPush$3,arrayPush$2=_arrayPush,isArray$d=isArray_1$1;function baseGetAllKeys$2(n,e,r){var a=e(n);return isArray$d(n)?a:arrayPush$2(a,r(n))}var _baseGetAllKeys=baseGetAllKeys$2;function arrayFilter$1(n,e){for(var r=-1,a=n==null?0:n.length,g=0,E=[];++r<a;){var u=n[r];e(u,r,n)&&(E[g++]=u)}return E}var _arrayFilter=arrayFilter$1;function stubArray$2(){return[]}var stubArray_1=stubArray$2,arrayFilter=_arrayFilter,stubArray$1=stubArray_1,objectProto$6=Object.prototype,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols$3=nativeGetSymbols$1?function(n){return n==null?[]:(n=Object(n),arrayFilter(nativeGetSymbols$1(n),function(e){return propertyIsEnumerable.call(n,e)}))}:stubArray$1,_getSymbols=getSymbols$3,baseGetAllKeys$1=_baseGetAllKeys,getSymbols$2=_getSymbols,keys$5=keys_1;function getAllKeys$2(n){return baseGetAllKeys$1(n,keys$5,getSymbols$2)}var _getAllKeys=getAllKeys$2,getAllKeys$1=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function equalObjects$1(n,e,r,a,g,E){var u=r&COMPARE_PARTIAL_FLAG$3,B=getAllKeys$1(n),f=B.length;if(f!=getAllKeys$1(e).length&&!u)return!1;for(var m=f;m--;){var y=B[m];if(!(u?y in e:hasOwnProperty$5.call(e,y)))return!1}var D=E.get(n),M=E.get(e);if(D&&M)return D==e&&M==n;var O=!0;E.set(n,e),E.set(e,n);for(var U=u;++m<f;){var F=n[y=B[m]],x=e[y];if(a)var H=u?a(x,F,y,e,n,E):a(F,x,y,n,e,E);if(!(H===void 0?F===x||g(F,x,r,a,E):H)){O=!1;break}U||(U=y=="constructor")}if(O&&!U){var j=n.constructor,ee=e.constructor;j==ee||!("constructor"in n)||!("constructor"in e)||typeof j=="function"&&j instanceof j&&typeof ee=="function"&&ee instanceof ee||(O=!1)}return E.delete(n),E.delete(e),O}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$4=_root,DataView$2=getNative$4(root$4,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$3=_root,Promise$2=getNative$3(root$3,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$2=_root,Set$3=getNative$2(root$2,"Set"),_Set=Set$3,getNative$1=_getNative,root$1=_root,WeakMap$2=getNative$1(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$2=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag$3="[object Map]",objectTag$3="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$4=baseGetTag$2;(DataView$1&&getTag$4(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$2||Map$2&&getTag$4(new Map$2)!=mapTag$3||Promise$1&&getTag$4(Promise$1.resolve())!=promiseTag||Set$2&&getTag$4(new Set$2)!=setTag$3||WeakMap$1&&getTag$4(new WeakMap$1)!=weakMapTag$1)&&(getTag$4=function(n){var e=baseGetTag$2(n),r=e==objectTag$3?n.constructor:void 0,a=r?toSource(r):"";if(a)switch(a){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return e});var _getTag=getTag$4,Stack$3=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$3=_getTag,isArray$c=isArray_1$1,isBuffer$2=isBufferExports,isTypedArray$1=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",objectTag$2="[object Object]",objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function baseIsEqualDeep$1(n,e,r,a,g,E){var u=isArray$c(n),B=isArray$c(e),f=u?arrayTag$1:getTag$3(n),m=B?arrayTag$1:getTag$3(e),y=(f=f==argsTag$1?objectTag$2:f)==objectTag$2,D=(m=m==argsTag$1?objectTag$2:m)==objectTag$2,M=f==m;if(M&&isBuffer$2(n)){if(!isBuffer$2(e))return!1;u=!0,y=!1}if(M&&!y)return E||(E=new Stack$3),u||isTypedArray$1(n)?equalArrays(n,e,r,a,g,E):equalByTag(n,e,f,r,a,g,E);if(!(r&COMPARE_PARTIAL_FLAG$2)){var O=y&&hasOwnProperty$4.call(n,"__wrapped__"),U=D&&hasOwnProperty$4.call(e,"__wrapped__");if(O||U){var F=O?n.value():n,x=U?e.value():e;return E||(E=new Stack$3),g(F,x,r,a,E)}}return!!M&&(E||(E=new Stack$3),equalObjects(n,e,r,a,g,E))}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$5=isObjectLike_1;function baseIsEqual$2(n,e,r,a,g){return n===e||(n==null||e==null||!isObjectLike$5(n)&&!isObjectLike$5(e)?n!=n&&e!=e:baseIsEqualDeep(n,e,r,a,baseIsEqual$2,g))}var _baseIsEqual=baseIsEqual$2,Stack$2=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(n,e,r,a){var g=r.length,E=g,u=!a;if(n==null)return!E;for(n=Object(n);g--;){var B=r[g];if(u&&B[2]?B[1]!==n[B[0]]:!(B[0]in n))return!1}for(;++g<E;){var f=(B=r[g])[0],m=n[f],y=B[1];if(u&&B[2]){if(m===void 0&&!(f in n))return!1}else{var D=new Stack$2;if(a)var M=a(m,y,f,n,e,D);if(!(M===void 0?baseIsEqual$1(y,m,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,a,D):M))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$a=isObject_1$1;function isStrictComparable$2(n){return n==n&&!isObject$a(n)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$4=keys_1;function getMatchData$1(n){for(var e=keys$4(n),r=e.length;r--;){var a=e[r],g=n[a];e[r]=[a,g,isStrictComparable$1(g)]}return e}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(n,e){return function(r){return r!=null&&r[n]===e&&(e!==void 0||n in Object(r))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(n){var e=getMatchData(n);return e.length==1&&e[0][2]?matchesStrictComparable$1(e[0][0],e[0][1]):function(r){return r===n||baseIsMatch(r,n,e)}}var _baseMatches=baseMatches$1,baseGetTag$1=_baseGetTag,isObjectLike$4=isObjectLike_1,symbolTag$2="[object Symbol]";function isSymbol$5(n){return typeof n=="symbol"||isObjectLike$4(n)&&baseGetTag$1(n)==symbolTag$2}var isSymbol_1=isSymbol$5,isArray$b=isArray_1$1,isSymbol$4=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(n,e){if(isArray$b(n))return!1;var r=typeof n;return!(r!="number"&&r!="symbol"&&r!="boolean"&&n!=null&&!isSymbol$4(n))||reIsPlainProp.test(n)||!reIsDeepProp.test(n)||e!=null&&n in Object(e)}var _isKey=isKey$3,MapCache=_MapCache,FUNC_ERROR_TEXT$1="Expected a function";function memoize$1(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT$1);var r=function(){var a=arguments,g=e?e.apply(this,a):a[0],E=r.cache;if(E.has(g))return E.get(g);var u=n.apply(this,a);return r.cache=E.set(g,u)||E,u};return r.cache=new(memoize$1.Cache||MapCache),r}memoize$1.Cache=MapCache;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(n){var e=memoize(n,function(a){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),a}),r=e.cache;return e}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(rePropName,function(r,a,g,E){e.push(g?E.replace(reEscapeChar,"$1"):a||r)}),e}),_stringToPath=stringToPath$1,Symbol$3=_Symbol,arrayMap$3=_arrayMap,isArray$a=isArray_1$1,isSymbol$3=isSymbol_1,symbolProto$1=Symbol$3?Symbol$3.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(n){if(typeof n=="string")return n;if(isArray$a(n))return arrayMap$3(n,baseToString$1)+"";if(isSymbol$3(n))return symbolToString?symbolToString.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$2(n){return n==null?"":baseToString(n)}var toString_1=toString$2,isArray$9=isArray_1$1,isKey$2=_isKey,stringToPath=_stringToPath,toString$1=toString_1;function castPath$6(n,e){return isArray$9(n)?n:isKey$2(n,e)?[n]:stringToPath(toString$1(n))}var _castPath=castPath$6,isSymbol$2=isSymbol_1;function toKey$6(n){if(typeof n=="string"||isSymbol$2(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var _toKey=toKey$6,castPath$5=_castPath,toKey$5=_toKey;function baseGet$5(n,e){for(var r=0,a=(e=castPath$5(e,n)).length;n!=null&&r<a;)n=n[toKey$5(e[r++])];return r&&r==a?n:void 0}var _baseGet=baseGet$5,baseGet$4=_baseGet;function get$1(n,e,r){var a=n==null?void 0:baseGet$4(n,e);return a===void 0?r:a}var get_1=get$1;function baseHasIn$1(n,e){return n!=null&&e in Object(n)}var _baseHasIn=baseHasIn$1,castPath$4=_castPath,isArguments$2=isArguments_1,isArray$8=isArray_1$1,isIndex$2=_isIndex,isLength=isLength_1,toKey$4=_toKey;function hasPath$1(n,e,r){for(var a=-1,g=(e=castPath$4(e,n)).length,E=!1;++a<g;){var u=toKey$4(e[a]);if(!(E=n!=null&&r(n,u)))break;n=n[u]}return E||++a!=g?E:!!(g=n==null?0:n.length)&&isLength(g)&&isIndex$2(u,g)&&(isArray$8(n)||isArguments$2(n))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(n,e){return n!=null&&hasPath(n,e,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$3=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(n,e){return isKey$1(n)&&isStrictComparable(e)?matchesStrictComparable(toKey$3(n),e):function(r){var a=get(r,n);return a===void 0&&a===e?hasIn(r,n):baseIsEqual(e,a,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$4(n){return n}var identity_1=identity$4;function baseProperty$1(n){return function(e){return e==null?void 0:e[n]}}var _baseProperty=baseProperty$1,baseGet$3=_baseGet;function basePropertyDeep$1(n){return function(e){return baseGet$3(e,n)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey$2=_toKey;function property$1(n){return isKey(n)?baseProperty(toKey$2(n)):basePropertyDeep(n)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$3=identity_1,isArray$7=isArray_1$1,property=property_1;function baseIteratee$8(n){return typeof n=="function"?n:n==null?identity$3:typeof n=="object"?isArray$7(n)?baseMatchesProperty(n[0],n[1]):baseMatches(n):property(n)}var _baseIteratee=baseIteratee$8;function createBaseFor$1(n){return function(e,r,a){for(var g=-1,E=Object(e),u=a(e),B=u.length;B--;){var f=u[n?B:++g];if(r(E[f],f,E)===!1)break}return e}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$2=createBaseFor(),_baseFor=baseFor$2,baseFor$1=_baseFor,keys$3=keys_1;function baseForOwn$2(n,e){return n&&baseFor$1(n,e,keys$3)}var _baseForOwn=baseForOwn$2,isArrayLike$6=isArrayLike_1;function createBaseEach$1(n,e){return function(r,a){if(r==null)return r;if(!isArrayLike$6(r))return n(r,a);for(var g=r.length,E=e?g:-1,u=Object(r);(e?E--:++E<g)&&a(u[E],E,u)!==!1;);return r}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$2=createBaseEach(baseForOwn$1),_baseEach=baseEach$2,baseEach$1=_baseEach;function baseSome$1(n,e){var r;return baseEach$1(n,function(a,g,E){return!(r=e(a,g,E))}),!!r}var _baseSome=baseSome$1,eq$2=eq_1,isArrayLike$5=isArrayLike_1,isIndex$1=_isIndex,isObject$9=isObject_1$1;function isIterateeCall$3(n,e,r){if(!isObject$9(r))return!1;var a=typeof e;return!!(a=="number"?isArrayLike$5(r)&&isIndex$1(e,r.length):a=="string"&&e in r)&&eq$2(r[e],n)}var _isIterateeCall=isIterateeCall$3,arraySome=_arraySome,baseIteratee$7=_baseIteratee,baseSome=_baseSome,isArray$6=isArray_1$1,isIterateeCall$2=_isIterateeCall;function some(n,e,r){var a=isArray$6(n)?arraySome:baseSome;return r&&isIterateeCall$2(n,e,r)&&(e=void 0),a(n,baseIteratee$7(e))}var some_1=some,some$1=getDefaultExportFromCjs(some_1),Symbol$2=_Symbol,isArguments$1=isArguments_1,isArray$5=isArray_1$1,spreadableSymbol=Symbol$2?Symbol$2.isConcatSpreadable:void 0;function isFlattenable$1(n){return isArray$5(n)||isArguments$1(n)||!!(spreadableSymbol&&n&&n[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush$1=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(n,e,r,a,g){var E=-1,u=n.length;for(r||(r=isFlattenable),g||(g=[]);++E<u;){var B=n[E];e>0&&r(B)?e>1?baseFlatten$2(B,e-1,r,a,g):arrayPush$1(g,B):a||(g[g.length]=B)}return g}var _baseFlatten=baseFlatten$2,baseEach=_baseEach,isArrayLike$4=isArrayLike_1;function baseMap$1(n,e){var r=-1,a=isArrayLike$4(n)?Array(n.length):[];return baseEach(n,function(g,E,u){a[++r]=e(g,E,u)}),a}var _baseMap=baseMap$1;function baseSortBy$1(n,e){var r=n.length;for(n.sort(e);r--;)n[r]=n[r].value;return n}var _baseSortBy=baseSortBy$1,isSymbol$1=isSymbol_1;function compareAscending$1(n,e){if(n!==e){var r=n!==void 0,a=n===null,g=n==n,E=isSymbol$1(n),u=e!==void 0,B=e===null,f=e==e,m=isSymbol$1(e);if(!B&&!m&&!E&&n>e||E&&u&&f&&!B&&!m||a&&u&&f||!r&&f||!g)return 1;if(!a&&!E&&!m&&n<e||m&&r&&g&&!a&&!E||B&&r&&g||!u&&g||!f)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(n,e,r){for(var a=-1,g=n.criteria,E=e.criteria,u=g.length,B=r.length;++a<u;){var f=compareAscending(g[a],E[a]);if(f)return a>=B?f:f*(r[a]=="desc"?-1:1)}return n.index-e.index}var _compareMultiple=compareMultiple$1,arrayMap$2=_arrayMap,baseGet$2=_baseGet,baseIteratee$6=_baseIteratee,baseMap=_baseMap,baseSortBy=_baseSortBy,baseUnary$2=_baseUnary,compareMultiple=_compareMultiple,identity$2=identity_1,isArray$4=isArray_1$1;function baseOrderBy$1(n,e,r){e=e.length?arrayMap$2(e,function(E){return isArray$4(E)?function(u){return baseGet$2(u,E.length===1?E[0]:E)}:E}):[identity$2];var a=-1;e=arrayMap$2(e,baseUnary$2(baseIteratee$6));var g=baseMap(n,function(E,u,B){return{criteria:arrayMap$2(e,function(f){return f(E)}),index:++a,value:E}});return baseSortBy(g,function(E,u){return compareMultiple(E,u,r)})}var _baseOrderBy=baseOrderBy$1;function apply$1(n,e,r){switch(r.length){case 0:return n.call(e);case 1:return n.call(e,r[0]);case 2:return n.call(e,r[0],r[1]);case 3:return n.call(e,r[0],r[1],r[2])}return n.apply(e,r)}var _apply=apply$1,apply=_apply,nativeMax$3=Math.max;function overRest$2(n,e,r){return e=nativeMax$3(e===void 0?n.length-1:e,0),function(){for(var a=arguments,g=-1,E=nativeMax$3(a.length-e,0),u=Array(E);++g<E;)u[g]=a[e+g];g=-1;for(var B=Array(e+1);++g<e;)B[g]=a[g];return B[e]=r(u),apply(n,this,B)}}var _overRest=overRest$2;function constant$1(n){return function(){return n}}var constant_1=constant$1,getNative=_getNative,defineProperty$2=function(){try{var n=getNative(Object,"defineProperty");return n({},"",{}),n}catch{}}(),_defineProperty=defineProperty$2,constant=constant_1,defineProperty$1=_defineProperty,identity$1=identity_1,baseSetToString$1=defineProperty$1?function(n,e){return defineProperty$1(n,"toString",{configurable:!0,enumerable:!1,value:constant(e),writable:!0})}:identity$1,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(n){var e=0,r=0;return function(){var a=nativeNow(),g=HOT_SPAN-(a-r);if(r=a,g>0){if(++e>=HOT_COUNT)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$2=shortOut(baseSetToString),_setToString=setToString$2,identity=identity_1,overRest$1=_overRest,setToString$1=_setToString;function baseRest$2(n,e){return setToString$1(overRest$1(n,e,identity),n+"")}var _baseRest=baseRest$2,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest$1=_baseRest,isIterateeCall$1=_isIterateeCall,sortBy=baseRest$1(function(n,e){if(n==null)return[];var r=e.length;return r>1&&isIterateeCall$1(n,e[0],e[1])?e=[]:r>2&&isIterateeCall$1(e[0],e[1],e[2])&&(e=[e[0]]),baseOrderBy(n,baseFlatten$1(e,1),[])}),sortBy_1=sortBy,sortBy$1=getDefaultExportFromCjs(sortBy_1),baseRandom=_baseRandom;function arraySample$2(n){var e=n.length;return e?n[baseRandom(0,e-1)]:void 0}var _arraySample=arraySample$2,arraySample$1=_arraySample,values=values_1;function baseSample$1(n){return arraySample$1(values(n))}var _baseSample=baseSample$1,arraySample=_arraySample,baseSample=_baseSample,isArray$3=isArray_1$1;function sample(n){return(isArray$3(n)?arraySample:baseSample)(n)}var sample_1=sample,sample$1=getDefaultExportFromCjs(sample_1),nativeMax$2=Math.max,nativeMin$1=Math.min;function baseInRange$1(n,e,r){return n>=nativeMin$1(e,r)&&n<nativeMax$2(e,r)}var _baseInRange=baseInRange$1,reWhitespace=/\s/;function trimmedEndIndex$1(n){for(var e=n.length;e--&&reWhitespace.test(n.charAt(e)););return e}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart$1=/^\s+/;function baseTrim$1(n){return n&&n.slice(0,trimmedEndIndex(n)+1).replace(reTrimStart$1,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$8=isObject_1$1,isSymbol=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(n){if(typeof n=="number")return n;if(isSymbol(n))return NAN;if(isObject$8(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=isObject$8(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=baseTrim(n);var r=reIsBinary.test(n);return r||reIsOctal.test(n)?freeParseInt(n.slice(2),r?2:8):reIsBadHex.test(n)?NAN:+n}var toNumber_1=toNumber$2,toNumber$1=toNumber_1,INFINITY$1=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$2(n){return n?(n=toNumber$1(n))===INFINITY$1||n===-1/0?(n<0?-1:1)*MAX_INTEGER:n==n?n:0:n===0?n:0}var toFinite_1=toFinite$2,baseInRange=_baseInRange,toFinite$1=toFinite_1,toNumber=toNumber_1;function inRange(n,e,r){return e=toFinite$1(e),r===void 0?(r=e,e=0):r=toFinite$1(r),n=toNumber(n),baseInRange(n,e,r)}var inRange_1=inRange,inRange$1=getDefaultExportFromCjs(inRange_1);function compact(n){for(var e=-1,r=n==null?0:n.length,a=0,g=[];++e<r;){var E=n[e];E&&(g[a++]=E)}return g}var compact_1=compact,compact$1=getDefaultExportFromCjs(compact_1);function arrayEach$1(n,e){for(var r=-1,a=n==null?0:n.length;++r<a&&e(n[r],r,n)!==!1;);return n}var _arrayEach=arrayEach$1,defineProperty=_defineProperty;function baseAssignValue$4(n,e,r){e=="__proto__"&&defineProperty?defineProperty(n,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[e]=r}var _baseAssignValue=baseAssignValue$4,baseAssignValue$3=_baseAssignValue,eq$1=eq_1,objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function assignValue$3(n,e,r){var a=n[e];hasOwnProperty$3.call(n,e)&&eq$1(a,r)&&(r!==void 0||e in n)||baseAssignValue$3(n,e,r)}var _assignValue=assignValue$3,assignValue$2=_assignValue,baseAssignValue$2=_baseAssignValue;function copyObject$6(n,e,r,a){var g=!r;r||(r={});for(var E=-1,u=e.length;++E<u;){var B=e[E],f=a?a(r[B],n[B],B,r,n):void 0;f===void 0&&(f=n[B]),g?baseAssignValue$2(r,B,f):assignValue$2(r,B,f)}return r}var _copyObject=copyObject$6,copyObject$5=_copyObject,keys$2=keys_1;function baseAssign$1(n,e){return n&&copyObject$5(e,keys$2(e),n)}var _baseAssign=baseAssign$1;function nativeKeysIn$1(n){var e=[];if(n!=null)for(var r in Object(n))e.push(r);return e}var _nativeKeysIn=nativeKeysIn$1,isObject$7=isObject_1$1,isPrototype$1=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeysIn$1(n){if(!isObject$7(n))return nativeKeysIn(n);var e=isPrototype$1(n),r=[];for(var a in n)(a!="constructor"||!e&&hasOwnProperty$2.call(n,a))&&r.push(a);return r}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike$3=isArrayLike_1;function keysIn$5(n){return isArrayLike$3(n)?arrayLikeKeys(n,!0):baseKeysIn(n)}var keysIn_1=keysIn$5,copyObject$4=_copyObject,keysIn$4=keysIn_1;function baseAssignIn$1(n,e){return n&&copyObject$4(e,keysIn$4(e),n)}var _baseAssignIn=baseAssignIn$1,_cloneBuffer={exports:{}};_cloneBuffer.exports,function(n,e){var r=_root,a=e&&!e.nodeType&&e,g=a&&n&&!n.nodeType&&n,E=g&&g.exports===a?r.Buffer:void 0,u=E?E.allocUnsafe:void 0;n.exports=function(B,f){if(f)return B.slice();var m=B.length,y=u?u(m):new B.constructor(m);return B.copy(y),y}}(_cloneBuffer,_cloneBuffer.exports);var _cloneBufferExports=_cloneBuffer.exports,copyObject$3=_copyObject,getSymbols$1=_getSymbols;function copySymbols$1(n,e){return copyObject$3(n,getSymbols$1(n),e)}var _copySymbols=copySymbols$1,overArg=_overArg,getPrototype$3=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$3,arrayPush=_arrayPush,getPrototype$2=_getPrototype,getSymbols=_getSymbols,stubArray=stubArray_1,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn$2=nativeGetSymbols?function(n){for(var e=[];n;)arrayPush(e,getSymbols(n)),n=getPrototype$2(n);return e}:stubArray,_getSymbolsIn=getSymbolsIn$2,copyObject$2=_copyObject,getSymbolsIn$1=_getSymbolsIn;function copySymbolsIn$1(n,e){return copyObject$2(n,getSymbolsIn$1(n),e)}var _copySymbolsIn=copySymbolsIn$1,baseGetAllKeys=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn$3=keysIn_1;function getAllKeysIn$3(n){return baseGetAllKeys(n,keysIn$3,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$3,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function initCloneArray$1(n){var e=n.length,r=new n.constructor(e);return e&&typeof n[0]=="string"&&hasOwnProperty$1.call(n,"index")&&(r.index=n.index,r.input=n.input),r}var _initCloneArray=initCloneArray$1,Uint8Array$1=_Uint8Array;function cloneArrayBuffer$3(n){var e=new n.constructor(n.byteLength);return new Uint8Array$1(e).set(new Uint8Array$1(n)),e}var _cloneArrayBuffer=cloneArrayBuffer$3,cloneArrayBuffer$2=_cloneArrayBuffer;function cloneDataView$1(n,e){var r=e?cloneArrayBuffer$2(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}var _cloneDataView=cloneDataView$1,reFlags=/\w*$/;function cloneRegExp$1(n){var e=new n.constructor(n.source,reFlags.exec(n));return e.lastIndex=n.lastIndex,e}var _cloneRegExp=cloneRegExp$1,Symbol$1=_Symbol,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol$1(n){return symbolValueOf?Object(symbolValueOf.call(n)):{}}var _cloneSymbol=cloneSymbol$1,cloneArrayBuffer$1=_cloneArrayBuffer;function cloneTypedArray$2(n,e){var r=e?cloneArrayBuffer$1(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}var _cloneTypedArray=cloneTypedArray$2,cloneArrayBuffer=_cloneArrayBuffer,cloneDataView=_cloneDataView,cloneRegExp=_cloneRegExp,cloneSymbol=_cloneSymbol,cloneTypedArray$1=_cloneTypedArray,boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag$1(n,e,r){var a=n.constructor;switch(e){case arrayBufferTag$1:return cloneArrayBuffer(n);case boolTag$1:case dateTag$1:return new a(+n);case dataViewTag$1:return cloneDataView(n,r);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray$1(n,r);case mapTag$2:return new a;case numberTag$1:case stringTag$1:return new a(n);case regexpTag$1:return cloneRegExp(n);case setTag$2:return new a;case symbolTag$1:return cloneSymbol(n)}}var _initCloneByTag=initCloneByTag$1,isObject$6=isObject_1$1,objectCreate=Object.create,baseCreate$1=function(){function n(){}return function(e){if(!isObject$6(e))return{};if(objectCreate)return objectCreate(e);n.prototype=e;var r=new n;return n.prototype=void 0,r}}(),_baseCreate=baseCreate$1,baseCreate=_baseCreate,getPrototype$1=_getPrototype,isPrototype=_isPrototype;function initCloneObject$2(n){return typeof n.constructor!="function"||isPrototype(n)?{}:baseCreate(getPrototype$1(n))}var _initCloneObject=initCloneObject$2,getTag$2=_getTag,isObjectLike$3=isObjectLike_1,mapTag$1="[object Map]";function baseIsMap$1(n){return isObjectLike$3(n)&&getTag$2(n)==mapTag$1}var _baseIsMap=baseIsMap$1,baseIsMap=_baseIsMap,baseUnary$1=_baseUnary,nodeUtil$1=_nodeUtilExports,nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap$1=nodeIsMap?baseUnary$1(nodeIsMap):baseIsMap,isMap_1=isMap$1,getTag$1=_getTag,isObjectLike$2=isObjectLike_1,setTag$1="[object Set]";function baseIsSet$1(n){return isObjectLike$2(n)&&getTag$1(n)==setTag$1}var _baseIsSet=baseIsSet$1,baseIsSet=_baseIsSet,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet$1=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet_1=isSet$1,Stack$1=_Stack,arrayEach=_arrayEach,assignValue$1=_assignValue,baseAssign=_baseAssign,baseAssignIn=_baseAssignIn,cloneBuffer$1=_cloneBufferExports,copyArray$1=_copyArray,copySymbols=_copySymbols,copySymbolsIn=_copySymbolsIn,getAllKeys=_getAllKeys,getAllKeysIn$2=_getAllKeysIn,getTag=_getTag,initCloneArray=_initCloneArray,initCloneByTag=_initCloneByTag,initCloneObject$1=_initCloneObject,isArray$2=isArray_1$1,isBuffer$1=isBufferExports,isMap=isMap_1,isObject$5=isObject_1$1,isSet=isSet_1,keys$1=keys_1,keysIn$2=keysIn_1,CLONE_DEEP_FLAG$2=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$2=4,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};function baseClone$2(n,e,r,a,g,E){var u,B=e&CLONE_DEEP_FLAG$2,f=e&CLONE_FLAT_FLAG$1,m=e&CLONE_SYMBOLS_FLAG$2;if(r&&(u=g?r(n,a,g,E):r(n)),u!==void 0)return u;if(!isObject$5(n))return n;var y=isArray$2(n);if(y){if(u=initCloneArray(n),!B)return copyArray$1(n,u)}else{var D=getTag(n),M=D==funcTag||D==genTag;if(isBuffer$1(n))return cloneBuffer$1(n,B);if(D==objectTag$1||D==argsTag||M&&!g){if(u=f||M?{}:initCloneObject$1(n),!B)return f?copySymbolsIn(n,baseAssignIn(u,n)):copySymbols(n,baseAssign(u,n))}else{if(!cloneableTags[D])return g?n:{};u=initCloneByTag(n,D,B)}}E||(E=new Stack$1);var O=E.get(n);if(O)return O;E.set(n,u),isSet(n)?n.forEach(function(F){u.add(baseClone$2(F,e,r,F,n,E))}):isMap(n)&&n.forEach(function(F,x){u.set(x,baseClone$2(F,e,r,x,n,E))});var U=y?void 0:(m?f?getAllKeysIn$2:getAllKeys:f?keysIn$2:keys$1)(n);return arrayEach(U||n,function(F,x){U&&(F=n[x=F]),assignValue$1(u,x,baseClone$2(F,e,r,x,n,E))}),u}cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag$1]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var _baseClone=baseClone$2,baseClone$1=_baseClone,CLONE_DEEP_FLAG$1=1,CLONE_SYMBOLS_FLAG$1=4;function cloneDeep(n){return baseClone$1(n,CLONE_DEEP_FLAG$1|CLONE_SYMBOLS_FLAG$1)}var cloneDeep_1=cloneDeep,cloneDeep$1=getDefaultExportFromCjs(cloneDeep_1),baseAssignValue$1=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$5=_baseIteratee;function mapValues(n,e){var r={};return e=baseIteratee$5(e),baseForOwn(n,function(a,g,E){baseAssignValue$1(r,g,e(a,g,E))}),r}var mapValues_1=mapValues,mapValues$1=getDefaultExportFromCjs(mapValues_1),baseAssignValue=_baseAssignValue,eq=eq_1;function assignMergeValue$2(n,e,r){(r!==void 0&&!eq(n[e],r)||r===void 0&&!(e in n))&&baseAssignValue(n,e,r)}var _assignMergeValue=assignMergeValue$2,isArrayLike$2=isArrayLike_1,isObjectLike$1=isObjectLike_1;function isArrayLikeObject$1(n){return isObjectLike$1(n)&&isArrayLike$2(n)}var isArrayLikeObject_1=isArrayLikeObject$1,baseGetTag=_baseGetTag,getPrototype=_getPrototype,isObjectLike=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$2(n){if(!isObjectLike(n)||baseGetTag(n)!=objectTag)return!1;var e=getPrototype(n);if(e===null)return!0;var r=hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&funcToString.call(r)==objectCtorString}var isPlainObject_1=isPlainObject$2;function safeGet$2(n,e){if((e!=="constructor"||typeof n[e]!="function")&&e!="__proto__")return n[e]}var _safeGet=safeGet$2,copyObject$1=_copyObject,keysIn$1=keysIn_1;function toPlainObject$1(n){return copyObject$1(n,keysIn$1(n))}var toPlainObject_1=toPlainObject$1,assignMergeValue$1=_assignMergeValue,cloneBuffer=_cloneBufferExports,cloneTypedArray=_cloneTypedArray,copyArray=_copyArray,initCloneObject=_initCloneObject,isArguments=isArguments_1,isArray$1=isArray_1$1,isArrayLikeObject=isArrayLikeObject_1,isBuffer=isBufferExports,isFunction$2=isFunction_1$1,isObject$4=isObject_1$1,isPlainObject$1=isPlainObject_1,isTypedArray=isTypedArray_1,safeGet$1=_safeGet,toPlainObject=toPlainObject_1;function baseMergeDeep$1(n,e,r,a,g,E,u){var B=safeGet$1(n,r),f=safeGet$1(e,r),m=u.get(f);if(m)assignMergeValue$1(n,r,m);else{var y=E?E(B,f,r+"",n,e,u):void 0,D=y===void 0;if(D){var M=isArray$1(f),O=!M&&isBuffer(f),U=!M&&!O&&isTypedArray(f);y=f,M||O||U?isArray$1(B)?y=B:isArrayLikeObject(B)?y=copyArray(B):O?(D=!1,y=cloneBuffer(f,!0)):U?(D=!1,y=cloneTypedArray(f,!0)):y=[]:isPlainObject$1(f)||isArguments(f)?(y=B,isArguments(B)?y=toPlainObject(B):isObject$4(B)&&!isFunction$2(B)||(y=initCloneObject(f))):D=!1}D&&(u.set(f,y),g(y,f,a,E,u),u.delete(f)),assignMergeValue$1(n,r,y)}}var _baseMergeDeep=baseMergeDeep$1,Stack=_Stack,assignMergeValue=_assignMergeValue,baseFor=_baseFor,baseMergeDeep=_baseMergeDeep,isObject$3=isObject_1$1,keysIn=keysIn_1,safeGet=_safeGet;function baseMerge$1(n,e,r,a,g){n!==e&&baseFor(e,function(E,u){if(g||(g=new Stack),isObject$3(E))baseMergeDeep(n,e,u,r,baseMerge$1,a,g);else{var B=a?a(safeGet(n,u),E,u+"",n,e,g):void 0;B===void 0&&(B=E),assignMergeValue(n,u,B)}},keysIn)}var _baseMerge=baseMerge$1,baseRest=_baseRest,isIterateeCall=_isIterateeCall;function createAssigner$1(n){return baseRest(function(e,r){var a=-1,g=r.length,E=g>1?r[g-1]:void 0,u=g>2?r[2]:void 0;for(E=n.length>3&&typeof E=="function"?(g--,E):void 0,u&&isIterateeCall(r[0],r[1],u)&&(E=g<3?void 0:E,g=1),e=Object(e);++a<g;){var B=r[a];B&&n(e,B,a,E)}return e})}var _createAssigner=createAssigner$1,baseMerge=_baseMerge,createAssigner=_createAssigner,mergeWith=createAssigner(function(n,e,r,a){baseMerge(n,e,r,a)}),mergeWith_1=mergeWith,mergeWith$1=getDefaultExportFromCjs(mergeWith_1);function last$1(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var last_1=last$1;function baseSlice$1(n,e,r){var a=-1,g=n.length;e<0&&(e=-e>g?0:g+e),(r=r>g?g:r)<0&&(r+=g),g=e>r?0:r-e>>>0,e>>>=0;for(var E=Array(g);++a<g;)E[a]=n[a+e];return E}var _baseSlice=baseSlice$1,baseGet$1=_baseGet,baseSlice=_baseSlice;function parent$1(n,e){return e.length<2?n:baseGet$1(n,baseSlice(e,0,-1))}var _parent=parent$1,castPath$3=_castPath,last=last_1,parent=_parent,toKey$1=_toKey;function baseUnset$1(n,e){return e=castPath$3(e,n),(n=parent(n,e))==null||delete n[toKey$1(last(e))]}var _baseUnset=baseUnset$1,isPlainObject=isPlainObject_1;function customOmitClone$1(n){return isPlainObject(n)?void 0:n}var _customOmitClone=customOmitClone$1,baseFlatten=_baseFlatten;function flatten$1(n){return n!=null&&n.length?baseFlatten(n,1):[]}var flatten_1=flatten$1,flatten=flatten_1,overRest=_overRest,setToString=_setToString;function flatRest$1(n){return setToString(overRest(n,void 0,flatten),n+"")}var _flatRest=flatRest$1,arrayMap$1=_arrayMap,baseClone=_baseClone,baseUnset=_baseUnset,castPath$2=_castPath,copyObject=_copyObject,customOmitClone=_customOmitClone,flatRest=_flatRest,getAllKeysIn$1=_getAllKeysIn,CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,omit=flatRest(function(n,e){var r={};if(n==null)return r;var a=!1;e=arrayMap$1(e,function(E){return E=castPath$2(E,n),a||(a=E.length>1),E}),copyObject(n,getAllKeysIn$1(n),r),a&&(r=baseClone(r,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var g=e.length;g--;)baseUnset(r,e[g]);return r}),omit_1=omit,omit$1=getDefaultExportFromCjs(omit_1),root=_root,toString=toString_1,reTrimStart=/^\s+/,nativeParseInt=root.parseInt;function parseInt$1(n,e,r){return r||e==null?e=0:e&&(e=+e),nativeParseInt(toString(n).replace(reTrimStart,""),e||0)}var _parseInt=parseInt$1,parseInt$2=getDefaultExportFromCjs(_parseInt);function isUndefined(n){return n===void 0}var isUndefined_1=isUndefined,isUndefined$1=getDefaultExportFromCjs(isUndefined_1),FUNC_ERROR_TEXT="Expected a function";function negate$1(n){if(typeof n!="function")throw new TypeError(FUNC_ERROR_TEXT);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}var negate_1=negate$1,assignValue=_assignValue,castPath$1=_castPath,isIndex=_isIndex,isObject$2=isObject_1$1,toKey=_toKey;function baseSet$1(n,e,r,a){if(!isObject$2(n))return n;for(var g=-1,E=(e=castPath$1(e,n)).length,u=E-1,B=n;B!=null&&++g<E;){var f=toKey(e[g]),m=r;if(f==="__proto__"||f==="constructor"||f==="prototype")return n;if(g!=u){var y=B[f];(m=a?a(y,f,B):void 0)===void 0&&(m=isObject$2(y)?y:isIndex(e[g+1])?[]:{})}assignValue(B,f,m),B=B[f]}return n}var _baseSet=baseSet$1,baseGet=_baseGet,baseSet=_baseSet,castPath=_castPath;function basePickBy$1(n,e,r){for(var a=-1,g=e.length,E={};++a<g;){var u=e[a],B=baseGet(n,u);r(B,u)&&baseSet(E,castPath(u,n),B)}return E}var _basePickBy=basePickBy$1,arrayMap=_arrayMap,baseIteratee$4=_baseIteratee,basePickBy=_basePickBy,getAllKeysIn=_getAllKeysIn;function pickBy$1(n,e){if(n==null)return{};var r=arrayMap(getAllKeysIn(n),function(a){return[a]});return e=baseIteratee$4(e),basePickBy(n,r,function(a,g){return e(a,g[0])})}var pickBy_1=pickBy$1,baseIteratee$3=_baseIteratee,negate=negate_1,pickBy=pickBy_1;function omitBy(n,e){return pickBy(n,negate(baseIteratee$3(e)))}var omitBy_1=omitBy,omitBy$1=getDefaultExportFromCjs(omitBy_1);function isNull(n){return n===null}var isNull_1=isNull,isNull$1=getDefaultExportFromCjs(isNull_1),baseIteratee$2=_baseIteratee,isArrayLike$1=isArrayLike_1,keys=keys_1;function createFind$1(n){return function(e,r,a){var g=Object(e);if(!isArrayLike$1(e)){var E=baseIteratee$2(r);e=keys(e),r=function(B){return E(g[B],B,g)}}var u=n(e,r,a);return u>-1?g[E?e[u]:u]:void 0}}var _createFind=createFind$1;function baseFindIndex$3(n,e,r,a){for(var g=n.length,E=r+(a?1:-1);a?E--:++E<g;)if(e(n[E],E,n))return E;return-1}var _baseFindIndex=baseFindIndex$3,toFinite=toFinite_1;function toInteger$2(n){var e=toFinite(n),r=e%1;return e==e?r?e-r:e:0}var toInteger_1=toInteger$2,baseFindIndex$2=_baseFindIndex,baseIteratee$1=_baseIteratee,toInteger$1=toInteger_1,nativeMax$1=Math.max;function findIndex$1(n,e,r){var a=n==null?0:n.length;if(!a)return-1;var g=r==null?0:toInteger$1(r);return g<0&&(g=nativeMax$1(a+g,0)),baseFindIndex$2(n,baseIteratee$1(e),g)}var findIndex_1=findIndex$1,createFind=_createFind,findIndex=findIndex_1,find=createFind(findIndex),find_1=find,find$1=getDefaultExportFromCjs(find_1);function baseIsNaN$1(n){return n!=n}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(n,e,r){for(var a=r-1,g=n.length;++a<g;)if(n[a]===e)return a;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex$1=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(n,e,r){return e==e?strictIndexOf(n,e,r):baseFindIndex$1(n,baseIsNaN,r)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$1(n,e){return!!(n!=null&&n.length)&&baseIndexOf(n,e,0)>-1}var _arrayIncludes=arrayIncludes$1;function arrayIncludesWith$1(n,e,r){for(var a=-1,g=n==null?0:n.length;++a<g;)if(r(e,n[a]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$1;function noop$2(){}var noop_1=noop$2,Set$1=_Set,noop$1=noop_1,setToArray$1=_setToArray,INFINITY=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY?function(n){return new Set$1(n)}:noop$1,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1(n,e,r){var a=-1,g=arrayIncludes,E=n.length,u=!0,B=[],f=B;if(r)u=!1,g=arrayIncludesWith;else if(E>=LARGE_ARRAY_SIZE){var m=e?null:createSet(n);if(m)return setToArray(m);u=!1,g=cacheHas,f=new SetCache}else f=e?[]:B;e:for(;++a<E;){var y=n[a],D=e?e(y):y;if(y=r||y!==0?y:0,u&&D==D){for(var M=f.length;M--;)if(f[M]===D)continue e;e&&f.push(D),B.push(y)}else g(f,D,r)||(f!==B&&f.push(D),B.push(y))}return B}var _baseUniq=baseUniq$1,baseUniq=_baseUniq;function uniqWith(n,e){return e=typeof e=="function"?e:void 0,n&&n.length?baseUniq(n,void 0,e):[]}var uniqWith_1=uniqWith,uniqWith$1=getDefaultExportFromCjs(uniqWith_1),baseFindIndex=_baseFindIndex,baseIteratee=_baseIteratee,toInteger=toInteger_1,nativeMax=Math.max,nativeMin=Math.min;function findLastIndex(n,e,r){var a=n==null?0:n.length;if(!a)return-1;var g=a-1;return r!==void 0&&(g=toInteger(r),g=r<0?nativeMax(a+g,0):nativeMin(g,a-1)),baseFindIndex(n,baseIteratee(e),g,!0)}var findLastIndex_1=findLastIndex,findLastIndex$1=getDefaultExportFromCjs(findLastIndex_1),long=Long$1,wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(n){}function Long$1(n,e,r){this.low=0|n,this.high=0|e,this.unsigned=!!r}function isLong(n){return(n&&n.__isLong__)===!0}Long$1.prototype.__isLong__,Object.defineProperty(Long$1.prototype,"__isLong__",{value:!0}),Long$1.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(n,e){var r,a,g;return e?(g=0<=(n>>>=0)&&n<256)&&(a=UINT_CACHE[n])?a:(r=fromBits(n,(0|n)<0?-1:0,!0),g&&(UINT_CACHE[n]=r),r):(g=-128<=(n|=0)&&n<128)&&(a=INT_CACHE[n])?a:(r=fromBits(n,n<0?-1:0,!1),g&&(INT_CACHE[n]=r),r)}function fromNumber(n,e){if(isNaN(n))return e?UZERO:ZERO;if(e){if(n<0)return UZERO;if(n>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(n<=-9223372036854776e3)return MIN_VALUE;if(n+1>=TWO_PWR_63_DBL)return MAX_VALUE}return n<0?fromNumber(-n,e).neg():fromBits(n%TWO_PWR_32_DBL|0,n/TWO_PWR_32_DBL|0,e)}function fromBits(n,e,r){return new Long$1(n,e,r)}Long$1.fromInt=fromInt,Long$1.fromNumber=fromNumber,Long$1.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(n,e,r){if(n.length===0)throw Error("empty string");if(n==="NaN"||n==="Infinity"||n==="+Infinity"||n==="-Infinity")return ZERO;if(typeof e=="number"?(r=e,e=!1):e=!!e,(r=r||10)<2||36<r)throw RangeError("radix");var a;if((a=n.indexOf("-"))>0)throw Error("interior hyphen");if(a===0)return fromString(n.substring(1),e,r).neg();for(var g=fromNumber(pow_dbl(r,8)),E=ZERO,u=0;u<n.length;u+=8){var B=Math.min(8,n.length-u),f=parseInt(n.substring(u,u+B),r);if(B<8){var m=fromNumber(pow_dbl(r,B));E=E.mul(m).add(fromNumber(f))}else E=(E=E.mul(g)).add(fromNumber(f))}return E.unsigned=e,E}function fromValue(n,e){return typeof n=="number"?fromNumber(n,e):typeof n=="string"?fromString(n,e):fromBits(n.low,n.high,typeof e=="boolean"?e:n.unsigned)}Long$1.fromString=fromString,Long$1.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long$1.ZERO=ZERO;var UZERO=fromInt(0,!0);Long$1.UZERO=UZERO;var ONE=fromInt(1);Long$1.ONE=ONE;var UONE=fromInt(1,!0);Long$1.UONE=UONE;var NEG_ONE=fromInt(-1);Long$1.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long$1.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long$1.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long$1.MIN_VALUE=MIN_VALUE;var LongPrototype=Long$1.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function(n){if((n=n||10)<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(MIN_VALUE)){var e=fromNumber(n),r=this.div(e),a=r.mul(e).sub(this);return r.toString(n)+a.toInt().toString(n)}return"-"+this.neg().toString(n)}for(var g=fromNumber(pow_dbl(n,6),this.unsigned),E=this,u="";;){var B=E.div(g),f=(E.sub(B.mul(g)).toInt()>>>0).toString(n);if((E=B).isZero())return f+u;for(;f.length<6;)f="0"+f;u=""+f+u}},LongPrototype.getHighBits=function(){return this.high},LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0},LongPrototype.getLowBits=function(){return this.low},LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0},LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,e=31;e>0&&!(n&1<<e);e--);return this.high!=0?e+33:e+1},LongPrototype.isZero=function(){return this.high===0&&this.low===0},LongPrototype.eqz=LongPrototype.isZero,LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function(){return!(1&~this.low)},LongPrototype.isEven=function(){return!(1&this.low)},LongPrototype.equals=function(n){return isLong(n)||(n=fromValue(n)),(this.unsigned===n.unsigned||this.high>>>31!=1||n.high>>>31!=1)&&this.high===n.high&&this.low===n.low},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function(n){return!this.eq(n)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.ne=LongPrototype.notEquals,LongPrototype.lessThan=function(n){return this.comp(n)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function(n){return this.comp(n)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.le=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function(n){return this.comp(n)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function(n){return this.comp(n)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.ge=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function(n){if(isLong(n)||(n=fromValue(n)),this.eq(n))return 0;var e=this.isNegative(),r=n.isNegative();return e&&!r?-1:!e&&r?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function(n){isLong(n)||(n=fromValue(n));var e=this.high>>>16,r=65535&this.high,a=this.low>>>16,g=65535&this.low,E=n.high>>>16,u=65535&n.high,B=n.low>>>16,f=0,m=0,y=0,D=0;return y+=(D+=g+(65535&n.low))>>>16,m+=(y+=a+B)>>>16,f+=(m+=r+u)>>>16,f+=e+E,fromBits((y&=65535)<<16|(D&=65535),(f&=65535)<<16|(m&=65535),this.unsigned)},LongPrototype.subtract=function(n){return isLong(n)||(n=fromValue(n)),this.add(n.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function(n){if(this.isZero())return ZERO;if(isLong(n)||(n=fromValue(n)),wasm)return fromBits(wasm.mul(this.low,this.high,n.low,n.high),wasm.get_high(),this.unsigned);if(n.isZero())return ZERO;if(this.eq(MIN_VALUE))return n.isOdd()?MIN_VALUE:ZERO;if(n.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(TWO_PWR_24)&&n.lt(TWO_PWR_24))return fromNumber(this.toNumber()*n.toNumber(),this.unsigned);var e=this.high>>>16,r=65535&this.high,a=this.low>>>16,g=65535&this.low,E=n.high>>>16,u=65535&n.high,B=n.low>>>16,f=65535&n.low,m=0,y=0,D=0,M=0;return D+=(M+=g*f)>>>16,y+=(D+=a*f)>>>16,D&=65535,y+=(D+=g*B)>>>16,m+=(y+=r*f)>>>16,y&=65535,m+=(y+=a*B)>>>16,y&=65535,m+=(y+=g*u)>>>16,m+=e*f+r*B+a*u+g*E,fromBits((D&=65535)<<16|(M&=65535),(m&=65535)<<16|(y&=65535),this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function(n){if(isLong(n)||(n=fromValue(n)),n.isZero())throw Error("division by zero");var e,r,a;if(wasm)return this.unsigned||this.high!==-2147483648||n.low!==-1||n.high!==-1?fromBits((this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,n.low,n.high),wasm.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?UZERO:ZERO;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return UZERO;if(n.gt(this.shru(1)))return UONE;a=UZERO}else{if(this.eq(MIN_VALUE))return n.eq(ONE)||n.eq(NEG_ONE)?MIN_VALUE:n.eq(MIN_VALUE)?ONE:(e=this.shr(1).div(n).shl(1)).eq(ZERO)?n.isNegative()?ONE:NEG_ONE:(r=this.sub(n.mul(e)),a=e.add(r.div(n)));if(n.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();a=ZERO}for(r=this;r.gte(n);){e=Math.max(1,Math.floor(r.toNumber()/n.toNumber()));for(var g=Math.ceil(Math.log(e)/Math.LN2),E=g<=48?1:pow_dbl(2,g-48),u=fromNumber(e),B=u.mul(n);B.isNegative()||B.gt(r);)B=(u=fromNumber(e-=E,this.unsigned)).mul(n);u.isZero()&&(u=ONE),a=a.add(u),r=r.sub(B)}return a},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function(n){return isLong(n)||(n=fromValue(n)),wasm?fromBits((this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,n.low,n.high),wasm.get_high(),this.unsigned):this.sub(this.div(n).mul(n))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.rem=LongPrototype.modulo,LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.and=function(n){return isLong(n)||(n=fromValue(n)),fromBits(this.low&n.low,this.high&n.high,this.unsigned)},LongPrototype.or=function(n){return isLong(n)||(n=fromValue(n)),fromBits(this.low|n.low,this.high|n.high,this.unsigned)},LongPrototype.xor=function(n){return isLong(n)||(n=fromValue(n)),fromBits(this.low^n.low,this.high^n.high,this.unsigned)},LongPrototype.shiftLeft=function(n){return isLong(n)&&(n=n.toInt()),(n&=63)==0?this:n<32?fromBits(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):fromBits(0,this.low<<n-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function(n){return isLong(n)&&(n=n.toInt()),(n&=63)==0?this:n<32?fromBits(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):fromBits(this.high>>n-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function(n){if(isLong(n)&&(n=n.toInt()),(n&=63)===0)return this;var e=this.high;return n<32?fromBits(this.low>>>n|e<<32-n,e>>>n,this.unsigned):fromBits(n===32?e:e>>>n-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.shr_u=LongPrototype.shiftRightUnsigned,LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function(){var n=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&n,n>>>8&255,n>>>16&255,n>>>24]},LongPrototype.toBytesBE=function(){var n=this.high,e=this.low;return[n>>>24,n>>>16&255,n>>>8&255,255&n,e>>>24,e>>>16&255,e>>>8&255,255&e]},Long$1.fromBytes=function(n,e,r){return r?Long$1.fromBytesLE(n,e):Long$1.fromBytesBE(n,e)},Long$1.fromBytesLE=function(n,e){return new Long$1(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,e)},Long$1.fromBytesBE=function(n,e){return new Long$1(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],e)};var Long$2=getDefaultExportFromCjs(long);let RtmMessageCategoryEnum=function(n){return n[n.ChannelSMsg=1]="ChannelSMsg",n[n.ChannelRMsg=2]="ChannelRMsg",n[n.P2pSMsgOfflineFlag=3]="P2pSMsgOfflineFlag",n[n.P2pRMsgOfflineFlag=4]="P2pRMsgOfflineFlag",n[n.P2pSMsgNoOfflineFlag=5]="P2pSMsgNoOfflineFlag",n[n.P2pRMsgNoOfflineFlag=6]="P2pRMsgNoOfflineFlag",n[n.P2pCallInvitation=7]="P2pCallInvitation",n[n.P2pCallCancellation=8]="P2pCallCancellation",n[n.P2pCallAcceptance=9]="P2pCallAcceptance",n[n.P2pCallRefusal=10]="P2pCallRefusal",n}({});const AP_CONCURRENT_REQ_NUM=2,MIN_HEARTBEAT_INTERVAL=5e3,MAX_HEARTBEAT_INTERVAL=18e5,CONFIGURABLE_KEY_RTM_LINK_KEEP_ALIVE_TIMEOUT=1e4,CONFIGURABLE_KEY_RTM_HEARTBEAT_INTERVAL=MIN_HEARTBEAT_INTERVAL,SOCKET_RETRY_INTERVAL=3e3,LINK_INTERVALS=[2,4,8,16,32,32],SUSPENDED_TIME_INTERVAL=30,LOGIN_RESP_TIMEOUT=5e3,LOGIN_QPS_LIMIT=2,MESSAGE_MIN_COMPRESSION_LEN=128,MESSAGE_SEND_TIMEOUT=1e4,COMMON_REQUEST_TIMEOUT=1e4,P2P_MESSAGE_SEND_TIMEOUT=13e3,DIALOGUE_EXPIRE_TIMEOUT=1e4,LRU_MAX_ITEMS=1e4,MESSAGE_RETRY_TIMEOUT=6e3,TEXT_MESSAGE_MAX_TEXT_BYTES=32768,ONLINE_MESSAGE_DEDUP_DELAY=750,OFFLINE_MESSAGE_DEDUP_DELAY=1500,MSG_DEDUP_MAX_LEN=200,K_ACK_MISS=1,K_ACK_PEER_OFFLINE=8,PUBLISH_MESSAGE_SIZE=32768,TOPIC_MESSAGE_SIZE=1024,CUSTOM_TYPE_SIZE=32,K_P2P_MESSAGE_PREFIX="*p*",LOGOUT_SOCKET_CLOSE_TIMEOUT=5e3,LOG_UPLOAD_MAX_ITEMS=1e3,MAX_JOINED_CHANNELS=50,SUB_STREAM_CHANNEL_LIMITATION=10,K_STREAM_CHANNEL_PREFIX="*s*",MAX_SUBSCRIPTION_USER=50,MAX_METADATA_COUNT=32,RTM_METADATA_MAX_LENGTH=16384,RTM_METADATA_KEY_MAX_LENGTH=32,RTM_METADATA_VALUE_MAX_LENGTH=16384,LOCK_DEFAULT_TTL=10,MAX_LOCK_TTL=300,LAST_PONG_RECEIVED_TS_FIELD_NUMBER=4e3,IV_LENGTH=12,TAG_LENGTH=16,KEY_ITERATIONS_COUNT=1e3,ROUNDUP_BIT_SIZE=4,SALT_LENGTH=32,JOIN_TOPIC_LIMITATION=8,SUB_TOPIC_LIMITATION=50,SUB_TOPIC_USER_LIMITATION=64,TOPIC_NAME_SIZE=16,DEFAULT_RPC_TIMEOUT_TIME=5e3,PRESENCE_DATABASE="vendor-state",MAX_STATE_COUNT=32,MAX_STATE_KEY_SIZE=32,MAX_STATE_VALUE_SIZE=16384,K_PRESENCE_MAX_CHANNEL_COUNT=100,K_USER_COLLECTION="/Users",K_PRESENCE_PREFIX="/Vendors/",K_GLOBAL_ONLINE="/Presence",K_CHANNEL_ONLINE="/ChannelPresence/",K_GLOBAL_PRESENCE_COLLECTION="_keepalive_",K_PRESENCE_EXPIRED="_expired",K_SYNC_INTERNAL_KEY_PREFIX="_",K_INTERVAL_THRESHOLD_MAX=128,K_INTERVAL_THRESHOLD_MIN=8,K_DEFAULT_INTERVAL_THRESHOLD=50,K_PRESENCE_INTERVAL_MAX=300,K_PRESENCE_INTERVAL_MIN=10,K_PRESENCE_INTERVAL_DEFAULT=30,K_PRESENCE_TIMEOUT_MAX=300,K_PRESENCE_TIMEOUT_MIN=5,K_PRESENCE_TIMEOUT_DEFAULT=300,K_DEBOUNCE_DEFAULT=2,CREATE_COLL_INTERVALS=[10,20,30],MONITOR_INTERVAL=1e3,APP_ID_LENGTH=32,VERSION_LENGTH=3,API_QPS_SECOND=1e3,JOIN_TIMEOUT=15e3,RECONNECT_STREAM_CHANNEL_TIMEOUT=12e5,GET_MESSAGE_TIME_LIMIT=864e5,GET_MESSAGE_MAX_COUNT=100;var util$7={exports:{}},forge$8={},api={},baseN$1=api,_reverseAlphabets={};function _encodeWithByteBuffer(n,e){var r=0,a=e.length,g=e.charAt(0),E=[0];for(r=0;r<n.length();++r){for(var u=0,B=n.at(r);u<E.length;++u)B+=E[u]<<8,E[u]=B%a,B=B/a|0;for(;B>0;)E.push(B%a),B=B/a|0}var f="";for(r=0;n.at(r)===0&&r<n.length()-1;++r)f+=g;for(r=E.length-1;r>=0;--r)f+=e[E[r]];return f}api.encode=function(n,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var a="";if(n instanceof Uint8Array){var g=0,E=e.length,u=e.charAt(0),B=[0];for(g=0;g<n.length;++g){for(var f=0,m=n[g];f<B.length;++f)m+=B[f]<<8,B[f]=m%E,m=m/E|0;for(;m>0;)B.push(m%E),m=m/E|0}for(g=0;n[g]===0&&g<n.length-1;++g)a+=u;for(g=B.length-1;g>=0;--g)a+=e[B[g]]}else a=_encodeWithByteBuffer(n,e);if(r){var y=new RegExp(".{1,"+r+"}","g");a=a.match(y).join(`\r
`)}return a},api.decode=function(n,e){if(typeof n!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=_reverseAlphabets[e];if(!r){r=_reverseAlphabets[e]=[];for(var a=0;a<e.length;++a)r[e.charCodeAt(a)]=a}n=n.replace(/\s/g,"");var g=e.length,E=e.charAt(0),u=[0];for(a=0;a<n.length;a++){var B=r[n.charCodeAt(a)];if(B===void 0)return;for(var f=0,m=B;f<u.length;++f)m+=u[f]*g,u[f]=255&m,m>>=8;for(;m>0;)u.push(255&m),m>>=8}for(var y=0;n[y]===E&&y<n.length-1;++y)u.push(0);return typeof Buffer<"u"?Buffer.from(u.reverse()):new Uint8Array(u.reverse())};var forge$7=forge$8,baseN=baseN$1,util$5=util$7.exports=forge$7.util=forge$7.util||{};function _checkBitsParam(n){if(n!==8&&n!==16&&n!==24&&n!==32)throw new Error("Only 8, 16, 24, or 32 bits supported: "+n)}function ByteStringBuffer(n){if(this.data="",this.read=0,typeof n=="string")this.data=n;else if(util$5.isArrayBuffer(n)||util$5.isArrayBufferView(n))if(typeof Buffer<"u"&&n instanceof Buffer)this.data=n.toString("binary");else{var e=new Uint8Array(n);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(n instanceof ByteStringBuffer||typeof n=="object"&&typeof n.data=="string"&&typeof n.read=="number")&&(this.data=n.data,this.read=n.read);this._constructedStringLength=0}(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)return util$5.nextTick=process.nextTick,void(typeof setImmediate=="function"?util$5.setImmediate=setImmediate:util$5.setImmediate=util$5.nextTick);if(typeof setImmediate=="function")return util$5.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(util$5.nextTick=function(u){return setImmediate(u)});if(util$5.setImmediate=function(u){setTimeout(u,0)},typeof window<"u"&&typeof window.postMessage=="function"){let u=function(B){if(B.source===window&&B.data===n){B.stopPropagation();var f=e.slice();e.length=0,f.forEach(function(m){m()})}};var n="forge.setImmediate",e=[];util$5.setImmediate=function(B){e.push(B),e.length===1&&window.postMessage(n,"*")},window.addEventListener("message",u,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),a=!0,g=document.createElement("div");e=[],new MutationObserver(function(){var u=e.slice();e.length=0,u.forEach(function(B){B()})}).observe(g,{attributes:!0});var E=util$5.setImmediate;util$5.setImmediate=function(u){Date.now()-r>15?(r=Date.now(),E(u)):(e.push(u),e.length===1&&g.setAttribute("a",a=!a))}}util$5.nextTick=util$5.setImmediate})(),util$5.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,util$5.globalScope=util$5.isNodejs?commonjsGlobal$1:typeof self>"u"?window:self,util$5.isArray=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},util$5.isArrayBuffer=function(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer},util$5.isArrayBufferView=function(n){return n&&util$5.isArrayBuffer(n.buffer)&&n.byteLength!==void 0},util$5.ByteBuffer=ByteStringBuffer,util$5.ByteStringBuffer=ByteStringBuffer;var _MAX_CONSTRUCTED_STRING_LENGTH=4096;function DataBuffer(n,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=util$5.isArrayBuffer(n),a=util$5.isArrayBufferView(n);if(r||a)return this.data=r?new DataView(n):new DataView(n.buffer,n.byteOffset,n.byteLength),void(this.write="writeOffset"in e?e.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,n!=null&&this.putBytes(n),"writeOffset"in e&&(this.write=e.writeOffset)}util$5.ByteStringBuffer.prototype._optimizeConstructedString=function(n){this._constructedStringLength+=n,this._constructedStringLength>_MAX_CONSTRUCTED_STRING_LENGTH&&(this.data.substr(0,1),this._constructedStringLength=0)},util$5.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},util$5.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},util$5.ByteStringBuffer.prototype.putByte=function(n){return this.putBytes(String.fromCharCode(n))},util$5.ByteStringBuffer.prototype.fillWithByte=function(n,e){n=String.fromCharCode(n);for(var r=this.data;e>0;)1&e&&(r+=n),(e>>>=1)>0&&(n+=n);return this.data=r,this._optimizeConstructedString(e),this},util$5.ByteStringBuffer.prototype.putBytes=function(n){return this.data+=n,this._optimizeConstructedString(n.length),this},util$5.ByteStringBuffer.prototype.putString=function(n){return this.putBytes(util$5.encodeUtf8(n))},util$5.ByteStringBuffer.prototype.putInt16=function(n){return this.putBytes(String.fromCharCode(n>>8&255)+String.fromCharCode(255&n))},util$5.ByteStringBuffer.prototype.putInt24=function(n){return this.putBytes(String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(255&n))},util$5.ByteStringBuffer.prototype.putInt32=function(n){return this.putBytes(String.fromCharCode(n>>24&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(255&n))},util$5.ByteStringBuffer.prototype.putInt16Le=function(n){return this.putBytes(String.fromCharCode(255&n)+String.fromCharCode(n>>8&255))},util$5.ByteStringBuffer.prototype.putInt24Le=function(n){return this.putBytes(String.fromCharCode(255&n)+String.fromCharCode(n>>8&255)+String.fromCharCode(n>>16&255))},util$5.ByteStringBuffer.prototype.putInt32Le=function(n){return this.putBytes(String.fromCharCode(255&n)+String.fromCharCode(n>>8&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>24&255))},util$5.ByteStringBuffer.prototype.putInt=function(n,e){_checkBitsParam(e);var r="";do e-=8,r+=String.fromCharCode(n>>e&255);while(e>0);return this.putBytes(r)},util$5.ByteStringBuffer.prototype.putSignedInt=function(n,e){return n<0&&(n+=2<<e-1),this.putInt(n,e)},util$5.ByteStringBuffer.prototype.putBuffer=function(n){return this.putBytes(n.getBytes())},util$5.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},util$5.ByteStringBuffer.prototype.getInt16=function(){var n=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,n},util$5.ByteStringBuffer.prototype.getInt24=function(){var n=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,n},util$5.ByteStringBuffer.prototype.getInt32=function(){var n=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,n},util$5.ByteStringBuffer.prototype.getInt16Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,n},util$5.ByteStringBuffer.prototype.getInt24Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,n},util$5.ByteStringBuffer.prototype.getInt32Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,n},util$5.ByteStringBuffer.prototype.getInt=function(n){_checkBitsParam(n);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),n-=8;while(n>0);return e},util$5.ByteStringBuffer.prototype.getSignedInt=function(n){var e=this.getInt(n),r=2<<n-2;return e>=r&&(e-=r<<1),e},util$5.ByteStringBuffer.prototype.getBytes=function(n){var e;return n?(n=Math.min(this.length(),n),e=this.data.slice(this.read,this.read+n),this.read+=n):n===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e},util$5.ByteStringBuffer.prototype.bytes=function(n){return n===void 0?this.data.slice(this.read):this.data.slice(this.read,this.read+n)},util$5.ByteStringBuffer.prototype.at=function(n){return this.data.charCodeAt(this.read+n)},util$5.ByteStringBuffer.prototype.setAt=function(n,e){return this.data=this.data.substr(0,this.read+n)+String.fromCharCode(e)+this.data.substr(this.read+n+1),this},util$5.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},util$5.ByteStringBuffer.prototype.copy=function(){var n=util$5.createBuffer(this.data);return n.read=this.read,n},util$5.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},util$5.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},util$5.ByteStringBuffer.prototype.truncate=function(n){var e=Math.max(0,this.length()-n);return this.data=this.data.substr(this.read,e),this.read=0,this},util$5.ByteStringBuffer.prototype.toHex=function(){for(var n="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(n+="0"),n+=r.toString(16)}return n},util$5.ByteStringBuffer.prototype.toString=function(){return util$5.decodeUtf8(this.bytes())},util$5.DataBuffer=DataBuffer,util$5.DataBuffer.prototype.length=function(){return this.write-this.read},util$5.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},util$5.DataBuffer.prototype.accommodate=function(n,e){if(this.length()>=n)return this;e=Math.max(e||this.growSize,n);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),a=new Uint8Array(this.length()+e);return a.set(r),this.data=new DataView(a.buffer),this},util$5.DataBuffer.prototype.putByte=function(n){return this.accommodate(1),this.data.setUint8(this.write++,n),this},util$5.DataBuffer.prototype.fillWithByte=function(n,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(n);return this},util$5.DataBuffer.prototype.putBytes=function(n,e){if(util$5.isArrayBufferView(n)){var r=(a=new Uint8Array(n.buffer,n.byteOffset,n.byteLength)).byteLength-a.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(a),this.write+=r,this}if(util$5.isArrayBuffer(n)){var a=new Uint8Array(n);return this.accommodate(a.byteLength),new Uint8Array(this.data.buffer).set(a,this.write),this.write+=a.byteLength,this}if(n instanceof util$5.DataBuffer||typeof n=="object"&&typeof n.read=="number"&&typeof n.write=="number"&&util$5.isArrayBufferView(n.data))return a=new Uint8Array(n.data.byteLength,n.read,n.length()),this.accommodate(a.byteLength),new Uint8Array(n.data.byteLength,this.write).set(a),this.write+=a.byteLength,this;if(n instanceof util$5.ByteStringBuffer&&(n=n.data,e="binary"),e=e||"binary",typeof n=="string"){var g;if(e==="hex")return this.accommodate(Math.ceil(n.length/2)),g=new Uint8Array(this.data.buffer,this.write),this.write+=util$5.binary.hex.decode(n,g,this.write),this;if(e==="base64")return this.accommodate(3*Math.ceil(n.length/4)),g=new Uint8Array(this.data.buffer,this.write),this.write+=util$5.binary.base64.decode(n,g,this.write),this;if(e==="utf8"&&(n=util$5.encodeUtf8(n),e="binary"),e==="binary"||e==="raw")return this.accommodate(n.length),g=new Uint8Array(this.data.buffer,this.write),this.write+=util$5.binary.raw.decode(g),this;if(e==="utf16")return this.accommodate(2*n.length),g=new Uint16Array(this.data.buffer,this.write),this.write+=util$5.text.utf16.encode(g),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+n)},util$5.DataBuffer.prototype.putBuffer=function(n){return this.putBytes(n),n.clear(),this},util$5.DataBuffer.prototype.putString=function(n){return this.putBytes(n,"utf16")},util$5.DataBuffer.prototype.putInt16=function(n){return this.accommodate(2),this.data.setInt16(this.write,n),this.write+=2,this},util$5.DataBuffer.prototype.putInt24=function(n){return this.accommodate(3),this.data.setInt16(this.write,n>>8&65535),this.data.setInt8(this.write,n>>16&255),this.write+=3,this},util$5.DataBuffer.prototype.putInt32=function(n){return this.accommodate(4),this.data.setInt32(this.write,n),this.write+=4,this},util$5.DataBuffer.prototype.putInt16Le=function(n){return this.accommodate(2),this.data.setInt16(this.write,n,!0),this.write+=2,this},util$5.DataBuffer.prototype.putInt24Le=function(n){return this.accommodate(3),this.data.setInt8(this.write,n>>16&255),this.data.setInt16(this.write,n>>8&65535,!0),this.write+=3,this},util$5.DataBuffer.prototype.putInt32Le=function(n){return this.accommodate(4),this.data.setInt32(this.write,n,!0),this.write+=4,this},util$5.DataBuffer.prototype.putInt=function(n,e){_checkBitsParam(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,n>>e&255);while(e>0);return this},util$5.DataBuffer.prototype.putSignedInt=function(n,e){return _checkBitsParam(e),this.accommodate(e/8),n<0&&(n+=2<<e-1),this.putInt(n,e)},util$5.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},util$5.DataBuffer.prototype.getInt16=function(){var n=this.data.getInt16(this.read);return this.read+=2,n},util$5.DataBuffer.prototype.getInt24=function(){var n=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,n},util$5.DataBuffer.prototype.getInt32=function(){var n=this.data.getInt32(this.read);return this.read+=4,n},util$5.DataBuffer.prototype.getInt16Le=function(){var n=this.data.getInt16(this.read,!0);return this.read+=2,n},util$5.DataBuffer.prototype.getInt24Le=function(){var n=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,n},util$5.DataBuffer.prototype.getInt32Le=function(){var n=this.data.getInt32(this.read,!0);return this.read+=4,n},util$5.DataBuffer.prototype.getInt=function(n){_checkBitsParam(n);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),n-=8;while(n>0);return e},util$5.DataBuffer.prototype.getSignedInt=function(n){var e=this.getInt(n),r=2<<n-2;return e>=r&&(e-=r<<1),e},util$5.DataBuffer.prototype.getBytes=function(n){var e;return n?(n=Math.min(this.length(),n),e=this.data.slice(this.read,this.read+n),this.read+=n):n===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e},util$5.DataBuffer.prototype.bytes=function(n){return n===void 0?this.data.slice(this.read):this.data.slice(this.read,this.read+n)},util$5.DataBuffer.prototype.at=function(n){return this.data.getUint8(this.read+n)},util$5.DataBuffer.prototype.setAt=function(n,e){return this.data.setUint8(n,e),this},util$5.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},util$5.DataBuffer.prototype.copy=function(){return new util$5.DataBuffer(this)},util$5.DataBuffer.prototype.compact=function(){if(this.read>0){var n=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(n.byteLength);e.set(n),this.data=new DataView(e),this.write-=this.read,this.read=0}return this},util$5.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},util$5.DataBuffer.prototype.truncate=function(n){return this.write=Math.max(0,this.length()-n),this.read=Math.min(this.read,this.write),this},util$5.DataBuffer.prototype.toHex=function(){for(var n="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(n+="0"),n+=r.toString(16)}return n},util$5.DataBuffer.prototype.toString=function(n){var e=new Uint8Array(this.data,this.read,this.length());if((n=n||"utf8")==="binary"||n==="raw")return util$5.binary.raw.encode(e);if(n==="hex")return util$5.binary.hex.encode(e);if(n==="base64")return util$5.binary.base64.encode(e);if(n==="utf8")return util$5.text.utf8.decode(e);if(n==="utf16")return util$5.text.utf16.decode(e);throw new Error("Invalid encoding: "+n)},util$5.createBuffer=function(n,e){return e=e||"raw",n!==void 0&&e==="utf8"&&(n=util$5.encodeUtf8(n)),new util$5.ByteBuffer(n)},util$5.fillString=function(n,e){for(var r="";e>0;)1&e&&(r+=n),(e>>>=1)>0&&(n+=n);return r},util$5.xorBytes=function(n,e,r){for(var a="",g="",E="",u=0,B=0;r>0;--r,++u)g=n.charCodeAt(u)^e.charCodeAt(u),B>=10&&(a+=E,E="",B=0),E+=String.fromCharCode(g),++B;return a+=E},util$5.hexToBytes=function(n){var e="",r=0;for(!0&n.length&&(r=1,e+=String.fromCharCode(parseInt(n[0],16)));r<n.length;r+=2)e+=String.fromCharCode(parseInt(n.substr(r,2),16));return e},util$5.bytesToHex=function(n){return util$5.createBuffer(n).toHex()},util$5.int32ToBytes=function(n){return String.fromCharCode(n>>24&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(255&n)};var _base64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_base64Idx=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],_base58="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";util$5.encode64=function(n,e){for(var r,a,g,E="",u="",B=0;B<n.length;)r=n.charCodeAt(B++),a=n.charCodeAt(B++),g=n.charCodeAt(B++),E+=_base64.charAt(r>>2),E+=_base64.charAt((3&r)<<4|a>>4),isNaN(a)?E+="==":(E+=_base64.charAt((15&a)<<2|g>>6),E+=isNaN(g)?"=":_base64.charAt(63&g)),e&&E.length>e&&(u+=E.substr(0,e)+`\r
`,E=E.substr(e));return u+=E},util$5.decode64=function(n){n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e,r,a,g,E="",u=0;u<n.length;)e=_base64Idx[n.charCodeAt(u++)-43],r=_base64Idx[n.charCodeAt(u++)-43],a=_base64Idx[n.charCodeAt(u++)-43],g=_base64Idx[n.charCodeAt(u++)-43],E+=String.fromCharCode(e<<2|r>>4),a!==64&&(E+=String.fromCharCode((15&r)<<4|a>>2),g!==64&&(E+=String.fromCharCode((3&a)<<6|g)));return E},util$5.encodeUtf8=function(n){return unescape(encodeURIComponent(n))},util$5.decodeUtf8=function(n){return decodeURIComponent(escape(n))},util$5.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:baseN.encode,decode:baseN.decode}},util$5.binary.raw.encode=function(n){return String.fromCharCode.apply(null,n)},util$5.binary.raw.decode=function(n,e,r){var a=e;a||(a=new Uint8Array(n.length));for(var g=r=r||0,E=0;E<n.length;++E)a[g++]=n.charCodeAt(E);return e?g-r:a},util$5.binary.hex.encode=util$5.bytesToHex,util$5.binary.hex.decode=function(n,e,r){var a=e;a||(a=new Uint8Array(Math.ceil(n.length/2)));var g=0,E=r=r||0;for(1&n.length&&(g=1,a[E++]=parseInt(n[0],16));g<n.length;g+=2)a[E++]=parseInt(n.substr(g,2),16);return e?E-r:a},util$5.binary.base64.encode=function(n,e){for(var r,a,g,E="",u="",B=0;B<n.byteLength;)r=n[B++],a=n[B++],g=n[B++],E+=_base64.charAt(r>>2),E+=_base64.charAt((3&r)<<4|a>>4),isNaN(a)?E+="==":(E+=_base64.charAt((15&a)<<2|g>>6),E+=isNaN(g)?"=":_base64.charAt(63&g)),e&&E.length>e&&(u+=E.substr(0,e)+`\r
`,E=E.substr(e));return u+=E},util$5.binary.base64.decode=function(n,e,r){var a,g,E,u,B=e;B||(B=new Uint8Array(3*Math.ceil(n.length/4))),n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var f=0,m=r=r||0;f<n.length;)a=_base64Idx[n.charCodeAt(f++)-43],g=_base64Idx[n.charCodeAt(f++)-43],E=_base64Idx[n.charCodeAt(f++)-43],u=_base64Idx[n.charCodeAt(f++)-43],B[m++]=a<<2|g>>4,E!==64&&(B[m++]=(15&g)<<4|E>>2,u!==64&&(B[m++]=(3&E)<<6|u));return e?m-r:B.subarray(0,m)},util$5.binary.base58.encode=function(n,e){return util$5.binary.baseN.encode(n,_base58,e)},util$5.binary.base58.decode=function(n,e){return util$5.binary.baseN.decode(n,_base58,e)},util$5.text={utf8:{},utf16:{}},util$5.text.utf8.encode=function(n,e,r){n=util$5.encodeUtf8(n);var a=e;a||(a=new Uint8Array(n.length));for(var g=r=r||0,E=0;E<n.length;++E)a[g++]=n.charCodeAt(E);return e?g-r:a},util$5.text.utf8.decode=function(n){return util$5.decodeUtf8(String.fromCharCode.apply(null,n))},util$5.text.utf16.encode=function(n,e,r){var a=e;a||(a=new Uint8Array(2*n.length));for(var g=new Uint16Array(a.buffer),E=r=r||0,u=r,B=0;B<n.length;++B)g[u++]=n.charCodeAt(B),E+=2;return e?E-r:a},util$5.text.utf16.decode=function(n){return String.fromCharCode.apply(null,new Uint16Array(n.buffer))},util$5.deflate=function(n,e,r){if(e=util$5.decode64(n.deflate(util$5.encode64(e)).rval),r){var a=2;32&e.charCodeAt(1)&&(a=6),e=e.substring(a,e.length-4)}return e},util$5.inflate=function(n,e,r){var a=n.inflate(util$5.encode64(e)).rval;return a===null?null:util$5.decode64(a)};var _setStorageObject=function(n,e,r){if(!n)throw new Error("WebStorage not available.");var a;if(r===null?a=n.removeItem(e):(r=util$5.encode64(JSON.stringify(r)),a=n.setItem(e,r)),a!==void 0&&a.rval!==!0){var g=new Error(a.error.message);throw g.id=a.error.id,g.name=a.error.name,g}},_getStorageObject=function(n,e){if(!n)throw new Error("WebStorage not available.");var r=n.getItem(e);if(n.init)if(r.rval===null){if(r.error){var a=new Error(r.error.message);throw a.id=r.error.id,a.name=r.error.name,a}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(util$5.decode64(r))),r},_setItem=function(n,e,r,a){var g=_getStorageObject(n,e);g===null&&(g={}),g[r]=a,_setStorageObject(n,e,g)},_getItem=function(n,e,r){var a=_getStorageObject(n,e);return a!==null&&(a=r in a?a[r]:null),a},_removeItem=function(n,e,r){var a=_getStorageObject(n,e);if(a!==null&&r in a){delete a[r];var g=!0;for(var E in a){g=!1;break}g&&(a=null),_setStorageObject(n,e,a)}},_clearItems=function(n,e){_setStorageObject(n,e,null)},_callStorageFunction=function(n,e,r){var a,g=null;r===void 0&&(r=["web","flash"]);var E=!1,u=null;for(var B in r){a=r[B];try{if(a==="flash"||a==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");g=n.apply(this,e),E=a==="flash"}a!=="web"&&a!=="both"||(e[0]=localStorage,g=n.apply(this,e),E=!0)}catch(f){u=f}if(E)break}if(!E)throw u;return g};util$5.setItem=function(n,e,r,a,g){_callStorageFunction(_setItem,arguments,g)},util$5.getItem=function(n,e,r,a){return _callStorageFunction(_getItem,arguments,a)},util$5.removeItem=function(n,e,r,a){_callStorageFunction(_removeItem,arguments,a)},util$5.clearItems=function(n,e,r){_callStorageFunction(_clearItems,arguments,r)},util$5.isEmpty=function(n){for(var e in n)if(n.hasOwnProperty(e))return!1;return!0},util$5.format=function(n){for(var e,r,a=/%./g,g=0,E=[],u=0;e=a.exec(n);){(r=n.substring(u,a.lastIndex-2)).length>0&&E.push(r),u=a.lastIndex;var B=e[0][1];switch(B){case"s":case"o":g<arguments.length?E.push(arguments[1+g++]):E.push("<?>");break;case"%":E.push("%");break;default:E.push("<%"+B+"?>")}}return E.push(n.substring(u)),E.join("")},util$5.formatNumber=function(n,e,r,a){var g=n,E=isNaN(e=Math.abs(e))?2:e,u=r===void 0?",":r,B=a===void 0?".":a,f=g<0?"-":"",m=parseInt(g=Math.abs(+g||0).toFixed(E),10)+"",y=m.length>3?m.length%3:0;return f+(y?m.substr(0,y)+B:"")+m.substr(y).replace(/(\d{3})(?=\d)/g,"$1"+B)+(E?u+Math.abs(g-m).toFixed(E).slice(2):"")},util$5.formatSize=function(n){return n=n>=1073741824?util$5.formatNumber(n/1073741824,2,".","")+" GiB":n>=1048576?util$5.formatNumber(n/1048576,2,".","")+" MiB":n>=1024?util$5.formatNumber(n/1024,0)+" KiB":util$5.formatNumber(n,0)+" bytes"},util$5.bytesFromIP=function(n){return n.indexOf(".")!==-1?util$5.bytesFromIPv4(n):n.indexOf(":")!==-1?util$5.bytesFromIPv6(n):null},util$5.bytesFromIPv4=function(n){if((n=n.split(".")).length!==4)return null;for(var e=util$5.createBuffer(),r=0;r<n.length;++r){var a=parseInt(n[r],10);if(isNaN(a))return null;e.putByte(a)}return e.getBytes()},util$5.bytesFromIPv6=function(n){for(var e=0,r=2*(8-(n=n.split(":").filter(function(u){return u.length===0&&++e,!0})).length+e),a=util$5.createBuffer(),g=0;g<8;++g)if(n[g]&&n[g].length!==0){var E=util$5.hexToBytes(n[g]);E.length<2&&a.putByte(0),a.putBytes(E)}else a.fillWithByte(0,r),r=0;return a.getBytes()},util$5.bytesToIP=function(n){return n.length===4?util$5.bytesToIPv4(n):n.length===16?util$5.bytesToIPv6(n):null},util$5.bytesToIPv4=function(n){if(n.length!==4)return null;for(var e=[],r=0;r<n.length;++r)e.push(n.charCodeAt(r));return e.join(".")},util$5.bytesToIPv6=function(n){if(n.length!==16)return null;for(var e=[],r=[],a=0,g=0;g<n.length;g+=2){for(var E=util$5.bytesToHex(n[g]+n[g+1]);E[0]==="0"&&E!=="0";)E=E.substr(1);if(E==="0"){var u=r[r.length-1],B=e.length;u&&B===u.end+1?(u.end=B,u.end-u.start>r[a].end-r[a].start&&(a=r.length-1)):r.push({start:B,end:B})}e.push(E)}if(r.length>0){var f=r[a];f.end-f.start>0&&(e.splice(f.start,f.end-f.start+1,""),f.start===0&&e.unshift(""),f.end===7&&e.push(""))}return e.join(":")},util$5.estimateCores=function(n,e){if(typeof n=="function"&&(e=n,n={}),n=n||{},"cores"in util$5&&!n.update)return e(null,util$5.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return util$5.cores=navigator.hardwareConcurrency,e(null,util$5.cores);if(typeof Worker>"u")return util$5.cores=1,e(null,util$5.cores);if(typeof Blob>"u")return util$5.cores=2,e(null,util$5.cores);var r=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(a){var g=Date.now(),E=g+4;self.postMessage({st:g,et:E})})}).toString(),")()"],{type:"application/javascript"}));(function a(g,E,u){if(E===0){var B=Math.floor(g.reduce(function(f,m){return f+m},0)/g.length);return util$5.cores=Math.max(1,B),URL.revokeObjectURL(r),e(null,util$5.cores)}(function(f,m){for(var y=[],D=[],M=0;M<f;++M){var O=new Worker(r);O.addEventListener("message",function(U){if(D.push(U.data),D.length===f){for(var F=0;F<f;++F)y[F].terminate();m(null,D)}}),y.push(O)}for(M=0;M<f;++M)y[M].postMessage(M)})(u,function(f,m){g.push(function(y,D){for(var M=[],O=0;O<y;++O)for(var U=D[O],F=M[O]=[],x=0;x<y;++x)if(O!==x){var H=D[x];(U.st>H.st&&U.st<H.et||H.st>U.st&&H.st<U.et)&&F.push(x)}return M.reduce(function(j,ee){return Math.max(j,ee.length)},0)}(u,m)),a(g,E-1,u)})})([],5,16)};var utilExports=util$7.exports,util$6=getDefaultExportFromCjs(utilExports),forge$6=forge$8,cipher=forge$6.cipher=forge$6.cipher||{};forge$6.cipher.algorithms=forge$6.cipher.algorithms||{},forge$6.cipher.createCipher=function(n,e){var r=n;if(typeof r=="string"&&(r=forge$6.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+n);return new forge$6.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})},forge$6.cipher.createDecipher=function(n,e){var r=n;if(typeof r=="string"&&(r=forge$6.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+n);return new forge$6.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})},forge$6.cipher.registerAlgorithm=function(n,e){n=n.toUpperCase(),forge$6.cipher.algorithms[n]=e},forge$6.cipher.getAlgorithm=function(n){return(n=n.toUpperCase())in forge$6.cipher.algorithms?forge$6.cipher.algorithms[n]:null};var BlockCipher=forge$6.cipher.BlockCipher=function(n){this.algorithm=n.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=n.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=n.decrypt,this.algorithm.initialize(n)};BlockCipher.prototype.start=function(n){n=n||{};var e={};for(var r in n)e[r]=n[r];e.decrypt=this._decrypt,this._finish=!1,this._input=forge$6.util.createBuffer(),this.output=n.output||forge$6.util.createBuffer(),this.mode.start(e)},BlockCipher.prototype.update=function(n){for(n&&this._input.putBuffer(n);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},BlockCipher.prototype.finish=function(n){!n||this.mode.name!=="ECB"&&this.mode.name!=="CBC"||(this.mode.pad=function(r){return n(this.blockSize,r,!1)},this.mode.unpad=function(r){return n(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,e)))};var forgeCipher=getDefaultExportFromCjs(cipher),forge$5=forge$8;forge$5.md=forge$5.md||{},forge$5.md.algorithms=forge$5.md.algorithms||{};var forge$4=forge$8,sha256=forge$4.sha256=forge$4.sha256||{};forge$4.md.sha256=forge$4.md.algorithms.sha256=sha256,sha256.create=function(){_initialized||_init();var n=null,e=forge$4.util.createBuffer(),r=new Array(64),a={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var g=a.messageLengthSize/4,E=0;E<g;++E)a.fullMessageLength.push(0);return e=forge$4.util.createBuffer(),n={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},a}};return a.start(),a.update=function(g,E){E==="utf8"&&(g=forge$4.util.encodeUtf8(g));var u=g.length;a.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var B=a.fullMessageLength.length-1;B>=0;--B)a.fullMessageLength[B]+=u[1],u[1]=u[0]+(a.fullMessageLength[B]/4294967296>>>0),a.fullMessageLength[B]=a.fullMessageLength[B]>>>0,u[0]=u[1]/4294967296>>>0;return e.putBytes(g),_update(n,r,e),(e.read>2048||e.length()===0)&&e.compact(),a},a.digest=function(){var g=forge$4.util.createBuffer();g.putBytes(e.bytes());var E,u=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1;g.putBytes(_padding.substr(0,a.blockLength-u));for(var B=8*a.fullMessageLength[0],f=0;f<a.fullMessageLength.length-1;++f)B+=(E=8*a.fullMessageLength[f+1])/4294967296>>>0,g.putInt32(B>>>0),B=E>>>0;g.putInt32(B);var m={h0:n.h0,h1:n.h1,h2:n.h2,h3:n.h3,h4:n.h4,h5:n.h5,h6:n.h6,h7:n.h7};_update(m,r,g);var y=forge$4.util.createBuffer();return y.putInt32(m.h0),y.putInt32(m.h1),y.putInt32(m.h2),y.putInt32(m.h3),y.putInt32(m.h4),y.putInt32(m.h5),y.putInt32(m.h6),y.putInt32(m.h7),y},a};var _padding=null,_initialized=!1,_k=null;function _init(){_padding="Â",_padding+=forge$4.util.fillString("\0",64),_k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_initialized=!0}function _update(n,e,r){for(var a,g,E,u,B,f,m,y,D,M,O,U,F,x=r.length();x>=64;){for(B=0;B<16;++B)e[B]=r.getInt32();for(;B<64;++B)a=((a=e[B-2])>>>17|a<<15)^(a>>>19|a<<13)^a>>>10,g=((g=e[B-15])>>>7|g<<25)^(g>>>18|g<<14)^g>>>3,e[B]=a+e[B-7]+g+e[B-16]|0;for(f=n.h0,m=n.h1,y=n.h2,D=n.h3,M=n.h4,O=n.h5,U=n.h6,F=n.h7,B=0;B<64;++B)E=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),u=f&m|y&(f^m),a=F+((M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))+(U^M&(O^U))+_k[B]+e[B],F=U,U=O,O=M,M=D+a>>>0,D=y,y=m,m=f,f=a+(g=E+u)>>>0;n.h0=n.h0+f|0,n.h1=n.h1+m|0,n.h2=n.h2+y|0,n.h3=n.h3+D|0,n.h4=n.h4+M|0,n.h5=n.h5+O|0,n.h6=n.h6+U|0,n.h7=n.h7+F|0,x-=64}}var forge$3=forge$8,hmac=forge$3.hmac=forge$3.hmac||{};hmac.create=function(){var n=null,e=null,r=null,a=null,g={start:function(E,u){if(E!==null)if(typeof E=="string"){if(!((E=E.toLowerCase())in forge$3.md.algorithms))throw new Error('Unknown hash algorithm "'+E+'"');e=forge$3.md.algorithms[E].create()}else e=E;if(u===null)u=n;else{if(typeof u=="string")u=forge$3.util.createBuffer(u);else if(forge$3.util.isArray(u)){var B=u;u=forge$3.util.createBuffer();for(var f=0;f<B.length;++f)u.putByte(B[f])}var m=u.length();for(m>e.blockLength&&(e.start(),e.update(u.bytes()),u=e.digest()),r=forge$3.util.createBuffer(),a=forge$3.util.createBuffer(),m=u.length(),f=0;f<m;++f)B=u.at(f),r.putByte(54^B),a.putByte(92^B);if(m<e.blockLength)for(B=e.blockLength-m,f=0;f<B;++f)r.putByte(54),a.putByte(92);n=u,r=r.bytes(),a=a.bytes()}e.start(),e.update(r)},update:function(E){e.update(E)},getMac:function(){var E=e.digest().bytes();return e.start(),e.update(a),e.update(E),e.digest()}};return g.digest=g.getMac,g};var _nodeResolve_empty={},_nodeResolve_empty$1=Object.freeze({__proto__:null,default:_nodeResolve_empty}),require$$4=getAugmentedNamespace(_nodeResolve_empty$1),forge$2=forge$8,pkcs5=forge$2.pkcs5=forge$2.pkcs5||{},crypto$1;forge$2.util.isNodejs&&(crypto$1=require$$4);var pbkdf2=forge$2.pbkdf2=pkcs5.pbkdf2=function(n,e,r,a,g,E){if(typeof g=="function"&&(E=g,g=null),forge$2.util.isNodejs&&!0&&crypto$1.pbkdf2&&(g===null||typeof g!="object")&&(crypto$1.pbkdf2Sync.length>4||!g||g==="sha1"))return typeof g!="string"&&(g="sha1"),n=Buffer.from(n,"binary"),e=Buffer.from(e,"binary"),E?crypto$1.pbkdf2Sync.length===4?crypto$1.pbkdf2(n,e,r,a,function(ee,ne){if(ee)return E(ee);E(null,ne.toString("binary"))}):crypto$1.pbkdf2(n,e,r,a,g,function(ee,ne){if(ee)return E(ee);E(null,ne.toString("binary"))}):crypto$1.pbkdf2Sync.length===4?crypto$1.pbkdf2Sync(n,e,r,a).toString("binary"):crypto$1.pbkdf2Sync(n,e,r,a,g).toString("binary");if(g==null&&(g="sha1"),typeof g=="string"){if(!(g in forge$2.md.algorithms))throw new Error("Unknown hash algorithm: "+g);g=forge$2.md[g].create()}var u=g.digestLength;if(a>4294967295*u){var B=new Error("Derived key is too long.");if(E)return E(B);throw B}var f=Math.ceil(a/u),m=a-(f-1)*u,y=forge$2.hmac.create();y.start(g,n);var D,M,O,U="";if(!E){for(var F=1;F<=f;++F){y.start(null,null),y.update(e),y.update(forge$2.util.int32ToBytes(F)),D=O=y.digest().getBytes();for(var x=2;x<=r;++x)y.start(null,null),y.update(O),M=y.digest().getBytes(),D=forge$2.util.xorBytes(D,M,u),O=M;U+=F<f?D:D.substr(0,m)}return U}F=1;function H(){if(F>f)return E(null,U);y.start(null,null),y.update(e),y.update(forge$2.util.int32ToBytes(F)),D=O=y.digest().getBytes(),x=2,j()}function j(){if(x<=r)return y.start(null,null),y.update(O),M=y.digest().getBytes(),D=forge$2.util.xorBytes(D,M,u),O=M,++x,forge$2.util.setImmediate(j);U+=F<f?D:D.substr(0,m),++F,H()}H()},pkcs5$1=getDefaultExportFromCjs(pbkdf2),forge$1=forge$8;forge$1.cipher=forge$1.cipher||{};var modes=forge$1.cipher.modes=forge$1.cipher.modes||{};function transformIV(n,e){if(typeof n=="string"&&(n=forge$1.util.createBuffer(n)),forge$1.util.isArray(n)&&n.length>4){var r=n;n=forge$1.util.createBuffer();for(var a=0;a<r.length;++a)n.putByte(r[a])}if(n.length()<e)throw new Error("Invalid IV length; got "+n.length()+" bytes and expected "+e+" bytes.");if(!forge$1.util.isArray(n)){var g=[],E=e/4;for(a=0;a<E;++a)g.push(n.getInt32());n=g}return n}function inc32(n){n[n.length-1]=n[n.length-1]+1&4294967295}function from64To32(n){return[n/4294967296|0,4294967295&n]}modes.ecb=function(n){n=n||{},this.name="ECB",this.cipher=n.cipher,this.blockSize=n.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},modes.ecb.prototype.start=function(n){},modes.ecb.prototype.encrypt=function(n,e,r){if(n.length()<this.blockSize&&!(r&&n.length()>0))return!0;for(var a=0;a<this._ints;++a)this._inBlock[a]=n.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),a=0;a<this._ints;++a)e.putInt32(this._outBlock[a])},modes.ecb.prototype.decrypt=function(n,e,r){if(n.length()<this.blockSize&&!(r&&n.length()>0))return!0;for(var a=0;a<this._ints;++a)this._inBlock[a]=n.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),a=0;a<this._ints;++a)e.putInt32(this._outBlock[a])},modes.ecb.prototype.pad=function(n,e){var r=n.length()===this.blockSize?this.blockSize:this.blockSize-n.length();return n.fillWithByte(r,r),!0},modes.ecb.prototype.unpad=function(n,e){if(e.overflow>0)return!1;var r=n.length(),a=n.at(r-1);return!(a>this.blockSize<<2)&&(n.truncate(a),!0)},modes.cbc=function(n){n=n||{},this.name="CBC",this.cipher=n.cipher,this.blockSize=n.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},modes.cbc.prototype.start=function(n){if(n.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in n))throw new Error("Invalid IV parameter.");this._iv=transformIV(n.iv,this.blockSize),this._prev=this._iv.slice(0)}},modes.cbc.prototype.encrypt=function(n,e,r){if(n.length()<this.blockSize&&!(r&&n.length()>0))return!0;for(var a=0;a<this._ints;++a)this._inBlock[a]=this._prev[a]^n.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),a=0;a<this._ints;++a)e.putInt32(this._outBlock[a]);this._prev=this._outBlock},modes.cbc.prototype.decrypt=function(n,e,r){if(n.length()<this.blockSize&&!(r&&n.length()>0))return!0;for(var a=0;a<this._ints;++a)this._inBlock[a]=n.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),a=0;a<this._ints;++a)e.putInt32(this._prev[a]^this._outBlock[a]);this._prev=this._inBlock.slice(0)},modes.cbc.prototype.pad=function(n,e){var r=n.length()===this.blockSize?this.blockSize:this.blockSize-n.length();return n.fillWithByte(r,r),!0},modes.cbc.prototype.unpad=function(n,e){if(e.overflow>0)return!1;var r=n.length(),a=n.at(r-1);return!(a>this.blockSize<<2)&&(n.truncate(a),!0)},modes.cfb=function(n){n=n||{},this.name="CFB",this.cipher=n.cipher,this.blockSize=n.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=forge$1.util.createBuffer(),this._partialBytes=0},modes.cfb.prototype.start=function(n){if(!("iv"in n))throw new Error("Invalid IV parameter.");this._iv=transformIV(n.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},modes.cfb.prototype.encrypt=function(n,e,r){var a=n.length();if(a===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&a>=this.blockSize)for(var g=0;g<this._ints;++g)this._inBlock[g]=n.getInt32()^this._outBlock[g],e.putInt32(this._inBlock[g]);else{var E=(this.blockSize-a)%this.blockSize;for(E>0&&(E=this.blockSize-E),this._partialOutput.clear(),g=0;g<this._ints;++g)this._partialBlock[g]=n.getInt32()^this._outBlock[g],this._partialOutput.putInt32(this._partialBlock[g]);if(E>0)n.read-=this.blockSize;else for(g=0;g<this._ints;++g)this._inBlock[g]=this._partialBlock[g];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),E>0&&!r)return e.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=E,!0;e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=0}},modes.cfb.prototype.decrypt=function(n,e,r){var a=n.length();if(a===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&a>=this.blockSize)for(var g=0;g<this._ints;++g)this._inBlock[g]=n.getInt32(),e.putInt32(this._inBlock[g]^this._outBlock[g]);else{var E=(this.blockSize-a)%this.blockSize;for(E>0&&(E=this.blockSize-E),this._partialOutput.clear(),g=0;g<this._ints;++g)this._partialBlock[g]=n.getInt32(),this._partialOutput.putInt32(this._partialBlock[g]^this._outBlock[g]);if(E>0)n.read-=this.blockSize;else for(g=0;g<this._ints;++g)this._inBlock[g]=this._partialBlock[g];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),E>0&&!r)return e.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=E,!0;e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=0}},modes.ofb=function(n){n=n||{},this.name="OFB",this.cipher=n.cipher,this.blockSize=n.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=forge$1.util.createBuffer(),this._partialBytes=0},modes.ofb.prototype.start=function(n){if(!("iv"in n))throw new Error("Invalid IV parameter.");this._iv=transformIV(n.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},modes.ofb.prototype.encrypt=function(n,e,r){var a=n.length();if(n.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&a>=this.blockSize)for(var g=0;g<this._ints;++g)e.putInt32(n.getInt32()^this._outBlock[g]),this._inBlock[g]=this._outBlock[g];else{var E=(this.blockSize-a)%this.blockSize;for(E>0&&(E=this.blockSize-E),this._partialOutput.clear(),g=0;g<this._ints;++g)this._partialOutput.putInt32(n.getInt32()^this._outBlock[g]);if(E>0)n.read-=this.blockSize;else for(g=0;g<this._ints;++g)this._inBlock[g]=this._outBlock[g];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),E>0&&!r)return e.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=E,!0;e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=0}},modes.ofb.prototype.decrypt=modes.ofb.prototype.encrypt,modes.ctr=function(n){n=n||{},this.name="CTR",this.cipher=n.cipher,this.blockSize=n.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=forge$1.util.createBuffer(),this._partialBytes=0},modes.ctr.prototype.start=function(n){if(!("iv"in n))throw new Error("Invalid IV parameter.");this._iv=transformIV(n.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},modes.ctr.prototype.encrypt=function(n,e,r){var a=n.length();if(a===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&a>=this.blockSize)for(var g=0;g<this._ints;++g)e.putInt32(n.getInt32()^this._outBlock[g]);else{var E=(this.blockSize-a)%this.blockSize;for(E>0&&(E=this.blockSize-E),this._partialOutput.clear(),g=0;g<this._ints;++g)this._partialOutput.putInt32(n.getInt32()^this._outBlock[g]);if(E>0&&(n.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),E>0&&!r)return e.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=E,!0;e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=0}inc32(this._inBlock)},modes.ctr.prototype.decrypt=modes.ctr.prototype.encrypt,modes.gcm=function(n){n=n||{},this.name="GCM",this.cipher=n.cipher,this.blockSize=n.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=forge$1.util.createBuffer(),this._partialBytes=0,this._R=3774873600},modes.gcm.prototype.start=function(n){if(!("iv"in n))throw new Error("Invalid IV parameter.");var e,r=forge$1.util.createBuffer(n.iv);if(this._cipherLength=0,e="additionalData"in n?forge$1.util.createBuffer(n.additionalData):forge$1.util.createBuffer(),this._tagLength="tagLength"in n?n.tagLength:128,this._tag=null,n.decrypt&&(this._tag=forge$1.util.createBuffer(n.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var a=r.length();if(a===12)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(from64To32(8*a)))}this._inBlock=this._j0.slice(0),inc32(this._inBlock),this._partialBytes=0,e=forge$1.util.createBuffer(e),this._aDataLength=from64To32(8*e.length());var g=e.length()%this.blockSize;for(g&&e.fillWithByte(0,this.blockSize-g),this._s=[0,0,0,0];e.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()])},modes.gcm.prototype.encrypt=function(n,e,r){var a=n.length();if(a===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&a>=this.blockSize){for(var g=0;g<this._ints;++g)e.putInt32(this._outBlock[g]^=n.getInt32());this._cipherLength+=this.blockSize}else{var E=(this.blockSize-a)%this.blockSize;for(E>0&&(E=this.blockSize-E),this._partialOutput.clear(),g=0;g<this._ints;++g)this._partialOutput.putInt32(n.getInt32()^this._outBlock[g]);if(E<=0||r){if(r){var u=a%this.blockSize;this._cipherLength+=u,this._partialOutput.truncate(this.blockSize-u)}else this._cipherLength+=this.blockSize;for(g=0;g<this._ints;++g)this._outBlock[g]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),E>0&&!r)return n.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=E,!0;e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),inc32(this._inBlock)},modes.gcm.prototype.decrypt=function(n,e,r){var a=n.length();if(a<this.blockSize&&!(r&&a>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),inc32(this._inBlock),this._hashBlock[0]=n.getInt32(),this._hashBlock[1]=n.getInt32(),this._hashBlock[2]=n.getInt32(),this._hashBlock[3]=n.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var g=0;g<this._ints;++g)e.putInt32(this._outBlock[g]^this._hashBlock[g]);a<this.blockSize?this._cipherLength+=a%this.blockSize:this._cipherLength+=this.blockSize},modes.gcm.prototype.afterFinish=function(n,e){var r=!0;e.decrypt&&e.overflow&&n.truncate(this.blockSize-e.overflow),this.tag=forge$1.util.createBuffer();var a=this._aDataLength.concat(from64To32(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,a);var g=[];this.cipher.encrypt(this._j0,g);for(var E=0;E<this._ints;++E)this.tag.putInt32(this._s[E]^g[E]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},modes.gcm.prototype.multiply=function(n,e){for(var r=[0,0,0,0],a=e.slice(0),g=0;g<128;++g)n[g/32|0]&1<<31-g%32&&(r[0]^=a[0],r[1]^=a[1],r[2]^=a[2],r[3]^=a[3]),this.pow(a,a);return r},modes.gcm.prototype.pow=function(n,e){for(var r=1&n[3],a=3;a>0;--a)e[a]=n[a]>>>1|(1&n[a-1])<<31;e[0]=n[0]>>>1,r&&(e[0]^=this._R)},modes.gcm.prototype.tableMultiply=function(n){for(var e=[0,0,0,0],r=0;r<32;++r){var a=n[r/8|0]>>>4*(7-r%8)&15,g=this._m[r][a];e[0]^=g[0],e[1]^=g[1],e[2]^=g[2],e[3]^=g[3]}return e},modes.gcm.prototype.ghash=function(n,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)},modes.gcm.prototype.generateHashTable=function(n,e){for(var r=8/e,a=4*r,g=16*r,E=new Array(g),u=0;u<g;++u){var B=[0,0,0,0],f=(a-1-u%a)*e;B[u/a|0]=1<<e-1<<f,E[u]=this.generateSubHashTable(this.multiply(B,n),e)}return E},modes.gcm.prototype.generateSubHashTable=function(n,e){var r=1<<e,a=r>>>1,g=new Array(r);g[a]=n.slice(0);for(var E=a>>>1;E>0;)this.pow(g[2*E],g[E]=[]),E>>=1;for(E=2;E<a;){for(var u=1;u<E;++u){var B=g[E],f=g[u];g[E+u]=[B[0]^f[0],B[1]^f[1],B[2]^f[2],B[3]^f[3]]}E*=2}for(g[0]=[0,0,0,0],E=a+1;E<r;++E){var m=g[E^a];g[E]=[n[0]^m[0],n[1]^m[1],n[2]^m[2],n[3]^m[3]]}return g};var forge=forge$8;function registerAlgorithm(n,e){forge.cipher.registerAlgorithm(n,function(){return new forge.aes.Algorithm(n,e)})}forge.aes=forge.aes||{},forge.aes.startEncrypting=function(n,e,r,a){var g=_createCipher({key:n,output:r,decrypt:!1,mode:a});return g.start(e),g},forge.aes.createEncryptionCipher=function(n,e){return _createCipher({key:n,output:null,decrypt:!1,mode:e})},forge.aes.startDecrypting=function(n,e,r,a){var g=_createCipher({key:n,output:r,decrypt:!0,mode:a});return g.start(e),g},forge.aes.createDecryptionCipher=function(n,e){return _createCipher({key:n,output:null,decrypt:!0,mode:e})},forge.aes.Algorithm=function(n,e){init||initialize();var r=this;r.name=n,r.mode=new e({blockSize:16,cipher:{encrypt:function(a,g){return _updateBlock(r._w,a,g,!1)},decrypt:function(a,g){return _updateBlock(r._w,a,g,!0)}}}),r._init=!1},forge.aes.Algorithm.prototype.initialize=function(n){if(!this._init){var e,r=n.key;if(typeof r!="string"||r.length!==16&&r.length!==24&&r.length!==32){if(forge.util.isArray(r)&&(r.length===16||r.length===24||r.length===32)){e=r,r=forge.util.createBuffer();for(var a=0;a<e.length;++a)r.putByte(e[a])}}else r=forge.util.createBuffer(r);if(!forge.util.isArray(r)){e=r,r=[];var g=e.length();if(g===16||g===24||g===32)for(g>>>=2,a=0;a<g;++a)r.push(e.getInt32())}if(!forge.util.isArray(r)||r.length!==4&&r.length!==6&&r.length!==8)throw new Error("Invalid key parameter.");var E=this.mode.name,u=["CFB","OFB","CTR","GCM"].indexOf(E)!==-1;this._w=_expandKey(r,n.decrypt&&!u),this._init=!0}},forge.aes._expandKey=function(n,e){return init||initialize(),_expandKey(n,e)},forge.aes._updateBlock=_updateBlock,registerAlgorithm("AES-ECB",forge.cipher.modes.ecb),registerAlgorithm("AES-CBC",forge.cipher.modes.cbc),registerAlgorithm("AES-CFB",forge.cipher.modes.cfb),registerAlgorithm("AES-OFB",forge.cipher.modes.ofb),registerAlgorithm("AES-CTR",forge.cipher.modes.ctr),registerAlgorithm("AES-GCM",forge.cipher.modes.gcm);var init=!1,Nb=4,sbox,isbox,rcon,mix,imix;function initialize(){init=!0,rcon=[0,1,2,4,8,16,32,64,128,27,54];for(var n=new Array(256),e=0;e<128;++e)n[e]=e<<1,n[e+128]=e+128<<1^283;for(sbox=new Array(256),isbox=new Array(256),mix=new Array(4),imix=new Array(4),e=0;e<4;++e)mix[e]=new Array(256),imix[e]=new Array(256);var r,a,g,E,u,B,f,m=0,y=0;for(e=0;e<256;++e){E=(E=y^y<<1^y<<2^y<<3^y<<4)>>8^255&E^99,sbox[m]=E,isbox[E]=m,B=(u=n[E])<<24^E<<16^E<<8^E^u,f=((r=n[m])^(a=n[r])^(g=n[a]))<<24^(m^g)<<16^(m^a^g)<<8^m^r^g;for(var D=0;D<4;++D)mix[D][m]=B,imix[D][E]=f,B=B<<24|B>>>8,f=f<<24|f>>>8;m===0?m=y=1:(m=r^n[n[n[r^g]]],y^=n[n[y]])}}function _expandKey(n,e){for(var r,a=n.slice(0),g=1,E=a.length,u=Nb*(E+6+1),B=E;B<u;++B)r=a[B-1],B%E==0?(r=sbox[r>>>16&255]<<24^sbox[r>>>8&255]<<16^sbox[255&r]<<8^sbox[r>>>24]^rcon[g]<<24,g++):E>6&&B%E==4&&(r=sbox[r>>>24]<<24^sbox[r>>>16&255]<<16^sbox[r>>>8&255]<<8^sbox[255&r]),a[B]=a[B-E]^r;if(e){for(var f,m=imix[0],y=imix[1],D=imix[2],M=imix[3],O=a.slice(0),U=(B=0,(u=a.length)-Nb);B<u;B+=Nb,U-=Nb)if(B===0||B===u-Nb)O[B]=a[U],O[B+1]=a[U+3],O[B+2]=a[U+2],O[B+3]=a[U+1];else for(var F=0;F<Nb;++F)f=a[U+F],O[B+(3&-F)]=m[sbox[f>>>24]]^y[sbox[f>>>16&255]]^D[sbox[f>>>8&255]]^M[sbox[255&f]];a=O}return a}function _updateBlock(n,e,r,a){var g,E,u,B,f,m,y,D,M,O,U,F,x=n.length/4-1;a?(g=imix[0],E=imix[1],u=imix[2],B=imix[3],f=isbox):(g=mix[0],E=mix[1],u=mix[2],B=mix[3],f=sbox),m=e[0]^n[0],y=e[a?3:1]^n[1],D=e[2]^n[2],M=e[a?1:3]^n[3];for(var H=3,j=1;j<x;++j)O=g[m>>>24]^E[y>>>16&255]^u[D>>>8&255]^B[255&M]^n[++H],U=g[y>>>24]^E[D>>>16&255]^u[M>>>8&255]^B[255&m]^n[++H],F=g[D>>>24]^E[M>>>16&255]^u[m>>>8&255]^B[255&y]^n[++H],M=g[M>>>24]^E[m>>>16&255]^u[y>>>8&255]^B[255&D]^n[++H],m=O,y=U,D=F;r[0]=f[m>>>24]<<24^f[y>>>16&255]<<16^f[D>>>8&255]<<8^f[255&M]^n[++H],r[a?3:1]=f[y>>>24]<<24^f[D>>>16&255]<<16^f[M>>>8&255]<<8^f[255&m]^n[++H],r[2]=f[D>>>24]<<24^f[M>>>16&255]<<16^f[m>>>8&255]<<8^f[255&y]^n[++H],r[a?1:3]=f[M>>>24]<<24^f[m>>>16&255]<<16^f[y>>>8&255]<<8^f[255&D]^n[++H]}function _createCipher(n){var e,r="AES-"+((n=n||{}).mode||"CBC").toUpperCase(),a=(e=n.decrypt?forge.cipher.createDecipher(r,n.key):forge.cipher.createCipher(r,n.key)).start;return e.start=function(g,E){var u=null;E instanceof forge.util.ByteBuffer&&(u=E,E={}),(E=E||{}).output=u,E.iv=g,a.call(e,E)},e}let RTMErrorCode=function(n){return n[n.RTM_ERROR_OK=0]="RTM_ERROR_OK",n[n.RTM_ERROR_NOT_INITIALIZED=-10001]="RTM_ERROR_NOT_INITIALIZED",n[n.RTM_ERROR_NOT_LOGIN=-10002]="RTM_ERROR_NOT_LOGIN",n[n.RTM_ERROR_INVALID_APP_ID=-10003]="RTM_ERROR_INVALID_APP_ID",n[n.RTM_ERROR_INVALID_EVENT_HANDLER=-10004]="RTM_ERROR_INVALID_EVENT_HANDLER",n[n.RTM_ERROR_INVALID_TOKEN=-10005]="RTM_ERROR_INVALID_TOKEN",n[n.RTM_ERROR_INVALID_USER_ID=-10006]="RTM_ERROR_INVALID_USER_ID",n[n.RTM_ERROR_INIT_SERVICE_FAILED=-10007]="RTM_ERROR_INIT_SERVICE_FAILED",n[n.RTM_ERROR_INVALID_CHANNEL_NAME=-10008]="RTM_ERROR_INVALID_CHANNEL_NAME",n[n.RTM_ERROR_TOKEN_EXPIRED=-10009]="RTM_ERROR_TOKEN_EXPIRED",n[n.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES=-10010]="RTM_ERROR_LOGIN_NO_SERVER_RESOURCES",n[n.RTM_ERROR_LOGIN_TIMEOUT=-10011]="RTM_ERROR_LOGIN_TIMEOUT",n[n.RTM_ERROR_LOGIN_REJECTED=-10012]="RTM_ERROR_LOGIN_REJECTED",n[n.RTM_ERROR_LOGIN_ABORTED=-10013]="RTM_ERROR_LOGIN_ABORTED",n[n.RTM_ERROR_INVALID_PARAMETER=-10014]="RTM_ERROR_INVALID_PARAMETER",n[n.RTM_ERROR_LOGIN_NOT_AUTHORIZED=-10015]="RTM_ERROR_LOGIN_NOT_AUTHORIZED",n[n.RTM_ERROR_INCONSISTENT_APPID=-10016]="RTM_ERROR_INCONSISTENT_APPID",n[n.RTM_ERROR_DUPLICATE_OPERATION=-10017]="RTM_ERROR_DUPLICATE_OPERATION",n[n.RTM_ERROR_INSTANCE_ALREADY_RELEASED=-10018]="RTM_ERROR_INSTANCE_ALREADY_RELEASED",n[n.RTM_ERROR_INVALID_CHANNEL_TYPE=-10019]="RTM_ERROR_INVALID_CHANNEL_TYPE",n[n.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER=-10020]="RTM_ERROR_INVALID_ENCRYPTION_PARAMETER",n[n.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION=-10021]="RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION",n[n.RTM_ERROR_SERVICE_NOT_SUPPORTED=-10022]="RTM_ERROR_SERVICE_NOT_SUPPORTED",n[n.RTM_ERROR_LOGIN_CANCELED=-10023]="RTM_ERROR_LOGIN_CANCELED",n[n.RTM_ERROR_INVALID_PRIVATE_CONFIG=-10024]="RTM_ERROR_INVALID_PRIVATE_CONFIG",n[n.RTM_ERROR_NOT_CONNECTED=-10025]="RTM_ERROR_NOT_CONNECTED",n[n.RTM_ERROR_CHANNEL_NOT_JOINED=-11001]="RTM_ERROR_CHANNEL_NOT_JOINED",n[n.RTM_ERROR_CHANNEL_NOT_SUBSCRIBED=-11002]="RTM_ERROR_CHANNEL_NOT_SUBSCRIBED",n[n.RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION=-11003]="RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION",n[n.RTM_ERROR_CHANNEL_IN_REUSE=-11004]="RTM_ERROR_CHANNEL_IN_REUSE",n[n.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION=-11005]="RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION",n[n.RTM_ERROR_CHANNEL_IN_ERROR_STATE=-11006]="RTM_ERROR_CHANNEL_IN_ERROR_STATE",n[n.RTM_ERROR_CHANNEL_JOIN_FAILED=-11007]="RTM_ERROR_CHANNEL_JOIN_FAILED",n[n.RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME=-11008]="RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME",n[n.RTM_ERROR_CHANNEL_INVALID_MESSAGE=-11009]="RTM_ERROR_CHANNEL_INVALID_MESSAGE",n[n.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION=-11010]="RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION",n[n.RTM_ERROR_CHANNEL_INVALID_USER_LIST=-11011]="RTM_ERROR_CHANNEL_INVALID_USER_LIST",n[n.RTM_ERROR_CHANNEL_NOT_AVAILABLE=-11012]="RTM_ERROR_CHANNEL_NOT_AVAILABLE",n[n.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED=-11013]="RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED",n[n.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION=-11014]="RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION",n[n.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED=-11015]="RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED",n[n.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED=-11016]="RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED",n[n.RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST=-11017]="RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST",n[n.RTM_ERROR_CHANNEL_INVALID_TOPIC_META=-11018]="RTM_ERROR_CHANNEL_INVALID_TOPIC_META",n[n.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT=-11019]="RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT",n[n.RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT=-11020]="RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT",n[n.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED=-11021]="RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED",n[n.RTM_ERROR_CHANNEL_UNSUBSCRIBE_FAILED=-11022]="RTM_ERROR_CHANNEL_UNSUBSCRIBE_FAILED",n[n.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED=-11023]="RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED",n[n.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED=-11024]="RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED",n[n.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT=-11025]="RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT",n[n.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT=-11026]="RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT",n[n.RTM_ERROR_CHANNEL_NOT_CONNECTED=-11027]="RTM_ERROR_CHANNEL_NOT_CONNECTED",n[n.RTM_ERROR_CHANNEL_LEAVE_FAILED=-11028]="RTM_ERROR_CHANNEL_LEAVE_FAILED",n[n.RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW=-11029]="RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW",n[n.RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE=-11030]="RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE",n[n.RTM_ERROR_CHANNEL_UNSUPPORTED_MESSAGE_TYPE=-11031]="RTM_ERROR_CHANNEL_UNSUPPORTED_MESSAGE_TYPE",n[n.RTM_ERROR_CHANNEL_PRESENCE_NOT_READY=-11032]="RTM_ERROR_CHANNEL_PRESENCE_NOT_READY",n[n.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE=-11033]="RTM_ERROR_CHANNEL_RECEIVER_OFFLINE",n[n.RTM_ERROR_CHANNEL_JOIN_CANCELED=-11034]="RTM_ERROR_CHANNEL_JOIN_CANCELED",n[n.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_BUT_STORE_SUCCEEDED=-11035]="RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_BUT_STORE_SUCCEEDED",n[n.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_AND_STORE_FAILED=-11036]="RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_AND_STORE_FAILED",n[n.RTM_ERROR_CHANNEL_MESSAGE_DELIVERED_BUT_STORE_FAILED=-11037]="RTM_ERROR_CHANNEL_MESSAGE_DELIVERED_BUT_STORE_FAILED",n[n.RTM_ERROR_STORAGE_OPERATION_FAILED=-12001]="RTM_ERROR_STORAGE_OPERATION_FAILED",n[n.RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION=-12002]="RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION",n[n.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM=-12003]="RTM_ERROR_STORAGE_INVALID_METADATA_ITEM",n[n.RTM_ERROR_STORAGE_INVALID_ARGUMENT=-12004]="RTM_ERROR_STORAGE_INVALID_ARGUMENT",n[n.RTM_ERROR_STORAGE_INVALID_REVISION=-12005]="RTM_ERROR_STORAGE_INVALID_REVISION",n[n.RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW=-12006]="RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW",n[n.RTM_ERROR_STORAGE_INVALID_LOCK_NAME=-12007]="RTM_ERROR_STORAGE_INVALID_LOCK_NAME",n[n.RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED=-12008]="RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED",n[n.RTM_ERROR_STORAGE_INVALID_KEY=-12009]="RTM_ERROR_STORAGE_INVALID_KEY",n[n.RTM_ERROR_STORAGE_INVALID_VALUE=-12010]="RTM_ERROR_STORAGE_INVALID_VALUE",n[n.RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW=-12011]="RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW",n[n.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW=-12012]="RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW",n[n.RTM_ERROR_STORAGE_DUPLICATE_KEY=-12013]="RTM_ERROR_STORAGE_DUPLICATE_KEY",n[n.RTM_ERROR_STORAGE_OUTDATED_REVISION=-12014]="RTM_ERROR_STORAGE_OUTDATED_REVISION",n[n.RTM_ERROR_STORAGE_NOT_SUBSCRIBE=-12015]="RTM_ERROR_STORAGE_NOT_SUBSCRIBE",n[n.RTM_ERROR_STORAGE_INVALID_METADATA_INSTANCE=-12016]="RTM_ERROR_STORAGE_INVALID_METADATA_INSTANCE",n[n.RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION=-12017]="RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION",n[n.RTM_ERROR_STORAGE_OPERATION_TIMEOUT=-12018]="RTM_ERROR_STORAGE_OPERATION_TIMEOUT",n[n.RTM_ERROR_STORAGE_NOT_AVAILABLE=-12019]="RTM_ERROR_STORAGE_NOT_AVAILABLE",n[n.RTM_ERROR_PRESENCE_NOT_CONNECTED=-13001]="RTM_ERROR_PRESENCE_NOT_CONNECTED",n[n.RTM_ERROR_PRESENCE_NOT_WRITABLE=-13002]="RTM_ERROR_PRESENCE_NOT_WRITABLE",n[n.RTM_ERROR_PRESENCE_INVALID_ARGUMENT=-13003]="RTM_ERROR_PRESENCE_INVALID_ARGUMENT",n[n.RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES=-13004]="RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES",n[n.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW=-13005]="RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW",n[n.RTM_ERROR_PRESENCE_INVALID_STATE_KEY=-13006]="RTM_ERROR_PRESENCE_INVALID_STATE_KEY",n[n.RTM_ERROR_PRESENCE_INVALID_STATE_VALUE=-13007]="RTM_ERROR_PRESENCE_INVALID_STATE_VALUE",n[n.RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW=-13008]="RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW",n[n.RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW=-13009]="RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW",n[n.RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY=-13010]="RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY",n[n.RTM_ERROR_PRESENCE_USER_NOT_EXIST=-13011]="RTM_ERROR_PRESENCE_USER_NOT_EXIST",n[n.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT=-13012]="RTM_ERROR_PRESENCE_OPERATION_TIMEOUT",n[n.RTM_ERROR_PRESENCE_OPERATION_FAILED=-13013]="RTM_ERROR_PRESENCE_OPERATION_FAILED",n[n.RTM_ERROR_LOCK_OPERATION_FAILED=-14001]="RTM_ERROR_LOCK_OPERATION_FAILED",n[n.RTM_ERROR_LOCK_OPERATION_TIMEOUT=-14002]="RTM_ERROR_LOCK_OPERATION_TIMEOUT",n[n.RTM_ERROR_LOCK_OPERATION_PERFORMING=-14003]="RTM_ERROR_LOCK_OPERATION_PERFORMING",n[n.RTM_ERROR_LOCK_ALREADY_EXIST=-14004]="RTM_ERROR_LOCK_ALREADY_EXIST",n[n.RTM_ERROR_LOCK_INVALID_NAME=-14005]="RTM_ERROR_LOCK_INVALID_NAME",n[n.RTM_ERROR_LOCK_NOT_ACQUIRED=-14006]="RTM_ERROR_LOCK_NOT_ACQUIRED",n[n.RTM_ERROR_LOCK_ACQUIRE_FAILED=-14007]="RTM_ERROR_LOCK_ACQUIRE_FAILED",n[n.RTM_ERROR_LOCK_NOT_EXIST=-14008]="RTM_ERROR_LOCK_NOT_EXIST",n[n.RTM_ERROR_LOCK_NOT_AVAILABLE=-14009]="RTM_ERROR_LOCK_NOT_AVAILABLE",n[n.RTM_ERROR_HISTORY_OPERATION_FAILED=-15001]="RTM_ERROR_HISTORY_OPERATION_FAILED",n[n.RTM_ERROR_HISTORY_INVALID_TIMESTAMP=-15002]="RTM_ERROR_HISTORY_INVALID_TIMESTAMP",n[n.RTM_ERROR_HISTORY_OPERATION_TIMEOUT=-15003]="RTM_ERROR_HISTORY_OPERATION_TIMEOUT",n[n.RTM_ERROR_HISTORY_OPERATION_NOT_PERMITTED=-15004]="RTM_ERROR_HISTORY_OPERATION_NOT_PERMITTED",n[n.RTM_ERROR_HISTORY_NOT_AVAILABLE=-15005]="RTM_ERROR_HISTORY_NOT_AVAILABLE",n}({});const detailMsg4InvalidParam="illegal symbol or too long.",RTMErrorDescription={[RTMErrorCode.RTM_ERROR_OK]:"No error.",[RTMErrorCode.RTM_ERROR_NOT_INITIALIZED]:"Preform operation without initialize.",[RTMErrorCode.RTM_ERROR_NOT_LOGIN]:"Preform operation without login RTM service.",[RTMErrorCode.RTM_ERROR_INVALID_APP_ID]:"Invalid App id. ".concat(detailMsg4InvalidParam),[RTMErrorCode.RTM_ERROR_INVALID_EVENT_HANDLER]:"Invalid event handler.",[RTMErrorCode.RTM_ERROR_INVALID_TOKEN]:"Invalid token.",[RTMErrorCode.RTM_ERROR_INVALID_USER_ID]:"Invalid user id. ".concat(detailMsg4InvalidParam),[RTMErrorCode.RTM_ERROR_INIT_SERVICE_FAILED]:"Initialize agora service failed.",[RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME]:"Invalid channel name. ".concat(detailMsg4InvalidParam),[RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED]:"Token is expired.",[RTMErrorCode.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES]:"No server resources.",[RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT]:"Login RTM service timeout.",[RTMErrorCode.RTM_ERROR_LOGIN_REJECTED]:"Login RTM service was rejected due to server error.",[RTMErrorCode.RTM_ERROR_LOGIN_ABORTED]:"Login RTM service was aborted due to unrecoverable error.",[RTMErrorCode.RTM_ERROR_INVALID_PARAMETER]:"Invalid parameter.",[RTMErrorCode.RTM_ERROR_LOGIN_NOT_AUTHORIZED]:"The login operation is not authorized, should grant from console.",[RTMErrorCode.RTM_ERROR_INCONSISTENT_APPID]:"The appid is not consistent.",[RTMErrorCode.RTM_ERROR_DUPLICATE_OPERATION]:"Same subscribe, join or login request",[RTMErrorCode.RTM_ERROR_INSTANCE_ALREADY_RELEASED]:"Instance already released or destroyed, need to create new one",[RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_TYPE]:"Invalid channel type, some api not support set channel type as user.",[RTMErrorCode.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER]:"Invalid encryption parameter.",[RTMErrorCode.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION]:"The operation rate exceeds limitation.",[RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED]:"Service doesn't support.",[RTMErrorCode.RTM_ERROR_LOGIN_CANCELED]:"Login RTM service was canceled by user.",[RTMErrorCode.RTM_ERROR_INVALID_PRIVATE_CONFIG]:"Set private config should both set serviceType and accessPointHosts.",[RTMErrorCode.RTM_ERROR_NOT_CONNECTED]:"Perform operation failed due to RTM service is not connected",[RTMErrorCode.RTM_ERROR_CHANNEL_NOT_JOINED]:"Perform operation without join stream channel.",[RTMErrorCode.RTM_ERROR_CHANNEL_NOT_SUBSCRIBED]:"Perform operation without subscribe message channel.",[RTMErrorCode.RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION]:"Subscribe failed due to exceed topic user limitation in stream channel.",[RTMErrorCode.RTM_ERROR_CHANNEL_IN_REUSE]:"Release a stream channel which was reused in RTC channel.",[RTMErrorCode.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION]:"Join or subscribe too many channels and have reach limitation.",[RTMErrorCode.RTM_ERROR_CHANNEL_IN_ERROR_STATE]:"Perform channel operation failed since channel state is incorrect.",[RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED]:"Join stream channel failed.",[RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME]:"Perform topic operation with invalid name.".concat(detailMsg4InvalidParam),[RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_MESSAGE]:"Publish invalid message.",[RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION]:"Publish too long message.",[RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_USER_LIST]:"Perform topic operation with invalid user list.",[RTMErrorCode.RTM_ERROR_CHANNEL_NOT_AVAILABLE]:"Stream channel not available for this app id.",[RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED]:"Perform topic operation without subscribe.",[RTMErrorCode.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION]:"Have subscribe or joined too many topics.",[RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED]:"Join topic failed.",[RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED]:"Perform topic operation without join.",[RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST]:"Topic does not exist.",[RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_TOPIC_META]:"Topic meta is invalid.",[RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT]:"Subscribe message channel timeout.",[RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT]:"Subscribe message channel too frequently.",[RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED]:"Subscribe message channel failed.",[RTMErrorCode.RTM_ERROR_CHANNEL_UNSUBSCRIBE_FAILED]:"Unsubscribe message channel failed.",[RTMErrorCode.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED]:"Encrypt message failed.",[RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED]:"Publish message failed.",[RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT]:"Publish message too frequently.",[RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT]:"Publish message timeout.",[RTMErrorCode.RTM_ERROR_CHANNEL_NOT_CONNECTED]:"Perform operation failed due to connection closed.",[RTMErrorCode.RTM_ERROR_CHANNEL_LEAVE_FAILED]:"Leave channel failed.",[RTMErrorCode.RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW]:"The length of custom type overflow.",[RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE]:"Send message with invalid custom type.",[RTMErrorCode.RTM_ERROR_CHANNEL_UNSUPPORTED_MESSAGE_TYPE]:"Send message with unsupported message type.",[RTMErrorCode.RTM_ERROR_CHANNEL_PRESENCE_NOT_READY]:"Join or subscribe channel failed due to presence service not ready.",[RTMErrorCode.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE]:"Publish a message to user now is offline.",[RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_CANCELED]:"Join channel operation was canceled.",[RTMErrorCode.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_BUT_STORE_SUCCEEDED]:"Message receiver is offline but store in history succeeded.",[RTMErrorCode.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_AND_STORE_FAILED]:"Message receiver is offline and store in history failed.",[RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_DELIVERED_BUT_STORE_FAILED]:"Message delivered successfully but store in history failed.",[RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_FAILED]:"Storage operation failed.",[RTMErrorCode.RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION]:"Metadata item size exceeds limitation.",[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM]:"Metadata item is invalid.",[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_ARGUMENT]:"Server reject operation due to invalid argument.",[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION]:"Metadata item with invalid revision.",[RTMErrorCode.RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW]:"The length of metadata items overflow.",[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_LOCK_NAME]:"Storage operation with invalid lock name. ".concat(detailMsg4InvalidParam),[RTMErrorCode.RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED]:"Storage operation with lock not acquired.",[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_KEY]:"Storage operation with invalid key.",[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_VALUE]:"Storage operation with invalid value.",[RTMErrorCode.RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW]:"Storage operation with key length overflow.",[RTMErrorCode.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW]:"Storage operation with value length overflow.",[RTMErrorCode.RTM_ERROR_STORAGE_DUPLICATE_KEY]:"Storage operation with duplicate key.",[RTMErrorCode.RTM_ERROR_STORAGE_OUTDATED_REVISION]:"Storage operation with outdated revision or the key does not exist.",[RTMErrorCode.RTM_ERROR_STORAGE_NOT_SUBSCRIBE]:"Storage operation without subscribe.",[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_METADATA_INSTANCE]:"Metadata instance is invalid.",[RTMErrorCode.RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION]:"Subscribe user metadata exceeds limitation.",[RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT]:"Storage operation timeout.",[RTMErrorCode.RTM_ERROR_STORAGE_NOT_AVAILABLE]:"Storage service is not available.",[RTMErrorCode.RTM_ERROR_PRESENCE_NOT_CONNECTED]:"Presence service not connected.",[RTMErrorCode.RTM_ERROR_PRESENCE_NOT_WRITABLE]:"Operation failed since presence document is not writable, try later.",[RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_ARGUMENT]:"Presence operation failed due to invalid argument.",[RTMErrorCode.RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES]:"Exceed presence cache limitation.",[RTMErrorCode.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW]:"Exceed presence state count limitation.",[RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_STATE_KEY]:"Invalid presence state key.",[RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_STATE_VALUE]:"Invalid presence state value.",[RTMErrorCode.RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW]:"Presence state key length is too long.",[RTMErrorCode.RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW]:"Presence state value length is too long.",[RTMErrorCode.RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY]:"Presence operation failed since including duplicate key.",[RTMErrorCode.RTM_ERROR_PRESENCE_USER_NOT_EXIST]:"Presence operation failed due to inexistent user.",[RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT]:"Presence operation timeout.",[RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_FAILED]:"Presence operation failed.",[RTMErrorCode.RTM_ERROR_LOCK_OPERATION_FAILED]:"Lock operation failed.",[RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT]:"Lock operation timeout.",[RTMErrorCode.RTM_ERROR_LOCK_OPERATION_PERFORMING]:"Lock operation is performing, try later.",[RTMErrorCode.RTM_ERROR_LOCK_ALREADY_EXIST]:"Lock already exist.",[RTMErrorCode.RTM_ERROR_LOCK_INVALID_NAME]:"Lock operation with invalid name. ".concat(detailMsg4InvalidParam),[RTMErrorCode.RTM_ERROR_LOCK_NOT_ACQUIRED]:"Lock not acquired.",[RTMErrorCode.RTM_ERROR_LOCK_ACQUIRE_FAILED]:"Lock acquire failed.",[RTMErrorCode.RTM_ERROR_LOCK_NOT_EXIST]:"Lock not exist.",[RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE]:"Lock service is not available.",[RTMErrorCode.RTM_ERROR_HISTORY_INVALID_TIMESTAMP]:"Invalid start or end timestamp.",[RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_FAILED]:"History operation failed.",[RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_TIMEOUT]:"History operation timeout.",[RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_NOT_PERMITTED]:"History operation is not permitted.",[RTMErrorCode.RTM_ERROR_HISTORY_NOT_AVAILABLE]:"History service is not available."};var UZIP={},u16,u32;module.exports=UZIP,UZIP.parse=function(n,e){for(var r=UZIP.bin.readUshort,a=UZIP.bin.readUint,g=0,E={},u=new Uint8Array(n),B=u.length-4;a(u,B)!=101010256;)B--;g=B,g+=4;var f=r(u,g+=4);r(u,g+=2);var m=a(u,g+=2),y=a(u,g+=4);g+=4,g=y;for(var D=0;D<f;D++){a(u,g),g+=4,g+=4,g+=4,a(u,g+=4),m=a(u,g+=4);var M=a(u,g+=4),O=r(u,g+=4),U=r(u,g+2),F=r(u,g+4);g+=6;var x=a(u,g+=8);g+=4,g+=O+U+F,UZIP._readLocal(u,x,E,m,M,e)}return E},UZIP._readLocal=function(n,e,r,a,g,E){var u=UZIP.bin.readUshort,B=UZIP.bin.readUint;B(n,e),u(n,e+=4),u(n,e+=2);var f=u(n,e+=2);B(n,e+=2),B(n,e+=4),e+=4;var m=u(n,e+=8),y=u(n,e+=2);e+=2;var D=UZIP.bin.readUTF8(n,e,m);if(e+=m,e+=y,E)r[D]={size:g,csize:a};else{var M=new Uint8Array(n.buffer,e);if(f==0)r[D]=new Uint8Array(M.buffer.slice(e,e+a));else{if(f!=8)throw"unknown compression method: "+f;var O=new Uint8Array(g);UZIP.inflateRaw(M,O),r[D]=O}}},UZIP.inflateRaw=function(n,e){return UZIP.F.inflate(n,e)},UZIP.inflate=function(n,e){return n[0],n[1],UZIP.inflateRaw(new Uint8Array(n.buffer,n.byteOffset+2,n.length-2),e)},UZIP.deflate=function(n,e){e==null&&(e={level:6});var r=0,a=new Uint8Array(50+Math.floor(1.1*n.length));a[r]=120,a[r+1]=156,r+=2,r=UZIP.F.deflateRaw(n,a,r,e.level);var g=UZIP.adler(n,0,n.length);return a[r+0]=g>>>24&255,a[r+1]=g>>>16&255,a[r+2]=g>>>8&255,a[r+3]=g>>>0&255,new Uint8Array(a.buffer,0,r+4)},UZIP.deflateRaw=function(n,e){e==null&&(e={level:6});var r=new Uint8Array(50+Math.floor(1.1*n.length)),a=UZIP.F.deflateRaw(n,r,a,e.level);return new Uint8Array(r.buffer,0,a)},UZIP.encode=function(n,e){e==null&&(e=!1);var r=0,a=UZIP.bin.writeUint,g=UZIP.bin.writeUshort,E={};for(var u in n){var B=!UZIP._noNeed(u)&&!e,f=n[u],m=UZIP.crc.crc(f,0,f.length);E[u]={cpr:B,usize:f.length,crc:m,file:B?UZIP.deflateRaw(f):f}}for(var u in E)r+=E[u].file.length+30+46+2*UZIP.bin.sizeUTF8(u);r+=22;var y=new Uint8Array(r),D=0,M=[];for(var u in E){var O=E[u];M.push(D),D=UZIP._writeHeader(y,D,u,O,0)}var U=0,F=D;for(var u in E)O=E[u],M.push(D),D=UZIP._writeHeader(y,D,u,O,1,M[U++]);var x=D-F;return a(y,D,101010256),D+=4,g(y,D+=4,U),g(y,D+=2,U),a(y,D+=2,x),a(y,D+=4,F),D+=4,D+=2,y.buffer},UZIP._noNeed=function(n){var e=n.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(e)!=-1},UZIP._writeHeader=function(n,e,r,a,g,E){var u=UZIP.bin.writeUint,B=UZIP.bin.writeUshort,f=a.file;return u(n,e,g==0?67324752:33639248),e+=4,g==1&&(e+=2),B(n,e,20),B(n,e+=2,0),B(n,e+=2,a.cpr?8:0),u(n,e+=2,0),u(n,e+=4,a.crc),u(n,e+=4,f.length),u(n,e+=4,a.usize),B(n,e+=4,UZIP.bin.sizeUTF8(r)),B(n,e+=2,0),e+=2,g==1&&(e+=2,e+=2,u(n,e+=6,E),e+=4),e+=UZIP.bin.writeUTF8(n,e,r),g==0&&(n.set(f,e),e+=f.length),e},UZIP.crc={table:function(){for(var n=new Uint32Array(256),e=0;e<256;e++){for(var r=e,a=0;a<8;a++)1&r?r=3988292384^r>>>1:r>>>=1;n[e]=r}return n}(),update:function(n,e,r,a){for(var g=0;g<a;g++)n=UZIP.crc.table[255&(n^e[r+g])]^n>>>8;return n},crc:function(n,e,r){return 4294967295^UZIP.crc.update(4294967295,n,e,r)}},UZIP.adler=function(n,e,r){for(var a=1,g=0,E=e,u=e+r;E<u;){for(var B=Math.min(E+5552,u);E<B;)g+=a+=n[E++];a%=65521,g%=65521}return g<<16|a},UZIP.bin={readUshort:function(n,e){return n[e]|n[e+1]<<8},writeUshort:function(n,e,r){n[e]=255&r,n[e+1]=r>>8&255},readUint:function(n,e){return 16777216*n[e+3]+(n[e+2]<<16|n[e+1]<<8|n[e])},writeUint:function(n,e,r){n[e]=255&r,n[e+1]=r>>8&255,n[e+2]=r>>16&255,n[e+3]=r>>24&255},readASCII:function(n,e,r){for(var a="",g=0;g<r;g++)a+=String.fromCharCode(n[e+g]);return a},writeASCII:function(n,e,r){for(var a=0;a<r.length;a++)n[e+a]=r.charCodeAt(a)},pad:function(n){return n.length<2?"0"+n:n},readUTF8:function(n,e,r){for(var a,g="",E=0;E<r;E++)g+="%"+UZIP.bin.pad(n[e+E].toString(16));try{a=decodeURIComponent(g)}catch{return UZIP.bin.readASCII(n,e,r)}return a},writeUTF8:function(n,e,r){for(var a=r.length,g=0,E=0;E<a;E++){var u=r.charCodeAt(E);if(4294967168&u)if(4294965248&u)if(4294901760&u){if(4292870144&u)throw"e";n[e+g]=240|u>>18,n[e+g+1]=128|u>>12&63,n[e+g+2]=128|u>>6&63,n[e+g+3]=128|63&u,g+=4}else n[e+g]=224|u>>12,n[e+g+1]=128|u>>6&63,n[e+g+2]=128|63&u,g+=3;else n[e+g]=192|u>>6,n[e+g+1]=128|63&u,g+=2;else n[e+g]=u,g++}return g},sizeUTF8:function(n){for(var e=n.length,r=0,a=0;a<e;a++){var g=n.charCodeAt(a);if(4294967168&g)if(4294965248&g)if(4294901760&g){if(4292870144&g)throw"e";r+=4}else r+=3;else r+=2;else r++}return r}},UZIP.F={},UZIP.F.deflateRaw=function(n,e,r,a){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],E=UZIP.F.U,u=UZIP.F._goodIndex;UZIP.F._hash;var B=UZIP.F._putsE,f=0,m=r<<3,y=0,D=n.length;if(a==0){for(;f<D;)B(e,m,f+(he=Math.min(65535,D-f))==D?1:0),m=UZIP.F._copyExact(n,f,he,e,m+8),f+=he;return m>>>3}var M=E.lits,O=E.strt,U=E.prev,F=0,x=0,H=0,j=0,ee=0,ne=0;for(D>2&&(O[ne=UZIP.F._hash(n,0)]=0),f=0;f<D;f++){if(ee=ne,f+1<D-2){ne=UZIP.F._hash(n,f+1);var oe=f+1&32767;U[oe]=O[ne],O[ne]=oe}if(y<=f){(F>14e3||x>26697)&&D-f>100&&(y<f&&(M[F]=f-y,F+=2,y=f),m=UZIP.F._writeBlock(f==D-1||y==D?1:0,M,F,j,n,H,f-H,e,m),F=x=j=0,H=f);var ae=0;f<D-2&&(ae=UZIP.F._bestMatch(n,f,U,ee,Math.min(g[2],D-f),g[3]));var he=ae>>>16,fe=65535&ae;if(ae!=0){fe=65535&ae;var Le=u(he=ae>>>16,E.of0);E.lhst[257+Le]++;var He=u(fe,E.df0);E.dhst[He]++,j+=E.exb[Le]+E.dxb[He],M[F]=he<<23|f-y,M[F+1]=fe<<16|Le<<8|He,F+=2,y=f+he}else E.lhst[n[f]]++;x++}}for(H==f&&n.length!=0||(y<f&&(M[F]=f-y,F+=2,y=f),m=UZIP.F._writeBlock(1,M,F,j,n,H,f-H,e,m),F=0,x=0,F=x=j=0,H=f);7&m;)m++;return m>>>3},UZIP.F._bestMatch=function(n,e,r,a,g,E){var u=32767&e,B=r[u],f=u-B+32768&32767;if(B==u||a!=UZIP.F._hash(n,e-f))return 0;for(var m=0,y=0,D=Math.min(32767,e);f<=D&&--E!=0&&B!=u;){if(m==0||n[e+m]==n[e+m-f]){var M=UZIP.F._howLong(n,e,f);if(M>m){if(y=f,(m=M)>=g)break;f+2<M&&(M=f+2);for(var O=0,U=0;U<M-2;U++){var F=e-f+U+32768&32767,x=F-r[F]+32768&32767;x>O&&(O=x,B=F)}}}f+=(u=B)-(B=r[u])+32768&32767}return m<<16|y},UZIP.F._howLong=function(n,e,r){if(n[e]!=n[e-r]||n[e+1]!=n[e+1-r]||n[e+2]!=n[e+2-r])return 0;var a=e,g=Math.min(n.length,e+258);for(e+=3;e<g&&n[e]==n[e-r];)e++;return e-a},UZIP.F._hash=function(n,e){return(n[e]<<8|n[e+1])+(n[e+2]<<4)&65535},UZIP.saved=0,UZIP.F._writeBlock=function(n,e,r,a,g,E,u,B,f){var m,y,D,M,O,U,F,x,H,j=UZIP.F.U,ee=UZIP.F._putsF,ne=UZIP.F._putsE;j.lhst[256]++,y=(m=UZIP.F.getTrees())[0],D=m[1],M=m[2],O=m[3],U=m[4],F=m[5],x=m[6],H=m[7];var oe=32+(f+3&7?8-(f+3&7):0)+(u<<3),ae=a+UZIP.F.contSize(j.fltree,j.lhst)+UZIP.F.contSize(j.fdtree,j.dhst),he=a+UZIP.F.contSize(j.ltree,j.lhst)+UZIP.F.contSize(j.dtree,j.dhst);he+=14+3*F+UZIP.F.contSize(j.itree,j.ihst)+(2*j.ihst[16]+3*j.ihst[17]+7*j.ihst[18]);for(var fe=0;fe<286;fe++)j.lhst[fe]=0;for(fe=0;fe<30;fe++)j.dhst[fe]=0;for(fe=0;fe<19;fe++)j.ihst[fe]=0;var Le=oe<ae&&oe<he?0:ae<he?1:2;if(ee(B,f,n),ee(B,f+1,Le),f+=3,Le==0){for(;7&f;)f++;f=UZIP.F._copyExact(g,E,u,B,f)}else{var He,Se;if(Le==1&&(He=j.fltree,Se=j.fdtree),Le==2){UZIP.F.makeCodes(j.ltree,y),UZIP.F.revCodes(j.ltree,y),UZIP.F.makeCodes(j.dtree,D),UZIP.F.revCodes(j.dtree,D),UZIP.F.makeCodes(j.itree,M),UZIP.F.revCodes(j.itree,M),He=j.ltree,Se=j.dtree,ne(B,f,O-257),ne(B,f+=5,U-1),ne(B,f+=5,F-4),f+=4;for(var ge=0;ge<F;ge++)ne(B,f+3*ge,j.itree[1+(j.ordr[ge]<<1)]);f+=3*F,f=UZIP.F._codeTiny(x,j.itree,B,f),f=UZIP.F._codeTiny(H,j.itree,B,f)}for(var Ye=E,q=0;q<r;q+=2){for(var me=e[q],Fe=me>>>23,_t=Ye+(8388607&me);Ye<_t;)f=UZIP.F._writeLit(g[Ye++],He,B,f);if(Fe!=0){var Qt=e[q+1],je=Qt>>16,nt=Qt>>8&255,ut=255&Qt;ne(B,f=UZIP.F._writeLit(257+nt,He,B,f),Fe-j.of0[nt]),f+=j.exb[nt],ee(B,f=UZIP.F._writeLit(ut,Se,B,f),je-j.df0[ut]),f+=j.dxb[ut],Ye+=Fe}}f=UZIP.F._writeLit(256,He,B,f)}return f},UZIP.F._copyExact=function(n,e,r,a,g){var E=g>>>3;return a[E]=r,a[E+1]=r>>>8,a[E+2]=255-a[E],a[E+3]=255-a[E+1],E+=4,a.set(new Uint8Array(n.buffer,e,r),E),g+(r+4<<3)},UZIP.F.getTrees=function(){for(var n=UZIP.F.U,e=UZIP.F._hufTree(n.lhst,n.ltree,15),r=UZIP.F._hufTree(n.dhst,n.dtree,15),a=[],g=UZIP.F._lenCodes(n.ltree,a),E=[],u=UZIP.F._lenCodes(n.dtree,E),B=0;B<a.length;B+=2)n.ihst[a[B]]++;for(B=0;B<E.length;B+=2)n.ihst[E[B]]++;for(var f=UZIP.F._hufTree(n.ihst,n.itree,7),m=19;m>4&&n.itree[1+(n.ordr[m-1]<<1)]==0;)m--;return[e,r,f,g,u,m,a,E]},UZIP.F.getSecond=function(n){for(var e=[],r=0;r<n.length;r+=2)e.push(n[r+1]);return e},UZIP.F.nonZero=function(n){for(var e="",r=0;r<n.length;r+=2)n[r+1]!=0&&(e+=(r>>1)+",");return e},UZIP.F.contSize=function(n,e){for(var r=0,a=0;a<e.length;a++)r+=e[a]*n[1+(a<<1)];return r},UZIP.F._codeTiny=function(n,e,r,a){for(var g=0;g<n.length;g+=2){var E=n[g],u=n[g+1];a=UZIP.F._writeLit(E,e,r,a);var B=E==16?2:E==17?3:7;E>15&&(UZIP.F._putsE(r,a,u,B),a+=B)}return a},UZIP.F._lenCodes=function(n,e){for(var r=n.length;r!=2&&n[r-1]==0;)r-=2;for(var a=0;a<r;a+=2){var g=n[a+1],E=a+3<r?n[a+3]:-1,u=a+5<r?n[a+5]:-1,B=a==0?-1:n[a-1];if(g==0&&E==g&&u==g){for(var f=a+5;f+2<r&&n[f+2]==g;)f+=2;(m=Math.min(f+1-a>>>1,138))<11?e.push(17,m-3):e.push(18,m-11),a+=2*m-2}else if(g==B&&E==g&&u==g){for(f=a+5;f+2<r&&n[f+2]==g;)f+=2;var m=Math.min(f+1-a>>>1,6);e.push(16,m-3),a+=2*m-2}else e.push(g,0)}return r>>>1},UZIP.F._hufTree=function(n,e,r){var a=[],g=n.length,E=e.length,u=0;for(u=0;u<E;u+=2)e[u]=0,e[u+1]=0;for(u=0;u<g;u++)n[u]!=0&&a.push({lit:u,f:n[u]});var B=a.length,f=a.slice(0);if(B==0)return 0;if(B==1){var m=a[0].lit;return f=m==0?1:0,e[1+(m<<1)]=1,e[1+(f<<1)]=1,1}a.sort(function(x,H){return x.f-H.f});var y=a[0],D=a[1],M=0,O=1,U=2;for(a[0]={lit:-1,f:y.f+D.f,l:y,r:D,d:0};O!=B-1;)y=M!=O&&(U==B||a[M].f<a[U].f)?a[M++]:a[U++],D=M!=O&&(U==B||a[M].f<a[U].f)?a[M++]:a[U++],a[O++]={lit:-1,f:y.f+D.f,l:y,r:D};var F=UZIP.F.setDepth(a[O-1],0);for(F>r&&(UZIP.F.restrictDepth(f,r,F),F=r),u=0;u<B;u++)e[1+(f[u].lit<<1)]=f[u].d;return F},UZIP.F.setDepth=function(n,e){return n.lit!=-1?(n.d=e,e):Math.max(UZIP.F.setDepth(n.l,e+1),UZIP.F.setDepth(n.r,e+1))},UZIP.F.restrictDepth=function(n,e,r){var a=0,g=1<<r-e,E=0;for(n.sort(function(B,f){return f.d==B.d?B.f-f.f:f.d-B.d}),a=0;a<n.length&&n[a].d>e;a++){var u=n[a].d;n[a].d=e,E+=g-(1<<r-u)}for(E>>>=r-e;E>0;)(u=n[a].d)<e?(n[a].d++,E-=1<<e-u-1):a++;for(;a>=0;a--)n[a].d==e&&E<0&&(n[a].d--,E++);E!=0&&console.log("debt left")},UZIP.F._goodIndex=function(n,e){var r=0;return e[16|r]<=n&&(r|=16),e[8|r]<=n&&(r|=8),e[4|r]<=n&&(r|=4),e[2|r]<=n&&(r|=2),e[1|r]<=n&&(r|=1),r},UZIP.F._writeLit=function(n,e,r,a){return UZIP.F._putsF(r,a,e[n<<1]),a+e[1+(n<<1)]},UZIP.F.inflate=function(n,e){var r=Uint8Array;if(n[0]==3&&n[1]==0)return e||new r(0);var a=UZIP.F,g=a._bitsF,E=a._bitsE,u=a._decodeTiny,B=a.makeCodes,f=a.codes2map,m=a._get17,y=a.U,D=e==null;D&&(e=new r(n.length>>>2<<3));for(var M,O,U=0,F=0,x=0,H=0,j=0,ee=0,ne=0,oe=0,ae=0;U==0;)if(U=g(n,ae,1),F=g(n,ae+1,2),ae+=3,F!=0){if(D&&(e=UZIP.F._check(e,oe+(1<<17))),F==1&&(M=y.flmap,O=y.fdmap,ee=511,ne=31),F==2){x=E(n,ae,5)+257,H=E(n,ae+5,5)+1,j=E(n,ae+10,4)+4,ae+=14;for(var he=0;he<38;he+=2)y.itree[he]=0,y.itree[he+1]=0;var fe=1;for(he=0;he<j;he++){var Le=E(n,ae+3*he,3);y.itree[1+(y.ordr[he]<<1)]=Le,Le>fe&&(fe=Le)}ae+=3*j,B(y.itree,fe),f(y.itree,fe,y.imap),M=y.lmap,O=y.dmap,ae=u(y.imap,(1<<fe)-1,x+H,n,ae,y.ttree);var He=a._copyOut(y.ttree,0,x,y.ltree);ee=(1<<He)-1;var Se=a._copyOut(y.ttree,x,H,y.dtree);ne=(1<<Se)-1,B(y.ltree,He),f(y.ltree,He,M),B(y.dtree,Se),f(y.dtree,Se,O)}for(;;){var ge=M[m(n,ae)&ee];ae+=15&ge;var Ye=ge>>>4;if(!(Ye>>>8))e[oe++]=Ye;else{if(Ye==256)break;var q=oe+Ye-254;if(Ye>264){var me=y.ldef[Ye-257];q=oe+(me>>>3)+E(n,ae,7&me),ae+=7&me}var Fe=O[m(n,ae)&ne];ae+=15&Fe;var _t=Fe>>>4,Qt=y.ddef[_t],je=(Qt>>>4)+g(n,ae,15&Qt);for(ae+=15&Qt,D&&(e=UZIP.F._check(e,oe+(1<<17)));oe<q;)e[oe]=e[oe++-je],e[oe]=e[oe++-je],e[oe]=e[oe++-je],e[oe]=e[oe++-je];oe=q}}}else{7&ae&&(ae+=8-(7&ae));var nt=4+(ae>>>3),ut=n[nt-4]|n[nt-3]<<8;D&&(e=UZIP.F._check(e,oe+ut)),e.set(new r(n.buffer,n.byteOffset+nt,ut),oe),ae=nt+ut<<3,oe+=ut}return e.length==oe?e:e.slice(0,oe)},UZIP.F._check=function(n,e){var r=n.length;if(e<=r)return n;var a=new Uint8Array(Math.max(r<<1,e));return a.set(n,0),a},UZIP.F._decodeTiny=function(n,e,r,a,g,E){for(var u=UZIP.F._bitsE,B=UZIP.F._get17,f=0;f<r;){var m=n[B(a,g)&e];g+=15&m;var y=m>>>4;if(y<=15)E[f]=y,f++;else{var D=0,M=0;y==16?(M=3+u(a,g,2),g+=2,D=E[f-1]):y==17?(M=3+u(a,g,3),g+=3):y==18&&(M=11+u(a,g,7),g+=7);for(var O=f+M;f<O;)E[f]=D,f++}}return g},UZIP.F._copyOut=function(n,e,r,a){for(var g=0,E=0,u=a.length>>>1;E<r;){var B=n[E+e];a[E<<1]=0,a[1+(E<<1)]=B,B>g&&(g=B),E++}for(;E<u;)a[E<<1]=0,a[1+(E<<1)]=0,E++;return g},UZIP.F.makeCodes=function(n,e){for(var r,a,g,E,u=UZIP.F.U,B=n.length,f=u.bl_count,m=0;m<=e;m++)f[m]=0;for(m=1;m<B;m+=2)f[n[m]]++;var y=u.next_code;for(r=0,f[0]=0,a=1;a<=e;a++)r=r+f[a-1]<<1,y[a]=r;for(g=0;g<B;g+=2)(E=n[g+1])!=0&&(n[g]=y[E],y[E]++)},UZIP.F.codes2map=function(n,e,r){for(var a=n.length,g=UZIP.F.U.rev15,E=0;E<a;E+=2)if(n[E+1]!=0)for(var u=E>>1,B=n[E+1],f=u<<4|B,m=e-B,y=n[E]<<m,D=y+(1<<m);y!=D;)r[g[y]>>>15-e]=f,y++},UZIP.F.revCodes=function(n,e){for(var r=UZIP.F.U.rev15,a=15-e,g=0;g<n.length;g+=2){var E=n[g]<<e-n[g+1];n[g]=r[E]>>>a}},UZIP.F._putsE=function(n,e,r){r<<=7&e;var a=e>>>3;n[a]|=r,n[a+1]|=r>>>8},UZIP.F._putsF=function(n,e,r){r<<=7&e;var a=e>>>3;n[a]|=r,n[a+1]|=r>>>8,n[a+2]|=r>>>16},UZIP.F._bitsE=function(n,e,r){return(n[e>>>3]|n[1+(e>>>3)]<<8)>>>(7&e)&(1<<r)-1},UZIP.F._bitsF=function(n,e,r){return(n[e>>>3]|n[1+(e>>>3)]<<8|n[2+(e>>>3)]<<16)>>>(7&e)&(1<<r)-1},UZIP.F._get17=function(n,e){return(n[e>>>3]|n[1+(e>>>3)]<<8|n[2+(e>>>3)]<<16)>>>(7&e)},UZIP.F._get25=function(n,e){return(n[e>>>3]|n[1+(e>>>3)]<<8|n[2+(e>>>3)]<<16|n[3+(e>>>3)]<<24)>>>(7&e)},UZIP.F.U=(u16=Uint16Array,u32=Uint32Array,{next_code:new u16(16),bl_count:new u16(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new u16(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new u32(32),flmap:new u16(512),fltree:[],fdmap:new u16(32),fdtree:[],lmap:new u16(32768),ltree:[],ttree:[],dmap:new u16(32768),dtree:[],imap:new u16(512),itree:[],rev15:new u16(32768),lhst:new u32(286),dhst:new u32(30),ihst:new u32(19),lits:new u32(15e3),strt:new u16(65536),prev:new u16(32768)}),function(){for(var n=UZIP.F.U,e=0;e<32768;e++){var r=e;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,n.rev15[e]=(r>>>16|r<<16)>>>17}function a(g,E,u){for(;E--!=0;)g.push(0,u)}for(e=0;e<32;e++)n.ldef[e]=n.of0[e]<<3|n.exb[e],n.ddef[e]=n.df0[e]<<4|n.dxb[e];a(n.fltree,144,8),a(n.fltree,112,9),a(n.fltree,24,7),a(n.fltree,8,8),UZIP.F.makeCodes(n.fltree,9),UZIP.F.codes2map(n.fltree,9,n.flmap),UZIP.F.revCodes(n.fltree,9),a(n.fdtree,32,5),UZIP.F.makeCodes(n.fdtree,5),UZIP.F.codes2map(n.fdtree,5,n.fdmap),UZIP.F.revCodes(n.fdtree,5),a(n.itree,19,0),a(n.ltree,286,0),a(n.dtree,30,0),a(n.ttree,320,0)}();const{inflate:inflate$1}=UZIP,UINT32_MAX=4294967295,OperationName={initRTM:"initRTM",login:"login",logout:"logout",renewToken:"renewToken",updateConfig:"updateConfig",publish:"publish",subscribe:"subscribe",unsubscribe:"unsubscribe",createStreamChannel:"createStreamChannel",leave:"leave",joinTopic:"joinTopic",join:"join",publishTopicMessage:"publishTopicMessage",leaveTopic:"leaveTopic",subscribeTopic:"subscribeTopic",unsubscribeTopic:"unsubscribeTopic",getSubscribedUserList:"getSubscribedUserList",setChannelMetadata:"setChannelMetadata",getChannelMetadata:"getChannelMetadata",removeChannelMetadata:"removeChannelMetadata",updateChannelMetadata:"updateChannelMetadata",setUserMetadata:"setUserMetadata",getUserMetadata:"getUserMetadata",removeUserMetadata:"removeUserMetadata",updateUserMetadata:"updateUserMetadata",subscribeUserMetadata:"subscribeUserMetadata",unsubscribeUserMetadata:"unsubscribeUserMetadata",setLock:"setLock",removeLock:"removeLock",acquireLock:"acquireLock",releaseLock:"releaseLock",revokeLock:"revokeLock",getLock:"getLock",rtm:"rtm",presenceSetState:"presenceSetState",whereNow:"whereNow",getUserChannels:"getUserChannels",whoNow:"whoNow",getOnlineUsers:"getOnlineUsers",presenceGetState:"presenceGetState",presenceRemoveState:"presenceRemoveState",storage:"storage",getMessages:"getMessages"};function getRandomInt(n,e){const r=Math.ceil(n),a=Math.floor(e);return Math.floor(Math.random()*(a-r+1))+n}function getRandomUInt64(){const n=getRandomInt(0,UINT32_MAX),e=getRandomInt(1,UINT32_MAX);return new Long$2(n,e,!0)}function getSid(n){return n.toString().padEnd(32,"0")}function calIpDistance(n,e){const r=n.split(".").map(g=>Number(g)),a=e.split(".").map(g=>Number(g));return Math.sqrt(1e3*(r[0]-a[0])**2+100*(r[1]-a[1])**2+10*(r[2]-a[2])**2+1*(r[3]-a[3])**2)}function longToStringIfNeeded(n){return n.lessThanOrEqual(Number.MAX_SAFE_INTEGER)?n.toNumber():n.toString()}const prefixSeqMap=new Map;function uniquePrefixedId(n,e){const r="".concat(n).concat(e||""),a=prefixSeqMap.get(r)||1;return prefixSeqMap.set(r,a+1),"".concat(n).concat(a)}const getUTCTimestamp$1=()=>{const n=new Date,[e,r]=n.toISOString().split("T"),[a,g,E]=e.split("-");return"".concat(g,"-").concat(E," ").concat(r.replace(/\..+/,""),".").concat(n.getMilliseconds())},getKeys=Object.keys,getEntries=Object.entries.bind(Object);function isLongNum(n){return typeof n=="number"||Long$2.isLong(n)}async function delay$1(n,e){return new Promise(r=>{setTimeout(r,n)})}async function postWithAbortSignal(n,e,r){let{body:a,headers:g={},timeout:E=1e4,signal:u,withCredentials:B=!1}=e;if(navigator.onLine===!1)throw new Error("network is offline, not permit send request: url(".concat(n,")"));const f=OperationName.rtm,{useBinaryResponse:m=!1}={},y=new XMLHttpRequest;y.open("POST",n,!0),y.responseType=m?"arraybuffer":"text",y.withCredentials=B,y.timeout=E;const D=a instanceof FormData,M=a instanceof Uint8Array,O=Object.keys(g).filter(U=>U.toLowerCase()==="content-type");if(O.length>1)throw new RangeError("multiple content-type");if(O.length===0&&(M?g["Content-Type"]="application/octet-stream":D||(g["Content-Type"]="application/json")),!("setRequestHeader"in y)){y.abort();const U=await fetch(n,{body:D||M?a:JSON.stringify(a),cache:"no-cache",credentials:B?"include":"same-origin",headers:g,method:"POST",mode:"cors",referrer:"no-referrer",signal:u}),{status:F}=U;if(F>=200&&F<300||F===304)return m?{status:F,responseData:await U.arrayBuffer()}:{status:F,responseText:await U.text()};const x=new RtmUnavailableError(f,["Post XHR failure, status %d",F]);try{const H=await U.text();throw x.statusCode=F,x.message=H||"Request failed, status ".concat(F),x}catch{throw x.statusCode=F,x.message="Request failed, status ".concat(F),x}}if(Object.keys(g).length!==0)for(let U=0,F=Object.entries(g);U<F.length;U++){const[x,H]=F[U];y.setRequestHeader(x,H)}if(u!==void 0){const U=()=>{y.abort(),u.removeEventListener("abort",U)};u.addEventListener("abort",U)}return D||M?y.send(a):y.send(JSON.stringify(a)),new Promise((U,F)=>{const x=()=>{try{F(new DOMException("The request aborted.","AbortError"))}catch{const j=new Error("The request aborted.");j.name="AbortError",F(j)}};y.onload=()=>{const{status:H}=y;if(H===0)x();else if(H>=200&&H<300||H===304)U(m?{status:H,responseData:y.response}:{status:H,responseText:y.responseText});else{const j=new RtmUnavailableError(f,["Post XHR failure, status %d",H]);j.statusCode=H,j.message=y.response||"Request failed, status ".concat(y.status),F(j)}},y.ontimeout=H=>{F(new RtmTimeoutError(f,["XHR request timed out after %d ms",E],{originalError:H}))},y.onerror=()=>{y.status===0&&x();const H=new RtmUnavailableError(f,["Post XHR failure, status %d",y.status]);H.statusCode=y.status,H.message=y.response||"Request failed, status ".concat(y.status),F(H)},y.onabort=()=>{x()}})}function validMessage(n,e){const r=OperationName.publish,{code:a,reason:g}=getErrorInfoByCode(e);if(!isPlainObject$3(n))throw new RtmInvalidArgumentError(r,[g],a);if(n.messageType===void 0)if(n.rawMessage instanceof Uint8Array){if(n.messageType="RAW",n.text!==void 0)throw new RtmInvalidArgumentError(r,[g],a)}else{if(typeof n.text!="string")throw new RtmInvalidArgumentError(r,[g],a);if(n.messageType="TEXT",n.rawMessage!==void 0)throw new RtmInvalidArgumentError(r,[g],a)}}async function commonSendMessage(n){let{message:e,peerId:r,session:a,diff:g,customType:E,storeInHistory:u,toPeer:B}=n;const f=OperationName.publish;if(a===void 0){const{code:y,reason:D}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(f,[D],y)}let m;switch(m=B?e.messageType==="TEXT"?RtmMessageCategoryEnum.P2pSMsgNoOfflineFlag:RtmMessageCategoryEnum.P2pRMsgNoOfflineFlag:e.messageType==="TEXT"?RtmMessageCategoryEnum.ChannelSMsg:RtmMessageCategoryEnum.ChannelRMsg,e.messageType){case"TEXT":return a.sendTextMessage(e.text,r,B,(B?P2P_MESSAGE_SEND_TIMEOUT:MESSAGE_SEND_TIMEOUT)-g,E,u);case"RAW":return e.description===void 0&&(e.description=""),a.sendRawMessage(e.rawMessage,e.description,r,B,(B?P2P_MESSAGE_SEND_TIMEOUT:MESSAGE_SEND_TIMEOUT)-g,E,u);default:a.emit("messageCount",{messageCategory:m,type:"common",key:"sentcount"}),a.emit("messageCount",{messageCategory:m,type:"common",key:"invalidmessagecount"});const{code:y,reason:D}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_MESSAGE);throw new RtmInvalidArgumentError(f,[D],y)}}function getDomain(n){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=n.replace(/(https?:\/\/)?(www.)?/i,"");return e||(r=r.split(".").slice(n.length-2).join(".")),r.indexOf("/")!==-1?r.split("/")[0]:r}function replaceRangeWithAsterisk(n){const e=String(n);if(typeof e!="string")return"[Sensitive Info]";const r=Math.floor(.7*e.length),a=e.length;return replaceRange(e,r,a,"*".repeat(a-r))}function maskMiddleOfString(n){const e=String(n);if(typeof e!="string")return"[Sensitive Info]";const r=e.length;if(r<=2)return e;const a=r/3,g=r/3*2,E="*".repeat(g-a);return e.substring(0,a)+E+e.substring(g)}function handleLogObject(n,e,r){function a(g){if(isPrimitive(g))return g;if(n instanceof Uint8Array)return"[Hidden Info]";if(Array.isArray(g))return g.map(a);const E={};for(let u=0,B=Object.entries(g);u<B.length;u++){const[f,m]=B[u],y=typeof m=="number"?m.toString():m;y instanceof Uint8Array||e.includes(f)?E[f]="[Hidden Info]":r.includes(f)?E[f]=typeof y=="string"?maskMiddleOfString(y):Array.isArray(y)?y.map(a):a(y):E[f]=isNil$1(y)?y:a(y)}return E}return Array.isArray(n)?n.map(a):a(n)}function deepFreeze(n){return Object.getOwnPropertyNames(n).forEach(function(e){const r=n[e];typeof r=="object"&&r!==null&&deepFreeze(r)}),Object.freeze(n)}function decodeUint8ArrayToString(n){return new TextDecoder("utf-8").decode(n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength))}function concatenateUint8Array(){let n=0;for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];for(let u=0;u<r.length;u++)n+=r[u].length;const g=new Uint8Array(n);let E=0;for(let u=0;u<r.length;u++){const B=r[u];g.set(B,E),E+=B.length}return g}function appendQueryParameter(n,e,r){const a=n.match(/([^?#]+)(\?[^#]*)?(\#.*)?/),g=a==null?void 0:a[1],E=a==null?void 0:a[2];if(E){const u=E.substr(1).split("&");let B;for(B=0;B<u.length;B++)if(u[B].split("=")[0]==e){u[B]=e+"="+encodeURIComponent(r);break}return B==u.length&&u.push(e+"="+encodeURIComponent(r)),g+"?"+u.join("&")}return g+"?"+e+"="+encodeURIComponent(r)}function replaceRange(n,e,r,a){return typeof n!="string"?"[Sensitive Info]":n.substring(0,e)+a+n.substring(r)}function isValidEnvString(n){return typeof n=="string"&&n.length!==0&&n!=="false"&&n!=="null"&&n!=="undefined"}const streamChannel_prefix="*s*",lock_prefix="*l*";function getPrefixLockName(n){return"".concat(lock_prefix).concat(n)}function getChannelNameByType(n,e){return e==="STREAM"?"".concat(streamChannel_prefix).concat(n):n}function getChannelDetailByName(n){return n.startsWith(streamChannel_prefix)?{channelName:n.slice(3),channelType:"STREAM"}:{channelName:n,channelType:"MESSAGE"}}function roundUp(n){const e=(1<<ROUNDUP_BIT_SIZE)-1;return n+e&-16}function encrypt(n,e,r,a){let g=typeof n=="string"?new TextEncoder().encode(n):n;const E=roundUp(g.length);if(E>g.byteLength){const f=new Uint8Array(E-g.byteLength);g=new Uint8Array([...g,...f])}const u=util$6.createBuffer(g),B=forgeCipher.createCipher("AES-GCM",util$6.createBuffer(e.slice(0,a)));B.start({iv:r}),B.update(u),B.finish();{const f=B.output.getBytes()+B.mode.tag.getBytes(),m=[];for(let y=0;y<f.length;y++)m.push(f.charCodeAt(y));return new Uint8Array(m)}}function decrypt(n,e,r,a){const g=util$6.createBuffer(n),E=util$6.createBuffer(n),u=util$6.createBuffer(g.getBytes(g.length()).slice(-16)),B=E.getBytes(E.length()).slice(0,g.getBytes().length-TAG_LENGTH),f=forgeCipher.createDecipher("AES-GCM",util$6.createBuffer(e.slice(0,a)));f.start({iv:r,tag:u,tagLength:128}),f.update(util$6.createBuffer(B)),f.finish();const m=f.output.data,y=[];for(let D=0;D<m.length;D++)y.push(m.charCodeAt(D));return new Uint8Array(y)}function GlobalPresenceString(n){return K_PRESENCE_PREFIX+n+K_GLOBAL_ONLINE}function ChannelQueryString(n,e){return K_PRESENCE_PREFIX+n+K_CHANNEL_ONLINE+e+K_USER_COLLECTION}function extractPrefixChannelName(n){const e=new RegExp("^".concat(K_PRESENCE_PREFIX,"([^/]+)").concat(K_CHANNEL_ONLINE,"([^/]+)").concat(K_USER_COLLECTION,"$")),r=n.match(e);return r?{vid:r[1],prefixChannelName:r[2]}:{}}function getErrorInfoByCode(n){return{code:n,reason:RTMErrorDescription[n]}}class ReadByteBuffer{constructor(e){_defineProperty$1(this,"view",void 0),_defineProperty$1(this,"offset",void 0),this.view=new DataView(e),this.offset=0}getString(){const e=this.view.getUint16(this.offset,!0);this.offset+=2;const r=new Uint8Array(this.view.buffer,this.offset,e);return this.offset+=e,new TextDecoder().decode(r)}getUint32(){const e=this.view.getUint32(this.offset,!0);return this.offset+=4,e}getUint16(){const e=this.view.getUint16(this.offset,!0);return this.offset+=2,e}pack(){return this.view.buffer.slice(this.offset)}}function decodeBase64(n){const e=atob(n),r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r}function fromStringWith006(n){return n.slice(VERSION_LENGTH,APP_ID_LENGTH+VERSION_LENGTH)}function fromStringWith007(n){const e=n.substring(VERSION_LENGTH),r=inflate$1(decodeBase64(e)),a=new ReadByteBuffer(r.buffer);return a.getString(),a.getString()}const syncRpcStart="Sync Request Start",syncRpcEnd="Sync Request End";function getUTCTimeBaseREG(n){return new Date().getTime()+n}function parseHost(n,e){let r=e;const a=n.indexOf(":");if(a!==-1){const g=n.length-a;return r=Number(n.slice(a+1)),{domain:n.slice(0,n.length-g),port:e}}return{domain:n,port:r}}function getPrivateSettingsPortAndDomains(n,e){let r=e;return{hostname:n.map(a=>{const g=parseHost(a,void 0);return g.port&&(r=g.port),g.domain}),port:r}}function getSyncPacketUri(n){const e=Array.from(n.slice(2,4)),r=e[0],a=e[1];return new DataView(new Uint8Array([a,r]).buffer).getInt16(0)}function handleJoinOptionsAsDefault(n){var e,r,a,g;return{withLock:(e=n==null?void 0:n.withLock)!==null&&e!==void 0&&e,withMetadata:(r=n==null?void 0:n.withMetadata)!==null&&r!==void 0&&r,withPresence:(a=n==null?void 0:n.withPresence)===null||a===void 0||a,beQuiet:(g=n==null?void 0:n.beQuiet)!==null&&g!==void 0&&g}}function handleSubOptionsAsDefault(n){var e;return _objectSpread2(_objectSpread2({},handleJoinOptionsAsDefault(n)),{},{withMessage:(e=n==null?void 0:n.withMessage)===null||e===void 0||e})}async function timeoutPromise(n,e,r,a,g){if(n)return new Promise(async(E,u)=>{const B=setTimeout(()=>{clearTimeout(B);const{code:f,reason:m}=getErrorInfoByCode(a),y=new RtmTimeoutError(r,[m+"timeout occurred"],f);u(y)},e);try{const f=await n;clearTimeout(B),E(f)}catch(f){if(clearTimeout(B),isRtmError(f)||g)u(f);else{const{code:m,reason:y}=getErrorInfoByCode(a),D=new RtmTimeoutError(r,[y+"timeout occurred"],m);u(D)}}})}let RegServerErrorCode=function(n){return n[n.kOk=0]="kOk",n[n.kFail=1]="kFail",n[n.kTimestampExpired=2]="kTimestampExpired",n[n.kChannelPermissionInvalid=3]="kChannelPermissionInvalid",n[n.kCertificateInvalid=4]="kCertificateInvalid",n[n.kChannelNameEmpty=5]="kChannelNameEmpty",n[n.kChannelNotFound=6]="kChannelNotFound",n[n.kTicketInvalid=7]="kTicketInvalid",n[n.kChannelConflicted=8]="kChannelConflicted",n[n.kServiceNotReady=9]="kServiceNotReady",n[n.kServiceTooHeavy=10]="kServiceTooHeavy",n[n.kRejoined=11]="kRejoined",n[n.kNoNeedToChange=13]="kNoNeedToChange",n[n.kUidBanned=14]="kUidBanned",n[n.kIpBanned=15]="kIpBanned",n[n.kChannelBanned=16]="kChannelBanned",n[n.kTicketParseError=17]="kTicketParseError",n[n.kTicketIllegalLength=18]="kTicketIllegalLength",n[n.kTicketNotAuth=19]="kTicketNotAuth",n[n.kTicketUnknownVersion=20]="kTicketUnknownVersion",n[n.kLoginedFromRemote=21]="kLoginedFromRemote",n[n.kGwychFailed=23]="kGwychFailed",n[n.kTooManyBroadcasters=24]="kTooManyBroadcasters",n[n.kServerDown=25]="kServerDown",n[n.kResourceHeldByOther=26]="kResourceHeldByOther",n[n.kRtm2GwychFailed=27]="kRtm2GwychFailed",n[n.kAutoRebalance=28]="kAutoRebalance",n[n.kBannedForExceedingQuota=101]="kBannedForExceedingQuota",n[n.kRequestPending=65535]="kRequestPending",n[n.kVoid=1e4]="kVoid",n[n.kConnectionTimeout=10001]="kConnectionTimeout",n[n.kInvalidPacket=10002]="kInvalidPacket",n[n.kAlreadyJoined=10003]="kAlreadyJoined",n[n.kJoinTimeout=10004]="kJoinTimeout",n[n.kRejoinFailed=10005]="kRejoinFailed",n[n.kJoinTooFrequently=10006]="kJoinTooFrequently",n[n.kCompressionMethodUnrecognized=10007]="kCompressionMethodUnrecognized",n[n.kUserNotFound=10008]="kUserNotFound",n[n.kUserInstanceConflict=10009]="kUserInstanceConflict",n[n.kContentOversized=10010]="kContentOversized",n[n.kRequestTooFrequently=10011]="kRequestTooFrequently",n[n.kDamagedPacket=10012]="kDamagedPacket",n[n.kInvalidRequestParameters=10013]="kInvalidRequestParameters",n[n.kServerInternalError=10014]="kServerInternalError",n[n.kContentNotFound=10015]="kContentNotFound",n[n.kIncompatible=10016]="kIncompatible",n[n.kEdgeInDegradation=10017]="kEdgeInDegradation",n[n.kUserBannedByRule=10018]="kUserBannedByRule",n[n.kUserBannedByAuth=10019]="kUserBannedByAuth",n[n.kGroupUserBannedByAuth=10020]="kGroupUserBannedByAuth",n[n.kConsoleConfigNotFound=10021]="kConsoleConfigNotFound",n[n.kUserRejectedByConsoleConfig=10022]="kUserRejectedByConsoleConfig",n[n.kTest1=11001]="kTest1",n[n.kTest2=11002]="kTest2",n[n.kTest3=11003]="kTest3",n}({});class OperationControl{constructor(){_defineProperty$1(this,"promiseMap",new Map)}setPromise(e,r){this.promiseMap.set(e,r)}getPromise(e){return this.promiseMap.get(e)}deletePromise(e){this.promiseMap.delete(e)}async awaitPromise(e){let r,a;const g=new Promise((u,B)=>{r=u,a=B}),E=this.getPromise(e);try{E&&await E}catch{}return g.finally(()=>{this.deletePromise(e)}),this.setPromise(e,g),{currentResolve:r,currentReject:a}}}function validDomain(n){return/^(?:(?:[a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)+[a-zA-Z]{2,}(?::\d{1,5})?$/.test(n)}const linkStateCodeMap={IDLE:0,CONNECTING:1,CONNECTED:2,DISCONNECTED:3,SUSPENDED:4,FAILED:5},linkOperationCodeMap={LOGIN:0,LOGOUT:1,JOIN:2,LEAVE:3,SERVER_REJECT:4,AUTO_RECONNECT:5,RECONNECTED:6,HEARTBEAT_TIMEOUT:7,SERVER_TIMEOUT:8,NETWORK_CHANGE:9},EDGE_ENV_PORT={0:9591,1:9593},EDGE_ENV_PORT_DEFAULT=EDGE_ENV_PORT,DEFAULT_API_RATE_LIMIT=new Map([["removeLock",20],["setLock",20],["acquireLock",10],["releaseLock",20],["revokeLock",20],["getLock",20],["userMetaModify",20],["userMetaGet",20],["userMetaSub",20],["channelMetaModify",20],["channelMetaGet",20],["login",20],["renewToken",20],["whoNow",20],["whereNow",20],["modifyState",20],["getState",20],["subscribe",20],["join",20],["joinTopic",20],["subscribeTopic",20],["publish",60],["publishTopicMsg",200],["getMessages",20]]),loginConfig={AP_DOMAIN:void 0,EDGE_DOMAIN_TLD:void 0,EDGE_IP_LIST:void 0,EDGE_ENV_PORT:EDGE_ENV_PORT_DEFAULT,REGISTRAR_USE_WS:!1},consoleConfig={RTM2_ENABLED:void 0,LOCK_ENABLED:void 0,STORAGE_ENABLED:void 0,STORAGE_CHANNEL_SUB_ENABLED:void 0,STORAGE_USER_SUB_ENABLED:void 0,PRESENCE_INTERVAL:void 0,PRESENCE_THRESHOLD:void 0,PRESENCE_DEBOUNCE:void 0,PRESENCE_TIMEOUT:K_PRESENCE_TIMEOUT_DEFAULT,PRESENCE_RPC_TIMEOUT:DEFAULT_RPC_TIMEOUT_TIME,API_RATE_LIMIT:DEFAULT_API_RATE_LIMIT,ENABLE_API_RATE_LIMIT:!0},MUTABLE_PARAMS=_objectSpread2(_objectSpread2({RECONNECTING_AP_INTERVAL:2500,RECONNECTING_AP_NUM:2,DISABLE_MESSAGE_COMPRESSION:!1,LOG_UPLOAD_INTERVAL:5e3,LOG_HANDLER:void 0,ENABLE_EDGE_AUTO_FALLBACK:!0,MAX_STATE_COUNT,USE_STAGING_REPORT_DOMAIN:!1,PRINT_TICK_LOG:!1,RTM_LINK_KEEP_ALIVE_TIMEOUT:void 0,HEART_BEAT:void 0,VID:new Map,STREAM_CHANNEL_COUNT:SUB_STREAM_CHANNEL_LIMITATION,MESSAGE_CHANNEL_COUNT:MAX_JOINED_CHANNELS,HISTORY_MSG_COUNT_LIMIT:GET_MESSAGE_MAX_COUNT,LOG_PING_PONG:!1,AREA_CONFIG:void 0,DECOUPLE_SYNC:!0,LOCK_TTL:LOCK_DEFAULT_TTL},consoleConfig),loginConfig);class Parameter{_setParameter(e,r){if(console.log(JSON.stringify({key:e,value:r}),"RTM setParameter"),!Object.keys(MUTABLE_PARAMS).includes(e)){console.warn("setParameter: key is not in MUTABLE_PARAMS");const{code:a,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_PARAMETER);throw new RtmInvalidArgumentError("set parameter",[g],a)}switch(e){case"STREAM_CHANNEL_COUNT":const a=typeof r=="number"&&r>100?100:typeof r=="number"?r:SUB_STREAM_CHANNEL_LIMITATION;MUTABLE_PARAMS.STREAM_CHANNEL_COUNT=a;break;case"MESSAGE_CHANNEL_COUNT":MUTABLE_PARAMS.MESSAGE_CHANNEL_COUNT=typeof r=="number"?r:MAX_JOINED_CHANNELS;case"HISTORY_MSG_COUNT_LIMIT":MUTABLE_PARAMS.HISTORY_MSG_COUNT_LIMIT=typeof r=="number"?r:GET_MESSAGE_MAX_COUNT;break;case"API_RATE_LIMIT":if(isNil$1(r))MUTABLE_PARAMS.API_RATE_LIMIT=DEFAULT_API_RATE_LIMIT;else{if(!(r instanceof Map)){console.warn("setParameter: API_RATE_LIMIT value is not a Map");const{code:g,reason:E}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_PARAMETER);throw new RtmInvalidArgumentError("set parameter",[E],g)}{const g=r.entries();Array.from(g).forEach(E=>{let[u,B]=E;typeof B=="number"&&MUTABLE_PARAMS.API_RATE_LIMIT.set(u,B)})}}break;default:MUTABLE_PARAMS[e]=r}}_getParameter(e){return MUTABLE_PARAMS[e]}setParameter(e,r){return this._setParameter(e,r)}getParameter(e){return this._getParameter(e)}}const p=new Parameter,setParameter=p.setParameter.bind(p),getParameter=p.getParameter.bind(p);function setVidParameter(n,e){const r=getParameter("VID");r.set(n,e),setParameter("VID",r)}const _excluded=["CODE"];let AreaCodeMap=function(n){return n.CHINA="CN",n.ASIA="AS",n.NORTH_AMERICA="NA",n.EUROPE="EU",n.JAPAN="JP",n.INDIA="IN",n.OCEANIA="OC",n.SOUTH_AMERICA="SA",n.AFRICA="AF",n.GLOBAL="GLOBAL",n.OVERSEA="OVERSEA",n.SOUTH_KOREA="KR",n.UNITED_STATES="US",n}({});AreaCodeMap.CHINA,AreaCodeMap.NORTH_AMERICA,AreaCodeMap.EUROPE,AreaCodeMap.ASIA,AreaCodeMap.JAPAN,AreaCodeMap.INDIA,AreaCodeMap.OCEANIA,AreaCodeMap.OVERSEA,AreaCodeMap.SOUTH_AMERICA,AreaCodeMap.AFRICA,AreaCodeMap.SOUTH_KOREA,AreaCodeMap.UNITED_STATES,AreaCodeMap.GLOBAL;const AREA_DOMAIN_MAP=deepFreeze({[AreaCodeMap.ASIA]:{CODE:AreaCodeMap.ASIA,AP_DOMAINS:["ap-web-1-asia.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-asia.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_AP:["proxy-ap-web-asia.agora.io"],PROXY_NGINX:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.NORTH_AMERICA]:{CODE:AreaCodeMap.NORTH_AMERICA,AP_DOMAINS:["ap-web-1-north-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-north-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_AP:["proxy-ap-web-america.agora.io"],PROXY_NGINX:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.EUROPE]:{CODE:AreaCodeMap.EUROPE,AP_DOMAINS:["ap-web-1-europe.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-europe.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_AP:["proxy-ap-web-europe.agora.io"],PROXY_NGINX:["europe.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.JAPAN]:{CODE:AreaCodeMap.JAPAN,AP_DOMAINS:["ap-web-1-japan.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-japan.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_AP:["proxy-ap-web-japan.agora.io"],PROXY_NGINX:["japan.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.INDIA]:{CODE:AreaCodeMap.INDIA,AP_DOMAINS:["ap-web-1-india.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-india.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_AP:["proxy-ap-web-india.agora.io"],PROXY_NGINX:["india.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.OVERSEA]:{CODE:AreaCodeMap.OVERSEA,AP_DOMAINS:["ap-web-1-oversea.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_AP:["proxy-ap-web-oversea.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.agora.io"]},[AreaCodeMap.GLOBAL]:{CODE:AreaCodeMap.GLOBAL,AP_DOMAINS:["ap-web-1.agora.io","ap-web-2.agora.io"],AP_BACKUP_DOMAINS:["ap-web-3.agora.io","ap-web-4.agora.io"],EVENT_REPORT_DOMAIN:["webcollector-rtm.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["webcollector-1.agora.io"],LOG_UPLOAD_SERVER:["logservice-rtm.agora.io"],PROXY_AP:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.OCEANIA]:{CODE:AreaCodeMap.OCEANIA,AP_DOMAINS:["ap-web-1-oceania.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oceania.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_AP:["proxy-ap-web-oceania.agora.io"],PROXY_NGINX:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.SOUTH_AMERICA]:{CODE:AreaCodeMap.SOUTH_AMERICA,AP_DOMAINS:["ap-web-1-south-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-south-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_AP:["proxy-ap-web-south-america.agora.io"],PROXY_NGINX:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.AFRICA]:{CODE:AreaCodeMap.AFRICA,AP_DOMAINS:["ap-web-1-africa.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-africa.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_AP:["proxy-ap-web-africa.agora.io"],PROXY_NGINX:["africa.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.CHINA]:{CODE:AreaCodeMap.CHINA,AP_DOMAINS:["webrtc2-2.ap.sd-rtn.com"],AP_BACKUP_DOMAINS:["webrtc2-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["statscollector-1-china.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-china.agora.io"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_AP:["proxy-ap-web.agoraio.cn"],PROXY_NGINX:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.SOUTH_KOREA]:{CODE:AreaCodeMap.SOUTH_KOREA,AP_DOMAINS:["ap-web-1-korea.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-korea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_AP:["proxy-ap-web-korea.agora.io"],PROXY_NGINX:["korea.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.UNITED_STATES]:{CODE:AreaCodeMap.UNITED_STATES,AP_DOMAINS:["ap-web-1-us.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-us.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_AP:["proxy-ap-web-us.agora.io"],PROXY_NGINX:["us.webrtc-cloud-proxy.sd-rtn.com"]}}),continentCountryMap={[AreaCodeMap.ASIA]:[AreaCodeMap.CHINA,AreaCodeMap.JAPAN,AreaCodeMap.INDIA],[AreaCodeMap.EUROPE]:[],[AreaCodeMap.NORTH_AMERICA]:[],[AreaCodeMap.SOUTH_AMERICA]:[],[AreaCodeMap.OCEANIA]:[],[AreaCodeMap.AFRICA]:[]},areaWeights=[AreaCodeMap.GLOBAL,AreaCodeMap.CHINA,AreaCodeMap.NORTH_AMERICA,AreaCodeMap.EUROPE,AreaCodeMap.ASIA,AreaCodeMap.JAPAN,AreaCodeMap.INDIA,AreaCodeMap.OCEANIA,AreaCodeMap.SOUTH_AMERICA,AreaCodeMap.AFRICA],isContinent=n=>n in continentCountryMap,isCountry=n=>Object.values(continentCountryMap).flat().includes(n),getContinentByCountry=n=>{var e;return(e=getEntries(continentCountryMap).find(r=>{let[a,g]=r;return g.includes(n)}))===null||e===void 0?void 0:e[0]},sortAreasByWeight=n=>n.sort((e,r)=>areaWeights.indexOf(e)-areaWeights.indexOf(r)),getAreaDomainConfig=n=>{const e=new Set,r=sortAreasByWeight(n).slice(0,3).map(a=>{const g=AREA_DOMAIN_MAP[a];if(g===void 0)throw new RtmInternalError("invalid area key");const{CODE:E}=g,u=_objectWithoutProperties(g,_excluded);return e.add(E),u});if(r.length===0)throw new RtmInternalError("areas cannot be empty");return _objectSpread2({CODES:e},r.reduce((a,g)=>{for(let E=0,u=getEntries(a);E<u.length;E++){const[B,f]=u[E];a[B]=Array.from(new Set([...g[B],...f]))}return a}))};function getAreaDomainConfigWithExclusion(n){let{areas:e,excludedArea:r}=n;if(e.length===1&&e[0]===AreaCodeMap.GLOBAL&&r===AreaCodeMap.CHINA)return getAreaDomainConfig([AreaCodeMap.OVERSEA]);if(e.includes(AreaCodeMap.GLOBAL)){const a=getKeys(AREA_DOMAIN_MAP).filter(g=>g!==AreaCodeMap.GLOBAL&&g!==AreaCodeMap.OVERSEA);if(isContinent(r)){const g=continentCountryMap[r],E=[...g??[],r];return getAreaDomainConfig(a.filter(u=>!E.includes(u)))}if(isCountry(r)){const g=getContinentByCountry(r);return getAreaDomainConfig(a.filter(E=>E!==r&&E!==g))}}if(isCountry(r)||isContinent(r))return getAreaDomainConfig(e);throw new RtmInvalidArgumentError("setArea","Invalid excludedArea area config")}let areaConfig;function setAreaConfig(n){areaConfig=n}function setArea(n){let{areaCodes:e,excludedArea:r}=n;if(setParameter("AREA_CONFIG",{areaCodes:e,excludedArea:r}),!Array.isArray(e)||e.length===0||!e.every(a=>a in AreaCode))throw new RtmInvalidArgumentError("setArea","Invalid area config");if(r!==void 0&&r===AreaCode.GLOBAL)throw new RtmInvalidArgumentError("setArea","Excluded area cannot be global");if(console.log(JSON.stringify({areaCodes:e,excludedArea:r}),"RTM setArea"),r!==void 0){if(e.includes(r))throw new RtmInvalidArgumentError("setArea","Excluded area cannot be in areaCodes");if(!(r in AreaCodeMap))throw new RtmInvalidArgumentError("setArea","Invalid excludedArea:",r);setAreaConfig(getAreaDomainConfigWithExclusion({areas:e.map(a=>AreaCodeMap[a]),excludedArea:AreaCodeMap[r]}))}else setAreaConfig(getAreaDomainConfig(e.map(a=>AreaCodeMap[a])))}var rngBrowser={exports:{}},getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);rngBrowser.exports=function(){return getRandomValues(rnds8),rnds8}}else{var rnds=new Array(16);rngBrowser.exports=function(){for(var n,e=0;e<16;e++)3&e||(n=4294967296*Math.random()),rnds[e]=n>>>((3&e)<<3)&255;return rnds}}for(var rngBrowserExports=rngBrowser.exports,byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);function bytesToUuid$2(n,e){var r=e||0,a=byteToHex;return[a[n[r++]],a[n[r++]],a[n[r++]],a[n[r++]],"-",a[n[r++]],a[n[r++]],"-",a[n[r++]],a[n[r++]],"-",a[n[r++]],a[n[r++]],"-",a[n[r++]],a[n[r++]],a[n[r++]],a[n[r++]],a[n[r++]],a[n[r++]]].join("")}var bytesToUuid_1=bytesToUuid$2,rng$1=rngBrowserExports,bytesToUuid$1=bytesToUuid_1;function v4$1(n,e,r){var a=e&&r||0;typeof n=="string"&&(e=n==="binary"?new Array(16):null,n=null);var g=(n=n||{}).random||(n.rng||rng$1)();if(g[6]=15&g[6]|64,g[8]=63&g[8]|128,e)for(var E=0;E<16;++E)e[a+E]=g[E];return e||bytesToUuid$1(g)}var v4_1=v4$1,uuid$2=getDefaultExportFromCjs(v4_1);const VERSION="2.2.1",BUILD="v2.2.1-0-g69f68c57-dirty",processId=uuid$2(),WEB_PLATFORM_TYPE=7,VERSION_NO=9,SUBVERSION=414,FUSION=!1;let isBusy=!1,loginAbortController=new AbortController;function changeBusyStatus(n){(isBusy||n)&&(loginAbortController.abort(),n&&(loginAbortController=new AbortController),isBusy=n)}var rng=rngBrowserExports,bytesToUuid=bytesToUuid_1,_nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1$1(n,e,r){var a=e&&r||0,g=e||[],E=(n=n||{}).node||_nodeId,u=n.clockseq!==void 0?n.clockseq:_clockseq;if(E==null||u==null){var B=rng();E==null&&(E=_nodeId=[1|B[0],B[1],B[2],B[3],B[4],B[5]]),u==null&&(u=_clockseq=16383&(B[6]<<8|B[7]))}var f=n.msecs!==void 0?n.msecs:new Date().getTime(),m=n.nsecs!==void 0?n.nsecs:_lastNSecs+1,y=f-_lastMSecs+(m-_lastNSecs)/1e4;if(y<0&&n.clockseq===void 0&&(u=u+1&16383),(y<0||f>_lastMSecs)&&n.nsecs===void 0&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=f,_lastNSecs=m,_clockseq=u;var D=(1e4*(268435455&(f+=122192928e5))+m)%4294967296;g[a++]=D>>>24&255,g[a++]=D>>>16&255,g[a++]=D>>>8&255,g[a++]=255&D;var M=f/4294967296*1e4&268435455;g[a++]=M>>>8&255,g[a++]=255&M,g[a++]=M>>>24&15|16,g[a++]=M>>>16&255,g[a++]=u>>>8|128,g[a++]=255&u;for(var O=0;O<6;++O)g[a+O]=E[O];return e||bytesToUuid(g)}var v1_1=v1$1,v1=v1_1,v4=v4_1,uuid=v4;uuid.v1=v1,uuid.v4=v4;var uuid_1=uuid,uuid$1=getDefaultExportFromCjs(uuid_1),events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(n,e,r){return Function.prototype.apply.call(n,e,r)},ReflectOwnKeys;function ProcessEmitWarning(n){console&&console.warn&&console.warn(n)}ReflectOwnKeys=R&&typeof R.ownKeys=="function"?R.ownKeys:Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:function(n){return Object.getOwnPropertyNames(n)};var NumberIsNaN=Number.isNaN||function(n){return n!=n};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter,events.exports.once=once,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}function _getMaxListeners(n){return n._maxListeners===void 0?EventEmitter.defaultMaxListeners:n._maxListeners}function _addListener(n,e,r,a){var g,E,u;if(checkListener(r),(E=n._events)===void 0?(E=n._events=Object.create(null),n._eventsCount=0):(E.newListener!==void 0&&(n.emit("newListener",e,r.listener?r.listener:r),E=n._events),u=E[e]),u===void 0)u=E[e]=r,++n._eventsCount;else if(typeof u=="function"?u=E[e]=a?[r,u]:[u,r]:a?u.unshift(r):u.push(r),(g=_getMaxListeners(n))>0&&u.length>g&&!u.warned){u.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");B.name="MaxListenersExceededWarning",B.emitter=n,B.type=e,B.count=u.length,ProcessEmitWarning(B)}return n}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(n,e,r){var a={fired:!1,wrapFn:void 0,target:n,type:e,listener:r},g=onceWrapper.bind(a);return g.listener=r,a.wrapFn=g,g}function _listeners(n,e,r){var a=n._events;if(a===void 0)return[];var g=a[e];return g===void 0?[]:typeof g=="function"?r?[g.listener||g]:[g]:r?unwrapListeners(g):arrayClone(g,g.length)}function listenerCount(n){var e=this._events;if(e!==void 0){var r=e[n];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function arrayClone(n,e){for(var r=new Array(e),a=0;a<e;++a)r[a]=n[a];return r}function spliceOne(n,e){for(;e+1<n.length;e++)n[e]=n[e+1];n.pop()}function unwrapListeners(n){for(var e=new Array(n.length),r=0;r<e.length;++r)e[r]=n[r].listener||n[r];return e}function once(n,e){return new Promise(function(r,a){function g(u){n.removeListener(e,E),a(u)}function E(){typeof n.removeListener=="function"&&n.removeListener("error",g),r([].slice.call(arguments))}eventTargetAgnosticAddListener(n,e,E,{once:!0}),e!=="error"&&addErrorHandlerIfEventEmitter(n,g,{once:!0})})}function addErrorHandlerIfEventEmitter(n,e,r){typeof n.on=="function"&&eventTargetAgnosticAddListener(n,"error",e,r)}function eventTargetAgnosticAddListener(n,e,r,a){if(typeof n.on=="function")a.once?n.once(e,r):n.on(e,r);else{if(typeof n.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n);n.addEventListener(e,function g(E){a.once&&n.removeEventListener(e,g),r(E)})}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(n){if(typeof n!="number"||n<0||NumberIsNaN(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");defaultMaxListeners=n}}),EventEmitter.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(n){if(typeof n!="number"||n<0||NumberIsNaN(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(n){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var a=n==="error",g=this._events;if(g!==void 0)a=a&&g.error===void 0;else if(!a)return!1;if(a){var E;if(e.length>0&&(E=e[0]),E instanceof Error)throw E;var u=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw u.context=E,u}var B=g[n];if(B===void 0)return!1;if(typeof B=="function")ReflectApply(B,this,e);else{var f=B.length,m=arrayClone(B,f);for(r=0;r<f;++r)ReflectApply(m[r],this,e)}return!0},EventEmitter.prototype.addListener=function(n,e){return _addListener(this,n,e,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(n,e){return _addListener(this,n,e,!0)},EventEmitter.prototype.once=function(n,e){return checkListener(e),this.on(n,_onceWrap(this,n,e)),this},EventEmitter.prototype.prependOnceListener=function(n,e){return checkListener(e),this.prependListener(n,_onceWrap(this,n,e)),this},EventEmitter.prototype.removeListener=function(n,e){var r,a,g,E,u;if(checkListener(e),(a=this._events)===void 0)return this;if((r=a[n])===void 0)return this;if(r===e||r.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete a[n],a.removeListener&&this.emit("removeListener",n,r.listener||e));else if(typeof r!="function"){for(g=-1,E=r.length-1;E>=0;E--)if(r[E]===e||r[E].listener===e){u=r[E].listener,g=E;break}if(g<0)return this;g===0?r.shift():spliceOne(r,g),r.length===1&&(a[n]=r[0]),a.removeListener!==void 0&&this.emit("removeListener",n,u||e)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(n){var e,r,a;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[n]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[n]),this;if(arguments.length===0){var g,E=Object.keys(r);for(a=0;a<E.length;++a)(g=E[a])!=="removeListener"&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=r[n])=="function")this.removeListener(n,e);else if(e!==void 0)for(a=e.length-1;a>=0;a--)this.removeListener(n,e[a]);return this},EventEmitter.prototype.listeners=function(n){return _listeners(this,n,!0)},EventEmitter.prototype.rawListeners=function(n){return _listeners(this,n,!1)},EventEmitter.listenerCount=function(n,e){return typeof n.listenerCount=="function"?n.listenerCount(e):listenerCount.call(n,e)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};var eventsExports=events.exports,EventEmitter$1=getDefaultExportFromCjs(eventsExports),key="__global_unique_id__",gud=function(){return commonjsGlobal$1[key]=(commonjsGlobal$1[key]||0)+1},gud$1=getDefaultExportFromCjs(gud),safeJsonStringify$1={exports:{}},hasProp=Object.prototype.hasOwnProperty;function throwsMessage(n){return"[Throws: "+(n?n.message:"?")+"]"}function safeGetValueFromPropertyOnObject(n,e){if(hasProp.call(n,e))try{return n[e]}catch(r){return throwsMessage(r)}return n[e]}function ensureProperties(n){var e=[];return function r(a){if(a===null||typeof a!="object")return a;if(e.indexOf(a)!==-1)return"[Circular]";if(e.push(a),typeof a.toJSON=="function")try{var g=r(a.toJSON());return e.pop(),g}catch(B){return throwsMessage(B)}if(Array.isArray(a)){var E=a.map(r);return e.pop(),E}var u=Object.keys(a).reduce(function(B,f){return B[f]=r(safeGetValueFromPropertyOnObject(a,f)),B},{});return e.pop(),u}(n)}safeJsonStringify$1.exports=function(n,e,r){return JSON.stringify(ensureProperties(n),e,r)},safeJsonStringify$1.exports.ensureProperties=ensureProperties;var safeJsonStringifyExports=safeJsonStringify$1.exports,safeJsonStringify=getDefaultExportFromCjs(safeJsonStringifyExports),browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var n=1e3,e=60*n,r=60*e,a=24*r,g=7*a,E=365.25*a;function u(B,f,m,y){var D=f>=1.5*m;return Math.round(B/m)+" "+y+(D?"s":"")}return ms=function(B,f){f=f||{};var m=typeof B;if(m==="string"&&B.length>0)return function(y){if(!((y=String(y)).length>100)){var D=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(D){var M=parseFloat(D[1]);switch((D[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return M*E;case"weeks":case"week":case"w":return M*g;case"days":case"day":case"d":return M*a;case"hours":case"hour":case"hrs":case"hr":case"h":return M*r;case"minutes":case"minute":case"mins":case"min":case"m":return M*e;case"seconds":case"second":case"secs":case"sec":case"s":return M*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return M;default:return}}}}(B);if(m==="number"&&isFinite(B))return f.long?function(y){var D=Math.abs(y);return D>=a?u(y,D,a,"day"):D>=r?u(y,D,r,"hour"):D>=e?u(y,D,e,"minute"):D>=n?u(y,D,n,"second"):y+" ms"}(B):function(y){var D=Math.abs(y);return D>=a?Math.round(y/a)+"d":D>=r?Math.round(y/r)+"h":D>=e?Math.round(y/e)+"m":D>=n?Math.round(y/n)+"s":y+"ms"}(B);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(B))}}function setup(n){function e(g){let E,u,B,f=null;function m(){for(var y=arguments.length,D=new Array(y),M=0;M<y;M++)D[M]=arguments[M];if(!m.enabled)return;const O=m,U=Number(new Date),F=U-(E||U);O.diff=F,O.prev=E,O.curr=U,E=U,D[0]=e.coerce(D[0]),typeof D[0]!="string"&&D.unshift("%O");let x=0;D[0]=D[0].replace(/%([a-zA-Z%])/g,(H,j)=>{if(H==="%%")return"%";x++;const ee=e.formatters[j];if(typeof ee=="function"){const ne=D[x];H=ee.call(O,ne),D.splice(x,1),x--}return H}),e.formatArgs.call(O,D),(O.log||e.log).apply(O,D)}return m.namespace=g,m.useColors=e.useColors(),m.color=e.selectColor(g),m.extend=r,m.destroy=e.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(u!==e.namespaces&&(u=e.namespaces,B=e.enabled(g)),B),set:y=>{f=y}}),typeof e.init=="function"&&e.init(m),m}function r(g,E){const u=e(this.namespace+(E===void 0?":":E)+g);return u.log=this.log,u}function a(g){return g.toString().substring(2,g.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(g){return g instanceof Error?g.stack||g.message:g},e.disable=function(){const g=[...e.names.map(a),...e.skips.map(a).map(E=>"-"+E)].join(",");return e.enable(""),g},e.enable=function(g){let E;e.save(g),e.namespaces=g,e.names=[],e.skips=[];const u=(typeof g=="string"?g:"").split(/[\s,]+/),B=u.length;for(E=0;E<B;E++)u[E]&&((g=u[E].replace(/\*/g,".*?"))[0]==="-"?e.skips.push(new RegExp("^"+g.slice(1)+"$")):e.names.push(new RegExp("^"+g+"$")))},e.enabled=function(g){if(g[g.length-1]==="*")return!0;let E,u;for(E=0,u=e.skips.length;E<u;E++)if(e.skips[E].test(g))return!1;for(E=0,u=e.names.length;E<u;E++)if(e.names[E].test(g))return!0;return!1},e.humanize=requireMs(),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(n).forEach(g=>{e[g]=n[g]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(g){let E=0;for(let u=0;u<g.length;u++)E=(E<<5)-E+g.charCodeAt(u),E|=0;return e.colors[Math.abs(E)%e.colors.length]},e.enable(e.load()),e}var common=setup;(function(n,e){e.formatArgs=function(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const g="color: "+this.color;a.splice(1,0,g,"color: inherit");let E=0,u=0;a[0].replace(/%[a-zA-Z%]/g,B=>{B!=="%%"&&(E++,B==="%c"&&(u=E))}),a.splice(u,0,g)},e.save=function(a){try{a?e.storage.setItem("debug",a):e.storage.removeItem("debug")}catch{}},e.load=function(){let a;try{a=e.storage.getItem("debug")}catch{}return!a&&typeof process<"u"&&"env"in process&&(a=define_process_env_default.DEBUG),a},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let a;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(a=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(a[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let a=!1;return()=>{a||(a=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),n.exports=common(e);const{formatters:r}=n.exports;r.j=function(a){try{return JSON.stringify(a)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}}})(browser,browser.exports);var browserExports=browser.exports,Debug=getDefaultExportFromCjs(browserExports);const logPingPong=!1,logSyncPingPong=!1,uploadLog=Debug("RTM:DEBUG");uploadLog.enabled=!1;var UploadState=function(n){return n[n.Uploading=0]="Uploading",n[n.Free=1]="Free",n}(UploadState||{});class LogUploader{constructor(e){_defineProperty$1(this,"uploadRequest",void 0),_defineProperty$1(this,"uploadState",void 0),_defineProperty$1(this,"uploadResendCount",void 0),_defineProperty$1(this,"LogCache",void 0),_defineProperty$1(this,"LogsToPost",void 0),_defineProperty$1(this,"processId",void 0),_defineProperty$1(this,"sdkVersion",void 0),_defineProperty$1(this,"logId",void 0),_defineProperty$1(this,"PrivateConfig",void 0),_defineProperty$1(this,"privateLogUploadHosts",void 0),this.processId=e.processId,this.sdkVersion=e.sdkVersion,this.PrivateConfig=e.PrivateConfig,this.uploadRequest=e.uploadRequest,this.uploadState=UploadState.Free,this.uploadResendCount=0,this.LogCache=[],this.LogsToPost=[],this.logId=0,this.privateLogUploadHosts=e.privateLogUploadHosts}upload(e,r){this.LogCache.push(r),this.uploadState===UploadState.Free&&navigator.onLine&&getParameter("VID").get(e)!==void 0&&(this.LogsToPost=this.LogCache.length<LOG_UPLOAD_MAX_ITEMS?this.LogCache.splice(0,this.LogCache.length):this.LogCache.splice(0,LOG_UPLOAD_MAX_ITEMS),this.postLog(e,this.LogsToPost))}postLog(e,r){this.uploadState=UploadState.Uploading,setTimeout(async()=>{const a={sdk_version:this.sdkVersion,process_id:this.processId,payload:JSON.stringify(r)};try{var g;await this.uploadRequest(e,a,(g=this.PrivateConfig.cloudProxy)!==null&&g!==void 0&&g,this.privateLogUploadHosts)}catch{const u=this.uploadResendCount++<2?2e3:1e4;return void setTimeout(()=>this.postLog(e,this.LogsToPost),u)}this.LogCache.length!==0?(this.uploadResendCount=0,this.LogsToPost=this.LogCache.length<LOG_UPLOAD_MAX_ITEMS?this.LogCache.splice(0,this.LogCache.length):this.LogCache.splice(0,LOG_UPLOAD_MAX_ITEMS),this.postLog(e,this.LogsToPost)):this.uploadState=UploadState.Free},getParameter("LOG_UPLOAD_INTERVAL"))}}const LOG_SERVICE_MAIN_DOMAIN="logservice-rtm.agora.io",LOG_SERVICE_BACKUP_DOMAIN="rtm.logservice.sd-rtn.com",_uploadRequest=async function(n,e,r,a){var g,E;let u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!getParameter("VID").get(n)||u>2)return;const B={withCredentials:!0,body:e,timeout:2e4,headers:{vid:getParameter("VID").get(n),"Content-Encoding":"gzip"}},f=a&&getPrivateSettingsPortAndDomains(a),m=f==null?void 0:f.hostname,y=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,D=f==null?void 0:f.port,M=m&&m[0],O=m&&m[y-1],U=u>0?(areaConfig==null?void 0:areaConfig.LOG_UPLOAD_SERVER[0])||(O??LOG_SERVICE_BACKUP_DOMAIN):(areaConfig==null?void 0:areaConfig.LOG_UPLOAD_SERVER[0])||(M??LOG_SERVICE_MAIN_DOMAIN),F=r&&!a?"https://".concat((E=areaConfig==null?void 0:areaConfig.PROXY_NGINX[0])!==null&&E!==void 0?E:"webrtc-cloud-proxy.sd-rtn.com","/ls/?h=").concat(U,"&p=").concat(D??443,"&d=upload/v1"):"https://".concat(U).concat(D?":".concat(D):"","/upload/v1");await postWithAbortSignal(F,B).catch(x=>_uploadRequest(n,e,r,a,u+1))},logUploaders=new Map,logUploader=(n,e)=>{if(logUploaders.has(n)&&logUploaders.get(n)instanceof LogUploader)return logUploaders.get(n);{const r=new LogUploader({processId:"process-".concat(n),sdkVersion:"Agora_RTM_SDK_for_Web_".concat(BUILD),uploadRequest:_uploadRequest,PrivateConfig:{},privateLogUploadHosts:e});return logUploaders.set(n,r),r}},blacklistedKeywords=["text","payload","rawMessage","thumbnail","attributeInfos","keys","value","extra"],sensitiveKeywords=["account","ticket","uid","detail","token","fileName","cname","user","group","key","origin","users","src","dst","lastUpdateUserId","channel","cert","wan_ip","userId","authorUid","target","lockName","appTicket","channelName","publisher","succeedUsers","failedUsers"],whitelistedKeywords=["serverReceivedTs","hasPeerReceived","messageType","enableNotificationToChannelMembers","lastUpdateTs"],sensitiveEvents=["message","presence","topic","lock","storage","MessageFromPeer","LocalInvitationRefused","LocalInvitationAccepted","RemoteInvitationCanceled","PeersOnlineStatusChanged","AttributesUpdated","MemberJoined"],sensitiveArgsHandler=n=>{if(typeof n=="string")return replaceRangeWithAsterisk(n);if(Array.isArray(n)&&n.every(e=>typeof e=="string"))return n.map(e=>replaceRangeWithAsterisk(e));if(!isPrimitive(n)){const e={};for(let r=0;r<whitelistedKeywords.length;r++){const a=whitelistedKeywords[r];a in n&&(e[a]=n[a])}if(Object.keys(e).length>0)return e;if(Object.keys(n).length<5){for(let r=0,a=Object.entries(n);r<a.length;r++){const[g,E]=a[r];blacklistedKeywords.includes(g)?e[g]="[Hidden Info]":e[replaceRangeWithAsterisk(g)]=replaceRangeWithAsterisk(E)}return e}return typeof n=="object"&&n!==null?safeJsonStringify(Array.isArray(n)?n.map(getPlain):getPlain(n)):"[Sensitive Info]"}return n},filterLogObject=n=>handleLogObject(cloneDeep$1(n),blacklistedKeywords,sensitiveKeywords),getPlain=n=>typeof n=="object"?isPlainObject$3(n)?filterLogObject(n):n.constructor&&n.constructor.name:n,formatLogTextAndParameters=(n,e)=>{if(n instanceof Error)return n.message;if(typeof n!="string")return JSON.stringify(filterLogObject(n));const r=e.map(a=>a instanceof Error?a.message:typeof a=="object"&&a!==null?safeJsonStringify(Array.isArray(a)?a.map(getPlain):getPlain(a)):a);return format$1(n.replace(/%[%Oo]/g,a=>a==="%%"?"%":a==="%o"||a==="%O"?"%s":a),...r)},logAndUploadGenerator=(n,e,r,a,g,E,u)=>{const B=Debug(e);return B.enabled=!0,B.log=E,B.useColors=!1,function(f){for(var m=arguments.length,y=new Array(m>1?m-1:0),D=1;D<m;D++)y[D-1]=arguments[D];if(g.logUpload){const U=addPeriodIfNeeded(f);var M=formatLogTextAndParameters(U,y);const F=logUploader(r,u),x="".concat(F.logId++);F.upload(n,{log_item_id:x,log_level:e,payload_str:"[".concat(getUTCTimestamp$1(),"] - ").concat(String(a).slice(0,7)).concat(a.length>7?"...":""," - ").concat(e," - ").concat(M.length>256?M.slice(0,256):M)})}const O=U=>{const F=M||formatLogTextAndParameters(addPeriodIfNeeded(f),y),x=getParameter("LOG_HANDLER");isFunction$6(x)&&x({level:U,message:F}),B("[UTC_Time: ".concat(getUTCTimestamp$1(),"][uid: ").concat(maskMiddleOfString(a),"]").concat(F))};switch(e){case"RTM:INFO":g.logFilter.info&&O("log");break;case"RTM:WARN":g.logFilter.warn&&O("warning");break;case"RTM:ERROR":g.logFilter.error&&O("error");break;case"RTM:TRACK":g.logFilter.track&&O("log");break;case"RTM:MSG:RECV":case"RTM:MSG:SEND":case"RTM:DEBUG":g.logFilter.debug&&O("debug")}}};let loggerId;const prefixer=n=>e=>{const r=loggerId===1||n===void 0?"":"Ins#".concat(n," ");return"".concat(r).concat(e)},loggerGenerator=(n,e,r,a,g,E,u)=>{const B=prefixer(loggerId);return logAndUploadGenerator(n,"RTM:".concat(r),g,E,a,function(f){return e(B(f))},u)};class EventBase extends EventEmitter$1{constructor(e,r){var a;let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(super(),a=this,_defineProperty$1(this,"logError",void 0),_defineProperty$1(this,"invokeTracker",void 0),_defineProperty$1(this,"resultTracker",void 0),_defineProperty$1(this,"errorTracker",void 0),_defineProperty$1(this,"eventTracker",void 0),_defineProperty$1(this,"info",void 0),_defineProperty$1(this,"warn",void 0),_defineProperty$1(this,"log",void 0),_defineProperty$1(this,"genLogger",void 0),_defineProperty$1(this,"loggerId",void 0),_defineProperty$1(this,"logger",void 0),_defineProperty$1(this,"name",void 0),this.logger=e,this.name=r,this.loggerId=e.loggerId,this.info=e.info,this.warn=e.warn,this.logError=e.logError,this.genLogger=e.genLogger,this.log=e.genLogger("RTM:DEBUG","<".concat(r,"> ")),this.invokeTracker=e.genTracker("Invoke"),this.eventTracker=e.genTracker("Event"),this.resultTracker=e.genTracker("Result"),this.errorTracker=e.genTracker("Error"),g){const E=this.emit.bind(this),u=function(){for(var B=arguments.length,f=new Array(B),m=0;m<B;m++)f[m]=arguments[m];const[y,...D]=f,M=sensitiveEvents.includes(y);a.eventTracker("%s: ".concat(D.length>0?"%s emitted with args: ".concat(D.map(()=>"%o")):"%s emitted"),r,y,...M?D.map(sensitiveArgsHandler):D);try{return E(...f),!0}catch(O){return a.logError("Caught in the callback function of the event %s",y,O),!1}};this.emit=u}}}function initLoggerId(n,e){loggerId=gud$1();const r=new LogUploader({processId:"process-".concat(n),sdkVersion:"Agora_RTM_SDK_for_Web_".concat(BUILD),uploadRequest:_uploadRequest,PrivateConfig:{},privateLogUploadHosts:e});return logUploaders.set(n,r),loggerId}const genInfoLogger=(n,e,r,a,g)=>loggerGenerator(n,console.log,"INFO",e,r,a,g),genWarnLogger=(n,e,r,a,g)=>loggerGenerator(n,console.warn,"WARN",e,r,a,g),genErrorLogger=(n,e,r,a,g)=>loggerGenerator(n,console.error,"ERROR",e,r,a,g),debugLoggerGenerator=(n,e,r,a,g,E)=>function(u){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const f=prefixer(e),m=console.log,y=logAndUploadGenerator(n,u,a,g,r,function(D){return m(f(D))},E);return function(D){for(var M=arguments.length,O=new Array(M>1?M-1:0),U=1;U<M;U++)O[U-1]=arguments[U];return y(B+D,...O)}},trackLoggerGenerator=(n,e,r,a,g,E)=>u=>debugLoggerGenerator(n,e,r,a,g,E)("RTM:TRACK","[".concat(u,"] "));function loggedSensitive(n,e,r){let a=r;a===void 0&&(a=Object.getOwnPropertyDescriptor(n,e));const g=a.value;return a.value=function(){for(var E=arguments.length,u=new Array(E),B=0;B<E;B++)u[B]=arguments[B];this.invokeTracker("%s: ".concat(u.length>0?"%s with args: ".concat(u.map(()=>"%o")):"%s"),this.name,e,...u.map(sensitiveArgsHandler));try{var f=g.apply(this,u)}catch(y){throw this.logError("".concat(y.code!==void 0?"Error Code ".concat(y.code,": "):"","%s failed").concat(u.length>0?" with args: ".concat(u.map(()=>"%o")):""),e,...u.map(sensitiveArgsHandler)),y.originalError&&this.logError(y.originalError),this.errorTracker(y),y}const m=Date.now();return(async()=>{let y;try{y=await f}catch(M){return this.logError("".concat(M.code!==void 0?"Error Code ".concat(M.code,": "):"","%s failed").concat(u.length>0?" with args: ".concat(u.map(()=>"%o")):""),e,...u.map(sensitiveArgsHandler)),M.originalError&&this.logError(M.originalError),void this.errorTracker(M)}var D;y!==f?y===void 0?this.resultTracker("%s promise resolves after %dms",e,Date.now()-m):this.resultTracker("%s promise resolves after %dms, result is %o",e,Date.now()-m,sensitiveArgsHandler(y)):isAnyObject(y)&&!isPlainObject$3(y)?this.resultTracker("%s result is %s",e,y.name||((D=y.constructor)===null||D===void 0?void 0:D.name)):this.resultTracker("%s result is %o",e,y?sensitiveArgsHandler(y):"void")})(),f},a}function isValidAppId(n){return/^[\dA-Za-z]{32}$/.test(n)}function isValidTopic(n){return typeof n=="string"&&n.length>0&&!n.startsWith("_")&&isValidString(n)}function validateTopicName(n,e){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME);if(!isValidTopic(n))throw new RtmInvalidArgumentError(e,[a],r);if(n.length===0||new Blob([n??""]).size>TOPIC_NAME_SIZE)throw new RtmInvalidArgumentError(e,[a],r)}function isValidId(n){return typeof n=="string"&&!n.startsWith("_")&&/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\,\-\:\;\<\=\>\?\@\[\]\^\_\`\{\|\}\~]{1,64}$/.test(n)}function isValidString(n){return typeof n=="string"&&/^[abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 !*#$%&()+,-:;<=>?@\[\]\^_`{\|}~\u4e00-\u9fff]+$/.test(n)}function isUintString(n){const e=Number(n);return Number.isInteger(e)&&e>=0}function isValidIp(n){let e;try{e=n.split(".").map(r=>Number(r))}catch{return!1}if(e.length!==4||e[0]===0)return!1;for(let r=0,a=e;r<a.length;r++){const g=a[r];if(!Number.isInteger(g)||g<0||g>255)return!1}return!0}function validMetaDataItem(n,e){let{items:r,maxMetaDataCount:a,maxMetaValueSize:g,majorRevision:E,type:u}=e;if(!Array.isArray(r)){const{code:f,reason:m}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM);throw new RtmInvalidArgumentError(n,[m],f)}const B=r.map(f=>[f.getKey(),f.getValue()]);if(B.length>a){const{code:f,reason:m}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION);throw new RtmLimitExceededError(n,[m],f)}if(B.length===0){const{code:f,reason:m}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM);throw new RtmInvalidArgumentError(n,[m],f)}if(typeof E!="number"||E<-1||E%1!=0){const{code:f,reason:m}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(n,[m],f)}if(r.map(f=>{if((f==null?void 0:f.getRevision())<-1){const{code:m,reason:y}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(n,[y],m)}}),(u==="Update"||u==="Delete")&&E===0){const{code:f,reason:m}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(n,[m],f)}if((u==="Update"||u==="Delete")&&r.map(f=>f.getRevision()).includes(0)){const{code:f,reason:m}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(n,[m],f)}for(let f=0;f<B.length;f++){const[m,y]=B[f],D=new Blob([m??""]).size,M=new Blob([y??""]).size;if(D===0||(m==null?void 0:m[0])==="_"||typeof m!="string"){const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_KEY);throw new RtmInvalidArgumentError(n,[U],O)}if(D>RTM_METADATA_KEY_MAX_LENGTH){const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW);throw new RtmInvalidArgumentError(n,[U],O)}if(u!=="Delete"&&typeof y!="string"){const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_VALUE);throw new RtmInvalidArgumentError(n,[U],O)}if(u!=="Delete"&&M>g){const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW);throw new RtmLimitExceededError(n,[U],O)}}}function validateMetaDataSize(n,e){if(new Blob([e??""]).size>RTM_METADATA_MAX_LENGTH){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW);throw new RtmLimitExceededError(n,[a],r)}}function validMetaDataMajorRevisionForRemove(n,e){if(e<-1){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(n,[a],r)}if(e%1!=0){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(n,[a],r)}if(e===0){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(n,[a],r)}}function validStateOfPresence(n,e){for(const a in n){var r;const g=new Blob([(r=n[a])!==null&&r!==void 0?r:""]).size;if(validStateKeyOfPresence(a,e),g>MAX_STATE_VALUE_SIZE){const{code:E,reason:u}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW);throw new RtmLimitExceededError(e,[u],E)}}}function validStateKeyOfPresence(n,e){const r=new Blob([n??""]).size;if(r>MAX_STATE_KEY_SIZE){const{code:a,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW);throw new RtmInvalidArgumentError(e,[g],a)}if(r===0||!isValidString(n)||(n==null?void 0:n[0])==="_"){const{code:a,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_STATE_KEY);throw new RtmInvalidArgumentError(e,[g],a)}}function checkKeyValidity(n){return n.length!==0&&n[0]!==K_SYNC_INTERNAL_KEY_PREFIX}function validateMessageSize(n,e){if(!n||typeof n!="string"&&!(n instanceof Uint8Array)){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_MESSAGE);throw new RtmInvalidArgumentError(e,[a],r)}if((typeof n=="string"?new Blob([n??""]).size:n.byteLength)>PUBLISH_MESSAGE_SIZE){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION);throw new RtmInvalidArgumentError(e,[a],r)}}function validateCustomType(n,e){const r=new Blob([n]);if(r.size>CUSTOM_TYPE_SIZE){const{code:a,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW);throw new RtmInvalidArgumentError(e,[g],a)}if(r.size===0){const{code:a,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE);throw new RtmInvalidArgumentError(e,[g],a)}}const get007Version=()=>"007",get006Version=()=>"006";function validateToken(n,e,r,a){if(e===n)return;function g(){const{code:B,reason:f}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INCONSISTENT_APPID);throw new RtmInvalidArgumentError(r,[f],B)}function E(){const{code:B,reason:f}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmInvalidArgumentError(r,[f],B)}const u=n==null?void 0:n.slice(0,3);try{const B=u===get006Version()?fromStringWith006(n):u!==get007Version()||fromStringWith007(n);typeof B=="string"&&B!==e&&(isValidAppId(B)||E(),a("appId from token is '".concat(B,"', not match the appId of config.")),g()),B&&B!==e&&g()}catch(B){a(B),E()}}function validateChannelType(n,e){if(e!=="MESSAGE"&&e!=="STREAM"){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_TYPE);throw new RtmInvalidArgumentError(n,[a],r)}}function validateHistoryChannelType(n,e){if(e!=="MESSAGE"&&e!=="USER"){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_TYPE);throw new RtmInvalidArgumentError(n,[a],r)}}function __awaiter(n,e,r,a){return new(r||(r=Promise))(function(g,E){function u(m){try{f(a.next(m))}catch(y){E(y)}}function B(m){try{f(a.throw(m))}catch(y){E(y)}}function f(m){var y;m.done?g(m.value):(y=m.value,y instanceof r?y:new r(function(D){D(y)})).then(u,B)}f((a=a.apply(n,[])).next())})}function __generator(n,e){var r,a,g,E,u={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return E={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function B(f){return function(m){return function(y){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,a&&(g=2&y[0]?a.return:y[0]?a.throw||((g=a.return)&&g.call(a),0):a.next)&&!(g=g.call(a,y[1])).done)return g;switch(a=0,g&&(y=[2&y[0],g.value]),y[0]){case 0:case 1:g=y;break;case 4:return u.label++,{value:y[1],done:!1};case 5:u.label++,a=y[1],y=[0];continue;case 7:y=u.ops.pop(),u.trys.pop();continue;default:if(g=u.trys,!((g=g.length>0&&g[g.length-1])||y[0]!==6&&y[0]!==2)){u=0;continue}if(y[0]===3&&(!g||y[1]>g[0]&&y[1]<g[3])){u.label=y[1];break}if(y[0]===6&&u.label<g[1]){u.label=g[1],g=y;break}if(g&&u.label<g[2]){u.label=g[2],u.ops.push(y);break}g[2]&&u.ops.pop(),u.trys.pop();continue}y=e.call(n,u)}catch(D){y=[6,D],a=0}finally{r=g=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([f,m])}}}function __read(n,e){var r=typeof Symbol=="function"&&n[Symbol.iterator];if(!r)return n;var a,g,E=r.call(n),u=[];try{for(;(e===void 0||e-- >0)&&!(a=E.next()).done;)u.push(a.value)}catch(B){g={error:B}}finally{try{a&&!a.done&&(r=E.return)&&r.call(E)}finally{if(g)throw g.error}}return u}function __spreadArray(n,e,r){if(arguments.length===2)for(var a,g=0,E=e.length;g<E;g++)!a&&g in e||(a||(a=Array.prototype.slice.call(e,0,g)),a[g]=e[g]);return n.concat(a||Array.prototype.slice.call(e))}var defaultErrorConfig={withStackTrace:!1},createNeverThrowError=function(n,e,r){return r===void 0&&(r=defaultErrorConfig),{data:e.isOk()?{type:"Ok",value:e.value}:{type:"Err",value:e.error},message:n,stack:r.withStackTrace?new Error().stack:void 0}},ResultAsync=function(){function n(e){this._promise=e}return n.fromSafePromise=function(e){return new n(e.then(function(r){return new Ok(r)}))},n.fromPromise=function(e,r){return new n(e.then(function(a){return new Ok(a)}).catch(function(a){return new Err(r(a))}))},n.combine=function(e){return combineResultAsyncList(e)},n.combineWithAllErrors=function(e){return combineResultAsyncListWithAllErrors(e)},n.prototype.map=function(e){var r=this;return new n(this._promise.then(function(a){return __awaiter(r,void 0,void 0,function(){var g;return __generator(this,function(E){switch(E.label){case 0:return a.isErr()?[2,new Err(a.error)]:(g=Ok.bind,[4,e(a.value)]);case 1:return[2,new(g.apply(Ok,[void 0,E.sent()]))]}})})}))},n.prototype.mapErr=function(e){var r=this;return new n(this._promise.then(function(a){return __awaiter(r,void 0,void 0,function(){var g;return __generator(this,function(E){switch(E.label){case 0:return a.isOk()?[2,new Ok(a.value)]:(g=Err.bind,[4,e(a.error)]);case 1:return[2,new(g.apply(Err,[void 0,E.sent()]))]}})})}))},n.prototype.andThen=function(e){return new n(this._promise.then(function(r){if(r.isErr())return new Err(r.error);var a=e(r.value);return a instanceof n?a._promise:a}))},n.prototype.orElse=function(e){var r=this;return new n(this._promise.then(function(a){return __awaiter(r,void 0,void 0,function(){return __generator(this,function(g){return a.isErr()?[2,e(a.error)]:[2,new Ok(a.value)]})})}))},n.prototype.match=function(e,r){return this._promise.then(function(a){return a.match(e,r)})},n.prototype.unwrapOr=function(e){return this._promise.then(function(r){return r.unwrapOr(e)})},n.prototype.then=function(e,r){return this._promise.then(e,r)},n}(),errAsync=function(n){return new ResultAsync(Promise.resolve(new Err(n)))},fromPromise=ResultAsync.fromPromise;ResultAsync.fromSafePromise;var appendValueToEndOfList=function(n){return function(e){return __spreadArray(__spreadArray([],__read(e),!1),[n],!1)}},combineResultList=function(n){return n.reduce(function(e,r){return e.isOk()?r.isErr()?err(r.error):e.map(appendValueToEndOfList(r.value)):e},ok([]))},combineResultAsyncList=function(n){return ResultAsync.fromSafePromise(Promise.all(n)).andThen(combineResultList)},combineResultListWithAllErrors=function(n){return n.reduce(function(e,r){return r.isErr()?e.isErr()?err(__spreadArray(__spreadArray([],__read(e.error),!1),[r.error],!1)):err([r.error]):e.isErr()?e:ok(__spreadArray(__spreadArray([],__read(e.value),!1),[r.value],!1))},ok([]))},combineResultAsyncListWithAllErrors=function(n){return ResultAsync.fromSafePromise(Promise.all(n)).andThen(combineResultListWithAllErrors)},Result;(function(n){n.fromThrowable=function(e,r){return function(){for(var a=[],g=0;g<arguments.length;g++)a[g]=arguments[g];try{var E=e.apply(void 0,__spreadArray([],__read(a),!1));return ok(E)}catch(u){return err(r?r(u):u)}}},n.combine=function(e){return combineResultList(e)},n.combineWithAllErrors=function(e){return combineResultListWithAllErrors(e)}})(Result||(Result={}));var ok=function(n){return new Ok(n)},err=function(n){return new Err(n)},Ok=function(){function n(e){this.value=e}return n.prototype.isOk=function(){return!0},n.prototype.isErr=function(){return!this.isOk()},n.prototype.map=function(e){return ok(e(this.value))},n.prototype.mapErr=function(e){return ok(this.value)},n.prototype.andThen=function(e){return e(this.value)},n.prototype.orElse=function(e){return ok(this.value)},n.prototype.asyncAndThen=function(e){return e(this.value)},n.prototype.asyncMap=function(e){return ResultAsync.fromSafePromise(e(this.value))},n.prototype.unwrapOr=function(e){return this.value},n.prototype.match=function(e,r){return e(this.value)},n.prototype._unsafeUnwrap=function(e){return this.value},n.prototype._unsafeUnwrapErr=function(e){throw createNeverThrowError("Called `_unsafeUnwrapErr` on an Ok",this,e)},n}(),Err=function(){function n(e){this.error=e}return n.prototype.isOk=function(){return!1},n.prototype.isErr=function(){return!this.isOk()},n.prototype.map=function(e){return err(this.error)},n.prototype.mapErr=function(e){return err(e(this.error))},n.prototype.andThen=function(e){return err(this.error)},n.prototype.orElse=function(e){return e(this.error)},n.prototype.asyncAndThen=function(e){return errAsync(this.error)},n.prototype.asyncMap=function(e){return errAsync(this.error)},n.prototype.unwrapOr=function(e){return e},n.prototype.match=function(e,r){return r(this.error)},n.prototype._unsafeUnwrap=function(e){throw createNeverThrowError("Called `_unsafeUnwrap` on an Err",this,e)},n.prototype._unsafeUnwrapErr=function(e){return this.error},n}();Result.fromThrowable;let ConnectionDisconnectedReason=function(n){return n.LEAVE="LEAVE",n.NETWORK_ERROR="NETWORK_ERROR",n.SERVER_ERROR="SERVER_ERROR",n.UID_BANNED="UID_BANNED",n.FALLBACK="FALLBACK",n.IP_BANNED="IP_BANNED",n.CHANNEL_BANNED="CHANNEL_BANNED",n.LICENSE_MISSING="LICENSE_MISSING",n.LICENSE_EXPIRED="LICENSE_EXPIRED",n.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",n.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",n.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",n.LICENSE_ILLEGAL="LICENSE_ILLEGAL",n.TOKEN_EXPIRE="TOKEN_EXPIRE",n}({}),AgoraRTCErrorCode=function(n){return n.UNEXPECTED_ERROR="UNEXPECTED_ERROR",n.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",n.TIMEOUT="TIMEOUT",n.INVALID_PARAMS="INVALID_PARAMS",n.NOT_READABLE="NOT_READABLE",n.NOT_SUPPORTED="NOT_SUPPORTED",n.INVALID_OPERATION="INVALID_OPERATION",n.OPERATION_ABORTED="OPERATION_ABORTED",n.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",n.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",n.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",n.DATACHANNEL_FAILED="DATACHANNEL_FAILED",n.NETWORK_ERROR="NETWORK_ERROR",n.NETWORK_TIMEOUT="NETWORK_TIMEOUT",n.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",n.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",n.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",n.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",n.ELECTRON_IS_NULL="ELECTRON_IS_NULL",n.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",n.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",n.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",n.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",n.PERMISSION_DENIED="PERMISSION_DENIED",n.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",n.TRACK_IS_DISABLED="TRACK_IS_DISABLED",n.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",n.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",n.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",n.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",n.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",n.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",n.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",n.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",n.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",n.UID_CONFLICT="UID_CONFLICT",n.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",n.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",n.TOKEN_EXPIRE="TOKEN_EXPIRE",n.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",n.INVALID_TRACK="INVALID_TRACK",n.SENDER_NOT_FOUND="SENDER_NOT_FOUND",n.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",n.SET_ANSWER_FAILED="SET_ANSWER_FAILED",n.ICE_FAILED="ICE_FAILED",n.PC_CLOSED="PC_CLOSED",n.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",n.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",n.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",n.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",n.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",n.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",n.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",n.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",n.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",n.INVALID_REMOTE_USER="INVALID_REMOTE_USER",n.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",n.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",n.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",n.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",n.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",n.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",n.WS_ABORT="WS_ABORT",n.WS_DISCONNECT="WS_DISCONNECT",n.WS_ERR="WS_ERR",n.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",n.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",n.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",n.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",n.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",n.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",n.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",n.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",n.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",n.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",n.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",n.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",n.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",n.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",n.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",n.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",n.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",n.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",n.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",n.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",n.INVALID_PLUGIN="INVALID_PLUGIN",n.DISCONNECT_P2P="DISCONNECT_P2P",n.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",n.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",n.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",n.CREATE_DATACHANNEL_ERROR="CREATE_DATACHANNEL_ERROR",n.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",n.PROHIBITED_OPERATION="PROHIBITED_OPERATION",n.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",n.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED",n.DATASTREAM2_NOT_AVAILABLE="DATASTREAM2_NOT_AVAILABLE",n}({});var umd={exports:{}};(function(n,e){var r=function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;/**
	   * @license
	   * Copyright 2009 The Closure Library Authors
	   * Copyright 2020 Daniel Wirtz / The long.js Authors.
	   *
	   * Licensed under the Apache License, Version 2.0 (the "License");
	   * you may not use this file except in compliance with the License.
	   * You may obtain a copy of the License at
	   *
	   *     http://www.apache.org/licenses/LICENSE-2.0
	   *
	   * Unless required by applicable law or agreed to in writing, software
	   * distributed under the License is distributed on an "AS IS" BASIS,
	   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	   * See the License for the specific language governing permissions and
	   * limitations under the License.
	   *
	   * SPDX-License-Identifier: Apache-2.0
	   */var g=null;try{g=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function E(q,me,Fe){this.low=0|q,this.high=0|me,this.unsigned=!!Fe}function u(q){return(q&&q.__isLong__)===!0}function B(q){var me=Math.clz32(q&-q);return q?31-me:me}E.prototype.__isLong__,Object.defineProperty(E.prototype,"__isLong__",{value:!0}),E.isLong=u;var f={},m={};function y(q,me){var Fe,_t,Qt;return me?(Qt=0<=(q>>>=0)&&q<256)&&(_t=m[q])?_t:(Fe=M(q,0,!0),Qt&&(m[q]=Fe),Fe):(Qt=-128<=(q|=0)&&q<128)&&(_t=f[q])?_t:(Fe=M(q,q<0?-1:0,!1),Qt&&(f[q]=Fe),Fe)}function D(q,me){if(isNaN(q))return me?oe:ne;if(me){if(q<0)return oe;if(q>=H)return He}else{if(q<=-9223372036854776e3)return Se;if(q+1>=j)return Le}return q<0?D(-q,me).neg():M(q%x|0,q/x|0,me)}function M(q,me,Fe){return new E(q,me,Fe)}E.fromInt=y,E.fromNumber=D,E.fromBits=M;var O=Math.pow;function U(q,me,Fe){if(q.length===0)throw Error("empty string");if(typeof me=="number"?(Fe=me,me=!1):me=!!me,q==="NaN"||q==="Infinity"||q==="+Infinity"||q==="-Infinity")return me?oe:ne;if((Fe=Fe||10)<2||36<Fe)throw RangeError("radix");var _t;if((_t=q.indexOf("-"))>0)throw Error("interior hyphen");if(_t===0)return U(q.substring(1),me,Fe).neg();for(var Qt=D(O(Fe,8)),je=ne,nt=0;nt<q.length;nt+=8){var ut=Math.min(8,q.length-nt),$t=parseInt(q.substring(nt,nt+ut),Fe);if(ut<8){var gA=D(O(Fe,ut));je=je.mul(gA).add(D($t))}else je=(je=je.mul(Qt)).add(D($t))}return je.unsigned=me,je}function F(q,me){return typeof q=="number"?D(q,me):typeof q=="string"?U(q,me):M(q.low,q.high,typeof me=="boolean"?me:q.unsigned)}E.fromString=U,E.fromValue=F;var x=4294967296,H=x*x,j=H/2,ee=y(1<<24),ne=y(0);E.ZERO=ne;var oe=y(0,!0);E.UZERO=oe;var ae=y(1);E.ONE=ae;var he=y(1,!0);E.UONE=he;var fe=y(-1);E.NEG_ONE=fe;var Le=M(-1,2147483647,!1);E.MAX_VALUE=Le;var He=M(-1,-1,!0);E.MAX_UNSIGNED_VALUE=He;var Se=M(0,-2147483648,!1);E.MIN_VALUE=Se;var ge=E.prototype;ge.toInt=function(){return this.unsigned?this.low>>>0:this.low},ge.toNumber=function(){return this.unsigned?(this.high>>>0)*x+(this.low>>>0):this.high*x+(this.low>>>0)},ge.toString=function(q){if((q=q||10)<2||36<q)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Se)){var me=D(q),Fe=this.div(me),_t=Fe.mul(me).sub(this);return Fe.toString(q)+_t.toInt().toString(q)}return"-"+this.neg().toString(q)}for(var Qt=D(O(q,6),this.unsigned),je=this,nt="";;){var ut=je.div(Qt),$t=(je.sub(ut.mul(Qt)).toInt()>>>0).toString(q);if((je=ut).isZero())return $t+nt;for(;$t.length<6;)$t="0"+$t;nt=""+$t+nt}},ge.getHighBits=function(){return this.high},ge.getHighBitsUnsigned=function(){return this.high>>>0},ge.getLowBits=function(){return this.low},ge.getLowBitsUnsigned=function(){return this.low>>>0},ge.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Se)?64:this.neg().getNumBitsAbs();for(var q=this.high!=0?this.high:this.low,me=31;me>0&&!(q&1<<me);me--);return this.high!=0?me+33:me+1},ge.isZero=function(){return this.high===0&&this.low===0},ge.eqz=ge.isZero,ge.isNegative=function(){return!this.unsigned&&this.high<0},ge.isPositive=function(){return this.unsigned||this.high>=0},ge.isOdd=function(){return!(1&~this.low)},ge.isEven=function(){return!(1&this.low)},ge.equals=function(q){return u(q)||(q=F(q)),(this.unsigned===q.unsigned||this.high>>>31!=1||q.high>>>31!=1)&&this.high===q.high&&this.low===q.low},ge.eq=ge.equals,ge.notEquals=function(q){return!this.eq(q)},ge.neq=ge.notEquals,ge.ne=ge.notEquals,ge.lessThan=function(q){return this.comp(q)<0},ge.lt=ge.lessThan,ge.lessThanOrEqual=function(q){return this.comp(q)<=0},ge.lte=ge.lessThanOrEqual,ge.le=ge.lessThanOrEqual,ge.greaterThan=function(q){return this.comp(q)>0},ge.gt=ge.greaterThan,ge.greaterThanOrEqual=function(q){return this.comp(q)>=0},ge.gte=ge.greaterThanOrEqual,ge.ge=ge.greaterThanOrEqual,ge.compare=function(q){if(u(q)||(q=F(q)),this.eq(q))return 0;var me=this.isNegative(),Fe=q.isNegative();return me&&!Fe?-1:!me&&Fe?1:this.unsigned?q.high>>>0>this.high>>>0||q.high===this.high&&q.low>>>0>this.low>>>0?-1:1:this.sub(q).isNegative()?-1:1},ge.comp=ge.compare,ge.negate=function(){return!this.unsigned&&this.eq(Se)?Se:this.not().add(ae)},ge.neg=ge.negate,ge.add=function(q){u(q)||(q=F(q));var me=this.high>>>16,Fe=65535&this.high,_t=this.low>>>16,Qt=65535&this.low,je=q.high>>>16,nt=65535&q.high,ut=q.low>>>16,$t=0,gA=0,AA=0,SA=0;return AA+=(SA+=Qt+(65535&q.low))>>>16,gA+=(AA+=_t+ut)>>>16,$t+=(gA+=Fe+nt)>>>16,$t+=me+je,M((AA&=65535)<<16|(SA&=65535),($t&=65535)<<16|(gA&=65535),this.unsigned)},ge.subtract=function(q){return u(q)||(q=F(q)),this.add(q.neg())},ge.sub=ge.subtract,ge.multiply=function(q){if(this.isZero())return this;if(u(q)||(q=F(q)),g)return M(g.mul(this.low,this.high,q.low,q.high),g.get_high(),this.unsigned);if(q.isZero())return this.unsigned?oe:ne;if(this.eq(Se))return q.isOdd()?Se:ne;if(q.eq(Se))return this.isOdd()?Se:ne;if(this.isNegative())return q.isNegative()?this.neg().mul(q.neg()):this.neg().mul(q).neg();if(q.isNegative())return this.mul(q.neg()).neg();if(this.lt(ee)&&q.lt(ee))return D(this.toNumber()*q.toNumber(),this.unsigned);var me=this.high>>>16,Fe=65535&this.high,_t=this.low>>>16,Qt=65535&this.low,je=q.high>>>16,nt=65535&q.high,ut=q.low>>>16,$t=65535&q.low,gA=0,AA=0,SA=0,DA=0;return SA+=(DA+=Qt*$t)>>>16,AA+=(SA+=_t*$t)>>>16,SA&=65535,AA+=(SA+=Qt*ut)>>>16,gA+=(AA+=Fe*$t)>>>16,AA&=65535,gA+=(AA+=_t*ut)>>>16,AA&=65535,gA+=(AA+=Qt*nt)>>>16,gA+=me*$t+Fe*ut+_t*nt+Qt*je,M((SA&=65535)<<16|(DA&=65535),(gA&=65535)<<16|(AA&=65535),this.unsigned)},ge.mul=ge.multiply,ge.divide=function(q){if(u(q)||(q=F(q)),q.isZero())throw Error("division by zero");var me,Fe,_t;if(g)return this.unsigned||this.high!==-2147483648||q.low!==-1||q.high!==-1?M((this.unsigned?g.div_u:g.div_s)(this.low,this.high,q.low,q.high),g.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?oe:ne;if(this.unsigned){if(q.unsigned||(q=q.toUnsigned()),q.gt(this))return oe;if(q.gt(this.shru(1)))return he;_t=oe}else{if(this.eq(Se))return q.eq(ae)||q.eq(fe)?Se:q.eq(Se)?ae:(me=this.shr(1).div(q).shl(1)).eq(ne)?q.isNegative()?ae:fe:(Fe=this.sub(q.mul(me)),_t=me.add(Fe.div(q)));if(q.eq(Se))return this.unsigned?oe:ne;if(this.isNegative())return q.isNegative()?this.neg().div(q.neg()):this.neg().div(q).neg();if(q.isNegative())return this.div(q.neg()).neg();_t=ne}for(Fe=this;Fe.gte(q);){me=Math.max(1,Math.floor(Fe.toNumber()/q.toNumber()));for(var Qt=Math.ceil(Math.log(me)/Math.LN2),je=Qt<=48?1:O(2,Qt-48),nt=D(me),ut=nt.mul(q);ut.isNegative()||ut.gt(Fe);)ut=(nt=D(me-=je,this.unsigned)).mul(q);nt.isZero()&&(nt=ae),_t=_t.add(nt),Fe=Fe.sub(ut)}return _t},ge.div=ge.divide,ge.modulo=function(q){return u(q)||(q=F(q)),g?M((this.unsigned?g.rem_u:g.rem_s)(this.low,this.high,q.low,q.high),g.get_high(),this.unsigned):this.sub(this.div(q).mul(q))},ge.mod=ge.modulo,ge.rem=ge.modulo,ge.not=function(){return M(~this.low,~this.high,this.unsigned)},ge.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},ge.clz=ge.countLeadingZeros,ge.countTrailingZeros=function(){return this.low?B(this.low):B(this.high)+32},ge.ctz=ge.countTrailingZeros,ge.and=function(q){return u(q)||(q=F(q)),M(this.low&q.low,this.high&q.high,this.unsigned)},ge.or=function(q){return u(q)||(q=F(q)),M(this.low|q.low,this.high|q.high,this.unsigned)},ge.xor=function(q){return u(q)||(q=F(q)),M(this.low^q.low,this.high^q.high,this.unsigned)},ge.shiftLeft=function(q){return u(q)&&(q=q.toInt()),(q&=63)==0?this:q<32?M(this.low<<q,this.high<<q|this.low>>>32-q,this.unsigned):M(0,this.low<<q-32,this.unsigned)},ge.shl=ge.shiftLeft,ge.shiftRight=function(q){return u(q)&&(q=q.toInt()),(q&=63)==0?this:q<32?M(this.low>>>q|this.high<<32-q,this.high>>q,this.unsigned):M(this.high>>q-32,this.high>=0?0:-1,this.unsigned)},ge.shr=ge.shiftRight,ge.shiftRightUnsigned=function(q){return u(q)&&(q=q.toInt()),(q&=63)==0?this:q<32?M(this.low>>>q|this.high<<32-q,this.high>>>q,this.unsigned):M(q===32?this.high:this.high>>>q-32,0,this.unsigned)},ge.shru=ge.shiftRightUnsigned,ge.shr_u=ge.shiftRightUnsigned,ge.rotateLeft=function(q){var me;return u(q)&&(q=q.toInt()),(q&=63)==0?this:q===32?M(this.high,this.low,this.unsigned):q<32?(me=32-q,M(this.low<<q|this.high>>>me,this.high<<q|this.low>>>me,this.unsigned)):(me=32-(q-=32),M(this.high<<q|this.low>>>me,this.low<<q|this.high>>>me,this.unsigned))},ge.rotl=ge.rotateLeft,ge.rotateRight=function(q){var me;return u(q)&&(q=q.toInt()),(q&=63)==0?this:q===32?M(this.high,this.low,this.unsigned):q<32?(me=32-q,M(this.high<<me|this.low>>>q,this.low<<me|this.high>>>q,this.unsigned)):(me=32-(q-=32),M(this.low<<me|this.high>>>q,this.high<<me|this.low>>>q,this.unsigned))},ge.rotr=ge.rotateRight,ge.toSigned=function(){return this.unsigned?M(this.low,this.high,!1):this},ge.toUnsigned=function(){return this.unsigned?this:M(this.low,this.high,!0)},ge.toBytes=function(q){return q?this.toBytesLE():this.toBytesBE()},ge.toBytesLE=function(){var q=this.high,me=this.low;return[255&me,me>>>8&255,me>>>16&255,me>>>24,255&q,q>>>8&255,q>>>16&255,q>>>24]},ge.toBytesBE=function(){var q=this.high,me=this.low;return[q>>>24,q>>>16&255,q>>>8&255,255&q,me>>>24,me>>>16&255,me>>>8&255,255&me]},E.fromBytes=function(q,me,Fe){return Fe?E.fromBytesLE(q,me):E.fromBytesBE(q,me)},E.fromBytesLE=function(q,me){return new E(q[0]|q[1]<<8|q[2]<<16|q[3]<<24,q[4]|q[5]<<8|q[6]<<16|q[7]<<24,me)},E.fromBytesBE=function(q,me){return new E(q[4]<<24|q[5]<<16|q[6]<<8|q[7],q[0]<<24|q[1]<<16|q[2]<<8|q[3],me)};var Ye=E;return a.default=Ye,"default"in a?a.default:a}({});n.exports=r})(umd);var umdExports=umd.exports,indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){return hasRequiredAspromise||(hasRequiredAspromise=1,aspromise=function(n,e){for(var r=new Array(arguments.length-1),a=0,g=2,E=!0;g<arguments.length;)r[a++]=arguments[g++];return new Promise(function(u,B){r[a]=function(f){if(E)if(E=!1,f)B(f);else{for(var m=new Array(arguments.length-1),y=0;y<m.length;)m[y++]=arguments[y];u.apply(null,m)}};try{n.apply(e||null,r)}catch(f){E&&(E=!1,B(f))}})}),aspromise}var base64$1={},hasRequiredBase64,eventemitter,hasRequiredEventemitter,float,hasRequiredFloat,inquire_1,hasRequiredInquire;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(n){var e=n;e.length=function(u){var B=u.length;if(!B)return 0;for(var f=0;--B%4>1&&u.charAt(B)==="=";)++f;return Math.ceil(3*u.length)/4-f};for(var r=new Array(64),a=new Array(123),g=0;g<64;)a[r[g]=g<26?g+65:g<52?g+71:g<62?g-4:g-59|43]=g++;e.encode=function(u,B,f){for(var m,y=null,D=[],M=0,O=0;B<f;){var U=u[B++];switch(O){case 0:D[M++]=r[U>>2],m=(3&U)<<4,O=1;break;case 1:D[M++]=r[m|U>>4],m=(15&U)<<2,O=2;break;case 2:D[M++]=r[m|U>>6],D[M++]=r[63&U],O=0}M>8191&&((y||(y=[])).push(String.fromCharCode.apply(String,D)),M=0)}return O&&(D[M++]=r[m],D[M++]=61,O===1&&(D[M++]=61)),y?(M&&y.push(String.fromCharCode.apply(String,D.slice(0,M))),y.join("")):String.fromCharCode.apply(String,D.slice(0,M))};var E="invalid encoding";e.decode=function(u,B,f){for(var m,y=f,D=0,M=0;M<u.length;){var O=u.charCodeAt(M++);if(O===61&&D>1)break;if((O=a[O])===void 0)throw Error(E);switch(D){case 0:m=O,D=1;break;case 1:B[f++]=m<<2|(48&O)>>4,m=O,D=2;break;case 2:B[f++]=(15&m)<<4|(60&O)>>2,m=O,D=3;break;case 3:B[f++]=(3&m)<<6|O,D=0}}if(D===1)throw Error(E);return f-y},e.test=function(u){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(u)}}(base64$1)),base64$1}function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;function n(){this._listeners={}}return hasRequiredEventemitter=1,eventemitter=n,n.prototype.on=function(e,r,a){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:a||this}),this},n.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var a=this._listeners[e],g=0;g<a.length;)a[g].fn===r?a.splice(g,1):++g;return this},n.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var a=[],g=1;g<arguments.length;)a.push(arguments[g++]);for(g=0;g<r.length;)r[g].fn.apply(r[g++].ctx,a)}return this},eventemitter}function requireFloat(){if(hasRequiredFloat)return float;function n(E){return typeof Float32Array<"u"?function(){var u=new Float32Array([-0]),B=new Uint8Array(u.buffer),f=B[3]===128;function m(O,U,F){u[0]=O,U[F]=B[0],U[F+1]=B[1],U[F+2]=B[2],U[F+3]=B[3]}function y(O,U,F){u[0]=O,U[F]=B[3],U[F+1]=B[2],U[F+2]=B[1],U[F+3]=B[0]}function D(O,U){return B[0]=O[U],B[1]=O[U+1],B[2]=O[U+2],B[3]=O[U+3],u[0]}function M(O,U){return B[3]=O[U],B[2]=O[U+1],B[1]=O[U+2],B[0]=O[U+3],u[0]}E.writeFloatLE=f?m:y,E.writeFloatBE=f?y:m,E.readFloatLE=f?D:M,E.readFloatBE=f?M:D}():function(){function u(f,m,y,D){var M=m<0?1:0;if(M&&(m=-m),m===0)f(1/m>0?0:2147483648,y,D);else if(isNaN(m))f(2143289344,y,D);else if(m>34028234663852886e22)f((M<<31|2139095040)>>>0,y,D);else if(m<11754943508222875e-54)f((M<<31|Math.round(m/1401298464324817e-60))>>>0,y,D);else{var O=Math.floor(Math.log(m)/Math.LN2);f((M<<31|O+127<<23|8388607&Math.round(m*Math.pow(2,-O)*8388608))>>>0,y,D)}}function B(f,m,y){var D=f(m,y),M=2*(D>>31)+1,O=D>>>23&255,U=8388607&D;return O===255?U?NaN:M*(1/0):O===0?1401298464324817e-60*M*U:M*Math.pow(2,O-150)*(U+8388608)}E.writeFloatLE=u.bind(null,e),E.writeFloatBE=u.bind(null,r),E.readFloatLE=B.bind(null,a),E.readFloatBE=B.bind(null,g)}(),typeof Float64Array<"u"?function(){var u=new Float64Array([-0]),B=new Uint8Array(u.buffer),f=B[7]===128;function m(O,U,F){u[0]=O,U[F]=B[0],U[F+1]=B[1],U[F+2]=B[2],U[F+3]=B[3],U[F+4]=B[4],U[F+5]=B[5],U[F+6]=B[6],U[F+7]=B[7]}function y(O,U,F){u[0]=O,U[F]=B[7],U[F+1]=B[6],U[F+2]=B[5],U[F+3]=B[4],U[F+4]=B[3],U[F+5]=B[2],U[F+6]=B[1],U[F+7]=B[0]}function D(O,U){return B[0]=O[U],B[1]=O[U+1],B[2]=O[U+2],B[3]=O[U+3],B[4]=O[U+4],B[5]=O[U+5],B[6]=O[U+6],B[7]=O[U+7],u[0]}function M(O,U){return B[7]=O[U],B[6]=O[U+1],B[5]=O[U+2],B[4]=O[U+3],B[3]=O[U+4],B[2]=O[U+5],B[1]=O[U+6],B[0]=O[U+7],u[0]}E.writeDoubleLE=f?m:y,E.writeDoubleBE=f?y:m,E.readDoubleLE=f?D:M,E.readDoubleBE=f?M:D}():function(){function u(f,m,y,D,M,O){var U=D<0?1:0;if(U&&(D=-D),D===0)f(0,M,O+m),f(1/D>0?0:2147483648,M,O+y);else if(isNaN(D))f(0,M,O+m),f(2146959360,M,O+y);else if(D>17976931348623157e292)f(0,M,O+m),f((U<<31|2146435072)>>>0,M,O+y);else{var F;if(D<22250738585072014e-324)f((F=D/5e-324)>>>0,M,O+m),f((U<<31|F/4294967296)>>>0,M,O+y);else{var x=Math.floor(Math.log(D)/Math.LN2);x===1024&&(x=1023),f(4503599627370496*(F=D*Math.pow(2,-x))>>>0,M,O+m),f((U<<31|x+1023<<20|1048576*F&1048575)>>>0,M,O+y)}}}function B(f,m,y,D,M){var O=f(D,M+m),U=f(D,M+y),F=2*(U>>31)+1,x=U>>>20&2047,H=4294967296*(1048575&U)+O;return x===2047?H?NaN:F*(1/0):x===0?5e-324*F*H:F*Math.pow(2,x-1075)*(H+4503599627370496)}E.writeDoubleLE=u.bind(null,e,0,4),E.writeDoubleBE=u.bind(null,r,4,0),E.readDoubleLE=B.bind(null,a,0,4),E.readDoubleBE=B.bind(null,g,4,0)}(),E}function e(E,u,B){u[B]=255&E,u[B+1]=E>>>8&255,u[B+2]=E>>>16&255,u[B+3]=E>>>24}function r(E,u,B){u[B]=E>>>24,u[B+1]=E>>>16&255,u[B+2]=E>>>8&255,u[B+3]=255&E}function a(E,u){return(E[u]|E[u+1]<<8|E[u+2]<<16|E[u+3]<<24)>>>0}function g(E,u){return(E[u]<<24|E[u+1]<<16|E[u+2]<<8|E[u+3])>>>0}return hasRequiredFloat=1,float=n(n)}function requireInquire(){if(hasRequiredInquire)return inquire_1;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(n){}return null}return hasRequiredInquire=1,inquire_1=inquire,inquire_1}var utf8$2={},hasRequiredUtf8,pool_1,hasRequiredPool,longbits,hasRequiredLongbits,hasRequiredMinimal;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(n){var e=n;e.length=function(r){for(var a=0,g=0,E=0;E<r.length;++E)(g=r.charCodeAt(E))<128?a+=1:g<2048?a+=2:(64512&g)==55296&&(64512&r.charCodeAt(E+1))==56320?(++E,a+=4):a+=3;return a},e.read=function(r,a,g){if(g-a<1)return"";for(var E,u=null,B=[],f=0;a<g;)(E=r[a++])<128?B[f++]=E:E>191&&E<224?B[f++]=(31&E)<<6|63&r[a++]:E>239&&E<365?(E=((7&E)<<18|(63&r[a++])<<12|(63&r[a++])<<6|63&r[a++])-65536,B[f++]=55296+(E>>10),B[f++]=56320+(1023&E)):B[f++]=(15&E)<<12|(63&r[a++])<<6|63&r[a++],f>8191&&((u||(u=[])).push(String.fromCharCode.apply(String,B)),f=0);return u?(f&&u.push(String.fromCharCode.apply(String,B.slice(0,f))),u.join("")):String.fromCharCode.apply(String,B.slice(0,f))},e.write=function(r,a,g){for(var E,u,B=g,f=0;f<r.length;++f)(E=r.charCodeAt(f))<128?a[g++]=E:E<2048?(a[g++]=E>>6|192,a[g++]=63&E|128):(64512&E)==55296&&(64512&(u=r.charCodeAt(f+1)))==56320?(E=65536+((1023&E)<<10)+(1023&u),++f,a[g++]=E>>18|240,a[g++]=E>>12&63|128,a[g++]=E>>6&63|128,a[g++]=63&E|128):(a[g++]=E>>12|224,a[g++]=E>>6&63|128,a[g++]=63&E|128);return g-B}}(utf8$2)),utf8$2}function requirePool(){return hasRequiredPool?pool_1:(hasRequiredPool=1,pool_1=function(n,e,r){var a=r||8192,g=a>>>1,E=null,u=a;return function(B){if(B<1||B>g)return n(B);u+B>a&&(E=n(a),u=0);var f=e.call(E,u,u+=B);return 7&u&&(u=1+(7|u)),f}})}function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=e;var n=requireMinimal();function e(E,u){this.lo=E>>>0,this.hi=u>>>0}var r=e.zero=new e(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};var a=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(E){if(E===0)return r;var u=E<0;u&&(E=-E);var B=E>>>0,f=(E-B)/4294967296>>>0;return u&&(f=~f>>>0,B=~B>>>0,++B>4294967295&&(B=0,++f>4294967295&&(f=0))),new e(B,f)},e.from=function(E){if(typeof E=="number")return e.fromNumber(E);if(n.isString(E)){if(!n.Long)return e.fromNumber(parseInt(E,10));E=n.Long.fromString(E)}return E.low||E.high?new e(E.low>>>0,E.high>>>0):r},e.prototype.toNumber=function(E){if(!E&&this.hi>>>31){var u=1+~this.lo>>>0,B=~this.hi>>>0;return u||(B=B+1>>>0),-(u+4294967296*B)}return this.lo+4294967296*this.hi},e.prototype.toLong=function(E){return n.Long?new n.Long(0|this.lo,0|this.hi,!!E):{low:0|this.lo,high:0|this.hi,unsigned:!!E}};var g=String.prototype.charCodeAt;return e.fromHash=function(E){return E===a?r:new e((g.call(E,0)|g.call(E,1)<<8|g.call(E,2)<<16|g.call(E,3)<<24)>>>0,(g.call(E,4)|g.call(E,5)<<8|g.call(E,6)<<16|g.call(E,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var E=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^E)>>>0,this.lo=(this.lo<<1^E)>>>0,this},e.prototype.zzDecode=function(){var E=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^E)>>>0,this.hi=(this.hi>>>1^E)>>>0,this},e.prototype.length=function(){var E=this.lo,u=(this.lo>>>28|this.hi<<4)>>>0,B=this.hi>>>24;return B===0?u===0?E<16384?E<128?1:2:E<2097152?3:4:u<16384?u<128?5:6:u<2097152?7:8:B<128?9:10},longbits}function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(n){var e=n;function r(g,E,u){for(var B=Object.keys(E),f=0;f<B.length;++f)g[B[f]]!==void 0&&u||(g[B[f]]=E[B[f]]);return g}function a(g){function E(u,B){if(!(this instanceof E))return new E(u,B);Object.defineProperty(this,"message",{get:function(){return u}}),Error.captureStackTrace?Error.captureStackTrace(this,E):Object.defineProperty(this,"stack",{value:new Error().stack||""}),B&&r(this,B)}return E.prototype=Object.create(Error.prototype,{constructor:{value:E,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return g},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),E}e.asPromise=requireAspromise(),e.base64=requireBase64(),e.EventEmitter=requireEventemitter(),e.float=requireFloat(),e.inquire=requireInquire(),e.utf8=requireUtf8(),e.pool=requirePool(),e.LongBits=requireLongbits(),e.isNode=!!(commonjsGlobal$1!==void 0&&commonjsGlobal$1&&commonjsGlobal$1.process&&commonjsGlobal$1.process.versions&&commonjsGlobal$1.process.versions.node),e.global=e.isNode&&commonjsGlobal$1||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal$1,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(g){return typeof g=="number"&&isFinite(g)&&Math.floor(g)===g},e.isString=function(g){return typeof g=="string"||g instanceof String},e.isObject=function(g){return g&&typeof g=="object"},e.isset=e.isSet=function(g,E){var u=g[E];return!(u==null||!g.hasOwnProperty(E))&&(typeof u!="object"||(Array.isArray(u)?u.length:Object.keys(u).length)>0)},e.Buffer=function(){try{var g=e.inquire("buffer").Buffer;return g.prototype.utf8Write?g:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(g){return typeof g=="number"?e.Buffer?e._Buffer_allocUnsafe(g):new e.Array(g):e.Buffer?e._Buffer_from(g):typeof Uint8Array>"u"?g:new Uint8Array(g)},e.Array=typeof Uint8Array<"u"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(g){return g?e.LongBits.from(g).toHash():e.LongBits.zeroHash},e.longFromHash=function(g,E){var u=e.LongBits.fromHash(g);return e.Long?e.Long.fromBits(u.lo,u.hi,E):u.toNumber(!!E)},e.merge=r,e.lcFirst=function(g){return g.charAt(0).toLowerCase()+g.substring(1)},e.newError=a,e.ProtocolError=a("ProtocolError"),e.oneOfGetter=function(g){for(var E={},u=0;u<g.length;++u)E[g[u]]=1;return function(){for(var B=Object.keys(this),f=B.length-1;f>-1;--f)if(E[B[f]]===1&&this[B[f]]!==void 0&&this[B[f]]!==null)return B[f]}},e.oneOfSetter=function(g){return function(E){for(var u=0;u<g.length;++u)g[u]!==E&&delete this[g[u]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var g=e.Buffer;g?(e._Buffer_from=g.from!==Uint8Array.from&&g.from||function(E,u){return new g(E,u)},e._Buffer_allocUnsafe=g.allocUnsafe||function(E){return new g(E)}):e._Buffer_from=e._Buffer_allocUnsafe=null}}(minimal$1)),minimal$1}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(n,e,r){this.fn=n,this.len=e,this.next=void 0,this.val=r}function noop(){}function State(n){this.head=n.head,this.tail=n.tail,this.len=n.len,this.next=n.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};function writeByte(n,e,r){e[r]=255&n}function writeVarint32(n,e,r){for(;n>127;)e[r++]=127&n|128,n>>>=7;e[r]=n}function VarintOp(n,e){this.len=n,this.next=void 0,this.val=e}function writeVarint64(n,e,r){for(;n.hi;)e[r++]=127&n.lo|128,n.lo=(n.lo>>>7|n.hi<<25)>>>0,n.hi>>>=7;for(;n.lo>127;)e[r++]=127&n.lo|128,n.lo=n.lo>>>7;e[r++]=n.lo}function writeFixed32(n,e,r){e[r]=255&n,e[r+1]=n>>>8&255,e[r+2]=n>>>16&255,e[r+3]=n>>>24}Writer$1.create=create$1(),Writer$1.alloc=function(n){return new util$4.Array(n)},util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray)),Writer$1.prototype._push=function(n,e,r){return this.tail=this.tail.next=new Op(n,e,r),this.len+=e,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer$1.prototype.uint32=function(n){return this.len+=(this.tail=this.tail.next=new VarintOp((n>>>=0)<128?1:n<16384?2:n<2097152?3:n<268435456?4:5,n)).len,this},Writer$1.prototype.int32=function(n){return n<0?this._push(writeVarint64,10,LongBits$1.fromNumber(n)):this.uint32(n)},Writer$1.prototype.sint32=function(n){return this.uint32((n<<1^n>>31)>>>0)},Writer$1.prototype.uint64=function(n){var e=LongBits$1.from(n);return this._push(writeVarint64,e.length(),e)},Writer$1.prototype.int64=Writer$1.prototype.uint64,Writer$1.prototype.sint64=function(n){var e=LongBits$1.from(n).zzEncode();return this._push(writeVarint64,e.length(),e)},Writer$1.prototype.bool=function(n){return this._push(writeByte,1,n?1:0)},Writer$1.prototype.fixed32=function(n){return this._push(writeFixed32,4,n>>>0)},Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32,Writer$1.prototype.fixed64=function(n){var e=LongBits$1.from(n);return this._push(writeFixed32,4,e.lo)._push(writeFixed32,4,e.hi)},Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64,Writer$1.prototype.float=function(n){return this._push(util$4.float.writeFloatLE,4,n)},Writer$1.prototype.double=function(n){return this._push(util$4.float.writeDoubleLE,8,n)};var writeBytes=util$4.Array.prototype.set?function(n,e,r){e.set(n,r)}:function(n,e,r){for(var a=0;a<n.length;++a)e[r+a]=n[a]};Writer$1.prototype.bytes=function(n){var e=n.length>>>0;if(!e)return this._push(writeByte,1,0);if(util$4.isString(n)){var r=Writer$1.alloc(e=base64.length(n));base64.decode(n,r,0),n=r}return this.uint32(e)._push(writeBytes,e,n)},Writer$1.prototype.string=function(n){var e=utf8$1.length(n);return e?this.uint32(e)._push(utf8$1.write,e,n):this._push(writeByte,1,0)},Writer$1.prototype.fork=function(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer$1.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer$1.prototype.ldelim=function(){var n=this.head,e=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=n.next,this.tail=e,this.len+=r),this},Writer$1.prototype.finish=function(){for(var n=this.head.next,e=this.constructor.alloc(this.len),r=0;n;)n.fn(n.val,e,r),r+=n.len,n=n.next;return e},Writer$1._configure=function(n){BufferWriter$1=n,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}function writeStringBuffer(n,e,r){n.length<40?util$3.utf8.write(n,e,r):e.utf8Write?e.utf8Write(n,r):e.write(n,r)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(n,e,r){e.set(n,r)}:function(n,e,r){if(n.copy)n.copy(e,r,0,n.length);else for(var a=0;a<n.length;)e[r++]=n[a++]}},BufferWriter.prototype.bytes=function(n){util$3.isString(n)&&(n=util$3._Buffer_from(n,"base64"));var e=n.length>>>0;return this.uint32(e),e&&this._push(BufferWriter.writeBytesBuffer,e,n),this},BufferWriter.prototype.string=function(n){var e=util$3.Buffer.byteLength(n);return this.uint32(e),e&&this._push(writeStringBuffer,e,n),this},BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(n,e){return RangeError("index out of range: "+n.pos+" + "+(e||1)+" > "+n.len)}function Reader$1(n){this.buf=n,this.pos=0,this.len=n.length}var create_array=typeof Uint8Array<"u"?function(n){if(n instanceof Uint8Array||Array.isArray(n))return new Reader$1(n);throw Error("illegal buffer")}:function(n){if(Array.isArray(n))return new Reader$1(n);throw Error("illegal buffer")},create=function(){return util$2.Buffer?function(n){return(Reader$1.create=function(e){return util$2.Buffer.isBuffer(e)?new BufferReader$1(e):create_array(e)})(n)}:create_array},value;function readLongVarint(){var n=new LongBits(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(n.lo=(n.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return n}return n.lo=(n.lo|(127&this.buf[this.pos++])<<7*e)>>>0,n}for(;e<4;++e)if(n.lo=(n.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return n;if(n.lo=(n.lo|(127&this.buf[this.pos])<<28)>>>0,n.hi=(n.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return n;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(n.hi=(n.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return n}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(n.hi=(n.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return n}throw Error("invalid varint encoding")}function readFixed32_end(n,e){return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.create=create(),Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice,Reader$1.prototype.uint32=(value=4294967295,function(){if(value=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(value=(value|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(value=(value|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(value=(value|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(value=(value|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return value;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return value}),Reader$1.prototype.int32=function(){return 0|this.uint32()},Reader$1.prototype.sint32=function(){var n=this.uint32();return n>>>1^-(1&n)},Reader$1.prototype.bool=function(){return this.uint32()!==0},Reader$1.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var n=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,n},Reader$1.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var n=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,n},Reader$1.prototype.bytes=function(){var n=this.uint32(),e=this.pos,r=this.pos+n;if(r>this.len)throw indexOutOfRange(this,n);if(this.pos+=n,Array.isArray(this.buf))return this.buf.slice(e,r);if(e===r){var a=util$2.Buffer;return a?a.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,e,r)},Reader$1.prototype.string=function(){var n=this.bytes();return utf8.read(n,0,n.length)},Reader$1.prototype.skip=function(n){if(typeof n=="number"){if(this.pos+n>this.len)throw indexOutOfRange(this,n);this.pos+=n}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(128&this.buf[this.pos++]);return this},Reader$1.prototype.skipType=function(n){switch(n){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(n=7&this.uint32())!=4;)this.skipType(n);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+n+" at offset "+this.pos)}return this},Reader$1._configure=function(n){BufferReader$1=n,Reader$1.create=create(),BufferReader$1._configure();var e=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[e](!1)},uint64:function(){return readLongVarint.call(this)[e](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64.call(this)[e](!0)},sfixed64:function(){return readFixed64.call(this)[e](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(n){Reader.call(this,n)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)},BufferReader.prototype.string=function(){var n=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+n,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+n,this.len))},BufferReader._configure();var rpc={},service=Service,util=requireMinimal();function Service(n,e,r){if(typeof n!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=n,this.requestDelimited=!!e,this.responseDelimited=!!r}(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function n(e,r,a,g,E){if(!g)throw TypeError("request must be specified");var u=this;if(!E)return util.asPromise(n,u,e,r,a,g);if(u.rpcImpl)try{return u.rpcImpl(e,r[u.requestDelimited?"encodeDelimited":"encode"](g).finish(),function(B,f){if(B)return u.emit("error",B,e),E(B);if(f!==null){if(!(f instanceof a))try{f=a[u.responseDelimited?"decodeDelimited":"decode"](f)}catch(m){return u.emit("error",m,e),E(m)}return u.emit("data",f,e),E(null,f)}u.end(!0)})}catch(B){return u.emit("error",B,e),void setTimeout(function(){E(B)},0)}else setTimeout(function(){E(Error("already ended"))},0)},Service.prototype.end=function(n){return this.rpcImpl&&(n||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},function(n){n.Service=service}(rpc);var roots={};(function(n){var e=n;function r(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}e.build="minimal",e.Writer=writer,e.BufferWriter=writer_buffer,e.Reader=reader,e.BufferReader=reader_buffer,e.util=requireMinimal(),e.rpc=rpc,e.roots=roots,e.configure=r,r()})(indexMinimal);const Long=umdExports,minimal=indexMinimal;minimal.util.Long=Long,minimal.configure();var minimal_1=minimal;const $Reader$1=minimal_1.Reader,$Writer$2=minimal_1.Writer,$util$2=minimal_1.util,$root$2=minimal_1.roots.default||(minimal_1.roots.default={}),TopicMetadata=$root$2.TopicMetadata=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.topic="",n.prototype.metadata="",n.encode=function(e,r){return r||(r=$Writer$2.create()),e.topic!=null&&Object.hasOwnProperty.call(e,"topic")&&r.uint32(10).string(e.topic),e.metadata!=null&&Object.hasOwnProperty.call(e,"metadata")&&r.uint32(18).string(e.metadata),r},n.decode=function(e,r){e instanceof $Reader$1||(e=$Reader$1.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$2.TopicMetadata;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.topic=e.string();break;case 2:g.metadata=e.string();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/TopicMetadata"},n})(),StreamMessageProtocol=$root$2.StreamMessageProtocol=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.messageType=0,n.prototype.payload=$util$2.newBuffer([]),n.prototype.payloadLength=0,n.prototype.sequence=$util$2.Long?$util$2.Long.fromBits(0,0,!1):0,n.prototype.sendTs=$util$2.Long?$util$2.Long.fromBits(0,0,!1):0,n.prototype.encrypted=!1,n.prototype.customType="",n.encode=function(e,r){return r||(r=$Writer$2.create()),e.messageType!=null&&Object.hasOwnProperty.call(e,"messageType")&&r.uint32(8).int32(e.messageType),e.payload!=null&&Object.hasOwnProperty.call(e,"payload")&&r.uint32(18).bytes(e.payload),e.payloadLength!=null&&Object.hasOwnProperty.call(e,"payloadLength")&&r.uint32(24).int32(e.payloadLength),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&r.uint32(32).int64(e.sequence),e.sendTs!=null&&Object.hasOwnProperty.call(e,"sendTs")&&r.uint32(40).int64(e.sendTs),e.encrypted!=null&&Object.hasOwnProperty.call(e,"encrypted")&&r.uint32(48).bool(e.encrypted),e.customType!=null&&Object.hasOwnProperty.call(e,"customType")&&r.uint32(58).string(e.customType),r},n.decode=function(e,r){e instanceof $Reader$1||(e=$Reader$1.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$2.StreamMessageProtocol;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.messageType=e.int32();break;case 2:g.payload=e.bytes();break;case 3:g.payloadLength=e.int32();break;case 4:g.sequence=e.int64();break;case 5:g.sendTs=e.int64();break;case 6:g.encrypted=e.bool();break;case 7:g.customType=e.string();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StreamMessageProtocol"},n})();let RTMStreamChannelStatusCode;(function(n){let e=function(r){return r[r.NO_ERROR=0]="NO_ERROR",r[r.PARTIALLY_SUCCESSFUL=1]="PARTIALLY_SUCCESSFUL",r[r.ALL_FAILED=2]="ALL_FAILED",r[r.UNKNOWN_ERROR=3]="UNKNOWN_ERROR",r[r.INVALID_PARAMS=4]="INVALID_PARAMS",r[r.REMOTE_USER_IS_NOT_PUBLISHED=5]="REMOTE_USER_IS_NOT_PUBLISHED",r[r.INVALID_REMOTE_USER=6]="INVALID_REMOTE_USER",r[r.TIMEOUT=7]="TIMEOUT",r[r.ALREADY_SUBSCRIBED_USER=20001]="ALREADY_SUBSCRIBED_USER",r[r.SUB_USER_EXCEED_LIMITATION=20003]="SUB_USER_EXCEED_LIMITATION",r[r.NOT_SUBSCRIBED_USER=20004]="NOT_SUBSCRIBED_USER",r}({});n.SubscribeTopicErrorCode=e})(RTMStreamChannelStatusCode||(RTMStreamChannelStatusCode={}));var lib_es5={},require$$0=getAugmentedNamespace(_esm5);function bufferTime(n){var e=arguments.length,r=async;isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var a=null;e>=2&&(a=arguments[1]);var g=Number.POSITIVE_INFINITY;return e>=3&&(g=arguments[2]),function(E){return E.lift(new BufferTimeOperator(n,a,g,r))}}(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=require$$0,r=[],a=function(g,E){return new WebSocket(g,E)};n.normalClosureMessage="Normal closure",n.default=function(g,E){var u=E===void 0?{protocols:r,makeWebSocket:a}:E,B=u.protocols,f=B===void 0?r:B,m=u.makeWebSocket,y=m===void 0?a:m;return new e.Observable(function(D){var M,O=new e.Subject,U=y(g,f),F=!1,x=!1,H=function(){F=!0},j=function(ee){if(M){H();var ne=new Error("Web socket message factory function called more than once");throw D.error(ne),ne}return M=ee.subscribe(function(oe){U.send(oe)}),O};return U.onopen=function(){x?(F=!0,U.close()):D.next(j)},U.onmessage=function(ee){O.next(ee.data)},U.onerror=function(ee){H(),D.error(new Error(ee.message))},U.onclose=function(ee){F||(H(),x?(D.complete(),O.complete()):D.error(new Error(ee.code===1e3?n.normalClosureMessage:ee.reason)))},function(){x=!0,M&&M.unsubscribe(),F||(H(),U.close())}})}})(lib_es5);var BufferTimeOperator=function(){function n(e,r,a,g){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=a,this.scheduler=g}return n.prototype.call=function(e,r){return r.subscribe(new BufferTimeSubscriber(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},n}(),Context$1=function(){return function(){this.buffer=[]}}(),BufferTimeSubscriber=function(n){function e(r,a,g,E,u){var B=n.call(this,r)||this;B.bufferTimeSpan=a,B.bufferCreationInterval=g,B.maxBufferSize=E,B.scheduler=u,B.contexts=[];var f=B.openContext();if(B.timespanOnly=g==null||g<0,B.timespanOnly){var m={subscriber:B,context:f,bufferTimeSpan:a};B.add(f.closeAction=u.schedule(dispatchBufferTimeSpanOnly,a,m))}else{var y={subscriber:B,context:f},D={bufferTimeSpan:a,bufferCreationInterval:g,subscriber:B,scheduler:u};B.add(f.closeAction=u.schedule(dispatchBufferClose,a,y)),B.add(u.schedule(dispatchBufferCreation,g,D))}return B}return __extends$3(e,n),e.prototype._next=function(r){for(var a,g=this.contexts,E=g.length,u=0;u<E;u++){var B=g[u],f=B.buffer;f.push(r),f.length==this.maxBufferSize&&(a=B)}a&&this.onBufferFull(a)},e.prototype._error=function(r){this.contexts.length=0,n.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts,a=this.destination;r.length>0;){var g=r.shift();a.next(g.buffer)}n.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var a=r.closeAction;if(a.unsubscribe(),this.remove(a),!this.closed&&this.timespanOnly){r=this.openContext();var g=this.bufferTimeSpan,E={subscriber:this,context:r,bufferTimeSpan:g};this.add(r.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,g,E))}},e.prototype.openContext=function(){var r=new Context$1;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var a=this.contexts;(a?a.indexOf(r):-1)>=0&&a.splice(a.indexOf(r),1)},e}(Subscriber);function dispatchBufferTimeSpanOnly(n){var e=n.subscriber,r=n.context;r&&e.closeContext(r),e.closed||(n.context=e.openContext(),n.context.closeAction=this.schedule(n,n.bufferTimeSpan))}function dispatchBufferCreation(n){var e=n.bufferCreationInterval,r=n.bufferTimeSpan,a=n.subscriber,g=n.scheduler,E=a.openContext();a.closed||(a.add(E.closeAction=g.schedule(dispatchBufferClose,r,{subscriber:a,context:E})),this.schedule(n,e))}function dispatchBufferClose(n){var e=n.subscriber,r=n.context;e.closeContext(r)}function catchError(n){return function(e){var r=new CatchOperator(n),a=e.lift(r);return r.caught=a}}var CatchOperator=function(){function n(e){this.selector=e}return n.prototype.call=function(e,r){return r.subscribe(new CatchSubscriber(e,this.selector,this.caught))},n}(),CatchSubscriber=function(n){function e(r,a,g){var E=n.call(this,r)||this;return E.selector=a,E.caught=g,E}return __extends$3(e,n),e.prototype.error=function(r){if(!this.isStopped){var a=void 0;try{a=this.selector(r,this.caught)}catch(u){return void n.prototype.error.call(this,u)}this._unsubscribeAndRecycle();var g=new SimpleInnerSubscriber(this);this.add(g);var E=innerSubscribe(a,g);E!==g&&this.add(E)}},e}(SimpleOuterSubscriber);function concatMap(n,e){return mergeMap(n,e,1)}function defaultIfEmpty(n){return n===void 0&&(n=null),function(e){return e.lift(new DefaultIfEmptyOperator(n))}}var DefaultIfEmptyOperator=function(){function n(e){this.defaultValue=e}return n.prototype.call=function(e,r){return r.subscribe(new DefaultIfEmptySubscriber(e,this.defaultValue))},n}(),DefaultIfEmptySubscriber=function(n){function e(r,a){var g=n.call(this,r)||this;return g.defaultValue=a,g.isEmpty=!0,g}return __extends$3(e,n),e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Subscriber);function isDate(n){return n instanceof Date&&!isNaN(+n)}function delay(n,e){e===void 0&&(e=async);var r=isDate(n)?+n-e.now():Math.abs(n);return function(a){return a.lift(new DelayOperator(r,e))}}var DelayOperator=function(){function n(e,r){this.delay=e,this.scheduler=r}return n.prototype.call=function(e,r){return r.subscribe(new DelaySubscriber(e,this.delay,this.scheduler))},n}(),DelaySubscriber=function(n){function e(r,a,g){var E=n.call(this,r)||this;return E.delay=a,E.scheduler=g,E.queue=[],E.active=!1,E.errored=!1,E}return __extends$3(e,n),e.dispatch=function(r){for(var a=r.source,g=a.queue,E=r.scheduler,u=r.destination;g.length>0&&g[0].time-E.now()<=0;)g.shift().notification.observe(u);if(g.length>0){var B=Math.max(0,g[0].time-E.now());this.schedule(r,B)}else this.unsubscribe(),a.active=!1},e.prototype._schedule=function(r){this.active=!0,this.destination.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var a=this.scheduler,g=new DelayMessage(a.now()+this.delay,r);this.queue.push(g),this.active===!1&&this._schedule(a)}},e.prototype._next=function(r){this.scheduleNotification(Notification.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Notification.createComplete()),this.unsubscribe()},e}(Subscriber),DelayMessage=function(){return function(n,e){this.time=n,this.notification=e}}();function distinct(n,e){return function(r){return r.lift(new DistinctOperator(n,e))}}var DistinctOperator=function(){function n(e,r){this.keySelector=e,this.flushes=r}return n.prototype.call=function(e,r){return r.subscribe(new DistinctSubscriber(e,this.keySelector,this.flushes))},n}(),DistinctSubscriber=function(n){function e(r,a,g){var E=n.call(this,r)||this;return E.keySelector=a,E.values=new Set,g&&E.add(innerSubscribe(g,new SimpleInnerSubscriber(E))),E}return __extends$3(e,n),e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var a,g=this.destination;try{a=this.keySelector(r)}catch(E){return void g.error(E)}this._finalizeNext(a,r)},e.prototype._finalizeNext=function(r,a){var g=this.values;g.has(r)||(g.add(r),this.destination.next(a))},e}(SimpleOuterSubscriber);function throwIfEmpty(n){return n===void 0&&(n=defaultErrorFactory),function(e){return e.lift(new ThrowIfEmptyOperator(n))}}var ThrowIfEmptyOperator=function(){function n(e){this.errorFactory=e}return n.prototype.call=function(e,r){return r.subscribe(new ThrowIfEmptySubscriber(e,this.errorFactory))},n}(),ThrowIfEmptySubscriber=function(n){function e(r,a){var g=n.call(this,r)||this;return g.errorFactory=a,g.hasValue=!1,g}return __extends$3(e,n),e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(a){r=a}this.destination.error(r)},e}(Subscriber);function defaultErrorFactory(){return new EmptyError}function take(n){return function(e){return n===0?empty():e.lift(new TakeOperator(n))}}var TakeOperator=function(){function n(e){if(this.total=e,this.total<0)throw new ArgumentOutOfRangeError}return n.prototype.call=function(e,r){return r.subscribe(new TakeSubscriber(e,this.total))},n}(),TakeSubscriber=function(n){function e(r,a){var g=n.call(this,r)||this;return g.total=a,g.count=0,g}return __extends$3(e,n),e.prototype._next=function(r){var a=this.total,g=++this.count;g<=a&&(this.destination.next(r),g===a&&(this.destination.complete(),this.unsubscribe()))},e}(Subscriber);function finalize(n){return function(e){return e.lift(new FinallyOperator(n))}}var FinallyOperator=function(){function n(e){this.callback=e}return n.prototype.call=function(e,r){return r.subscribe(new FinallySubscriber(e,this.callback))},n}(),FinallySubscriber=function(n){function e(r,a){var g=n.call(this,r)||this;return g.add(new Subscription$2(a)),g}return __extends$3(e,n),e}(Subscriber);function first(n,e){var r=arguments.length>=2;return function(a){return a.pipe(n?filter(function(g,E){return n(g,E,a)}):identity$5,take(1),r?defaultIfEmpty(e):throwIfEmpty(function(){return new EmptyError}))}}function ignoreElements(){return function(n){return n.lift(new IgnoreElementsOperator)}}var IgnoreElementsOperator=function(){function n(){}return n.prototype.call=function(e,r){return r.subscribe(new IgnoreElementsSubscriber(e))},n}(),IgnoreElementsSubscriber=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return __extends$3(e,n),e.prototype._next=function(r){},e}(Subscriber);function takeLast(n){return function(e){return e.lift(new TakeLastOperator(n))}}var TakeLastOperator=function(){function n(e){if(this.total=e,this.total<0)throw new ArgumentOutOfRangeError}return n.prototype.call=function(e,r){return r.subscribe(new TakeLastSubscriber(e,this.total))},n}(),TakeLastSubscriber=function(n){function e(r,a){var g=n.call(this,r)||this;return g.total=a,g.ring=new Array,g.count=0,g}return __extends$3(e,n),e.prototype._next=function(r){var a=this.ring,g=this.total,E=this.count++;a.length<g?a.push(r):a[E%g]=r},e.prototype._complete=function(){var r=this.destination,a=this.count;if(a>0)for(var g=this.count>=this.total?this.total:this.count,E=this.ring,u=0;u<g;u++){var B=a++%g;r.next(E[B])}r.complete()},e}(Subscriber);function mapTo(n){return function(e){return e.lift(new MapToOperator(n))}}var MapToOperator=function(){function n(e){this.value=e}return n.prototype.call=function(e,r){return r.subscribe(new MapToSubscriber(e,this.value))},n}(),MapToSubscriber=function(n){function e(r,a){var g=n.call(this,r)||this;return g.value=a,g}return __extends$3(e,n),e.prototype._next=function(r){this.destination.next(this.value)},e}(Subscriber);function scan(n,e){var r=!1;return arguments.length>=2&&(r=!0),function(a){return a.lift(new ScanOperator(n,e,r))}}var ScanOperator=function(){function n(e,r,a){a===void 0&&(a=!1),this.accumulator=e,this.seed=r,this.hasSeed=a}return n.prototype.call=function(e,r){return r.subscribe(new ScanSubscriber(e,this.accumulator,this.seed,this.hasSeed))},n}(),ScanSubscriber=function(n){function e(r,a,g,E){var u=n.call(this,r)||this;return u.accumulator=a,u._seed=g,u.hasSeed=E,u.index=0,u}return __extends$3(e,n),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)},e.prototype._tryNext=function(r){var a,g=this.index++;try{a=this.accumulator(this.seed,r,g)}catch(E){this.destination.error(E)}this.seed=a,this.destination.next(a)},e}(Subscriber);function reduce(n,e){return arguments.length>=2?function(r){return pipe(scan(n,e),takeLast(1),defaultIfEmpty(e))(r)}:function(r){return pipe(scan(function(a,g,E){return n(a,g,E+1)}),takeLast(1))(r)}}function multicast(n,e){return function(r){var a;a=typeof n=="function"?n:function(){return n};var g=Object.create(r,connectableObservableDescriptor);return g.source=r,g.subjectFactory=a,g}}function retryWhen(n){return function(e){return e.lift(new RetryWhenOperator(n,e))}}var RetryWhenOperator=function(){function n(e,r){this.notifier=e,this.source=r}return n.prototype.call=function(e,r){return r.subscribe(new RetryWhenSubscriber(e,this.notifier,this.source))},n}(),RetryWhenSubscriber=function(n){function e(r,a,g){var E=n.call(this,r)||this;return E.notifier=a,E.source=g,E}return __extends$3(e,n),e.prototype.error=function(r){if(!this.isStopped){var a=this.errors,g=this.retries,E=this.retriesSubscription;if(g)this.errors=void 0,this.retriesSubscription=void 0;else{a=new Subject;try{g=(0,this.notifier)(a)}catch(u){return n.prototype.error.call(this,u)}E=innerSubscribe(g,new SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=a,this.retries=g,this.retriesSubscription=E,a.next(r)}},e.prototype._unsubscribe=function(){var r=this.errors,a=this.retriesSubscription;r&&(r.unsubscribe(),this.errors=void 0),a&&(a.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(SimpleOuterSubscriber);function shareSubjectFactory(){return new Subject}function share(){return function(n){return refCount()(multicast(shareSubjectFactory)(n))}}function shareReplay(n,e,r){var a;return a=n&&typeof n=="object"?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:r},function(g){return g.lift(shareReplayOperator(a))}}function shareReplayOperator(n){var e,r,a=n.bufferSize,g=a===void 0?Number.POSITIVE_INFINITY:a,E=n.windowTime,u=E===void 0?Number.POSITIVE_INFINITY:E,B=n.refCount,f=n.scheduler,m=0,y=!1,D=!1;return function(M){var O;m++,!e||y?(y=!1,e=new ReplaySubject(g,u,f),O=e.subscribe(this),r=M.subscribe({next:function(U){e.next(U)},error:function(U){y=!0,e.error(U)},complete:function(){D=!0,r=void 0,e.complete()}}),D&&(r=void 0)):O=e.subscribe(this),this.add(function(){m--,O.unsubscribe(),O=void 0,r&&!D&&B&&m===0&&(r.unsubscribe(),r=void 0,e=void 0)})}}function switchMap(n,e){return function(r){return r.lift(new SwitchMapOperator(n))}}var SwitchMapOperator=function(){function n(e){this.project=e}return n.prototype.call=function(e,r){return r.subscribe(new SwitchMapSubscriber(e,this.project))},n}(),SwitchMapSubscriber=function(n){function e(r,a){var g=n.call(this,r)||this;return g.project=a,g.index=0,g}return __extends$3(e,n),e.prototype._next=function(r){var a,g=this.index++;try{a=this.project(r,g)}catch(E){return void this.destination.error(E)}this._innerSub(a)},e.prototype._innerSub=function(r){var a=this.innerSubscription;a&&a.unsubscribe();var g=new SimpleInnerSubscriber(this),E=this.destination;E.add(g),this.innerSubscription=innerSubscribe(r,g),this.innerSubscription!==g&&E.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;r&&!r.closed||n.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&n.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(SimpleOuterSubscriber);function switchAll(){return switchMap(identity$5)}function takeUntil(n){return function(e){return e.lift(new TakeUntilOperator(n))}}var TakeUntilOperator=function(){function n(e){this.notifier=e}return n.prototype.call=function(e,r){var a=new TakeUntilSubscriber(e),g=innerSubscribe(this.notifier,new SimpleInnerSubscriber(a));return g&&!a.seenValue?(a.add(g),r.subscribe(a)):a},n}(),TakeUntilSubscriber=function(n){function e(r){var a=n.call(this,r)||this;return a.seenValue=!1,a}return __extends$3(e,n),e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(SimpleOuterSubscriber);function tap(n,e,r){return function(a){return a.lift(new DoOperator(n,e,r))}}var DoOperator=function(){function n(e,r,a){this.nextOrObserver=e,this.error=r,this.complete=a}return n.prototype.call=function(e,r){return r.subscribe(new TapSubscriber(e,this.nextOrObserver,this.error,this.complete))},n}(),TapSubscriber=function(n){function e(r,a,g,E){var u=n.call(this,r)||this;return u._tapNext=noop$3,u._tapError=noop$3,u._tapComplete=noop$3,u._tapError=g||noop$3,u._tapComplete=E||noop$3,isFunction$7(a)?(u._context=u,u._tapNext=a):a&&(u._context=a,u._tapNext=a.next||noop$3,u._tapError=a.error||noop$3,u._tapComplete=a.complete||noop$3),u}return __extends$3(e,n),e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(a){return void this.destination.error(a)}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(a){return void this.destination.error(a)}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){return void this.destination.error(r)}return this.destination.complete()},e}(Subscriber),defaultThrottleConfig={leading:!0,trailing:!1};function throttleTime(n,e,r){return e===void 0&&(e=async),r===void 0&&(r=defaultThrottleConfig),function(a){return a.lift(new ThrottleTimeOperator(n,e,r.leading,r.trailing))}}var ThrottleTimeOperator=function(){function n(e,r,a,g){this.duration=e,this.scheduler=r,this.leading=a,this.trailing=g}return n.prototype.call=function(e,r){return r.subscribe(new ThrottleTimeSubscriber(e,this.duration,this.scheduler,this.leading,this.trailing))},n}(),ThrottleTimeSubscriber=function(n){function e(r,a,g,E,u){var B=n.call(this,r)||this;return B.duration=a,B.scheduler=g,B.leading=E,B.trailing=u,B._hasTrailingValue=!1,B._trailingValue=null,B}return __extends$3(e,n),e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(Subscriber);function dispatchNext(n){n.subscriber.clearThrottle()}function timeoutWith(n,e,r){return r===void 0&&(r=async),function(a){var g=isDate(n),E=g?+n-r.now():Math.abs(n);return a.lift(new TimeoutWithOperator(E,g,e,r))}}var TimeoutWithOperator=function(){function n(e,r,a,g){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=a,this.scheduler=g}return n.prototype.call=function(e,r){return r.subscribe(new TimeoutWithSubscriber(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},n}(),TimeoutWithSubscriber=function(n){function e(r,a,g,E,u){var B=n.call(this,r)||this;return B.absoluteTimeout=a,B.waitFor=g,B.withObservable=E,B.scheduler=u,B.scheduleTimeout(),B}return __extends$3(e,n),e.dispatchTimeout=function(r){var a=r.withObservable;r._unsubscribeAndRecycle(),r.add(innerSubscribe(a,new SimpleInnerSubscriber(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),n.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(SimpleOuterSubscriber);function timeout(n,e){return e===void 0&&(e=async),timeoutWith(n,throwError(new TimeoutError),e)}var defaultProtocols=[],defaultWebsocketFactory=function(n,e){return new WebSocket(n,e)},normalClosureMessage="Normal closure";function makeWebSocketObservable(n,e){var r=e===void 0?{protocols:defaultProtocols,makeWebSocket:defaultWebsocketFactory}:e,a=r.protocols,g=a===void 0?defaultProtocols:a,E=r.makeWebSocket,u=E===void 0?defaultWebsocketFactory:E;return new Observable(function(B){var f,m=new Subject,y=u(n,g),D=!1,M=!1,O=!1,U=function(){D=!0},F=function(x){if(f){U();var H=new Error("Web socket message factory function called more than once");throw B.error(H),H}return f=x.subscribe(function(j){y.send(j)}),m};return y.onopen=function(){O=!0,M?(D=!0,y.close()):B.next(F)},y.onmessage=function(x){m.next(x.data)},y.onerror=function(x){U(),B.error(new Error(x.message))},y.onclose=function(x){D||(U(),M?(B.complete(),m.complete()):B.error(new Error(x.code===1e3?normalClosureMessage:x.reason)))},function(){M=!0,f&&f.unsubscribe(),D||(U(),O&&y.close())}})}const $Reader=minimal_1.Reader,$Writer$1=minimal_1.Writer,$util$1=minimal_1.util,$root$1=minimal_1.roots.default||(minimal_1.roots.default={}),Wrapper$1=$root$1.Wrapper=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.uri=0,n.prototype.data=$util$1.newBuffer([]),n.encode=function(e,r){return r||(r=$Writer$1.create()),e.uri!=null&&Object.hasOwnProperty.call(e,"uri")&&r.uint32(8).int32(e.uri),e.data!=null&&Object.hasOwnProperty.call(e,"data")&&r.uint32(18).bytes(e.data),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.Wrapper;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.uri=e.int32();break;case 2:g.data=e.bytes();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/Wrapper"},n})(),Ping=$root$1.Ping=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.ms!=null&&Object.hasOwnProperty.call(e,"ms")&&r.uint32(16).uint64(e.ms),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.Ping;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.ms=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/Ping"},n})(),Ping2=$root$1.Ping2=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.ms!=null&&Object.hasOwnProperty.call(e,"ms")&&r.uint32(16).uint64(e.ms),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(24).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.Ping2;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.ms=e.uint64();break;case 3:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/Ping2"},n})(),Pong=$root$1.Pong=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.ms!=null&&Object.hasOwnProperty.call(e,"ms")&&r.uint32(16).uint64(e.ms),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.Pong;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.ms=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/Pong"},n})(),Ping3=$root$1.Ping3=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.ms!=null&&Object.hasOwnProperty.call(e,"ms")&&r.uint32(16).uint64(e.ms),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(24).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.Ping3;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.ms=e.uint64();break;case 3:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/Ping3"},n})(),Pong3=$root$1.Pong3=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.serverMs=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.ms!=null&&Object.hasOwnProperty.call(e,"ms")&&r.uint32(16).uint64(e.ms),e.serverMs!=null&&Object.hasOwnProperty.call(e,"serverMs")&&r.uint32(24).uint64(e.serverMs),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.Pong3;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.ms=e.uint64();break;case 3:g.serverMs=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/Pong3"},n})(),UserJoin=$root$1.UserJoin=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.opt=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.account="",n.prototype.ticket="",n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.opt!=null&&Object.hasOwnProperty.call(e,"opt")&&r.uint32(16).uint64(e.opt),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&r.uint32(24).uint64(e.instance),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&r.uint32(34).string(e.account),e.ticket!=null&&Object.hasOwnProperty.call(e,"ticket")&&r.uint32(42).string(e.ticket),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserJoin;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.opt=e.uint64();break;case 3:g.instance=e.uint64();break;case 4:g.account=e.string();break;case 5:g.ticket=e.string();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserJoin"},n})(),UserResp=$root$1.UserResp=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.account="",n.prototype.code=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&r.uint32(18).string(e.account),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(24).uint32(e.code),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserResp;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.account=e.string();break;case 3:g.code=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserResp"},n})(),UserJoin2=$root$1.UserJoin2=(()=>{function n(e){if(this.detail={},e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.opt=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.account="",n.prototype.ticket="",n.prototype.detail=$util$1.emptyObject,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.opt!=null&&Object.hasOwnProperty.call(e,"opt")&&r.uint32(16).uint64(e.opt),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&r.uint32(24).uint64(e.instance),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&r.uint32(34).string(e.account),e.ticket!=null&&Object.hasOwnProperty.call(e,"ticket")&&r.uint32(42).string(e.ticket),e.detail!=null&&Object.hasOwnProperty.call(e,"detail"))for(let a=Object.keys(e.detail),g=0;g<a.length;++g)r.uint32(50).fork().uint32(8).uint32(a[g]).uint32(18).bytes(e.detail[a[g]]).ldelim();return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a,g,E=r===void 0?e.len:e.pos+r,u=new $root$1.UserJoin2;for(;e.pos<E;){let B=e.uint32();switch(B>>>3){case 1:u.seq=e.uint64();break;case 2:u.opt=e.uint64();break;case 3:u.instance=e.uint64();break;case 4:u.account=e.string();break;case 5:u.ticket=e.string();break;case 6:{u.detail===$util$1.emptyObject&&(u.detail={});let f=e.uint32()+e.pos;for(a=0,g=[];e.pos<f;){let m=e.uint32();switch(m>>>3){case 1:a=e.uint32();break;case 2:g=e.bytes();break;default:e.skipType(7&m)}}u.detail[a]=g;break}default:e.skipType(7&B)}}return u},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserJoin2"},n})(),UserResp2=$root$1.UserResp2=(()=>{function n(e){if(this.detail={},e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.account="",n.prototype.code=0,n.prototype.serverTs=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.detail=$util$1.emptyObject,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&r.uint32(18).string(e.account),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(24).uint32(e.code),e.serverTs!=null&&Object.hasOwnProperty.call(e,"serverTs")&&r.uint32(32).uint64(e.serverTs),e.detail!=null&&Object.hasOwnProperty.call(e,"detail"))for(let a=Object.keys(e.detail),g=0;g<a.length;++g)r.uint32(42).fork().uint32(8).uint32(a[g]).uint32(18).bytes(e.detail[a[g]]).ldelim();return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a,g,E=r===void 0?e.len:e.pos+r,u=new $root$1.UserResp2;for(;e.pos<E;){let B=e.uint32();switch(B>>>3){case 1:u.seq=e.uint64();break;case 2:u.account=e.string();break;case 3:u.code=e.uint32();break;case 4:u.serverTs=e.uint64();break;case 5:{u.detail===$util$1.emptyObject&&(u.detail={});let f=e.uint32()+e.pos;for(a=0,g=[];e.pos<f;){let m=e.uint32();switch(m>>>3){case 1:a=e.uint32();break;case 2:g=e.bytes();break;default:e.skipType(7&m)}}u.detail[a]=g;break}default:e.skipType(7&B)}}return u},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserResp2"},n})(),UserQuit=$root$1.UserQuit=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.encode=function(e,r){return r||(r=$Writer$1.create()),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserQuit;for(;e.pos<a;){let E=e.uint32();e.skipType(7&E)}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserQuit"},n})(),UserQuit2=$root$1.UserQuit2=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(8).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserQuit2;for(;e.pos<a;){let E=e.uint32();E>>>3==1?g.flags=e.uint64():e.skipType(7&E)}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserQuit2"},n})(),UserDrop=$root$1.UserDrop=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.code=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(8).uint32(e.code),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserDrop;for(;e.pos<a;){let E=e.uint32();E>>>3==1?g.code=e.uint32():e.skipType(7&E)}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserDrop"},n})(),UserTicketNearlyExpire=$root$1.UserTicketNearlyExpire=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.expireTs=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.ticket="",n.encode=function(e,r){return r||(r=$Writer$1.create()),e.expireTs!=null&&Object.hasOwnProperty.call(e,"expireTs")&&r.uint32(8).uint64(e.expireTs),e.ticket!=null&&Object.hasOwnProperty.call(e,"ticket")&&r.uint32(18).string(e.ticket),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserTicketNearlyExpire;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.expireTs=e.uint64();break;case 2:g.ticket=e.string();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserTicketNearlyExpire"},n})(),UserRenewTokenReq=$root$1.UserRenewTokenReq=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.account="",n.prototype.ticket="",n.encode=function(e,r){return r||(r=$Writer$1.create()),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&r.uint32(8).uint64(e.instance),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(16).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&r.uint32(26).string(e.account),e.ticket!=null&&Object.hasOwnProperty.call(e,"ticket")&&r.uint32(34).string(e.ticket),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserRenewTokenReq;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.instance=e.uint64();break;case 2:g.seq=e.uint64();break;case 3:g.account=e.string();break;case 4:g.ticket=e.string();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserRenewTokenReq"},n})(),UserRenewTokenResp=$root$1.UserRenewTokenResp=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.code=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(16).uint32(e.code),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserRenewTokenResp;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.code=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserRenewTokenResp"},n})(),GroupEnter=$root$1.GroupEnter=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.account="",n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&r.uint32(18).string(e.account),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupEnter;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.account=e.string();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupEnter"},n})(),GroupLeave=$root$1.GroupLeave=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.account="",n.encode=function(e,r){return r||(r=$Writer$1.create()),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&r.uint32(10).string(e.account),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupLeave;for(;e.pos<a;){let E=e.uint32();E>>>3==1?g.account=e.string():e.skipType(7&E)}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupLeave"},n})(),GroupLeave2=$root$1.GroupLeave2=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.account="",n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&r.uint32(10).string(e.account),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(16).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupLeave2;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.account=e.string();break;case 2:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupLeave2"},n})(),GroupReply=$root$1.GroupReply=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.account="",n.prototype.code=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&r.uint32(18).string(e.account),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(24).uint32(e.code),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupReply;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.account=e.string();break;case 3:g.code=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupReply"},n})(),GroupLeaveNotice=$root$1.GroupLeaveNotice=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.user="",n.prototype.group="",n.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.size=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.user!=null&&Object.hasOwnProperty.call(e,"user")&&r.uint32(18).string(e.user),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&r.uint32(26).string(e.group),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&r.uint32(32).uint64(e.instance),e.size!=null&&Object.hasOwnProperty.call(e,"size")&&r.uint32(40).uint32(e.size),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupLeaveNotice;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.user=e.string();break;case 3:g.group=e.string();break;case 4:g.instance=e.uint64();break;case 5:g.size=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupLeaveNotice"},n})(),GroupEnterNotice=$root$1.GroupEnterNotice=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.user="",n.prototype.group="",n.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.size=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.user!=null&&Object.hasOwnProperty.call(e,"user")&&r.uint32(18).string(e.user),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&r.uint32(26).string(e.group),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&r.uint32(32).uint64(e.instance),e.size!=null&&Object.hasOwnProperty.call(e,"size")&&r.uint32(40).uint32(e.size),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupEnterNotice;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.user=e.string();break;case 3:g.group=e.string();break;case 4:g.instance=e.uint64();break;case 5:g.size=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupEnterNotice"},n})(),Message=$root$1.Message=(()=>{function n(e){if(this.MiscMap={},e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.dialogue=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.options=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.src="",n.prototype.dst="",n.prototype.payload=$util$1.newBuffer([]),n.prototype.MiscMap=$util$1.emptyObject,n.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&r.uint32(8).uint64(e.instance),e.dialogue!=null&&Object.hasOwnProperty.call(e,"dialogue")&&r.uint32(16).uint64(e.dialogue),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&r.uint32(24).uint64(e.sequence),e.options!=null&&Object.hasOwnProperty.call(e,"options")&&r.uint32(32).uint64(e.options),e.src!=null&&Object.hasOwnProperty.call(e,"src")&&r.uint32(42).string(e.src),e.dst!=null&&Object.hasOwnProperty.call(e,"dst")&&r.uint32(50).string(e.dst),e.payload!=null&&Object.hasOwnProperty.call(e,"payload")&&r.uint32(58).bytes(e.payload),e.MiscMap!=null&&Object.hasOwnProperty.call(e,"MiscMap"))for(let a=Object.keys(e.MiscMap),g=0;g<a.length;++g)r.uint32(66).fork().uint32(10).string(a[g]).uint32(18).bytes(e.MiscMap[a[g]]).ldelim();return e.ms!=null&&Object.hasOwnProperty.call(e,"ms")&&r.uint32(72).uint64(e.ms),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a,g,E=r===void 0?e.len:e.pos+r,u=new $root$1.Message;for(;e.pos<E;){let B=e.uint32();switch(B>>>3){case 1:u.instance=e.uint64();break;case 2:u.dialogue=e.uint64();break;case 3:u.sequence=e.uint64();break;case 4:u.options=e.uint64();break;case 5:u.src=e.string();break;case 6:u.dst=e.string();break;case 7:u.payload=e.bytes();break;case 8:{u.MiscMap===$util$1.emptyObject&&(u.MiscMap={});let f=e.uint32()+e.pos;for(a="",g=[];e.pos<f;){let m=e.uint32();switch(m>>>3){case 1:a=e.string();break;case 2:g=e.bytes();break;default:e.skipType(7&m)}}u.MiscMap[a]=g;break}case 9:u.ms=e.uint64();break;default:e.skipType(7&B)}}return u},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/Message"},n})(),Ack=$root$1.Ack=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.dialogue=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.code=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&r.uint32(8).uint64(e.instance),e.dialogue!=null&&Object.hasOwnProperty.call(e,"dialogue")&&r.uint32(16).uint64(e.dialogue),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&r.uint32(24).uint64(e.sequence),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(32).uint32(e.code),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.Ack;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.instance=e.uint64();break;case 2:g.dialogue=e.uint64();break;case 3:g.sequence=e.uint64();break;case 4:g.code=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/Ack"},n})(),GroupDrop=$root$1.GroupDrop=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.account="",n.prototype.code=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&r.uint32(10).string(e.account),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(16).uint32(e.code),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupDrop;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.account=e.string();break;case 2:g.code=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupDrop"},n})(),GroupAllUsersList=$root$1.GroupAllUsersList=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.group="",n.prototype.pageSize=0,n.prototype.pageNumber=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&r.uint32(18).string(e.group),e.pageSize!=null&&Object.hasOwnProperty.call(e,"pageSize")&&r.uint32(24).uint32(e.pageSize),e.pageNumber!=null&&Object.hasOwnProperty.call(e,"pageNumber")&&r.uint32(32).uint32(e.pageNumber),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupAllUsersList;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.group=e.string();break;case 3:g.pageSize=e.uint32();break;case 4:g.pageNumber=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupAllUsersList"},n})(),GroupAllUsersResult=$root$1.GroupAllUsersResult=(()=>{function n(e){if(this.memberInfos=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.group="",n.prototype.totalSize=0,n.prototype.pageSize=0,n.prototype.pageNumber=0,n.prototype.memberInfos=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&r.uint32(18).string(e.group),e.totalSize!=null&&Object.hasOwnProperty.call(e,"totalSize")&&r.uint32(24).uint32(e.totalSize),e.pageSize!=null&&Object.hasOwnProperty.call(e,"pageSize")&&r.uint32(32).uint32(e.pageSize),e.pageNumber!=null&&Object.hasOwnProperty.call(e,"pageNumber")&&r.uint32(40).uint32(e.pageNumber),e.memberInfos!=null&&e.memberInfos.length)for(let a=0;a<e.memberInfos.length;++a)$root$1.GroupAllUsersResult.MemberInfo.encode(e.memberInfos[a],r.uint32(50).fork()).ldelim();return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupAllUsersResult;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.group=e.string();break;case 3:g.totalSize=e.uint32();break;case 4:g.pageSize=e.uint32();break;case 5:g.pageNumber=e.uint32();break;case 6:g.memberInfos&&g.memberInfos.length||(g.memberInfos=[]),g.memberInfos.push($root$1.GroupAllUsersResult.MemberInfo.decode(e,e.uint32()));break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupAllUsersResult"},n.MemberInfo=function(){function e(r){if(r)for(let a=Object.keys(r),g=0;g<a.length;++g)r[a[g]]!=null&&(this[a[g]]=r[a[g]])}return e.prototype.account="",e.prototype.ts=0,e.encode=function(r,a){return a||(a=$Writer$1.create()),r.account!=null&&Object.hasOwnProperty.call(r,"account")&&a.uint32(10).string(r.account),r.ts!=null&&Object.hasOwnProperty.call(r,"ts")&&a.uint32(16).uint32(r.ts),a},e.decode=function(r,a){r instanceof $Reader||(r=$Reader.create(r));let g=a===void 0?r.len:r.pos+a,E=new $root$1.GroupAllUsersResult.MemberInfo;for(;r.pos<g;){let u=r.uint32();switch(u>>>3){case 1:E.account=r.string();break;case 2:E.ts=r.uint32();break;default:r.skipType(7&u)}}return E},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/GroupAllUsersResult.MemberInfo"},e}(),n})(),UserStatusList=$root$1.UserStatusList=(()=>{function n(e){if(this.users=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.users=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.users!=null&&e.users.length)for(let a=0;a<e.users.length;++a)r.uint32(18).string(e.users[a]);return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserStatusList;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.users&&g.users.length||(g.users=[]),g.users.push(e.string());break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserStatusList"},n})(),UserStatusResult=$root$1.UserStatusResult=(()=>{function n(e){if(this.userInfos=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.userInfos=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.userInfos!=null&&e.userInfos.length)for(let a=0;a<e.userInfos.length;++a)$root$1.UserStatusResult.UserStatusInfo.encode(e.userInfos[a],r.uint32(18).fork()).ldelim();return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserStatusResult;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.userInfos&&g.userInfos.length||(g.userInfos=[]),g.userInfos.push($root$1.UserStatusResult.UserStatusInfo.decode(e,e.uint32()));break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserStatusResult"},n.UserStatusInfo=function(){function e(r){if(r)for(let a=Object.keys(r),g=0;g<a.length;++g)r[a[g]]!=null&&(this[a[g]]=r[a[g]])}return e.prototype.account="",e.prototype.ts=0,e.encode=function(r,a){return a||(a=$Writer$1.create()),r.account!=null&&Object.hasOwnProperty.call(r,"account")&&a.uint32(10).string(r.account),r.ts!=null&&Object.hasOwnProperty.call(r,"ts")&&a.uint32(16).uint32(r.ts),a},e.decode=function(r,a){r instanceof $Reader||(r=$Reader.create(r));let g=a===void 0?r.len:r.pos+a,E=new $root$1.UserStatusResult.UserStatusInfo;for(;r.pos<g;){let u=r.uint32();switch(u>>>3){case 1:E.account=r.string();break;case 2:E.ts=r.uint32();break;default:r.skipType(7&u)}}return E},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/UserStatusResult.UserStatusInfo"},e}(),n})(),UserAttributeGet=$root$1.UserAttributeGet=(()=>{function n(e){if(this.attributes=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.account="",n.prototype.attributes=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&r.uint32(18).string(e.account),e.attributes!=null&&e.attributes.length)for(let a=0;a<e.attributes.length;++a)r.uint32(26).string(e.attributes[a]);return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserAttributeGet;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.account=e.string();break;case 3:g.attributes&&g.attributes.length||(g.attributes=[]),g.attributes.push(e.string());break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserAttributeGet"},n})(),UserAttributeRet=$root$1.UserAttributeRet=(()=>{function n(e){if(this.attributeInfos=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.attributeInfos=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.attributeInfos!=null&&e.attributeInfos.length)for(let a=0;a<e.attributeInfos.length;++a)$root$1.UserAttributeRet.AttributeInfo.encode(e.attributeInfos[a],r.uint32(18).fork()).ldelim();return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserAttributeRet;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.attributeInfos&&g.attributeInfos.length||(g.attributeInfos=[]),g.attributeInfos.push($root$1.UserAttributeRet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserAttributeRet"},n.AttributeInfo=function(){function e(r){if(r)for(let a=Object.keys(r),g=0;g<a.length;++g)r[a[g]]!=null&&(this[a[g]]=r[a[g]])}return e.prototype.key="",e.prototype.value="",e.encode=function(r,a){return a||(a=$Writer$1.create()),r.key!=null&&Object.hasOwnProperty.call(r,"key")&&a.uint32(10).string(r.key),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&a.uint32(18).string(r.value),a},e.decode=function(r,a){r instanceof $Reader||(r=$Reader.create(r));let g=a===void 0?r.len:r.pos+a,E=new $root$1.UserAttributeRet.AttributeInfo;for(;r.pos<g;){let u=r.uint32();switch(u>>>3){case 1:E.key=r.string();break;case 2:E.value=r.string();break;default:r.skipType(7&u)}}return E},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/UserAttributeRet.AttributeInfo"},e}(),n})(),UserAttributeSet=$root$1.UserAttributeSet=(()=>{function n(e){if(this.attributeInfos=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.account="",n.prototype.attributeInfos=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&r.uint32(18).string(e.account),e.attributeInfos!=null&&e.attributeInfos.length)for(let a=0;a<e.attributeInfos.length;++a)$root$1.UserAttributeSet.AttributeInfo.encode(e.attributeInfos[a],r.uint32(26).fork()).ldelim();return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserAttributeSet;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.account=e.string();break;case 3:g.attributeInfos&&g.attributeInfos.length||(g.attributeInfos=[]),g.attributeInfos.push($root$1.UserAttributeSet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserAttributeSet"},n.AttributeInfo=function(){function e(r){if(r)for(let a=Object.keys(r),g=0;g<a.length;++g)r[a[g]]!=null&&(this[a[g]]=r[a[g]])}return e.prototype.key="",e.prototype.value="",e.encode=function(r,a){return a||(a=$Writer$1.create()),r.key!=null&&Object.hasOwnProperty.call(r,"key")&&a.uint32(10).string(r.key),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&a.uint32(18).string(r.value),a},e.decode=function(r,a){r instanceof $Reader||(r=$Reader.create(r));let g=a===void 0?r.len:r.pos+a,E=new $root$1.UserAttributeSet.AttributeInfo;for(;r.pos<g;){let u=r.uint32();switch(u>>>3){case 1:E.key=r.string();break;case 2:E.value=r.string();break;default:r.skipType(7&u)}}return E},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/UserAttributeSet.AttributeInfo"},e}(),n})(),UserAttributeMod=$root$1.UserAttributeMod=(()=>{function n(e){if(this.attributeInfos=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.account="",n.prototype.attributeInfos=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&r.uint32(18).string(e.account),e.attributeInfos!=null&&e.attributeInfos.length)for(let a=0;a<e.attributeInfos.length;++a)$root$1.UserAttributeMod.AttributeInfo.encode(e.attributeInfos[a],r.uint32(26).fork()).ldelim();return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserAttributeMod;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.account=e.string();break;case 3:g.attributeInfos&&g.attributeInfos.length||(g.attributeInfos=[]),g.attributeInfos.push($root$1.UserAttributeMod.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserAttributeMod"},n.AttributeInfo=function(){function e(r){if(r)for(let a=Object.keys(r),g=0;g<a.length;++g)r[a[g]]!=null&&(this[a[g]]=r[a[g]])}return e.prototype.key="",e.prototype.value="",e.encode=function(r,a){return a||(a=$Writer$1.create()),r.key!=null&&Object.hasOwnProperty.call(r,"key")&&a.uint32(10).string(r.key),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&a.uint32(18).string(r.value),a},e.decode=function(r,a){r instanceof $Reader||(r=$Reader.create(r));let g=a===void 0?r.len:r.pos+a,E=new $root$1.UserAttributeMod.AttributeInfo;for(;r.pos<g;){let u=r.uint32();switch(u>>>3){case 1:E.key=r.string();break;case 2:E.value=r.string();break;default:r.skipType(7&u)}}return E},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/UserAttributeMod.AttributeInfo"},e}(),n})(),UserAttributeDel=$root$1.UserAttributeDel=(()=>{function n(e){if(this.attributes=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.account="",n.prototype.attributes=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&r.uint32(18).string(e.account),e.attributes!=null&&e.attributes.length)for(let a=0;a<e.attributes.length;++a)r.uint32(26).string(e.attributes[a]);return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserAttributeDel;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.account=e.string();break;case 3:g.attributes&&g.attributes.length||(g.attributes=[]),g.attributes.push(e.string());break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserAttributeDel"},n})(),UserAttributeErr=$root$1.UserAttributeErr=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.code=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(16).uint32(e.code),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserAttributeErr;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.code=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserAttributeErr"},n})(),UserAttributeKeysGet=$root$1.UserAttributeKeysGet=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.account="",n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&r.uint32(18).string(e.account),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserAttributeKeysGet;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.account=e.string();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserAttributeKeysGet"},n})(),UserAttributeKeysRet=$root$1.UserAttributeKeysRet=(()=>{function n(e){if(this.keys=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.keys=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.keys!=null&&e.keys.length)for(let a=0;a<e.keys.length;++a)r.uint32(18).string(e.keys[a]);return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserAttributeKeysRet;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.keys&&g.keys.length||(g.keys=[]),g.keys.push(e.string());break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserAttributeKeysRet"},n})(),UserAttributeRsp=$root$1.UserAttributeRsp=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserAttributeRsp;for(;e.pos<a;){let E=e.uint32();E>>>3==1?g.seq=e.uint64():e.skipType(7&E)}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserAttributeRsp"},n})(),GroupStatusList=$root$1.GroupStatusList=(()=>{function n(e){if(this.groups=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.groups=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.groups!=null&&e.groups.length)for(let a=0;a<e.groups.length;++a)r.uint32(18).string(e.groups[a]);return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupStatusList;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.groups&&g.groups.length||(g.groups=[]),g.groups.push(e.string());break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupStatusList"},n})(),GroupStatusResult=$root$1.GroupStatusResult=(()=>{function n(e){if(this.groupInfos=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.groupInfos=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.groupInfos!=null&&e.groupInfos.length)for(let a=0;a<e.groupInfos.length;++a)$root$1.GroupStatusResult.GroupInfo.encode(e.groupInfos[a],r.uint32(18).fork()).ldelim();return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupStatusResult;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.groupInfos&&g.groupInfos.length||(g.groupInfos=[]),g.groupInfos.push($root$1.GroupStatusResult.GroupInfo.decode(e,e.uint32()));break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupStatusResult"},n.GroupInfo=function(){function e(r){if(r)for(let a=Object.keys(r),g=0;g<a.length;++g)r[a[g]]!=null&&(this[a[g]]=r[a[g]])}return e.prototype.group="",e.prototype.memberCount=0,e.encode=function(r,a){return a||(a=$Writer$1.create()),r.group!=null&&Object.hasOwnProperty.call(r,"group")&&a.uint32(10).string(r.group),r.memberCount!=null&&Object.hasOwnProperty.call(r,"memberCount")&&a.uint32(16).uint32(r.memberCount),a},e.decode=function(r,a){r instanceof $Reader||(r=$Reader.create(r));let g=a===void 0?r.len:r.pos+a,E=new $root$1.GroupStatusResult.GroupInfo;for(;r.pos<g;){let u=r.uint32();switch(u>>>3){case 1:E.group=r.string();break;case 2:E.memberCount=r.uint32();break;default:r.skipType(7&u)}}return E},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/GroupStatusResult.GroupInfo"},e}(),n})(),GroupCountNotice=$root$1.GroupCountNotice=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.group="",n.prototype.size=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&r.uint32(8).uint64(e.instance),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(16).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&r.uint32(26).string(e.group),e.size!=null&&Object.hasOwnProperty.call(e,"size")&&r.uint32(32).uint32(e.size),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupCountNotice;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.instance=e.uint64();break;case 2:g.seq=e.uint64();break;case 3:g.group=e.string();break;case 4:g.size=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupCountNotice"},n})(),GroupAttributeGet=$root$1.GroupAttributeGet=(()=>{function n(e){if(this.attributes=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.group="",n.prototype.attributes=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&r.uint32(18).string(e.group),e.attributes!=null&&e.attributes.length)for(let a=0;a<e.attributes.length;++a)r.uint32(26).string(e.attributes[a]);return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupAttributeGet;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.group=e.string();break;case 3:g.attributes&&g.attributes.length||(g.attributes=[]),g.attributes.push(e.string());break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupAttributeGet"},n})(),GroupAttributeRet=$root$1.GroupAttributeRet=(()=>{function n(e){if(this.attributeMaps=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.attributeMaps=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.attributeMaps!=null&&e.attributeMaps.length)for(let a=0;a<e.attributeMaps.length;++a)$root$1.GroupAttributeRet.AttributeMap.encode(e.attributeMaps[a],r.uint32(18).fork()).ldelim();return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupAttributeRet;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.attributeMaps&&g.attributeMaps.length||(g.attributeMaps=[]),g.attributeMaps.push($root$1.GroupAttributeRet.AttributeMap.decode(e,e.uint32()));break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupAttributeRet"},n.AttributeMap=function(){function e(r){if(r)for(let a=Object.keys(r),g=0;g<a.length;++g)r[a[g]]!=null&&(this[a[g]]=r[a[g]])}return e.prototype.key="",e.prototype.value="",e.prototype.origin="",e.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,e.encode=function(r,a){return a||(a=$Writer$1.create()),r.key!=null&&Object.hasOwnProperty.call(r,"key")&&a.uint32(10).string(r.key),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&a.uint32(18).string(r.value),r.origin!=null&&Object.hasOwnProperty.call(r,"origin")&&a.uint32(26).string(r.origin),r.ms!=null&&Object.hasOwnProperty.call(r,"ms")&&a.uint32(32).uint64(r.ms),a},e.decode=function(r,a){r instanceof $Reader||(r=$Reader.create(r));let g=a===void 0?r.len:r.pos+a,E=new $root$1.GroupAttributeRet.AttributeMap;for(;r.pos<g;){let u=r.uint32();switch(u>>>3){case 1:E.key=r.string();break;case 2:E.value=r.string();break;case 3:E.origin=r.string();break;case 4:E.ms=r.uint64();break;default:r.skipType(7&u)}}return E},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/GroupAttributeRet.AttributeMap"},e}(),n})(),GroupAttributeSet=$root$1.GroupAttributeSet=(()=>{function n(e){if(this.attributeInfos=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.group="",n.prototype.broadcast=!1,n.prototype.attributeInfos=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&r.uint32(18).string(e.group),e.broadcast!=null&&Object.hasOwnProperty.call(e,"broadcast")&&r.uint32(24).bool(e.broadcast),e.attributeInfos!=null&&e.attributeInfos.length)for(let a=0;a<e.attributeInfos.length;++a)$root$1.GroupAttributeSet.AttributeInfo.encode(e.attributeInfos[a],r.uint32(34).fork()).ldelim();return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupAttributeSet;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.group=e.string();break;case 3:g.broadcast=e.bool();break;case 4:g.attributeInfos&&g.attributeInfos.length||(g.attributeInfos=[]),g.attributeInfos.push($root$1.GroupAttributeSet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupAttributeSet"},n.AttributeInfo=function(){function e(r){if(r)for(let a=Object.keys(r),g=0;g<a.length;++g)r[a[g]]!=null&&(this[a[g]]=r[a[g]])}return e.prototype.key="",e.prototype.value="",e.encode=function(r,a){return a||(a=$Writer$1.create()),r.key!=null&&Object.hasOwnProperty.call(r,"key")&&a.uint32(10).string(r.key),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&a.uint32(18).string(r.value),a},e.decode=function(r,a){r instanceof $Reader||(r=$Reader.create(r));let g=a===void 0?r.len:r.pos+a,E=new $root$1.GroupAttributeSet.AttributeInfo;for(;r.pos<g;){let u=r.uint32();switch(u>>>3){case 1:E.key=r.string();break;case 2:E.value=r.string();break;default:r.skipType(7&u)}}return E},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/GroupAttributeSet.AttributeInfo"},e}(),n})(),GroupAttributeMod=$root$1.GroupAttributeMod=(()=>{function n(e){if(this.attributeInfos=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.group="",n.prototype.broadcast=!1,n.prototype.attributeInfos=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&r.uint32(18).string(e.group),e.broadcast!=null&&Object.hasOwnProperty.call(e,"broadcast")&&r.uint32(24).bool(e.broadcast),e.attributeInfos!=null&&e.attributeInfos.length)for(let a=0;a<e.attributeInfos.length;++a)$root$1.GroupAttributeMod.AttributeInfo.encode(e.attributeInfos[a],r.uint32(34).fork()).ldelim();return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupAttributeMod;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.group=e.string();break;case 3:g.broadcast=e.bool();break;case 4:g.attributeInfos&&g.attributeInfos.length||(g.attributeInfos=[]),g.attributeInfos.push($root$1.GroupAttributeMod.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupAttributeMod"},n.AttributeInfo=function(){function e(r){if(r)for(let a=Object.keys(r),g=0;g<a.length;++g)r[a[g]]!=null&&(this[a[g]]=r[a[g]])}return e.prototype.key="",e.prototype.value="",e.encode=function(r,a){return a||(a=$Writer$1.create()),r.key!=null&&Object.hasOwnProperty.call(r,"key")&&a.uint32(10).string(r.key),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&a.uint32(18).string(r.value),a},e.decode=function(r,a){r instanceof $Reader||(r=$Reader.create(r));let g=a===void 0?r.len:r.pos+a,E=new $root$1.GroupAttributeMod.AttributeInfo;for(;r.pos<g;){let u=r.uint32();switch(u>>>3){case 1:E.key=r.string();break;case 2:E.value=r.string();break;default:r.skipType(7&u)}}return E},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/GroupAttributeMod.AttributeInfo"},e}(),n})(),GroupAttributeDel=$root$1.GroupAttributeDel=(()=>{function n(e){if(this.attributes=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.group="",n.prototype.broadcast=!1,n.prototype.attributes=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&r.uint32(18).string(e.group),e.broadcast!=null&&Object.hasOwnProperty.call(e,"broadcast")&&r.uint32(24).bool(e.broadcast),e.attributes!=null&&e.attributes.length)for(let a=0;a<e.attributes.length;++a)r.uint32(34).string(e.attributes[a]);return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupAttributeDel;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.group=e.string();break;case 3:g.broadcast=e.bool();break;case 4:g.attributes&&g.attributes.length||(g.attributes=[]),g.attributes.push(e.string());break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupAttributeDel"},n})(),GroupAttributeAlt=$root$1.GroupAttributeAlt=(()=>{function n(e){if(this.attributeMaps=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.group="",n.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.attributeMaps=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&r.uint32(18).string(e.group),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&r.uint32(24).uint64(e.instance),e.attributeMaps!=null&&e.attributeMaps.length)for(let a=0;a<e.attributeMaps.length;++a)$root$1.GroupAttributeAlt.AttributeMap.encode(e.attributeMaps[a],r.uint32(34).fork()).ldelim();return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupAttributeAlt;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.group=e.string();break;case 3:g.instance=e.uint64();break;case 4:g.attributeMaps&&g.attributeMaps.length||(g.attributeMaps=[]),g.attributeMaps.push($root$1.GroupAttributeAlt.AttributeMap.decode(e,e.uint32()));break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupAttributeAlt"},n.AttributeMap=function(){function e(r){if(r)for(let a=Object.keys(r),g=0;g<a.length;++g)r[a[g]]!=null&&(this[a[g]]=r[a[g]])}return e.prototype.key="",e.prototype.value="",e.prototype.origin="",e.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,e.encode=function(r,a){return a||(a=$Writer$1.create()),r.key!=null&&Object.hasOwnProperty.call(r,"key")&&a.uint32(10).string(r.key),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&a.uint32(18).string(r.value),r.origin!=null&&Object.hasOwnProperty.call(r,"origin")&&a.uint32(26).string(r.origin),r.ms!=null&&Object.hasOwnProperty.call(r,"ms")&&a.uint32(32).uint64(r.ms),a},e.decode=function(r,a){r instanceof $Reader||(r=$Reader.create(r));let g=a===void 0?r.len:r.pos+a,E=new $root$1.GroupAttributeAlt.AttributeMap;for(;r.pos<g;){let u=r.uint32();switch(u>>>3){case 1:E.key=r.string();break;case 2:E.value=r.string();break;case 3:E.origin=r.string();break;case 4:E.ms=r.uint64();break;default:r.skipType(7&u)}}return E},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/GroupAttributeAlt.AttributeMap"},e}(),n})(),GroupAttributeRsp=$root$1.GroupAttributeRsp=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupAttributeRsp;for(;e.pos<a;){let E=e.uint32();E>>>3==1?g.seq=e.uint64():e.skipType(7&E)}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupAttributeRsp"},n})(),GroupAttributeErr=$root$1.GroupAttributeErr=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.code=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(16).uint32(e.code),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupAttributeErr;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.code=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupAttributeErr"},n})(),GroupAttributeKeysGet=$root$1.GroupAttributeKeysGet=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.group="",n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&r.uint32(18).string(e.group),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupAttributeKeysGet;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.group=e.string();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupAttributeKeysGet"},n})(),GroupAttributeKeysRet=$root$1.GroupAttributeKeysRet=(()=>{function n(e){if(this.keys=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.keys=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.keys!=null&&e.keys.length)for(let a=0;a<e.keys.length;++a)r.uint32(18).string(e.keys[a]);return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.GroupAttributeKeysRet;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.keys&&g.keys.length||(g.keys=[]),g.keys.push(e.string());break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/GroupAttributeKeysRet"},n})(),SubscribeUserStatus=$root$1.SubscribeUserStatus=(()=>{function n(e){if(this.users=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.users=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.users!=null&&e.users.length)for(let a=0;a<e.users.length;++a)r.uint32(18).string(e.users[a]);return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.SubscribeUserStatus;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.users&&g.users.length||(g.users=[]),g.users.push(e.string());break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SubscribeUserStatus"},n})(),UnsubscribeUserStatus=$root$1.UnsubscribeUserStatus=(()=>{function n(e){if(this.users=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.users=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.users!=null&&e.users.length)for(let a=0;a<e.users.length;++a)r.uint32(18).string(e.users[a]);return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UnsubscribeUserStatus;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.users&&g.users.length||(g.users=[]),g.users.push(e.string());break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UnsubscribeUserStatus"},n})(),UserJoinNotice=$root$1.UserJoinNotice=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.user="",n.encode=function(e,r){return r||(r=$Writer$1.create()),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&r.uint32(8).uint64(e.instance),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(16).uint64(e.seq),e.user!=null&&Object.hasOwnProperty.call(e,"user")&&r.uint32(26).string(e.user),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserJoinNotice;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.instance=e.uint64();break;case 2:g.seq=e.uint64();break;case 3:g.user=e.string();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserJoinNotice"},n})(),UserQuitNotice=$root$1.UserQuitNotice=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.user="",n.encode=function(e,r){return r||(r=$Writer$1.create()),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&r.uint32(8).uint64(e.instance),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(16).uint64(e.seq),e.user!=null&&Object.hasOwnProperty.call(e,"user")&&r.uint32(26).string(e.user),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserQuitNotice;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.instance=e.uint64();break;case 2:g.seq=e.uint64();break;case 3:g.user=e.string();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserQuitNotice"},n})(),UserWaitNotice=$root$1.UserWaitNotice=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.user="",n.encode=function(e,r){return r||(r=$Writer$1.create()),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&r.uint32(8).uint64(e.instance),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(16).uint64(e.seq),e.user!=null&&Object.hasOwnProperty.call(e,"user")&&r.uint32(26).string(e.user),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.UserWaitNotice;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.instance=e.uint64();break;case 2:g.seq=e.uint64();break;case 3:g.user=e.string();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UserWaitNotice"},n})(),StateSubscribe=$root$1.StateSubscribe=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.subTarget="",n.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.subTarget!=null&&Object.hasOwnProperty.call(e,"subTarget")&&r.uint32(18).string(e.subTarget),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&r.uint32(24).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(32).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateSubscribe;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.subTarget=e.string();break;case 3:g.sequence=e.uint64();break;case 4:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateSubscribe"},n})(),StateUpdate=$root$1.StateUpdate=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.subTarget="",n.prototype.allStates="",n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.subTarget!=null&&Object.hasOwnProperty.call(e,"subTarget")&&r.uint32(18).string(e.subTarget),e.allStates!=null&&Object.hasOwnProperty.call(e,"allStates")&&r.uint32(26).string(e.allStates),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(32).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateUpdate;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.subTarget=e.string();break;case 3:g.allStates=e.string();break;case 4:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateUpdate"},n})(),StateSubscribeResult=$root$1.StateSubscribeResult=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.subTarget="",n.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.code=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.subTarget!=null&&Object.hasOwnProperty.call(e,"subTarget")&&r.uint32(18).string(e.subTarget),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&r.uint32(24).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(32).uint64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(40).uint32(e.code),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateSubscribeResult;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.subTarget=e.string();break;case 3:g.sequence=e.uint64();break;case 4:g.flags=e.uint64();break;case 5:g.code=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateSubscribeResult"},n})(),StateUnsubscribe=$root$1.StateUnsubscribe=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.subTarget="",n.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.subTarget!=null&&Object.hasOwnProperty.call(e,"subTarget")&&r.uint32(18).string(e.subTarget),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&r.uint32(24).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(32).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateUnsubscribe;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.subTarget=e.string();break;case 3:g.sequence=e.uint64();break;case 4:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateUnsubscribe"},n})(),StateSet=$root$1.StateSet=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.author="",n.prototype.value="",n.prototype.lock="",n.prototype.requestUuid="",n.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.baseRevision=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.lockRev=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.author!=null&&Object.hasOwnProperty.call(e,"author")&&r.uint32(18).string(e.author),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&r.uint32(26).string(e.value),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(34).string(e.lock),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&r.uint32(42).string(e.requestUuid),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&r.uint32(48).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(56).uint64(e.flags),e.baseRevision!=null&&Object.hasOwnProperty.call(e,"baseRevision")&&r.uint32(64).uint64(e.baseRevision),e.lockRev!=null&&Object.hasOwnProperty.call(e,"lockRev")&&r.uint32(72).uint64(e.lockRev),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateSet;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.author=e.string();break;case 3:g.value=e.string();break;case 4:g.lock=e.string();break;case 5:g.requestUuid=e.string();break;case 6:g.sequence=e.uint64();break;case 7:g.flags=e.uint64();break;case 8:g.baseRevision=e.uint64();break;case 9:g.lockRev=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateSet"},n})(),StateModify=$root$1.StateModify=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.author="",n.prototype.value="",n.prototype.lock="",n.prototype.requestUuid="",n.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.baseRevision=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.lockRev=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.author!=null&&Object.hasOwnProperty.call(e,"author")&&r.uint32(18).string(e.author),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&r.uint32(26).string(e.value),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(34).string(e.lock),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&r.uint32(42).string(e.requestUuid),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&r.uint32(48).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(56).uint64(e.flags),e.baseRevision!=null&&Object.hasOwnProperty.call(e,"baseRevision")&&r.uint32(64).uint64(e.baseRevision),e.lockRev!=null&&Object.hasOwnProperty.call(e,"lockRev")&&r.uint32(72).uint64(e.lockRev),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateModify;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.author=e.string();break;case 3:g.value=e.string();break;case 4:g.lock=e.string();break;case 5:g.requestUuid=e.string();break;case 6:g.sequence=e.uint64();break;case 7:g.flags=e.uint64();break;case 8:g.baseRevision=e.uint64();break;case 9:g.lockRev=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateModify"},n})(),StateRequestResult=$root$1.StateRequestResult=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.requestUuid="",n.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.code=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&r.uint32(10).string(e.requestUuid),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&r.uint32(16).uint64(e.sequence),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(24).uint32(e.code),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateRequestResult;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.requestUuid=e.string();break;case 2:g.sequence=e.uint64();break;case 3:g.code=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateRequestResult"},n})(),StateGet=$root$1.StateGet=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.subTarget="",n.prototype.lock="",n.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.lockRev=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.subTarget!=null&&Object.hasOwnProperty.call(e,"subTarget")&&r.uint32(18).string(e.subTarget),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(26).string(e.lock),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&r.uint32(32).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(40).uint64(e.flags),e.lockRev!=null&&Object.hasOwnProperty.call(e,"lockRev")&&r.uint32(48).uint64(e.lockRev),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateGet;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.subTarget=e.string();break;case 3:g.lock=e.string();break;case 4:g.sequence=e.uint64();break;case 5:g.flags=e.uint64();break;case 6:g.lockRev=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateGet"},n})(),StateGetResult=$root$1.StateGetResult=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.subTarget="",n.prototype.allStates="",n.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.code=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.subTarget!=null&&Object.hasOwnProperty.call(e,"subTarget")&&r.uint32(18).string(e.subTarget),e.allStates!=null&&Object.hasOwnProperty.call(e,"allStates")&&r.uint32(26).string(e.allStates),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&r.uint32(32).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(40).uint64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(48).uint32(e.code),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateGetResult;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.subTarget=e.string();break;case 3:g.allStates=e.string();break;case 4:g.sequence=e.uint64();break;case 5:g.flags=e.uint64();break;case 6:g.code=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateGetResult"},n})(),StateLockAcquire=$root$1.StateLockAcquire=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.lock="",n.prototype.requestUuid="",n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.ttl=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(18).string(e.lock),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&r.uint32(26).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(32).uint64(e.flags),e.ttl!=null&&Object.hasOwnProperty.call(e,"ttl")&&r.uint32(40).uint64(e.ttl),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockAcquire;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.lock=e.string();break;case 3:g.requestUuid=e.string();break;case 4:g.flags=e.uint64();break;case 5:g.ttl=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockAcquire"},n})(),StateLockRelease=$root$1.StateLockRelease=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.lock="",n.prototype.requestUuid="",n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(18).string(e.lock),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&r.uint32(26).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(32).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockRelease;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.lock=e.string();break;case 3:g.requestUuid=e.string();break;case 4:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockRelease"},n})(),StateLockAcquireResult=$root$1.StateLockAcquireResult=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.lock="",n.prototype.requestUuid="",n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.lockRev=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.code=0,n.prototype.reason="",n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(18).string(e.lock),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&r.uint32(26).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(32).uint64(e.flags),e.lockRev!=null&&Object.hasOwnProperty.call(e,"lockRev")&&r.uint32(40).uint64(e.lockRev),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(48).uint32(e.code),e.reason!=null&&Object.hasOwnProperty.call(e,"reason")&&r.uint32(58).string(e.reason),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockAcquireResult;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.lock=e.string();break;case 3:g.requestUuid=e.string();break;case 4:g.flags=e.uint64();break;case 5:g.lockRev=e.uint64();break;case 6:g.code=e.uint32();break;case 7:g.reason=e.string();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockAcquireResult"},n})(),StateLockUpdate=$root$1.StateLockUpdate=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.lock="",n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.code=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(18).string(e.lock),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(24).uint64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(32).uint32(e.code),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockUpdate;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.lock=e.string();break;case 3:g.flags=e.uint64();break;case 4:g.code=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockUpdate"},n})(),StateLockReleaseResult=$root$1.StateLockReleaseResult=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.lock="",n.prototype.requestUuid="",n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.code=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(18).string(e.lock),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&r.uint32(26).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(32).uint64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(40).uint32(e.code),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockReleaseResult;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.lock=e.string();break;case 3:g.requestUuid=e.string();break;case 4:g.flags=e.uint64();break;case 5:g.code=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockReleaseResult"},n})(),StateLockDisable=$root$1.StateLockDisable=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.lock="",n.prototype.userId="",n.prototype.requestUuid="",n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(18).string(e.lock),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&r.uint32(26).string(e.userId),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&r.uint32(34).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(40).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockDisable;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.lock=e.string();break;case 3:g.userId=e.string();break;case 4:g.requestUuid=e.string();break;case 5:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockDisable"},n})(),StateLockDisableResult=$root$1.StateLockDisableResult=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.lock="",n.prototype.requestUuid="",n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.code=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(18).string(e.lock),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&r.uint32(26).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(32).uint64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(40).uint32(e.code),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockDisableResult;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.lock=e.string();break;case 3:g.requestUuid=e.string();break;case 4:g.flags=e.uint64();break;case 5:g.code=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockDisableResult"},n})(),StateLockSubscribe=$root$1.StateLockSubscribe=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&r.uint32(16).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(24).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockSubscribe;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.sequence=e.uint64();break;case 3:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockSubscribe"},n})(),StateLockSubscribeResult=$root$1.StateLockSubscribeResult=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.code=0,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&r.uint32(16).uint64(e.sequence),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(24).uint32(e.code),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(32).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockSubscribeResult;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.sequence=e.uint64();break;case 3:g.code=e.uint32();break;case 4:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockSubscribeResult"},n})(),LockState=$root$1.LockState=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.lockName="",n.prototype.lockState="",n.encode=function(e,r){return r||(r=$Writer$1.create()),e.lockName!=null&&Object.hasOwnProperty.call(e,"lockName")&&r.uint32(10).string(e.lockName),e.lockState!=null&&Object.hasOwnProperty.call(e,"lockState")&&r.uint32(18).string(e.lockState),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.LockState;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.lockName=e.string();break;case 2:g.lockState=e.string();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/LockState"},n})(),StateLockSubscribeEvent=$root$1.StateLockSubscribeEvent=(()=>{function n(e){if(this.lockStates=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.lockStates=$util$1.emptyArray,n.prototype.eventType=0,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.lockStates!=null&&e.lockStates.length)for(let a=0;a<e.lockStates.length;++a)$root$1.LockState.encode(e.lockStates[a],r.uint32(18).fork()).ldelim();return e.eventType!=null&&Object.hasOwnProperty.call(e,"eventType")&&r.uint32(24).int32(e.eventType),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(32).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockSubscribeEvent;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.lockStates&&g.lockStates.length||(g.lockStates=[]),g.lockStates.push($root$1.LockState.decode(e,e.uint32()));break;case 3:g.eventType=e.int32();break;case 4:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockSubscribeEvent"},n})(),StateLockUnsubscribe=$root$1.StateLockUnsubscribe=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&r.uint32(16).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(24).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockUnsubscribe;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.sequence=e.uint64();break;case 3:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockUnsubscribe"},n})(),StateLockCreate=$root$1.StateLockCreate=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.lock="",n.prototype.ttl=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.requestUuid="",n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(18).string(e.lock),e.ttl!=null&&Object.hasOwnProperty.call(e,"ttl")&&r.uint32(24).uint64(e.ttl),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&r.uint32(34).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(40).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockCreate;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.lock=e.string();break;case 3:g.ttl=e.uint64();break;case 4:g.requestUuid=e.string();break;case 5:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockCreate"},n})(),StateLockCreateResult=$root$1.StateLockCreateResult=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.lock="",n.prototype.code=0,n.prototype.requestUuid="",n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(18).string(e.lock),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(24).uint32(e.code),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&r.uint32(34).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(40).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockCreateResult;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.lock=e.string();break;case 3:g.code=e.uint32();break;case 4:g.requestUuid=e.string();break;case 5:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockCreateResult"},n})(),StateLockDelete=$root$1.StateLockDelete=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.lock="",n.prototype.requestUuid="",n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(18).string(e.lock),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&r.uint32(26).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(32).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockDelete;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.lock=e.string();break;case 3:g.requestUuid=e.string();break;case 4:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockDelete"},n})(),StateLockDeleteResult=$root$1.StateLockDeleteResult=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.lock="",n.prototype.code=0,n.prototype.requestUuid="",n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(18).string(e.lock),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(24).uint32(e.code),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&r.uint32(34).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(40).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockDeleteResult;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.lock=e.string();break;case 3:g.code=e.uint32();break;case 4:g.requestUuid=e.string();break;case 5:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockDeleteResult"},n})(),StateLockList=$root$1.StateLockList=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&r.uint32(16).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(24).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockList;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.sequence=e.uint64();break;case 3:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockList"},n})(),StateLockListResult=$root$1.StateLockListResult=(()=>{function n(e){if(this.lockStates=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.target="",n.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.code=0,n.prototype.lockStates=$util$1.emptyArray,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(10).string(e.target),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&r.uint32(16).uint64(e.sequence),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(24).uint32(e.code),e.lockStates!=null&&e.lockStates.length)for(let a=0;a<e.lockStates.length;++a)$root$1.LockState.encode(e.lockStates[a],r.uint32(34).fork()).ldelim();return e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(40).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateLockListResult;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.target=e.string();break;case 2:g.sequence=e.uint64();break;case 3:g.code=e.uint32();break;case 4:g.lockStates&&g.lockStates.length||(g.lockStates=[]),g.lockStates.push($root$1.LockState.decode(e,e.uint32()));break;case 5:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateLockListResult"},n})(),SyncInit=$root$1.SyncInit=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.SyncInit;for(;e.pos<a;){let E=e.uint32();E>>>3==1?g.seq=e.uint64():e.skipType(7&E)}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SyncInit"},n})(),SyncInit2=$root$1.SyncInit2=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.SyncInit2;for(;e.pos<a;){let E=e.uint32();E>>>3==1?g.seq=e.uint64():e.skipType(7&E)}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SyncInit2"},n})(),SyncInitAck=$root$1.SyncInitAck=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.code=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(16).uint32(e.code),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.SyncInitAck;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.code=e.uint32();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SyncInitAck"},n})(),SyncFin=$root$1.SyncFin=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.code=0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(8).uint32(e.code),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.SyncFin;for(;e.pos<a;){let E=e.uint32();E>>>3==1?g.code=e.uint32():e.skipType(7&E)}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SyncFin"},n})(),SubscribeResponse=$root$1.SubscribeResponse=(()=>{function n(e){if(this.errors=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.errors=$util$1.emptyArray,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(8).uint64(e.seq),e.errors!=null&&e.errors.length)for(let a=0;a<e.errors.length;++a)$root$1.SubscribeResponse.SubscribeErrorsType.encode(e.errors[a],r.uint32(18).fork()).ldelim();return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.SubscribeResponse;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.seq=e.uint64();break;case 2:g.errors&&g.errors.length||(g.errors=[]),g.errors.push($root$1.SubscribeResponse.SubscribeErrorsType.decode(e,e.uint32()));break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SubscribeResponse"},n.SubscribeErrorsType=function(){function e(r){if(r)for(let a=Object.keys(r),g=0;g<a.length;++g)r[a[g]]!=null&&(this[a[g]]=r[a[g]])}return e.prototype.account="",e.prototype.code=0,e.encode=function(r,a){return a||(a=$Writer$1.create()),r.account!=null&&Object.hasOwnProperty.call(r,"account")&&a.uint32(10).string(r.account),r.code!=null&&Object.hasOwnProperty.call(r,"code")&&a.uint32(16).uint32(r.code),a},e.decode=function(r,a){r instanceof $Reader||(r=$Reader.create(r));let g=a===void 0?r.len:r.pos+a,E=new $root$1.SubscribeResponse.SubscribeErrorsType;for(;r.pos<g;){let u=r.uint32();switch(u>>>3){case 1:E.account=r.string();break;case 2:E.code=r.uint32();break;default:r.skipType(7&u)}}return E},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/SubscribeResponse.SubscribeErrorsType"},e}(),n})(),StateHistoryGet2=$root$1.StateHistoryGet2=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.uuid="",n.prototype.startTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.endTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.dst="",n.prototype.count=0,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){return r||(r=$Writer$1.create()),e.uuid!=null&&Object.hasOwnProperty.call(e,"uuid")&&r.uint32(10).string(e.uuid),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&r.uint32(16).uint64(e.startTime),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&r.uint32(24).uint64(e.endTime),e.dst!=null&&Object.hasOwnProperty.call(e,"dst")&&r.uint32(34).string(e.dst),e.count!=null&&Object.hasOwnProperty.call(e,"count")&&r.uint32(40).uint32(e.count),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(48).uint64(e.flags),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateHistoryGet2;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.uuid=e.string();break;case 2:g.startTime=e.uint64();break;case 3:g.endTime=e.uint64();break;case 4:g.dst=e.string();break;case 5:g.count=e.uint32();break;case 6:g.flags=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateHistoryGet2"},n})(),HistoryRecord2=$root$1.HistoryRecord2=(()=>{function n(e){if(this.details={},e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.src="",n.prototype.payload=$util$1.newBuffer([]),n.prototype.options=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.details=$util$1.emptyObject,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.src!=null&&Object.hasOwnProperty.call(e,"src")&&r.uint32(10).string(e.src),e.payload!=null&&Object.hasOwnProperty.call(e,"payload")&&r.uint32(18).bytes(e.payload),e.options!=null&&Object.hasOwnProperty.call(e,"options")&&r.uint32(24).uint64(e.options),e.ms!=null&&Object.hasOwnProperty.call(e,"ms")&&r.uint32(32).uint64(e.ms),e.details!=null&&Object.hasOwnProperty.call(e,"details"))for(let a=Object.keys(e.details),g=0;g<a.length;++g)r.uint32(42).fork().uint32(10).string(a[g]).uint32(18).bytes(e.details[a[g]]).ldelim();return r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a,g,E=r===void 0?e.len:e.pos+r,u=new $root$1.HistoryRecord2;for(;e.pos<E;){let B=e.uint32();switch(B>>>3){case 1:u.src=e.string();break;case 2:u.payload=e.bytes();break;case 3:u.options=e.uint64();break;case 4:u.ms=e.uint64();break;case 5:{u.details===$util$1.emptyObject&&(u.details={});let f=e.uint32()+e.pos;for(a="",g=[];e.pos<f;){let m=e.uint32();switch(m>>>3){case 1:a=e.string();break;case 2:g=e.bytes();break;default:e.skipType(7&m)}}u.details[a]=g;break}default:e.skipType(7&B)}}return u},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/HistoryRecord2"},n})(),StateHistoryGetResult2=$root$1.StateHistoryGetResult2=(()=>{function n(e){if(this.messages=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.uuid="",n.prototype.startTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.endTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.dst="",n.prototype.messages=$util$1.emptyArray,n.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.code=0,n.prototype.more=!1,n.prototype.latestTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.prototype.oldestTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,n.encode=function(e,r){if(r||(r=$Writer$1.create()),e.uuid!=null&&Object.hasOwnProperty.call(e,"uuid")&&r.uint32(10).string(e.uuid),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&r.uint32(16).uint64(e.startTime),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&r.uint32(24).uint64(e.endTime),e.dst!=null&&Object.hasOwnProperty.call(e,"dst")&&r.uint32(34).string(e.dst),e.messages!=null&&e.messages.length)for(let a=0;a<e.messages.length;++a)$root$1.HistoryRecord2.encode(e.messages[a],r.uint32(42).fork()).ldelim();return e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(48).uint64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(56).uint32(e.code),e.more!=null&&Object.hasOwnProperty.call(e,"more")&&r.uint32(64).bool(e.more),e.latestTime!=null&&Object.hasOwnProperty.call(e,"latestTime")&&r.uint32(72).uint64(e.latestTime),e.oldestTime!=null&&Object.hasOwnProperty.call(e,"oldestTime")&&r.uint32(80).uint64(e.oldestTime),r},n.decode=function(e,r){e instanceof $Reader||(e=$Reader.create(e));let a=r===void 0?e.len:e.pos+r,g=new $root$1.StateHistoryGetResult2;for(;e.pos<a;){let E=e.uint32();switch(E>>>3){case 1:g.uuid=e.string();break;case 2:g.startTime=e.uint64();break;case 3:g.endTime=e.uint64();break;case 4:g.dst=e.string();break;case 5:g.messages&&g.messages.length||(g.messages=[]),g.messages.push($root$1.HistoryRecord2.decode(e,e.uint32()));break;case 6:g.flags=e.uint64();break;case 7:g.code=e.uint32();break;case 8:g.more=e.bool();break;case 9:g.latestTime=e.uint64();break;case 10:g.oldestTime=e.uint64();break;default:e.skipType(7&E)}}return g},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StateHistoryGetResult2"},n})(),URI$1=$root$1.URI=(()=>{const n={},e=Object.create(n);return e[n[0]="Unknown"]=0,e[n[1]="PingUri"]=1,e[n[2]="PongUri"]=2,e[n[3]="Ping2Uri"]=3,e[n[4]="Ping3Uri"]=4,e[n[5]="Pong3Uri"]=5,e[n[11]="UserJoinUri"]=11,e[n[12]="UserRespUri"]=12,e[n[15]="UserTicketNearlyExpireUri"]=15,e[n[16]="UserRenewTokenReqUri"]=16,e[n[17]="UserRenewTokenRespUri"]=17,e[n[18]="UserJoin2Uri"]=18,e[n[19]="UserResp2Uri"]=19,e[n[21]="UserQuitUri"]=21,e[n[22]="UserDropUri"]=22,e[n[24]="UserQuit2Uri"]=24,e[n[31]="GroupEnterUri"]=31,e[n[32]="GroupLeaveUri"]=32,e[n[33]="GroupReplyUri"]=33,e[n[35]="GroupDropUri"]=35,e[n[230]="GroupLeave2Uri"]=230,e[n[36]="GroupEnterNoticeUri"]=36,e[n[37]="GroupLeaveNoticeUri"]=37,e[n[38]="GroupEventNoticeUri"]=38,e[n[39]="GroupCountNoticeUri"]=39,e[n[41]="UserStatusListUri"]=41,e[n[42]="UserStatusResultUri"]=42,e[n[51]="GroupStatusListUri"]=51,e[n[52]="GroupStatusResultUri"]=52,e[n[55]="GroupAllUsersListUri"]=55,e[n[56]="GroupAllUsersResultUri"]=56,e[n[100]="MessageUri"]=100,e[n[101]="AckUri"]=101,e[n[201]="UserJoinNoticeUri"]=201,e[n[202]="UserQuitNoticeUri"]=202,e[n[203]="UserWaitNoticeUri"]=203,e[n[301]="UserAttributeGetUri"]=301,e[n[302]="UserAttributeRetUri"]=302,e[n[303]="UserAttributeSetUri"]=303,e[n[304]="UserAttributeModUri"]=304,e[n[305]="UserAttributeDelUri"]=305,e[n[307]="UserAttributeRspUri"]=307,e[n[308]="UserAttributeErrUri"]=308,e[n[311]="UserAttributeKeysGetUri"]=311,e[n[312]="UserAttributeKeysRetUri"]=312,e[n[351]="GroupAttributeGetUri"]=351,e[n[352]="GroupAttributeRetUri"]=352,e[n[353]="GroupAttributeSetUri"]=353,e[n[354]="GroupAttributeModUri"]=354,e[n[355]="GroupAttributeDelUri"]=355,e[n[356]="GroupAttributeAltUri"]=356,e[n[357]="GroupAttributeRspUri"]=357,e[n[358]="GroupAttributeErrUri"]=358,e[n[361]="GroupAttributeKeysGetUri"]=361,e[n[362]="GroupAttributeKeysRetUri"]=362,e[n[401]="SubscribeUserStatusUri"]=401,e[n[402]="UnsubscribeUserStatusUri"]=402,e[n[499]="SubscribeResponseUri"]=499,e[n[601]="StateSubscribeUri"]=601,e[n[602]="StateUpdateUri"]=602,e[n[603]="StateSubscribeResultUri"]=603,e[n[604]="StateUnsubscribeUri"]=604,e[n[605]="StateSetUri"]=605,e[n[606]="StateModifyUri"]=606,e[n[607]="StateRequestResultUri"]=607,e[n[608]="StateGetUri"]=608,e[n[609]="StateGetResultUri"]=609,e[n[610]="StateLockAcquireUri"]=610,e[n[611]="StateLockReleaseUri"]=611,e[n[612]="StateLockAcquireResultUri"]=612,e[n[613]="StateLockUpdateUri"]=613,e[n[614]="StateLockReleaseResultUri"]=614,e[n[615]="StateLockDisableUri"]=615,e[n[616]="StateLockDisableResultUri"]=616,e[n[617]="StateLockSubscribeUri"]=617,e[n[618]="StateLockSubscribeResultUri"]=618,e[n[619]="StateLockSubscribeEventUri"]=619,e[n[620]="StateLockUnsubscribeUri"]=620,e[n[621]="StateLockCreateUri"]=621,e[n[622]="StateLockCreateResultUri"]=622,e[n[623]="StateLockDeleteUri"]=623,e[n[624]="StateLockDeleteResultUri"]=624,e[n[625]="StateLockListUri"]=625,e[n[626]="StateLockListResultUri"]=626,e[n[750]="SyncPacketUri"]=750,e[n[751]="SyncInitUri"]=751,e[n[752]="SyncInitAckUri"]=752,e[n[753]="SyncFinUri"]=753,e[n[633]="StateHistoryGet2Uri"]=633,e[n[634]="StateHistoryGetResult2Uri"]=634,e[n[754]="SyncInit2Uri"]=754,e})(),UserJoinDetailKey=$root$1.UserJoinDetailKey=(()=>{const n={},e=Object.create(n);return e[n[0]="kDetailKeyUnused"]=0,e[n[1]="kDetailKeyVendorConfig"]=1,e[n[2]="kDetailKeyKeepAliveInterval"]=2,e[n[3]="kDetailKeyEnabledSync"]=3,e})(),LockEventType=$root$1.LockEventType=(()=>{const n={},e=Object.create(n);return e[n[0]="LockUnknown"]=0,e[n[1]="LockAdded"]=1,e[n[2]="LockModified"]=2,e[n[3]="LockRemoved"]=3,e[n[4]="LockSnapshot"]=4,e})();var ProtoPackets$1=Object.freeze({__proto__:null,Ack,GroupAllUsersList,GroupAllUsersResult,GroupAttributeAlt,GroupAttributeDel,GroupAttributeErr,GroupAttributeGet,GroupAttributeKeysGet,GroupAttributeKeysRet,GroupAttributeMod,GroupAttributeRet,GroupAttributeRsp,GroupAttributeSet,GroupCountNotice,GroupDrop,GroupEnter,GroupEnterNotice,GroupLeave,GroupLeave2,GroupLeaveNotice,GroupReply,GroupStatusList,GroupStatusResult,HistoryRecord2,LockEventType,LockState,Message,Ping,Ping2,Ping3,Pong,Pong3,StateGet,StateGetResult,StateHistoryGet2,StateHistoryGetResult2,StateLockAcquire,StateLockAcquireResult,StateLockCreate,StateLockCreateResult,StateLockDelete,StateLockDeleteResult,StateLockDisable,StateLockDisableResult,StateLockList,StateLockListResult,StateLockRelease,StateLockReleaseResult,StateLockSubscribe,StateLockSubscribeEvent,StateLockSubscribeResult,StateLockUnsubscribe,StateLockUpdate,StateModify,StateRequestResult,StateSet,StateSubscribe,StateSubscribeResult,StateUnsubscribe,StateUpdate,SubscribeResponse,SubscribeUserStatus,SyncFin,SyncInit,SyncInit2,SyncInitAck,URI:URI$1,UnsubscribeUserStatus,UserAttributeDel,UserAttributeErr,UserAttributeGet,UserAttributeKeysGet,UserAttributeKeysRet,UserAttributeMod,UserAttributeRet,UserAttributeRsp,UserAttributeSet,UserDrop,UserJoin,UserJoin2,UserJoinDetailKey,UserJoinNotice,UserQuit,UserQuit2,UserQuitNotice,UserRenewTokenReq,UserRenewTokenResp,UserResp,UserResp2,UserStatusList,UserStatusResult,UserTicketNearlyExpire,UserWaitNotice,Wrapper:Wrapper$1,default:$root$1});const{URI}=$root$1,{Wrapper}=ProtoPackets$1,PacketsAndURI=_objectWithoutProperties(ProtoPackets$1,["Wrapper"]),Packets=omit$1(PacketsAndURI,"URI","LockEventType","UserJoinDetailKey"),nameToUri=n=>{const e="".concat(n,"Uri"),r=URI[e];if(typeof r!="number"||r===0)throw new TypeError("Got Unknown URI Name");return r};function uriToPacketName(n){return URI[n].slice(0,-3)}function getWrappedByName(n,e){const r=nameToUri(n),a=Packets[n],g=new a(e),E=a.encode(g).finish();return new Wrapper({uri:r,data:E})}function getSyncWrapped(n){return new Wrapper({uri:URI.SyncPacketUri,data:n})}const AP_DOMAINS_NEW=["web-1.ap.sd-rtn.com","web-2.ap.sd-rtn.com"],AP_DOMAINS_IO=["ap-web-1.agora.io","ap-web-2.agora.io"],AP_DOMAINS_IPV6=["ap-web-1.agora.io","ap-web-2.agora.io"],AP_BACKUP_DOMAINS_NEW=["web-3.ap.sd-rtn.com","web-4.ap.sd-rtn.com"],AP_BACKUP_DOMAINS_IO=["ap-web-3.agora.io","ap-web-4.agora.io"],getApUrl=n=>{var e;const r=getParameter("AP_DOMAIN"),a=isValidEnvString(r),g=getPrivateSettingsPortAndDomains([n]),E=g.port,u=g.hostname[0];return"https://".concat(a?r:u).concat(E?":".concat(E):"").concat((e=window.testPath)!==null&&e!==void 0?e:"/api/v1")};function getEdgeDomain(n,e,r){var a;const g=isValidEnvString(getParameter("EDGE_DOMAIN_TLD")),E=r&&r[0],u=r&&r[1];return"".concat(n.split(".").join("-"),".edge.").concat(g?getParameter("EDGE_DOMAIN_TLD"):e?(a=u??E)!==null&&a!==void 0?a:"sd-rtn.com":E??"agora.io")}const $Writer=minimal_1.Writer,$util=minimal_1.util,$root=minimal_1.roots.default||(minimal_1.roots.default={}),Session=$root.Session=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.sid="",n.prototype.userId="",n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.appId="",n.prototype.ver="",n.prototype.buildno=0,n.prototype.installId="",n.prototype.os=0,n.prototype.did="",n.prototype.index=null,n.prototype.token="",n.prototype.version=0,n.prototype.subVersion=0,n.encode=function(e,r){return r||(r=$Writer.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&r.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&r.uint32(32).int64(e.elapse),e.appId!=null&&Object.hasOwnProperty.call(e,"appId")&&r.uint32(42).string(e.appId),e.ver!=null&&Object.hasOwnProperty.call(e,"ver")&&r.uint32(50).string(e.ver),e.buildno!=null&&Object.hasOwnProperty.call(e,"buildno")&&r.uint32(56).int32(e.buildno),e.installId!=null&&Object.hasOwnProperty.call(e,"installId")&&r.uint32(66).string(e.installId),e.os!=null&&Object.hasOwnProperty.call(e,"os")&&r.uint32(128).int32(e.os),e.did!=null&&Object.hasOwnProperty.call(e,"did")&&r.uint32(138).string(e.did),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&$root.Session.CommonIndex.encode(e.index,r.uint32(162).fork()).ldelim(),e.token!=null&&Object.hasOwnProperty.call(e,"token")&&r.uint32(170).string(e.token),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&r.uint32(176).int32(e.version),e.subVersion!=null&&Object.hasOwnProperty.call(e,"subVersion")&&r.uint32(184).int32(e.subVersion),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/Session"},n.CommonIndex=function(){function e(r){if(r)for(let a=Object.keys(r),g=0;g<a.length;++g)r[a[g]]!=null&&(this[a[g]]=r[a[g]])}return e.prototype.index1="",e.prototype.index2="",e.prototype.index3="",e.encode=function(r,a){return a||(a=$Writer.create()),r.index1!=null&&Object.hasOwnProperty.call(r,"index1")&&a.uint32(10).string(r.index1),r.index2!=null&&Object.hasOwnProperty.call(r,"index2")&&a.uint32(18).string(r.index2),r.index3!=null&&Object.hasOwnProperty.call(r,"index3")&&a.uint32(26).string(r.index3),a},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/Session.CommonIndex"},e}(),n})(),ApEvent=$root.ApEvent=(()=>{function n(e){if(this.linkServerList=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.sid="",n.prototype.userId="",n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.apAddr="",n.prototype.linkServerList=$util.emptyArray,n.prototype.localWanIp="",n.prototype.errCode=0,n.prototype.serverErrCode=0,n.prototype.isp="",n.prototype.opId=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.envId=0,n.prototype.flag=0,n.prototype.area="",n.prototype.responseTime=0,n.prototype.apLinkType="",n.prototype.version=0,n.prototype.subVersion=0,n.prototype.connectionsequence=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.resultcount=0,n.prototype.validresultcount=0,n.prototype.newvalidresultcount=0,n.encode=function(e,r){if(r||(r=$Writer.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&r.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&r.uint32(32).int64(e.elapse),e.apAddr!=null&&Object.hasOwnProperty.call(e,"apAddr")&&r.uint32(50).string(e.apAddr),e.linkServerList!=null&&e.linkServerList.length)for(let a=0;a<e.linkServerList.length;++a)r.uint32(58).string(e.linkServerList[a]);return e.localWanIp!=null&&Object.hasOwnProperty.call(e,"localWanIp")&&r.uint32(66).string(e.localWanIp),e.errCode!=null&&Object.hasOwnProperty.call(e,"errCode")&&r.uint32(72).int32(e.errCode),e.serverErrCode!=null&&Object.hasOwnProperty.call(e,"serverErrCode")&&r.uint32(80).int32(e.serverErrCode),e.isp!=null&&Object.hasOwnProperty.call(e,"isp")&&r.uint32(90).string(e.isp),e.opId!=null&&Object.hasOwnProperty.call(e,"opId")&&r.uint32(96).int64(e.opId),e.envId!=null&&Object.hasOwnProperty.call(e,"envId")&&r.uint32(104).int32(e.envId),e.flag!=null&&Object.hasOwnProperty.call(e,"flag")&&r.uint32(112).int32(e.flag),e.area!=null&&Object.hasOwnProperty.call(e,"area")&&r.uint32(122).string(e.area),e.responseTime!=null&&Object.hasOwnProperty.call(e,"responseTime")&&r.uint32(128).int32(e.responseTime),e.apLinkType!=null&&Object.hasOwnProperty.call(e,"apLinkType")&&r.uint32(138).string(e.apLinkType),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&r.uint32(144).int32(e.version),e.subVersion!=null&&Object.hasOwnProperty.call(e,"subVersion")&&r.uint32(152).int32(e.subVersion),e.connectionsequence!=null&&Object.hasOwnProperty.call(e,"connectionsequence")&&r.uint32(160).int64(e.connectionsequence),e.resultcount!=null&&Object.hasOwnProperty.call(e,"resultcount")&&r.uint32(168).int32(e.resultcount),e.validresultcount!=null&&Object.hasOwnProperty.call(e,"validresultcount")&&r.uint32(176).int32(e.validresultcount),e.newvalidresultcount!=null&&Object.hasOwnProperty.call(e,"newvalidresultcount")&&r.uint32(184).int32(e.newvalidresultcount),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/ApEvent"},n})(),ApRequest=$root.ApRequest=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.sid="",n.prototype.userId="",n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.apAddr="",n.prototype.opId=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.envId=0,n.prototype.flag=0,n.prototype.version=0,n.prototype.subVersion=0,n.prototype.connectionsequence=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.rtmapflag=$util.Long?$util.Long.fromBits(0,0,!1):0,n.encode=function(e,r){return r||(r=$Writer.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&r.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&r.uint32(32).int64(e.elapse),e.apAddr!=null&&Object.hasOwnProperty.call(e,"apAddr")&&r.uint32(42).string(e.apAddr),e.opId!=null&&Object.hasOwnProperty.call(e,"opId")&&r.uint32(48).int64(e.opId),e.envId!=null&&Object.hasOwnProperty.call(e,"envId")&&r.uint32(56).int32(e.envId),e.flag!=null&&Object.hasOwnProperty.call(e,"flag")&&r.uint32(64).int32(e.flag),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&r.uint32(72).int32(e.version),e.subVersion!=null&&Object.hasOwnProperty.call(e,"subVersion")&&r.uint32(80).int32(e.subVersion),e.connectionsequence!=null&&Object.hasOwnProperty.call(e,"connectionsequence")&&r.uint32(88).int64(e.connectionsequence),e.rtmapflag!=null&&Object.hasOwnProperty.call(e,"rtmapflag")&&r.uint32(96).int64(e.rtmapflag),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/ApRequest"},n})(),LinkLoginRequest=$root.LinkLoginRequest=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.sid="",n.prototype.userId="",n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.destServerIp="",n.prototype.linkId=0,n.encode=function(e,r){return r||(r=$Writer.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&r.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&r.uint32(32).int64(e.elapse),e.destServerIp!=null&&Object.hasOwnProperty.call(e,"destServerIp")&&r.uint32(42).string(e.destServerIp),e.linkId!=null&&Object.hasOwnProperty.call(e,"linkId")&&r.uint32(48).int32(e.linkId),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/LinkLoginRequest"},n})(),Link=$root.Link=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.sid="",n.prototype.userId="",n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.ec=0,n.prototype.sc=0,n.prototype.destServerIp="",n.prototype.ackedServerIp="",n.prototype.responseTime=0,n.prototype.version=0,n.prototype.subVersion=0,n.prototype.connectionsequence=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.linktype=0,n.prototype.linkflag=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.linkenv=0,n.encode=function(e,r){return r||(r=$Writer.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&r.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&r.uint32(32).int64(e.elapse),e.ec!=null&&Object.hasOwnProperty.call(e,"ec")&&r.uint32(40).int32(e.ec),e.sc!=null&&Object.hasOwnProperty.call(e,"sc")&&r.uint32(48).int32(e.sc),e.destServerIp!=null&&Object.hasOwnProperty.call(e,"destServerIp")&&r.uint32(58).string(e.destServerIp),e.ackedServerIp!=null&&Object.hasOwnProperty.call(e,"ackedServerIp")&&r.uint32(66).string(e.ackedServerIp),e.responseTime!=null&&Object.hasOwnProperty.call(e,"responseTime")&&r.uint32(72).int32(e.responseTime),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&r.uint32(80).int32(e.version),e.subVersion!=null&&Object.hasOwnProperty.call(e,"subVersion")&&r.uint32(88).int32(e.subVersion),e.connectionsequence!=null&&Object.hasOwnProperty.call(e,"connectionsequence")&&r.uint32(96).int64(e.connectionsequence),e.linktype!=null&&Object.hasOwnProperty.call(e,"linktype")&&r.uint32(104).int32(e.linktype),e.linkflag!=null&&Object.hasOwnProperty.call(e,"linkflag")&&r.uint32(112).int64(e.linkflag),e.linkenv!=null&&Object.hasOwnProperty.call(e,"linkenv")&&r.uint32(120).int32(e.linkenv),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/Link"},n})(),Logout=$root.Logout=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.sid="",n.prototype.userId="",n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.version=0,n.prototype.subVersion=0,n.prototype.connectionsequence=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.linktype=0,n.prototype.linkflag=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.linkenv=0,n.encode=function(e,r){return r||(r=$Writer.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&r.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&r.uint32(32).int64(e.elapse),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&r.uint32(40).int32(e.version),e.subVersion!=null&&Object.hasOwnProperty.call(e,"subVersion")&&r.uint32(48).int32(e.subVersion),e.connectionsequence!=null&&Object.hasOwnProperty.call(e,"connectionsequence")&&r.uint32(56).int64(e.connectionsequence),e.linktype!=null&&Object.hasOwnProperty.call(e,"linktype")&&r.uint32(64).int32(e.linktype),e.linkflag!=null&&Object.hasOwnProperty.call(e,"linkflag")&&r.uint32(72).int64(e.linkflag),e.linkenv!=null&&Object.hasOwnProperty.call(e,"linkenv")&&r.uint32(80).int32(e.linkenv),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/Logout"},n})(),KickedOff=$root.KickedOff=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.sid="",n.prototype.userId="",n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.linkId=0,n.prototype.code=0,n.prototype.server="",n.prototype.serverCode=0,n.encode=function(e,r){return r||(r=$Writer.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&r.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&r.uint32(32).int64(e.elapse),e.linkId!=null&&Object.hasOwnProperty.call(e,"linkId")&&r.uint32(48).int32(e.linkId),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(56).int32(e.code),e.server!=null&&Object.hasOwnProperty.call(e,"server")&&r.uint32(66).string(e.server),e.serverCode!=null&&Object.hasOwnProperty.call(e,"serverCode")&&r.uint32(72).int32(e.serverCode),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/KickedOff"},n})(),ChnJoin=$root.ChnJoin=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.sid="",n.prototype.userId="",n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.cname="",n.prototype.errCode=0,n.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.joinFlag=$util.Long?$util.Long.fromBits(0,0,!1):0,n.encode=function(e,r){return r||(r=$Writer.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&r.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&r.uint32(32).int64(e.elapse),e.cname!=null&&Object.hasOwnProperty.call(e,"cname")&&r.uint32(50).string(e.cname),e.errCode!=null&&Object.hasOwnProperty.call(e,"errCode")&&r.uint32(56).int32(e.errCode),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(64).int64(e.seq),e.joinFlag!=null&&Object.hasOwnProperty.call(e,"joinFlag")&&r.uint32(72).int64(e.joinFlag),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/ChnJoin"},n})(),ChnJoinRes=$root.ChnJoinRes=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.sid="",n.prototype.userId="",n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.cname="",n.prototype.errCode=0,n.prototype.serverErrCode=0,n.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,n.encode=function(e,r){return r||(r=$Writer.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&r.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&r.uint32(32).int64(e.elapse),e.cname!=null&&Object.hasOwnProperty.call(e,"cname")&&r.uint32(50).string(e.cname),e.errCode!=null&&Object.hasOwnProperty.call(e,"errCode")&&r.uint32(56).int32(e.errCode),e.serverErrCode!=null&&Object.hasOwnProperty.call(e,"serverErrCode")&&r.uint32(64).int32(e.serverErrCode),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(72).int64(e.seq),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/ChnJoinRes"},n})(),ChnLeave=$root.ChnLeave=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.sid="",n.prototype.userId="",n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.cname="",n.prototype.errCode=0,n.encode=function(e,r){return r||(r=$Writer.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&r.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&r.uint32(32).int64(e.elapse),e.cname!=null&&Object.hasOwnProperty.call(e,"cname")&&r.uint32(50).string(e.cname),e.errCode!=null&&Object.hasOwnProperty.call(e,"errCode")&&r.uint32(56).int32(e.errCode),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/ChnLeave"},n})(),ConnectionStateChange=$root.ConnectionStateChange=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.sid="",n.prototype.userId="",n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.oldState=0,n.prototype.newState=0,n.prototype.reason=0,n.prototype.reconnId=0,n.prototype.version=0,n.prototype.subVersion=0,n.prototype.lastdonestep=0,n.prototype.failedstep=0,n.prototype.errorcode=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.servererrorcode=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.networkchangesequence=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.networkchangeelapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.statechangeelapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.encode=function(e,r){return r||(r=$Writer.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&r.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&r.uint32(32).int64(e.elapse),e.oldState!=null&&Object.hasOwnProperty.call(e,"oldState")&&r.uint32(40).int32(e.oldState),e.newState!=null&&Object.hasOwnProperty.call(e,"newState")&&r.uint32(48).int32(e.newState),e.reason!=null&&Object.hasOwnProperty.call(e,"reason")&&r.uint32(56).int32(e.reason),e.reconnId!=null&&Object.hasOwnProperty.call(e,"reconnId")&&r.uint32(64).int32(e.reconnId),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&r.uint32(72).int32(e.version),e.subVersion!=null&&Object.hasOwnProperty.call(e,"subVersion")&&r.uint32(80).int32(e.subVersion),e.lastdonestep!=null&&Object.hasOwnProperty.call(e,"lastdonestep")&&r.uint32(88).int32(e.lastdonestep),e.failedstep!=null&&Object.hasOwnProperty.call(e,"failedstep")&&r.uint32(96).int32(e.failedstep),e.errorcode!=null&&Object.hasOwnProperty.call(e,"errorcode")&&r.uint32(104).int64(e.errorcode),e.servererrorcode!=null&&Object.hasOwnProperty.call(e,"servererrorcode")&&r.uint32(112).int64(e.servererrorcode),e.networkchangesequence!=null&&Object.hasOwnProperty.call(e,"networkchangesequence")&&r.uint32(120).int64(e.networkchangesequence),e.networkchangeelapse!=null&&Object.hasOwnProperty.call(e,"networkchangeelapse")&&r.uint32(128).int64(e.networkchangeelapse),e.statechangeelapse!=null&&Object.hasOwnProperty.call(e,"statechangeelapse")&&r.uint32(136).int64(e.statechangeelapse),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/ConnectionStateChange"},n})(),RtmSdkMessageCount=$root.RtmSdkMessageCount=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.sid="",n.prototype.messagecategory=0,n.prototype.reportsequence=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.sentcount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.receivedcount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack10mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack25mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack50mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack75mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack100mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack150mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack200mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack250mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack300mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack400mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack500mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack600mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack800mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack1000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack2000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack3000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack5000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerack7000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.peerackslowcount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack10mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack25mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack50mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack75mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack100mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack150mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack200mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack250mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack300mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack400mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack500mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack600mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack800mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack1000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack2000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack3000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack5000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientack7000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.norecipientackslowcount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.acktimeoutcount=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.apimajorversion=0,n.prototype.apiminorversion=0,n.prototype.os=0,n.prototype.toooftencount=0,n.prototype.receiverofflinecount=0,n.prototype.invalidmessagecount=0,n.prototype.unknowerrorcount=0,n.prototype.servercachedcount=0,n.prototype.timeoutcount=0,n.prototype.successcount=0,n.prototype.userid="",n.encode=function(e,r){return r||(r=$Writer.create()),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(8).int64(e.lts),e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&r.uint32(16).int64(e.vid),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(26).string(e.sid),e.messagecategory!=null&&Object.hasOwnProperty.call(e,"messagecategory")&&r.uint32(32).int32(e.messagecategory),e.reportsequence!=null&&Object.hasOwnProperty.call(e,"reportsequence")&&r.uint32(40).int64(e.reportsequence),e.sentcount!=null&&Object.hasOwnProperty.call(e,"sentcount")&&r.uint32(48).int64(e.sentcount),e.receivedcount!=null&&Object.hasOwnProperty.call(e,"receivedcount")&&r.uint32(56).int64(e.receivedcount),e.peerack10mscount!=null&&Object.hasOwnProperty.call(e,"peerack10mscount")&&r.uint32(64).int64(e.peerack10mscount),e.peerack25mscount!=null&&Object.hasOwnProperty.call(e,"peerack25mscount")&&r.uint32(72).int64(e.peerack25mscount),e.peerack50mscount!=null&&Object.hasOwnProperty.call(e,"peerack50mscount")&&r.uint32(80).int64(e.peerack50mscount),e.peerack75mscount!=null&&Object.hasOwnProperty.call(e,"peerack75mscount")&&r.uint32(88).int64(e.peerack75mscount),e.peerack100mscount!=null&&Object.hasOwnProperty.call(e,"peerack100mscount")&&r.uint32(96).int64(e.peerack100mscount),e.peerack150mscount!=null&&Object.hasOwnProperty.call(e,"peerack150mscount")&&r.uint32(104).int64(e.peerack150mscount),e.peerack200mscount!=null&&Object.hasOwnProperty.call(e,"peerack200mscount")&&r.uint32(112).int64(e.peerack200mscount),e.peerack250mscount!=null&&Object.hasOwnProperty.call(e,"peerack250mscount")&&r.uint32(120).int64(e.peerack250mscount),e.peerack300mscount!=null&&Object.hasOwnProperty.call(e,"peerack300mscount")&&r.uint32(128).int64(e.peerack300mscount),e.peerack400mscount!=null&&Object.hasOwnProperty.call(e,"peerack400mscount")&&r.uint32(136).int64(e.peerack400mscount),e.peerack500mscount!=null&&Object.hasOwnProperty.call(e,"peerack500mscount")&&r.uint32(144).int64(e.peerack500mscount),e.peerack600mscount!=null&&Object.hasOwnProperty.call(e,"peerack600mscount")&&r.uint32(152).int64(e.peerack600mscount),e.peerack800mscount!=null&&Object.hasOwnProperty.call(e,"peerack800mscount")&&r.uint32(160).int64(e.peerack800mscount),e.peerack1000mscount!=null&&Object.hasOwnProperty.call(e,"peerack1000mscount")&&r.uint32(168).int64(e.peerack1000mscount),e.peerack2000mscount!=null&&Object.hasOwnProperty.call(e,"peerack2000mscount")&&r.uint32(176).int64(e.peerack2000mscount),e.peerack3000mscount!=null&&Object.hasOwnProperty.call(e,"peerack3000mscount")&&r.uint32(184).int64(e.peerack3000mscount),e.peerack5000mscount!=null&&Object.hasOwnProperty.call(e,"peerack5000mscount")&&r.uint32(192).int64(e.peerack5000mscount),e.peerack7000mscount!=null&&Object.hasOwnProperty.call(e,"peerack7000mscount")&&r.uint32(200).int64(e.peerack7000mscount),e.peerackslowcount!=null&&Object.hasOwnProperty.call(e,"peerackslowcount")&&r.uint32(208).int64(e.peerackslowcount),e.norecipientack10mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack10mscount")&&r.uint32(216).int64(e.norecipientack10mscount),e.norecipientack25mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack25mscount")&&r.uint32(224).int64(e.norecipientack25mscount),e.norecipientack50mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack50mscount")&&r.uint32(232).int64(e.norecipientack50mscount),e.norecipientack75mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack75mscount")&&r.uint32(240).int64(e.norecipientack75mscount),e.norecipientack100mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack100mscount")&&r.uint32(248).int64(e.norecipientack100mscount),e.norecipientack150mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack150mscount")&&r.uint32(256).int64(e.norecipientack150mscount),e.norecipientack200mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack200mscount")&&r.uint32(264).int64(e.norecipientack200mscount),e.norecipientack250mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack250mscount")&&r.uint32(272).int64(e.norecipientack250mscount),e.norecipientack300mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack300mscount")&&r.uint32(280).int64(e.norecipientack300mscount),e.norecipientack400mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack400mscount")&&r.uint32(288).int64(e.norecipientack400mscount),e.norecipientack500mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack500mscount")&&r.uint32(296).int64(e.norecipientack500mscount),e.norecipientack600mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack600mscount")&&r.uint32(304).int64(e.norecipientack600mscount),e.norecipientack800mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack800mscount")&&r.uint32(312).int64(e.norecipientack800mscount),e.norecipientack1000mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack1000mscount")&&r.uint32(320).int64(e.norecipientack1000mscount),e.norecipientack2000mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack2000mscount")&&r.uint32(328).int64(e.norecipientack2000mscount),e.norecipientack3000mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack3000mscount")&&r.uint32(336).int64(e.norecipientack3000mscount),e.norecipientack5000mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack5000mscount")&&r.uint32(344).int64(e.norecipientack5000mscount),e.norecipientack7000mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack7000mscount")&&r.uint32(352).int64(e.norecipientack7000mscount),e.norecipientackslowcount!=null&&Object.hasOwnProperty.call(e,"norecipientackslowcount")&&r.uint32(360).int64(e.norecipientackslowcount),e.acktimeoutcount!=null&&Object.hasOwnProperty.call(e,"acktimeoutcount")&&r.uint32(368).int64(e.acktimeoutcount),e.apimajorversion!=null&&Object.hasOwnProperty.call(e,"apimajorversion")&&r.uint32(376).int32(e.apimajorversion),e.apiminorversion!=null&&Object.hasOwnProperty.call(e,"apiminorversion")&&r.uint32(384).int32(e.apiminorversion),e.os!=null&&Object.hasOwnProperty.call(e,"os")&&r.uint32(392).int32(e.os),e.toooftencount!=null&&Object.hasOwnProperty.call(e,"toooftencount")&&r.uint32(400).int32(e.toooftencount),e.receiverofflinecount!=null&&Object.hasOwnProperty.call(e,"receiverofflinecount")&&r.uint32(408).int32(e.receiverofflinecount),e.invalidmessagecount!=null&&Object.hasOwnProperty.call(e,"invalidmessagecount")&&r.uint32(416).int32(e.invalidmessagecount),e.unknowerrorcount!=null&&Object.hasOwnProperty.call(e,"unknowerrorcount")&&r.uint32(424).int32(e.unknowerrorcount),e.servercachedcount!=null&&Object.hasOwnProperty.call(e,"servercachedcount")&&r.uint32(432).int32(e.servercachedcount),e.timeoutcount!=null&&Object.hasOwnProperty.call(e,"timeoutcount")&&r.uint32(440).int32(e.timeoutcount),e.successcount!=null&&Object.hasOwnProperty.call(e,"successcount")&&r.uint32(448).int32(e.successcount),e.userid!=null&&Object.hasOwnProperty.call(e,"userid")&&r.uint32(458).string(e.userid),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/RtmSdkMessageCount"},n})(),SyncOperateEvent=$root.SyncOperateEvent=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.ip="",n.prototype.userid="",n.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.sid="",n.prototype.requestts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.target="",n.prototype.eventtype="",n.prototype.revision=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.uuid="",n.prototype.sdktype=0,n.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.code=0,n.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.index=null,n.prototype.lock="",n.prototype.lockrev=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.subtarget="",n.prototype.usersid="",n.prototype.sdkip="",n.encode=function(e,r){return r||(r=$Writer.create()),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(8).int64(e.lts),e.ip!=null&&Object.hasOwnProperty.call(e,"ip")&&r.uint32(18).string(e.ip),e.userid!=null&&Object.hasOwnProperty.call(e,"userid")&&r.uint32(26).string(e.userid),e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&r.uint32(32).int64(e.vid),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(42).string(e.sid),e.requestts!=null&&Object.hasOwnProperty.call(e,"requestts")&&r.uint32(48).int64(e.requestts),e.replyts!=null&&Object.hasOwnProperty.call(e,"replyts")&&r.uint32(56).int64(e.replyts),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(66).string(e.target),e.eventtype!=null&&Object.hasOwnProperty.call(e,"eventtype")&&r.uint32(74).string(e.eventtype),e.revision!=null&&Object.hasOwnProperty.call(e,"revision")&&r.uint32(80).int64(e.revision),e.uuid!=null&&Object.hasOwnProperty.call(e,"uuid")&&r.uint32(90).string(e.uuid),e.sdktype!=null&&Object.hasOwnProperty.call(e,"sdktype")&&r.uint32(96).int32(e.sdktype),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(104).int64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(112).int32(e.code),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(120).int64(e.seq),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&$root.CommonIndex.encode(e.index,r.uint32(130).fork()).ldelim(),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(138).string(e.lock),e.lockrev!=null&&Object.hasOwnProperty.call(e,"lockrev")&&r.uint32(144).int64(e.lockrev),e.subtarget!=null&&Object.hasOwnProperty.call(e,"subtarget")&&r.uint32(154).string(e.subtarget),e.usersid!=null&&Object.hasOwnProperty.call(e,"usersid")&&r.uint32(162).string(e.usersid),e.sdkip!=null&&Object.hasOwnProperty.call(e,"sdkip")&&r.uint32(170).string(e.sdkip),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SyncOperateEvent"},n})(),SyncSubscribeEvent=$root.SyncSubscribeEvent=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.userid="",n.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.sid="",n.prototype.target="",n.prototype.eventtype="",n.prototype.sdktype=0,n.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.code=0,n.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.requestts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.index=null,n.prototype.subtarget="",n.prototype.usersid="",n.encode=function(e,r){return r||(r=$Writer.create()),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(8).int64(e.lts),e.userid!=null&&Object.hasOwnProperty.call(e,"userid")&&r.uint32(26).string(e.userid),e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&r.uint32(32).int64(e.vid),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(42).string(e.sid),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(66).string(e.target),e.eventtype!=null&&Object.hasOwnProperty.call(e,"eventtype")&&r.uint32(74).string(e.eventtype),e.sdktype!=null&&Object.hasOwnProperty.call(e,"sdktype")&&r.uint32(96).int32(e.sdktype),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(104).int64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(112).int32(e.code),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&r.uint32(120).int64(e.seq),e.requestts!=null&&Object.hasOwnProperty.call(e,"requestts")&&r.uint32(128).int64(e.requestts),e.replyts!=null&&Object.hasOwnProperty.call(e,"replyts")&&r.uint32(136).int64(e.replyts),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&$root.CommonIndex.encode(e.index,r.uint32(146).fork()).ldelim(),e.subtarget!=null&&Object.hasOwnProperty.call(e,"subtarget")&&r.uint32(154).string(e.subtarget),e.usersid!=null&&Object.hasOwnProperty.call(e,"usersid")&&r.uint32(162).string(e.usersid),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SyncSubscribeEvent"},n})(),SyncUpdateEvent=$root.SyncUpdateEvent=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.userid="",n.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.sid="",n.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.target="",n.prototype.eventtype="",n.prototype.revision=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.sdktype=0,n.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.count=0,n.prototype.delta=0,n.prototype.code=0,n.prototype.index=null,n.prototype.subtarget="",n.encode=function(e,r){return r||(r=$Writer.create()),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(8).int64(e.lts),e.userid!=null&&Object.hasOwnProperty.call(e,"userid")&&r.uint32(26).string(e.userid),e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&r.uint32(32).int64(e.vid),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(42).string(e.sid),e.replyts!=null&&Object.hasOwnProperty.call(e,"replyts")&&r.uint32(56).int64(e.replyts),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(66).string(e.target),e.eventtype!=null&&Object.hasOwnProperty.call(e,"eventtype")&&r.uint32(74).string(e.eventtype),e.revision!=null&&Object.hasOwnProperty.call(e,"revision")&&r.uint32(80).int64(e.revision),e.sdktype!=null&&Object.hasOwnProperty.call(e,"sdktype")&&r.uint32(96).int32(e.sdktype),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(104).int64(e.flags),e.count!=null&&Object.hasOwnProperty.call(e,"count")&&r.uint32(112).int32(e.count),e.delta!=null&&Object.hasOwnProperty.call(e,"delta")&&r.uint32(120).int32(e.delta),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(128).int32(e.code),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&$root.CommonIndex.encode(e.index,r.uint32(138).fork()).ldelim(),e.subtarget!=null&&Object.hasOwnProperty.call(e,"subtarget")&&r.uint32(162).string(e.subtarget),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SyncUpdateEvent"},n})(),CommonIndex=$root.CommonIndex=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.index1="",n.prototype.index2="",n.prototype.index3="",n.encode=function(e,r){return r||(r=$Writer.create()),e.index1!=null&&Object.hasOwnProperty.call(e,"index1")&&r.uint32(10).string(e.index1),e.index2!=null&&Object.hasOwnProperty.call(e,"index2")&&r.uint32(18).string(e.index2),e.index3!=null&&Object.hasOwnProperty.call(e,"index3")&&r.uint32(26).string(e.index3),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/CommonIndex"},n})(),ProtoRaws=$root.ProtoRaws=(()=>{function n(e){if(this.payloads=[],e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.sendTs=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.payloads=$util.emptyArray,n.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.aid=$util.Long?$util.Long.fromBits(0,0,!1):0,n.encode=function(e,r){if(r||(r=$Writer.create()),e.sendTs!=null&&Object.hasOwnProperty.call(e,"sendTs")&&r.uint32(8).int64(e.sendTs),e.payloads!=null&&e.payloads.length)for(let a=0;a<e.payloads.length;++a)$root.ProtoRaws.MessageInfo.encode(e.payloads[a],r.uint32(18).fork()).ldelim();return e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&r.uint32(24).int64(e.vid),e.aid!=null&&Object.hasOwnProperty.call(e,"aid")&&r.uint32(32).int64(e.aid),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/ProtoRaws"},n.MessageInfo=function(){function e(r){if(r)for(let a=Object.keys(r),g=0;g<a.length;++g)r[a[g]]!=null&&(this[a[g]]=r[a[g]])}return e.prototype.id=$util.Long?$util.Long.fromBits(0,0,!1):0,e.prototype.msg=$util.newBuffer([]),e.encode=function(r,a){return a||(a=$Writer.create()),r.id!=null&&Object.hasOwnProperty.call(r,"id")&&a.uint32(8).int64(r.id),r.msg!=null&&Object.hasOwnProperty.call(r,"msg")&&a.uint32(18).bytes(r.msg),a},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/ProtoRaws.MessageInfo"},e}(),n})(),LoginResult=$root.LoginResult=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.sid="",n.prototype.code=0,n.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.userId="",n.encode=function(e,r){return r||(r=$Writer.create()),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(8).int64(e.lts),e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&r.uint32(16).int64(e.vid),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(26).string(e.sid),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(32).int32(e.code),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&r.uint32(40).int64(e.elapse),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&r.uint32(50).string(e.userId),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/LoginResult"},n})(),ChannelPresenceSnapshotEvent=$root.ChannelPresenceSnapshotEvent=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.sid="",n.prototype.userId="",n.prototype.channelName="",n.prototype.channelType=0,n.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.reqId=$util.Long?$util.Long.fromBits(0,0,!1):0,n.encode=function(e,r){return r||(r=$Writer.create()),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(8).int64(e.lts),e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&r.uint32(16).int64(e.vid),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(26).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&r.uint32(34).string(e.userId),e.channelName!=null&&Object.hasOwnProperty.call(e,"channelName")&&r.uint32(42).string(e.channelName),e.channelType!=null&&Object.hasOwnProperty.call(e,"channelType")&&r.uint32(48).int32(e.channelType),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&r.uint32(56).int64(e.elapse),e.reqId!=null&&Object.hasOwnProperty.call(e,"reqId")&&r.uint32(64).int64(e.reqId),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/ChannelPresenceSnapshotEvent"},n})(),LinkStateChange=$root.LinkStateChange=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.sid="",n.prototype.userid="",n.prototype.currentState=0,n.prototype.previousState=0,n.prototype.operation=0,n.prototype.reason=0,n.prototype.serviceType=0,n.prototype.streamChannelName="",n.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.encode=function(e,r){return r||(r=$Writer.create()),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(8).int64(e.lts),e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&r.uint32(16).int64(e.vid),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(26).string(e.sid),e.userid!=null&&Object.hasOwnProperty.call(e,"userid")&&r.uint32(34).string(e.userid),e.currentState!=null&&Object.hasOwnProperty.call(e,"currentState")&&r.uint32(40).int32(e.currentState),e.previousState!=null&&Object.hasOwnProperty.call(e,"previousState")&&r.uint32(48).int32(e.previousState),e.operation!=null&&Object.hasOwnProperty.call(e,"operation")&&r.uint32(56).int32(e.operation),e.reason!=null&&Object.hasOwnProperty.call(e,"reason")&&r.uint32(64).int32(e.reason),e.serviceType!=null&&Object.hasOwnProperty.call(e,"serviceType")&&r.uint32(72).int32(e.serviceType),e.streamChannelName!=null&&Object.hasOwnProperty.call(e,"streamChannelName")&&r.uint32(82).string(e.streamChannelName),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&r.uint32(88).int64(e.elapse),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/LinkStateChange"},n})(),RenewToken=$root.RenewToken=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.sid="",n.prototype.userId="",n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.cname="",n.prototype.token="",n.encode=function(e,r){return r||(r=$Writer.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&r.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&r.uint32(32).int64(e.elapse),e.cname!=null&&Object.hasOwnProperty.call(e,"cname")&&r.uint32(50).string(e.cname),e.token!=null&&Object.hasOwnProperty.call(e,"token")&&r.uint32(58).string(e.token),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/RenewToken"},n})(),RenewTokenRes=$root.RenewTokenRes=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.sid="",n.prototype.userId="",n.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.cname="",n.prototype.token="",n.prototype.apErrCode=0,n.prototype.regErrCode=0,n.encode=function(e,r){return r||(r=$Writer.create()),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(8).int64(e.lts),e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&r.uint32(16).int64(e.vid),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(26).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&r.uint32(34).string(e.userId),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&r.uint32(40).int64(e.elapse),e.cname!=null&&Object.hasOwnProperty.call(e,"cname")&&r.uint32(50).string(e.cname),e.token!=null&&Object.hasOwnProperty.call(e,"token")&&r.uint32(58).string(e.token),e.apErrCode!=null&&Object.hasOwnProperty.call(e,"apErrCode")&&r.uint32(64).int32(e.apErrCode),e.regErrCode!=null&&Object.hasOwnProperty.call(e,"regErrCode")&&r.uint32(72).int32(e.regErrCode),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/RenewTokenRes"},n})(),SyncLockAcquireEvent=$root.SyncLockAcquireEvent=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.ip="",n.prototype.userid="",n.prototype.sid="",n.prototype.index=null,n.prototype.target="",n.prototype.lock="",n.prototype.lockrev=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.uuid="",n.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.code=0,n.prototype.leaseid="",n.prototype.eventtype="",n.prototype.sdktype=0,n.prototype.requestts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.ttl=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.usersid="",n.prototype.sdkip="",n.encode=function(e,r){return r||(r=$Writer.create()),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(8).int64(e.lts),e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&r.uint32(16).int64(e.vid),e.ip!=null&&Object.hasOwnProperty.call(e,"ip")&&r.uint32(26).string(e.ip),e.userid!=null&&Object.hasOwnProperty.call(e,"userid")&&r.uint32(34).string(e.userid),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(42).string(e.sid),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&$root.CommonIndex.encode(e.index,r.uint32(50).fork()).ldelim(),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(58).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(66).string(e.lock),e.lockrev!=null&&Object.hasOwnProperty.call(e,"lockrev")&&r.uint32(72).int64(e.lockrev),e.uuid!=null&&Object.hasOwnProperty.call(e,"uuid")&&r.uint32(82).string(e.uuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(88).int64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(96).int32(e.code),e.leaseid!=null&&Object.hasOwnProperty.call(e,"leaseid")&&r.uint32(106).string(e.leaseid),e.eventtype!=null&&Object.hasOwnProperty.call(e,"eventtype")&&r.uint32(114).string(e.eventtype),e.sdktype!=null&&Object.hasOwnProperty.call(e,"sdktype")&&r.uint32(120).int32(e.sdktype),e.requestts!=null&&Object.hasOwnProperty.call(e,"requestts")&&r.uint32(128).int64(e.requestts),e.replyts!=null&&Object.hasOwnProperty.call(e,"replyts")&&r.uint32(136).int64(e.replyts),e.ttl!=null&&Object.hasOwnProperty.call(e,"ttl")&&r.uint32(144).int64(e.ttl),e.usersid!=null&&Object.hasOwnProperty.call(e,"usersid")&&r.uint32(154).string(e.usersid),e.sdkip!=null&&Object.hasOwnProperty.call(e,"sdkip")&&r.uint32(162).string(e.sdkip),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SyncLockAcquireEvent"},n})(),SyncLockReleaseEvent=$root.SyncLockReleaseEvent=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.ip="",n.prototype.userid="",n.prototype.sid="",n.prototype.index=null,n.prototype.target="",n.prototype.lock="",n.prototype.uuid="",n.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.code=0,n.prototype.leaseid="",n.prototype.eventtype="",n.prototype.sdktype=0,n.prototype.requestts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.usersid="",n.prototype.sdkip="",n.encode=function(e,r){return r||(r=$Writer.create()),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(8).int64(e.lts),e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&r.uint32(16).int64(e.vid),e.ip!=null&&Object.hasOwnProperty.call(e,"ip")&&r.uint32(26).string(e.ip),e.userid!=null&&Object.hasOwnProperty.call(e,"userid")&&r.uint32(34).string(e.userid),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(42).string(e.sid),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&$root.CommonIndex.encode(e.index,r.uint32(50).fork()).ldelim(),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(58).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(66).string(e.lock),e.uuid!=null&&Object.hasOwnProperty.call(e,"uuid")&&r.uint32(74).string(e.uuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(80).int64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(88).int32(e.code),e.leaseid!=null&&Object.hasOwnProperty.call(e,"leaseid")&&r.uint32(98).string(e.leaseid),e.eventtype!=null&&Object.hasOwnProperty.call(e,"eventtype")&&r.uint32(106).string(e.eventtype),e.sdktype!=null&&Object.hasOwnProperty.call(e,"sdktype")&&r.uint32(112).int32(e.sdktype),e.requestts!=null&&Object.hasOwnProperty.call(e,"requestts")&&r.uint32(120).int64(e.requestts),e.replyts!=null&&Object.hasOwnProperty.call(e,"replyts")&&r.uint32(128).int64(e.replyts),e.usersid!=null&&Object.hasOwnProperty.call(e,"usersid")&&r.uint32(138).string(e.usersid),e.sdkip!=null&&Object.hasOwnProperty.call(e,"sdkip")&&r.uint32(146).string(e.sdkip),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SyncLockReleaseEvent"},n})(),SyncLockUpdateEvent=$root.SyncLockUpdateEvent=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.ip="",n.prototype.userid="",n.prototype.sid="",n.prototype.index=null,n.prototype.target="",n.prototype.lock="",n.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.code=0,n.prototype.eventtype="",n.prototype.sdktype=0,n.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.usersid="",n.prototype.sdkip="",n.encode=function(e,r){return r||(r=$Writer.create()),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(8).int64(e.lts),e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&r.uint32(16).int64(e.vid),e.ip!=null&&Object.hasOwnProperty.call(e,"ip")&&r.uint32(26).string(e.ip),e.userid!=null&&Object.hasOwnProperty.call(e,"userid")&&r.uint32(34).string(e.userid),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(42).string(e.sid),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&$root.CommonIndex.encode(e.index,r.uint32(50).fork()).ldelim(),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(58).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(66).string(e.lock),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(72).int64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(80).int32(e.code),e.eventtype!=null&&Object.hasOwnProperty.call(e,"eventtype")&&r.uint32(90).string(e.eventtype),e.sdktype!=null&&Object.hasOwnProperty.call(e,"sdktype")&&r.uint32(96).int32(e.sdktype),e.replyts!=null&&Object.hasOwnProperty.call(e,"replyts")&&r.uint32(104).int64(e.replyts),e.usersid!=null&&Object.hasOwnProperty.call(e,"usersid")&&r.uint32(114).string(e.usersid),e.sdkip!=null&&Object.hasOwnProperty.call(e,"sdkip")&&r.uint32(122).string(e.sdkip),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SyncLockUpdateEvent"},n})(),SyncLockDisableEvent=$root.SyncLockDisableEvent=(()=>{function n(e){if(e)for(let r=Object.keys(e),a=0;a<r.length;++a)e[r[a]]!=null&&(this[r[a]]=e[r[a]])}return n.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.ip="",n.prototype.userid="",n.prototype.sid="",n.prototype.index=null,n.prototype.target="",n.prototype.lock="",n.prototype.leaseid="",n.prototype.uuid="",n.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.code=0,n.prototype.eventtype="",n.prototype.sdktype=0,n.prototype.requestts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,n.prototype.usersid="",n.prototype.sdkip="",n.encode=function(e,r){return r||(r=$Writer.create()),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&r.uint32(8).int64(e.lts),e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&r.uint32(16).int64(e.vid),e.ip!=null&&Object.hasOwnProperty.call(e,"ip")&&r.uint32(26).string(e.ip),e.userid!=null&&Object.hasOwnProperty.call(e,"userid")&&r.uint32(34).string(e.userid),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&r.uint32(42).string(e.sid),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&$root.CommonIndex.encode(e.index,r.uint32(50).fork()).ldelim(),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&r.uint32(58).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&r.uint32(66).string(e.lock),e.leaseid!=null&&Object.hasOwnProperty.call(e,"leaseid")&&r.uint32(74).string(e.leaseid),e.uuid!=null&&Object.hasOwnProperty.call(e,"uuid")&&r.uint32(82).string(e.uuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&r.uint32(88).int64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&r.uint32(96).int32(e.code),e.eventtype!=null&&Object.hasOwnProperty.call(e,"eventtype")&&r.uint32(106).string(e.eventtype),e.sdktype!=null&&Object.hasOwnProperty.call(e,"sdktype")&&r.uint32(112).int32(e.sdktype),e.requestts!=null&&Object.hasOwnProperty.call(e,"requestts")&&r.uint32(120).int64(e.requestts),e.replyts!=null&&Object.hasOwnProperty.call(e,"replyts")&&r.uint32(128).int64(e.replyts),e.usersid!=null&&Object.hasOwnProperty.call(e,"usersid")&&r.uint32(138).string(e.usersid),e.sdkip!=null&&Object.hasOwnProperty.call(e,"sdkip")&&r.uint32(146).string(e.sdkip),r},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/SyncLockDisableEvent"},n})();var ProtoPackets=Object.freeze({__proto__:null,ApEvent,ApRequest,ChannelPresenceSnapshotEvent,ChnJoin,ChnJoinRes,ChnLeave,CommonIndex,ConnectionStateChange,KickedOff,Link,LinkLoginRequest,LinkStateChange,LoginResult,Logout,ProtoRaws,RenewToken,RenewTokenRes,RtmSdkMessageCount,Session,SyncLockAcquireEvent,SyncLockDisableEvent,SyncLockReleaseEvent,SyncLockUpdateEvent,SyncOperateEvent,SyncSubscribeEvent,SyncUpdateEvent,default:$root});const ReportId={Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,RtmSdkMessageCount:510,SyncOperateEvent:9654,SyncSubscribeEvent:9651,LoginResult:10071,ChannelPresenceSnapshotEvent:10070,LinkStateChange:10201,RenewTokenRes:10204,SyncLockAcquireEvent:9740,SyncLockReleaseEvent:9741,SyncLockUpdateEvent:9742,SyncLockDisableEvent:9764},EVENT_REPORT_DOMAIN="webcollector-rtm.agora.io",EVENT_REPORT_BACKUP_DOMAIN="rtm.statscollector.sd-rtn.com",maxReportCount=20,reportInterval=1e4,forceReportInterval=6e4,eventsCacheKeyPrefix="events-",storageEvents=new Map;function initStorageCache(n){storageEvents.has(n)||storageEvents.set(n,[])}const staging_report_domain="183-131-160-209.edge.staging-1-aws.myagoralab.com",decodeHexAsBytes=n=>{var e;const r=(e=n.match(/.{1,2}/g))===null||e===void 0?void 0:e.map(a=>parseInt(a,16));return r??[]},genAid=n=>{const e=decodeHexAsBytes(n),r=[e[0],e[4],e[8],e[12]];return r.reduce((g,E,u)=>g|E<<8*(r.length-1-u),0)>>>0};async function batchSendReport(n,e,r){var a;const g=r&&getPrivateSettingsPortAndDomains(r),E=g==null?void 0:g.port,u=g==null?void 0:g.hostname,B=(a=u==null?void 0:u.length)!==null&&a!==void 0?a:0,f=u&&u[0],m=u&&u[B-1],y=async function(D){var M;let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(O>3)return;const U=e&&!r?"https://".concat((M=areaConfig==null?void 0:areaConfig.PROXY_NGINX[0])!==null&&M!==void 0?M:"webrtc-cloud-proxy.sd-rtn.com","/rs/?h=").concat(D,"&p=").concat(E??443,"&d=events/proto-raws"):"https://".concat(getParameter("USE_STAGING_REPORT_DOMAIN")?staging_report_domain:D).concat(E?":".concat(E):"","/events/proto-raws");await postWithAbortSignal(U,{body:n,timeout:2e4,headers:{"Content-Type":"application/octet-stream"}}).catch(F=>y(D,O+1))};try{await y((areaConfig==null?void 0:areaConfig.EVENT_REPORT_DOMAIN[0])||isValidEnvString(null)&&null||(f??EVENT_REPORT_DOMAIN))}catch{await y(areaConfig&&sample$1((areaConfig==null?void 0:areaConfig.EVENT_REPORT_DOMAIN.length)>1?areaConfig==null?void 0:areaConfig.EVENT_REPORT_DOMAIN.slice(1):areaConfig==null?void 0:areaConfig.EVENT_REPORT_DOMAIN)||(m??EVENT_REPORT_BACKUP_DOMAIN))}}function triggerReport(n,e,r,a,g){let E=arguments.length>5&&arguments[5]!==void 0&&arguments[5];if(navigator.onLine===!1||!g)return 0;const u="".concat(eventsCacheKeyPrefix).concat(n);initStorageCache(u);const B=storageEvents.get(u),f=Date.now();if(B.length===0||B.length<maxReportCount&&!E)return f;for(;B.length>0;){const m=B.length>maxReportCount?maxReportCount:B.length,y=B.splice(0,m);storageEvents.set(u,B);const D=Math.ceil(Date.now()/1e3);batchSendReport(ProtoRaws.encode(Object.assign({vid:Long$2.fromNumber(Number(n)),sendTs:Long$2.fromNumber(D),payloads:y},Number(n)===0?{aid:Long$2.fromNumber(genAid(e))}:{})).finish(),r,a)}return f}function initEventReportTimer(n,e,r,a,g){let E=0;return setInterval(()=>{const u=Date.now()-E>forceReportInterval,B=triggerReport(n,e,r,a,g,u);B&&(E=B)},reportInterval)}function clearEventReportTimer(n){clearInterval(n)}async function addReportEvents(n,e,r,a,g,E,u){if(!E)return;const B=ProtoPackets[e].encode(r).finish(),f=ReportId[e],m={id:Long$2.fromNumber(f),msg:B},y="".concat(eventsCacheKeyPrefix).concat(u);initStorageCache(y);const D=storageEvents.get(y);D.push(m),storageEvents.set(y,D),D.length>=maxReportCount&&triggerReport(u,n,a,g,!0)}async function sendReport(n,e,r,a,g,E){if(!E)return;arguments.length>6&&arguments[6]!==void 0&&arguments[6]&&await delay$1(1e4);const u=g&&getPrivateSettingsPortAndDomains(g),B=u==null?void 0:u.hostname;addReportEvents(n,e,r,a,g,E,"0"),triggerReport("0",n,a,B,E,!0)}function getElapse(n){return n===void 0?Long$2.fromNumber(0):Long$2.fromNumber(Date.now()-n)}function rateLimit(n){let e=1,r=asapScheduler;(arguments.length<=1?0:arguments.length-1)==1?typeof(arguments.length<=1?void 0:arguments[1])=="number"?e=arguments.length<=1?void 0:arguments[1]:r=arguments.length<=1?void 0:arguments[1]:(arguments.length<=1?0:arguments.length-1)==2&&(e=arguments.length<=1?void 0:arguments[1],r=arguments.length<=2?void 0:arguments[2]);const a=e||1;return g=>g.pipe(scan((E,u)=>{const B=r.now(),f=B-n;if((E=E.filter(m=>m.until>f)).length>=a){const m=E[0],y=E[E.length-1],D=m.until+n*Math.floor(E.length/a);E.push({delay:y.until<B?D-B:D-y.until,until:D,value:u})}else E.push({delay:0,until:B,value:u});return E},[]),map$1(E=>E[E.length-1]),concatMap(E=>{const u=of(E.value);return E.delay?u.pipe(delay(E.delay,r)):u}))}const SocketError=genError(),deprecatedURI=[URI$1.PingUri,URI$1.PongUri,URI$1.Ping2Uri,URI$1.UserJoinUri,URI$1.UserRespUri,URI$1.UserQuitUri,URI$1.GroupEnterNoticeUri,URI$1.GroupLeaveNoticeUri,URI$1.GroupEventNoticeUri,URI$1.GroupCountNoticeUri,URI$1.UserStatusListUri,URI$1.UserStatusResultUri,URI$1.GroupStatusListUri,URI$1.GroupStatusResultUri,URI$1.GroupAllUsersListUri,URI$1.GroupAllUsersResultUri,URI$1.UserJoinNoticeUri,URI$1.UserQuitNoticeUri,URI$1.UserWaitNoticeUri,URI$1.UserAttributeGetUri,URI$1.UserAttributeRetUri,URI$1.UserAttributeSetUri,URI$1.UserAttributeModUri,URI$1.UserAttributeDelUri,URI$1.UserAttributeRspUri,URI$1.UserAttributeErrUri,URI$1.UserAttributeKeysGetUri,URI$1.UserAttributeKeysRetUri,URI$1.GroupAttributeGetUri,URI$1.GroupAttributeRetUri,URI$1.GroupAttributeSetUri,URI$1.GroupAttributeModUri,URI$1.GroupAttributeDelUri,URI$1.GroupAttributeAltUri,URI$1.GroupAttributeRspUri,URI$1.GroupAttributeErrUri,URI$1.GroupAttributeKeysGetUri,URI$1.GroupAttributeKeysRetUri,URI$1.SubscribeUserStatusUri,URI$1.UnsubscribeUserStatusUri,URI$1.SubscribeResponseUri];class Socket extends EventBase{get address(){return"".concat(this.ip,":").concat(this.EDGE_ENV_PORT[this.env])}constructor(e,r,a,g,E,u){var B,f,m;if(super(E,uniquePrefixedId("Socket-",E.loggerId)),_defineProperty$1(this,"isActiveClose",!1),_defineProperty$1(this,"loggedIn",!1),_defineProperty$1(this,"useNewDomain",void 0),_defineProperty$1(this,"receivedPacket",new Subject),_defineProperty$1(this,"receivedSyncPacket",new Subject),_defineProperty$1(this,"open$",void 0),_defineProperty$1(this,"input$",new Subject),_defineProperty$1(this,"userJoin$",new Subject),_defineProperty$1(this,"EDGE_ENV_PORT",(B=getParameter("EDGE_ENV_PORT"))!==null&&B!==void 0?B:EDGE_ENV_PORT),_defineProperty$1(this,"attemptsSinceLastError",0),_defineProperty$1(this,"message$",new Subject),_defineProperty$1(this,"socket$",void 0),_defineProperty$1(this,"toClose",new Subject),_defineProperty$1(this,"toReconnect",new Subject),_defineProperty$1(this,"sendLogger",void 0),_defineProperty$1(this,"receiveLogger",void 0),_defineProperty$1(this,"ip",void 0),_defineProperty$1(this,"env",void 0),_defineProperty$1(this,"ticket",void 0),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"reConnect",!1),_defineProperty$1(this,"proxyIdx",0),_defineProperty$1(this,"getDomain",()=>{var O;return getEdgeDomain(this.ip,this.useNewDomain,(O=this.context.rtmConfig.privateConfig)===null||O===void 0?void 0:O.originDomains)}),_defineProperty$1(this,"socketReconnector",O=>{const U=F=>(this.attemptsSinceLastError+=1,this.warn("The %s of Env %d reconnecting %s",this.name,this.env,F.message),this.reConnect=!0,timer(SOCKET_RETRY_INTERVAL));return O.pipe(catchError(F=>this.isActiveClose?EMPTY:(this.warn("Env_".concat(this.env,"(").concat(this.name,"): socket connection closed, errorInfo: ").concat(F)),this.loggedIn=!1,this.attemptsSinceLastError>=2?(this.log("ENV_".concat(this.env,"(").concat(this.name,"): will emit connectionFailure")),this.emit("connectionFailure"),this.close(),throwError(F)):this.isActiveClose?EMPTY:(this.log("ENV_".concat(this.env,"(").concat(this.name,"): will emit reconnect")),this.emit("reconnect"),this.useNewDomain=!this.useNewDomain,throwError(F)))),retryWhen(F=>F.pipe(switchMap(U))),tap(()=>{this.reConnect&&this.env===this.context.connSyncEnv&&(this.reConnect=!1)}))}),this.ip=e,this.env=r,this.ticket=a,this.context=g,this.useNewDomain=u??Math.random()>=.5,this.sendLogger=this.genLogger("RTM:MSG:SEND"),this.receiveLogger=this.genLogger("RTM:MSG:RECV"),r!==0&&r!==1)throw new SocketError({ILLEGAL_RTM_ENV:"The env number is out of rtm env count"});const y=this.EDGE_ENV_PORT[r];this.log("Opening websocket address %s for the Env %d, %s",this.ip,this.env,this.name),addReportEvents(this.context.appId,"LinkLoginRequest",{sid:this.context.sid,userId:this.context.uid,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),destServerIp:this.ip,linkId:this.env},(f=this.context.config.cloudProxy||this.context.socketUseProxy)!==null&&f!==void 0&&f,(m=this.context.rtmConfig.privateConfig)===null||m===void 0?void 0:m.eventUploadHosts,this.context.couldReportEvent,this.context.vid);const D=merge(this.input$,this.userJoin$.pipe(rateLimit(LOGIN_QPS_LIMIT)),this.message$).pipe(map$1(O=>Wrapper$1.encode(O).finish())),M=merge(makeWebSocketObservable("",{protocols:[],makeWebSocket:()=>{let O;const U=getParameter("REGISTRAR_USE_WS")?"ws":"wss";if(this.log("registrar websocket use ".concat(U)),!this.context.config.cloudProxy&&!this.context.socketUseProxy||this.context.enablePrivate){const x=parseHost(this.getDomain(),y);O=new WebSocket("".concat(U,"://").concat(x.domain,":").concat(x.port)),O instanceof WebSocket&&(O.addEventListener("close",H=>{this.log("ws onclose, code: %d, reason: '%s', env: %d, name: %s",H.code,H.reason,this.env,this.name)}),O.addEventListener("error",H=>{this.log("ws onerror, env: %d, name: %s, error: %o",this.env,this.name,H)}),O.addEventListener("open",H=>{this.log("ws open, env: %d, name: %s",this.env,this.name)}))}else{var F;if(this.context.cloudProxyServers.length===0)throw this.logError("No cloud proxy server to connect"),new RtmUnavailableError("");const x=null,H=parseHost(getEdgeDomain((isValidEnvString(x)?JSON.parse(x.replace(/-/g,".")):this.context.cloudProxyServers)[this.genProxyIdx()],!1,(F=this.context.rtmConfig.privateConfig)===null||F===void 0?void 0:F.originDomains));let j="".concat(U,"://").concat(H.domain,"/");j=appendQueryParameter(j,"sid",this.context.sid),j=appendQueryParameter(j,"remote_port",y.toString()),j=appendQueryParameter(j,"remote_ip",this.ip),j=appendQueryParameter(j,"token",this.context.key),O=new WebSocket("".concat(j,":").concat(H.port))}return O.binaryType="arraybuffer",O}}),this.toReconnect);this.socket$=race(M,NEVER.pipe(timeout(7e3),catchError(O=>(isTimeout(O)?this.warn("ENV_".concat(this.env,"(").concat(this.name,"): socket open timed out")):this.warn("ENV_".concat(this.env,"(").concat(this.name,"): error occurs of opening socket: ").concat(O)),throwError(O))))).pipe(map$1(O=>{if(O instanceof Error)throw this.warn("Env_%d: Force reconnect the socket",this.env),O;return O(D).pipe(map$1(U=>Wrapper$1.decode(new Uint8Array(U))))}),this.socketReconnector),this.open$=this.socket$.pipe(tap(O=>{this.log("ENV_".concat(this.env,": Websocket opened, addr: ").concat(this.address),this.name),O.subscribe(U=>{let{data:F,uri:x}=U;if(x===URI$1.SyncPacketUri){const oe=getSyncPacketUri(F);return(oe!==102&&oe!==104||logSyncPingPong)&&this.receiveLogger("Env_%d: %s received sync packet uri: %d",this.env,"SyncPacket",oe),void this.receivedSyncPacket.next(F)}const H=uriToPacketName(x),j=Packets[H].decode(F);if(deprecatedURI.includes(x))return void this.receiveLogger("Env_%d: %s, deprecated.",this.env,H);const ee=mergeWith$1({},omit$1(j,"toJSON"),(oe,ae)=>ae instanceof Long$2?longToStringIfNeeded(ae):ae);let ne=!1;if(j instanceof GroupEnterNotice||j instanceof GroupLeaveNotice){const{instance:oe}=j;oe.lessThanOrEqual(UINT32_MAX)&&(ne=!0)}if(j instanceof Message||j instanceof Ack){const{instance:oe,dialogue:ae,sequence:he}=j;(ae.lessThanOrEqual(UINT32_MAX)||oe.lessThanOrEqual(UINT32_MAX)||he.lessThan(1))&&(ne=!0)}ne?this.warn("Env_%d: Illegal %s, abandoned %o",this.env,H,ee):((getParameter("LOG_PING_PONG")||logPingPong||H!=="Pong3")&&this.receiveLogger("Env_%d: %s %o",this.env,H,ee),this.receivedPacket.next([H,j]))},()=>{})}),mapTo(void 0),takeUntil(this.toClose),share())}sendPacket(e,r){if(getParameter("LOG_PING_PONG")||logPingPong||e!=="Ping3"){const g=mapValues$1(r,E=>E instanceof Long$2?longToStringIfNeeded(E):E);this.sendLogger("Env_%d: %s %o",this.env,e,g)}const a=getWrappedByName(e,r);e==="UserJoin2"?this.userJoin$.next(a):e==="Message"?this.message$.next(a):this.input$.next(a)}close(){this.log("Closing websocket, name: %s, env: %d",this.name,this.env),this.isActiveClose=!0,this.loggedIn=!1,this.toClose.next()}fromReceived(e){return this.receivedPacket.pipe(filter(r=>{let[a]=r;return a===e}),map$1(r=>{let[,a]=r;return a}))}sendSyncPacket(e){const r=getSyncWrapped(e),a=getSyncPacketUri(e);(a!==102&&a!==104||logSyncPingPong)&&this.sendLogger("Env_%d: %s send  sync packet uri: %d",this.env,"SyncPacket",a),this.input$.next(r)}forceReconnect(){this.toReconnect.next(new SocketError({FORCE_RECONNECTING:"Connection seems broken, try force reconnecting"}))}genProxyIdx(){const e=this.proxyIdx;return this.proxyIdx=(e+1)%this.context.cloudProxyServers.length,e}}const getAreaCodeByApUrl=n=>{const e=getKeys(AREA_DOMAIN_MAP),r=getDomain(n);for(let a=0;a<e.length;a++){const g=e[a],E=AREA_DOMAIN_MAP[g];if(E!=null&&E.AP_DOMAINS.includes(r)||E!=null&&E.AP_BACKUP_DOMAINS.includes(r)||E!=null&&E.PROXY_AP.includes(r))return[E.CODE]}return[AreaCodeMap.CHINA,AreaCodeMap.GLOBAL]},ACCESS_POINT_CODE=101,UNI_LBS_CODE=201,ApResErrorMessage={INVALID_APP_ID:"Illegal App ID",APP_ID_NO_ACTIVATED:"The vendor is not activated",DYNAMIC_KEY_NOT_ENABLED:"The vendor did not enable the dynamic key, but uses the dynamic key",NO_AUTHORIZED:"Signature verification failed",DYNAMIC_ENABLED_BUT_STATIC_KEY:"The vendor enabled the dynamic key, but uses the static key",INVALID_USER_ID:"The user ID to login does not match the token",INVALID_TOKEN_UID:"UID in the security key(token) is not valid",TOKEN_TIMEOUT:"Dynamic key expired",TOKEN_EXPIRED:"The token has expired",CANNOT_MEET_AREA_DEMAND:"Cannot allocate to meet the requirements of the given area limit",INIT_APPID_MISMATCH:"The appid in the init request does not match the appid in the token",FORBIDDEN_REGION:"Forbidden to access the request in this area"},ApResErrorCode={5:"INVALID_APP_ID",7:"INVALID_USER_ID",9:"NO_AUTHORIZED",10:"TOKEN_TIMEOUT",11:"APP_ID_NO_ACTIVATED",12:"INVALID_TOKEN_UID",13:"TOKEN_EXPIRED",14:"DYNAMIC_KEY_NOT_ENABLED",15:"DYNAMIC_ENABLED_BUT_STATIC_KEY",18:"FORBIDDEN_REGION",19:"CANNOT_MEET_AREA_DEMAND",23:"INIT_APPID_MISMATCH"},UniLbsNonRetryableErrorCodes=[100,101,102],AP_NO_REGEX=/web-(\d)/;function handleUniLbsError(n,e){let r=n;if(n.toString().length>4){const E=n.toString().padStart(8,"0"),u=parseInt(E.slice(0,4),10),B=parseInt(E.slice(4,8),10);if(u===UNI_LBS_CODE)r=B;else if(u===ACCESS_POINT_CODE&&!UniLbsNonRetryableErrorCodes.includes(B)){const{code:f,reason:m}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES);return throwError(new RtmUnavailableError(this.operation,[m],f))}}const a=r.toString();if(!Object.keys(ApResErrorCode).includes(a)){const{code:E,reason:u}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_REJECTED),B=new RtmUnavailableError(this.operation,[u+"apCode is ".concat(r,", unexpected code.")],{code:E,serverCode:r});return B.serverCode=r,throwError(B)}const g=ApResErrorCode[a];switch(this.warn("%s: %s's error type is %s",this.name,e,g),g){case"INVALID_APP_ID":case"APP_ID_NO_ACTIVATED":case"DYNAMIC_KEY_NOT_ENABLED":{const{code:E,reason:u}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_APP_ID),B=new RtmUnauthenticatedError(this.operation,[u+" detail: ".concat(g,", ").concat(ApResErrorMessage[g])],E);return B.serverCode=E,throwError(B)}case"NO_AUTHORIZED":case"DYNAMIC_ENABLED_BUT_STATIC_KEY":case"INVALID_USER_ID":case"INVALID_TOKEN_UID":{const{code:E,reason:u}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN),B=new RtmUnauthenticatedError(this.operation,[u+" detail: ".concat(g,", ").concat(ApResErrorMessage[g])],E);return B.serverCode=E,throwError(B)}case"TOKEN_TIMEOUT":case"TOKEN_EXPIRED":{const{code:E,reason:u}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED),B=new RtmUnauthenticatedError(this.operation,[u+" detail: ".concat(g,", ").concat(ApResErrorMessage[g])],E);return B.serverCode=E,throwError(B)}case"CANNOT_MEET_AREA_DEMAND":{const E=getAreaCodeByApUrl(e);E.forEach(m=>this.failedAreas.add(m));const u=areaConfig===void 0?2:areaConfig.CODES.size,{code:B,reason:f}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES);if(this.failedAreas.size===u){const m=new RtmInvalidArgumentError(this.operation,[f+" detail: ".concat(g,", ").concat(ApResErrorMessage[g])],B);return m.serverCode=B,throwError(m)}return throwError(new RtmUnavailableError(this.operation,[f+"".concat(this.name," ").concat(E.join(", ")," cannot meet requirement")],B))}case"INIT_APPID_MISMATCH":{const{code:E,reason:u}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INCONSISTENT_APPID),B=new RtmUnavailableError(this.operation,[u],E);return B.serverCode=E,throwError(B)}default:{const{code:E,reason:u}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_REJECTED),B=new RtmUnavailableError(this.operation,[u+" detail: ".concat(g,", ").concat(ApResErrorMessage[g])],E);return B.serverCode=E,throwError(B)}}}const AP_DETAIL_KEY_BUSINESS_TYPE=26;class AccessPoint extends EventBase{constructor(e,r){var a,g;let E=arguments.length>2&&arguments[2]!==void 0&&arguments[2];super(r,"AccessPoint"),g=this,_defineProperty$1(this,"operation",OperationName.login),_defineProperty$1(this,"handleUniLbsError",handleUniLbsError.bind(this)),_defineProperty$1(this,"getApEdgeInfo$",void 0),_defineProperty$1(this,"getApEdgeInfoEndFirst$",void 0),_defineProperty$1(this,"apFinish$",new Subject),_defineProperty$1(this,"retryCount",0),_defineProperty$1(this,"failedAreas",new Set),_defineProperty$1(this,"usedUrl",[]),_defineProperty$1(this,"newDomainUsed",!1),_defineProperty$1(this,"backupNewDomainUsed",!1),_defineProperty$1(this,"privateAPs",void 0),_defineProperty$1(this,"restDomains",[]),_defineProperty$1(this,"AP_DOMAINS_IPV6",[]),_defineProperty$1(this,"AP_DOMAINS_NEW",[]),_defineProperty$1(this,"AP_DOMAINS_IO",[]),_defineProperty$1(this,"AP_BACKUP_DOMAINS_NEW",[]),_defineProperty$1(this,"AP_BACKUP_DOMAINS_IO",[]),_defineProperty$1(this,"genUrl",u=>{const B=u??(this.context.useAp4Ipv6Reg?this.AP_DOMAINS_IPV6:this.AP_DOMAINS_NEW),f=u??(this.context.useAp4Ipv6Reg?this.AP_DOMAINS_IPV6:this.AP_DOMAINS_IO);return areaConfig===void 0?zip(of(...shuffle$1([...B,...f].map(getApUrl)))).pipe(concatMap(m=>of(...m))):of(...areaConfig.AP_DOMAINS.slice(0,3).map(getApUrl))}),_defineProperty$1(this,"genBackupUrl",u=>{const B=u??(this.context.useAp4Ipv6Reg?this.AP_DOMAINS_IPV6:this.AP_BACKUP_DOMAINS_NEW),f=u??(this.context.useAp4Ipv6Reg?this.AP_DOMAINS_IPV6:this.AP_BACKUP_DOMAINS_IO);return areaConfig===void 0?zip(of(...shuffle$1([...B,...f].map(getApUrl)))).pipe(concatMap(m=>of(...m))):of(...areaConfig.AP_BACKUP_DOMAINS.slice(0,3).map(getApUrl))}),_defineProperty$1(this,"getApUrl$",(u,B)=>{var f,m;return this.genUrl(B).pipe(filter(y=>(!this.newDomainUsed||!y.includes("sd-rtn.com"))&&(y.includes("sd-rtn.com")&&(this.newDomainUsed=!0),!some$1(this.usedUrl,D=>{var M;return D===((M=y.match(AP_NO_REGEX))===null||M===void 0?void 0:M[1])}))),tap(y=>{if(areaConfig===void 0){var D;const M=(D=y.match(AP_NO_REGEX))===null||D===void 0?void 0:D[1];typeof M=="string"&&this.usedUrl.push(M)}}),take(u?Math.max(getParameter("RECONNECTING_AP_NUM"),(f=areaConfig==null?void 0:areaConfig.CODES.size)!==null&&f!==void 0?f:0):(m=areaConfig==null?void 0:areaConfig.CODES.size)!==null&&m!==void 0?m:AP_CONCURRENT_REQ_NUM),throwIfEmpty(()=>AccessPoint.runOutOfUrlSymbol),catchError((y,D)=>(this.newDomainUsed=!1,y===AccessPoint.runOutOfUrlSymbol?(this.usedUrl=[],D):throwError(y))))}),_defineProperty$1(this,"getBackupApUrl$",(u,B)=>{var f,m;return this.genBackupUrl(B).pipe(filter(y=>(!this.backupNewDomainUsed||!y.includes("sd-rtn.com"))&&(y.includes("sd-rtn.com")&&(this.backupNewDomainUsed=!0),!some$1(this.usedUrl,D=>{var M;return D===((M=y.match(AP_NO_REGEX))===null||M===void 0?void 0:M[1])}))),tap(y=>{if(areaConfig===void 0){var D;const M=(D=y.match(AP_NO_REGEX))===null||D===void 0?void 0:D[1];typeof M=="string"&&this.usedUrl.push(M)}}),take(u?Math.max(getParameter("RECONNECTING_AP_NUM"),(f=areaConfig==null?void 0:areaConfig.CODES.size)!==null&&f!==void 0?f:0):(m=areaConfig==null?void 0:areaConfig.CODES.size)!==null&&m!==void 0?m:AP_CONCURRENT_REQ_NUM),throwIfEmpty(()=>AccessPoint.runOutOfUrlSymbol),catchError((y,D)=>(this.backupNewDomainUsed=!1,y===AccessPoint.runOutOfUrlSymbol?(this.usedUrl=[],D):throwError(y))))}),_defineProperty$1(this,"getProxyApUrl$",(u,B)=>{var f,m;return of(...(B??((areaConfig==null?void 0:areaConfig.PROXY_AP.slice(0,3))||["ap-proxy-1.agora.io","ap-proxy-2.agora.io"])).map(getApUrl)).pipe(take(u?Math.max(getParameter("RECONNECTING_AP_NUM"),(f=areaConfig==null?void 0:areaConfig.CODES.size)!==null&&f!==void 0?f:0):(m=areaConfig==null?void 0:areaConfig.CODES.size)!==null&&m!==void 0?m:AP_CONCURRENT_REQ_NUM))}),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"reportIntervalId",void 0),_defineProperty$1(this,"fetchCloudProxy",(u,B)=>{const f=uniquePrefixedId("AP-",this.loggerId);this.log("The AccessPoint requests %s(%s)",u,f);const m=new AbortController;return this.apFinish$.subscribe(()=>m.abort()),defer(async()=>{const y=getRandomInt(0,Number.MAX_SAFE_INTEGER);return this.log("%s request opid: %d",f,y),this.context.sendReport("ApRequest",{sid:this.context.sid,userId:this.context.uid,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),apAddr:u,opId:Long$2.fromNumber(y),envId:0,flag:128,version:VERSION_NO,subVersion:SUBVERSION,connectionsequence:Long$2.fromNumber(0),rtmapflag:Long$2.fromNumber(0)}),postWithAbortSignal(u,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"90","Content-Type":"application/json"},body:{sid:this.context.sid,opid:y,appid:this.context.appId,client_ts:Math.ceil(Date.now()/1e3),request_bodies:[{uri:22,buffer:{service_ids:[7,16],key:B??this.context.key,cname:this.context.uid,uid:0,detail:_objectSpread2({},areaConfig===void 0?{11:[AreaCodeMap.CHINA,AreaCodeMap.GLOBAL].join(","),12:"1",[AP_DETAIL_KEY_BUSINESS_TYPE]:"RTM2"}:{11:Array.from(areaConfig.CODES).map(D=>D===AreaCodeMap.OVERSEA?"".concat(AreaCodeMap.ASIA,",").concat(AreaCodeMap.EUROPE,",").concat(AreaCodeMap.AFRICA,",").concat(AreaCodeMap.NORTH_AMERICA,",").concat(AreaCodeMap.SOUTH_AMERICA,",").concat(AreaCodeMap.OCEANIA):D).join(","),12:"1",[AP_DETAIL_KEY_BUSINESS_TYPE]:"RTM2"})}}]},signal:m.signal})}).pipe(catchError(y=>(y.name!=="AbortError"&&this.logError("The ProxyAP request reg server failure, %s",y),EMPTY)),mergeMap(async y=>{let{responseText:D}=y;const M=JSON.parse(D);this.log("The %s response is %o",f,M);const{response_body:O}=M;if(O===void 0||O.length===0||O.some(He=>{var Se;return((Se=He.buffer)===null||Se===void 0?void 0:Se.code)===void 0||He.uri!==23})){const{code:He,reason:Se}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_REJECTED);throwError(new RtmUnavailableError(this.operation,[Se+"cloud proxy response_body not valid"],He))}const U=O.filter(He=>He.buffer.code!==0);if(U.length!==0){const He=U.find(Se=>Se.buffer.flag===128);return He!==void 0?this.handleUniLbsError(He.buffer.code,u):(this.logError("cloud proxy error response"),this.handleUniLbsError(U[0].buffer.code,u))}let F=[];for(let He=0;He<O.length;He++){var x,H;const Se=O[He];var j,ee,ne;if((Se==null||(x=Se.buffer)===null||x===void 0?void 0:x.flag)===262144)(j=Se.buffer)===null||j===void 0||(j=j.edges_services)===null||j===void 0||(ee=(ne=j).forEach)===null||ee===void 0||ee.call(ne,ge=>{let{ip:Ye}=ge;isValidIp(Ye)&&this.context.cloudProxyServers.indexOf(Ye)===-1&&(this.log("got cloud proxy server: %s",Ye),this.context.cloudProxyServers.push(Ye))});else if((Se==null||(H=Se.buffer)===null||H===void 0?void 0:H.flag)===128){var oe,ae,he,fe;for(let ge=0,Ye=Se.buffer.edges_services;ge<Ye.length;ge++){const q=Ye[ge];F.some(me=>me.ip===q.ip)||F.push({ip:q.ip,ticket:Se.buffer.cert})}this.context.rtmArea=(oe=(ae=Se.buffer)===null||ae===void 0||(ae=ae.detail)===null||ae===void 0?void 0:ae[9])!==null&&oe!==void 0?oe:"",this.context.vid=(he=(fe=Se.buffer)===null||fe===void 0||(fe=fe.detail)===null||fe===void 0?void 0:fe[8])!==null&&he!==void 0?he:"",setVidParameter(this.context.appId,this.context.vid)}}const Le=getParameter("EDGE_IP_LIST");return this.log("registrar EDGE_IP_LIST: ".concat(Le," ")),typeof Le=="string"&&(F=JSON.parse(Le).map(Se=>({ip:Se,ticket:F[0].ticket}))),of(...F,queueScheduler)}),catchError(y=>isRtmError(y)?throwError(y):EMPTY),mergeAll(),filter(y=>y!==void 0&&typeof y.ip=="string"&&typeof y.ticket=="string"&&isValidIp(y.ip)))}),_defineProperty$1(this,"fetchAp",(u,B)=>{const f=uniquePrefixedId("AP-",this.loggerId);this.log("The AccessPoint requests %s(%s)",u,f);const m=new AbortController;this.apFinish$.subscribe(()=>m.abort());const y=getRandomInt(0,Number.MAX_SAFE_INTEGER);return defer(async()=>(this.log("%s request opid: %d",f,y),this.context.sendReport("ApRequest",{sid:this.context.sid,userId:this.context.uid,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),apAddr:u,opId:Long$2.fromNumber(y),envId:0,flag:128,version:VERSION_NO,subVersion:SUBVERSION,connectionsequence:Long$2.fromNumber(0),rtmapflag:Long$2.fromNumber(0)}),postWithAbortSignal(u,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"69","Content-Type":"application/json"},body:{flag:128,opid:y,key:B||this.context.key,cname:this.context.uid,detail:_objectSpread2({},areaConfig===void 0?{11:[AreaCodeMap.CHINA,AreaCodeMap.GLOBAL].join(","),12:"1",[AP_DETAIL_KEY_BUSINESS_TYPE]:"RTM2"}:{11:Array.from(areaConfig.CODES).map(D=>D===AreaCodeMap.OVERSEA?"".concat(AreaCodeMap.ASIA,",").concat(AreaCodeMap.EUROPE,",").concat(AreaCodeMap.AFRICA,",").concat(AreaCodeMap.NORTH_AMERICA,",").concat(AreaCodeMap.SOUTH_AMERICA,",").concat(AreaCodeMap.OCEANIA):D).join(","),12:"1",[AP_DETAIL_KEY_BUSINESS_TYPE]:"RTM2"}),uid:0,sid:this.context.sid},signal:m.signal}))).pipe(catchError(D=>(this.context.addReportEvents("ApEvent",{sid:this.context.sid,userId:this.context.uid,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),apAddr:u,linkServerList:[],serverErrCode:10,flag:128,envId:0,opId:Long$2.fromNumber(y),errCode:0,area:"",isp:"",version:VERSION_NO,subVersion:SUBVERSION,connectionsequence:Long$2.fromNumber(0),localWanIp:"",responseTime:0,apLinkType:"tcp",resultcount:0,validresultcount:0,newvalidresultcount:0}),D.name!=="AbortError"&&this.logError("The AP request reg server failure, %s",D),EMPTY)),mergeMap(async D=>{var M;let{responseText:O}=D;const U=JSON.parse(O);this.log("The %s response is %o",f,U);const{code:F,addresses:x,detail:H}=U;if(this.context.vid=(M=H[8])!==null&&M!==void 0?M:"",setVidParameter(this.context.appId,this.context.vid),this.context.couldReportEvent){var j,ee;const ae=initEventReportTimer(this.context.vid,this.context.appId,(j=this.context.config.cloudProxy)!==null&&j!==void 0&&j,(ee=this.context.rtmConfig.privateConfig)===null||ee===void 0?void 0:ee.eventUploadHosts,this.context.couldReportEvent);this.reportIntervalId=ae}if(this.context.addReportEvents("ApEvent",{sid:this.context.sid,userId:this.context.uid,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),apAddr:u,linkServerList:x.map(ae=>ae.ip),serverErrCode:F,flag:128,envId:0,opId:Long$2.fromNumber(y),errCode:0,area:H[9],isp:H[2],version:VERSION_NO,subVersion:SUBVERSION,connectionsequence:Long$2.fromNumber(0),localWanIp:"",responseTime:0,apLinkType:"tcp",resultcount:x.length,validresultcount:x.length,newvalidresultcount:x.length}),this.info(U),F!==0)return this.handleUniLbsError(F,u);let ne=x;const oe=getParameter("EDGE_IP_LIST");return this.log("registrar EDGE_IP_LIST: ".concat(oe)),oe!=null&&oe.length&&(ne=oe.map(he=>he.replace(/-/g,".")).map(he=>({ip:he,ticket:ne[0].ticket}))),ne.length===0?throwError(new Error("No available edge address to connect")):(this.context.rtmArea=H==null?void 0:H[9],of(...ne,queueScheduler))}),mergeAll(),catchError(D=>isRtmError(D)?throwError(D):EMPTY),filter(D=>D!==void 0&&typeof D.ip=="string"&&typeof D.ticket=="string"))}),this.context=e,this.privateAPs=(a=this.context.rtmConfig.privateConfig)===null||a===void 0?void 0:a.accessPointHosts,this.resetRestDomains(),this.getApEdgeInfoEndFirst$=function(){let u=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return timer(0,u||E?getParameter("RECONNECTING_AP_INTERVAL"):2e3).pipe(take(1),tap(()=>{g.retryCount+=1}),mergeMap(()=>g.context.config.cloudProxy||g.context.socketUseProxy?g.getProxyApUrl$(u||E,g.privateAPs):(g.retryCount>=4&&(g.retryCount=0),(areaConfig===void 0?[...g.AP_DOMAINS_IO,...g.AP_DOMAINS_NEW].length>0:g.retryCount<=3)?g.getApUrl$(u||E,g.privateAPs):g.getBackupApUrl$(u||E,g.privateAPs))),mergeMap(B=>g.context.config.cloudProxy||g.context.socketUseProxy?g.fetchCloudProxy(B):g.fetchAp(B)),catchError(B=>(B instanceof TimeoutError&&g.warn("AP request timeout"),throwError(B))),distinct(B=>{let{ip:f}=B;return f}),takeUntil(g.apFinish$))},this.getApEdgeInfo$=u=>timer(0,u||E?getParameter("RECONNECTING_AP_INTERVAL"):2e3).pipe(take(1),tap(()=>{this.retryCount+=1}),mergeMap(()=>this.context.config.cloudProxy||this.context.socketUseProxy?this.getProxyApUrl$(u||E,this.privateAPs):(areaConfig===void 0?[...this.AP_DOMAINS_IO,...this.AP_DOMAINS_NEW].length>0:this.retryCount<=3)?this.getApUrl$(u||E,this.privateAPs):this.getBackupApUrl$(u||E,this.privateAPs)),mergeMap(B=>(this.updateApDomainArrays(B),this.includeDomain(B,"backup")&&!this.context.useAp4Ipv6Reg&&(this.context.useAp4Ipv6Reg=!0),this.includeDomain(B,"ipv6")&&(this.context.useAp4Ipv6Reg=!1,this.resetRestDomains()),(this.context.config.cloudProxy||this.context.socketUseProxy?this.fetchCloudProxy(B):this.fetchAp(B)).pipe())),catchError(B=>(B instanceof TimeoutError&&this.warn("AP request timeout"),throwError(B))),distinct(B=>{let{ip:f}=B;return f}),takeUntil(this.apFinish$))}clearUp(){this.failedAreas.clear(),this.retryCount=0}includeDomain(e,r){let a=!1;return(r==="ipv6"?AP_DOMAINS_IPV6:[...AP_BACKUP_DOMAINS_IO,...AP_BACKUP_DOMAINS_NEW]).forEach(g=>{e.includes(g)&&(a=!0)}),a}updateApDomainArrays(e){this.restDomains=this.restDomains.filter(r=>!e.includes(r)),this.AP_DOMAINS_IPV6=this.AP_DOMAINS_IPV6.filter(r=>!e.includes(r)),this.AP_DOMAINS_NEW=this.AP_DOMAINS_NEW.filter(r=>!e.includes(r)),this.AP_DOMAINS_IO=this.AP_DOMAINS_IO.filter(r=>!e.includes(r)),this.AP_BACKUP_DOMAINS_NEW=this.AP_BACKUP_DOMAINS_NEW.filter(r=>!e.includes(r)),this.AP_BACKUP_DOMAINS_IO=this.AP_BACKUP_DOMAINS_IO.filter(r=>!e.includes(r))}resetRestDomains(){this.AP_DOMAINS_IPV6=[...AP_DOMAINS_IPV6],this.AP_DOMAINS_NEW=[...AP_DOMAINS_NEW],this.AP_DOMAINS_IO=[...AP_DOMAINS_IO],this.AP_BACKUP_DOMAINS_NEW=[...AP_BACKUP_DOMAINS_NEW],this.AP_BACKUP_DOMAINS_IO=[...AP_BACKUP_DOMAINS_IO],this.restDomains=[...this.AP_DOMAINS_NEW,...this.AP_DOMAINS_IO,...this.AP_DOMAINS_IPV6,...this.AP_BACKUP_DOMAINS_NEW,...this.AP_BACKUP_DOMAINS_IO]}}_defineProperty$1(AccessPoint,"runOutOfUrlSymbol",Symbol("AP urls are used up"));const ConnectionError=genError();class Connection extends EventBase{constructor(e,r,a){var g;super(r,"Connection"),_defineProperty$1(this,"apClient",void 0),_defineProperty$1(this,"startApRequest$",new Subject),_defineProperty$1(this,"endLogin$",new Subject),_defineProperty$1(this,"lastOpenSockets",[new ReplaySubject(1),new ReplaySubject(1)]),_defineProperty$1(this,"EDGE_ENV_PORT",(g=getParameter("EDGE_ENV_PORT"))!==null&&g!==void 0?g:EDGE_ENV_PORT),_defineProperty$1(this,"curOpenSockets",[void 0,void 0]),_defineProperty$1(this,"ipIterator",0),_defineProperty$1(this,"loginSocketOpenFailureCount",0),_defineProperty$1(this,"firstEnv",Math.random()>=.5?1:0),_defineProperty$1(this,"firstSocketOpener",void 0),_defineProperty$1(this,"secondSocketOpener",void 0),_defineProperty$1(this,"firstOpenKeeperSubject",new Subject),_defineProperty$1(this,"secondOpenKeeperSubject",new Subject),_defineProperty$1(this,"blacklistedIP",{}),_defineProperty$1(this,"edgeInfoReplayed",void 0),_defineProperty$1(this,"firstEnvOpenSocket",void 0),_defineProperty$1(this,"firstOpenKeeperSub",void 0),_defineProperty$1(this,"secondOpenKeeperSub",void 0),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"logger",void 0),_defineProperty$1(this,"cancelLogin",!1),this.context=e,this.logger=r,this.apClient=new AccessPoint(this.context,r),this.apClient.apFinish$.subscribe(()=>{this.log("Ap client fetch finished")});const E=[];let u;this.edgeInfoReplayed=this.startApRequest$.pipe(tap(()=>{if(this.log("start request ap by getApEdgeInfo$"),this.cancelLogin)throw this.handleCancelLogin()}),switchMap(()=>this.apClient.getApEdgeInfo$(a).pipe(retryWhen(B=>B.pipe(tap(f=>{if(isRtmError(f))throw f}),delay(a?getParameter("RECONNECTING_AP_INTERVAL"):900),takeUntil(this.apClient.apFinish$))),filter(B=>{var f;return!some$1(E,B)&&((f=this.blacklistedIP[B.ip])!==null&&f!==void 0?f:0)<=1}),tap(B=>{E.push(B),this.log("An edge info got %o",B)}),tap({error:B=>{this.logError("get edge info error %o",B),this.emit("connectionInitFailure",B)}}),finalize(()=>{this.apClient.clearUp()}))),takeUntil(this.endLogin$),shareReplay()),this.firstEnvOpenSocket=this.edgeInfoReplayed.pipe(mergeMap(B=>{if(B===void 0)return throwError(new Error("Invalid edge info"));const{ip:f,ticket:m}=B;this.emit("syncTicketUpdated",{ticket:atob(m),vid:this.context.vid}),this.log("create first socket ip: %s, env: %s",f,this.firstEnv);const y=new Socket(f,this.firstEnv,m,this.context,r,u);if(this.firstEnv=this.firstEnv===1?0:1,y.once("connectionFailure",()=>this.onSocketConnectionFailure(y)),!a&&getParameter("ENABLE_EDGE_AUTO_FALLBACK")&&!this.context.config.cloudProxy){const D=Date.now();let M;y.on("reconnect",()=>{var O;this.loginSocketOpenFailureCount+=1,(O=M)!==null&&O!==void 0||(M=Date.now()-D),M<500&&this.loginSocketOpenFailureCount>1&&this.context.rtmConfig.privateConfig===void 0&&this.context.socketUseProxy===!0?(this.context.useAp4Ipv6Reg=!0,this.context.socketUseProxy=!1):M<500&&this.loginSocketOpenFailureCount>1&&this.context.rtmConfig.privateConfig===void 0&&(this.context.socketUseProxy=!0)})}return u=!y.useNewDomain,y.open$.pipe(mapTo(y))}),takeUntil(this.apClient.apFinish$),take(1),tap(B=>{this.log("The first websocket of ENV_%d opened to %s:%d",B.env,B.ip,this.EDGE_ENV_PORT[B.env]),this.curOpenSockets[B.env]=B,this.lastOpenSockets[B.env].next(B),this.firstEnv=B.env,this.openSecondSocket(B.env,B.ip,B.useNewDomain)}),share()),this.firstSocketOpener=this.firstEnvOpenSocket.pipe(mergeMap(B=>B.open$.pipe(tap(()=>{this.log("The websocket of first ENV_%d re-opened to %s:%d",B.env,B.ip,this.EDGE_ENV_PORT[B.env]),this.curOpenSockets[B.env]=B,this.lastOpenSockets[B.env].next(B)}))),tap(()=>{this.log("first socket re opened")})),this.subKeeperSubject()}subKeeperSubject(){const e=this.firstOpenKeeperSubject.pipe(switchAll()).pipe(tap(()=>{this.log("firstOpenKeeperSubject switch æå¼ååºæ¥")}));this.firstOpenKeeperSub&&this.firstOpenKeeperSub.unsubscribe(),this.firstOpenKeeperSub=e.subscribe({error:this.logError})}unsubscribeSecondOpenKeeperSub(){var e;(e=this.secondOpenKeeperSub)===null||e===void 0||e.unsubscribe()}initConnection(){this.unsubscribeSecondOpenKeeperSub(),this.log("initConnection, and start firstSocketOpener, firstOpenKeeperSubject emit next"),this.firstOpenKeeperSubject.next(this.firstSocketOpener),this.startApRequest$.next(void 0)}closeSocket(e,r){if(![0,1].includes(e))throw new CommonError({INVALID_ENV:"The env argument is not 0 or 1"});let a;e===this.firstEnv?(a=this.firstOpenKeeperSub,this.firstOpenKeeperSub=void 0):(a=this.secondOpenKeeperSub,this.secondOpenKeeperSub=void 0);const g=this.curOpenSockets[e];this.curOpenSockets[e]=void 0,g&&(g.isActiveClose=!0,setTimeout(()=>{g.close()},r)),a!==void 0&&setTimeout(()=>{var E;(E=a)===null||E===void 0||E.unsubscribe()},r)}waitClosing(e){return e.isActiveClose=!0,e.open$.pipe(ignoreElements(),catchError(r=>r.message===lib_es5.normalClosureMessage?EMPTY:throwError(r)),timeout(LOGOUT_SOCKET_CLOSE_TIMEOUT),catchError(r=>r instanceof TimeoutError?(this.warn("Force closing the ENV_%d connection",e.env),EMPTY):throwError(r)))}onSocketConnectionFailure(e){const r=[0,1].filter(g=>g!==e.env)[0],a=this.curOpenSockets[r];e.env===this.context.connSyncEnv&&(this.context.connSyncEnv=void 0,this.warn("change connSyncEnv: %d to undefined in onSocketConnectionFailure",e.env)),this.log("ENV_".concat(e.env,"(").concat(e.name,"): connectionFailure received, otherSocketState: ").concat(a==null?void 0:a.loggedIn)),a&&a.loggedIn?this.reopenSocketWithApRequest(e.env):(this.log("ENV_".concat(e.env,"(").concat(e.name,"): will emit socketsFailure")),a&&this.closeSocket(a.env,0),this.emit("socketsFailure"))}openSecondSocket(e,r,a){const g=e===1?0:1;this.secondSocketOpener=this.edgeInfoReplayed.pipe(reduce((u,B)=>[...u,B],[]),map$1(u=>sortBy$1(u,B=>{let{ip:f}=B;return calIpDistance(r,f)}).slice(-1)[0]),mergeMap(u=>{if(u===void 0)return throwError(new Error("Invalid edge info"));const{ip:B,ticket:f}=u,m=this.curOpenSockets[e];m!=null&&m.loggedIn||this.warn("first socket is not logged in, can not open second socket, unsubscribe secondOpenKeeperSub"),this.log("create second socket. ip: %s, env: %s",B,g);const y=new Socket(B,g,f,this.context,this.logger,a);return y.on("connectionFailure",()=>this.onSocketConnectionFailure(y)),y.open$.pipe(tap(()=>{this.lastOpenSockets[g].next(y),this.curOpenSockets[g]=y,this.log("The second websocket of ENV_%d opened to %s:%d",y.env,y.ip,this.EDGE_ENV_PORT[y.env])}))}),share());const E=this.secondOpenKeeperSubject.pipe(switchAll());this.secondOpenKeeperSub=E.subscribe({error:this.logError}),this.secondOpenKeeperSubject.next(this.secondSocketOpener)}reopenSocketWithApRequest(e){const r=[0,1].filter(B=>B!==e)[0],a=this.curOpenSockets[r];if(a===void 0)return;const g=a.ip;let E;const u=(B=>B.pipe(throwIfEmpty(()=>new ConnectionError({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})),retryWhen(f=>f.pipe(tap(m=>{if(m.code!==RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED)if(m.code!==RTMErrorCode.RTM_ERROR_LOGIN_NOT_AUTHORIZED){if(isRtmError(m))throw m}else this.apClient.apFinish$.next(void 0);else this.apClient.apFinish$.next(void 0)}),delay(getParameter("RECONNECTING_AP_INTERVAL")),takeUntil(timer(15e3)))),tap(f=>{this.log("An edge info got %o",f)}),finalize(()=>{this.apClient.clearUp()})))(this.apClient.getApEdgeInfoEndFirst$(!0)).pipe(reduce((B,f)=>[...B,f],[]),map$1(B=>{const f=sortBy$1(B,m=>{let{ip:y}=m;return calIpDistance(g,y)});return f.length-1>=this.ipIterator?f.slice(-this.ipIterator++-1)[0]:(this.ipIterator=0,f.slice(-1)[0])}),throwIfEmpty(),mergeMap(B=>{if(B===void 0)return throwError(new Error("Invalid edge info"));const{ip:f,ticket:m}=B;this.emit("syncTicketUpdated",{ticket:atob(m),vid:this.context.vid}),this.log("reopen socket ip: %s, env: %s",f,e);const y=new Socket(f,e,m,this.context,this.logger,E);return y.on("connectionFailure",()=>this.onSocketConnectionFailure(y)),E=!y.useNewDomain,y.open$.pipe(mapTo(y))}),mergeMap(B=>B.open$.pipe(tap(()=>{this.log("The websocket of ENV_%d re-opened to %s:%d using ap",B.env,B.ip,this.EDGE_ENV_PORT[B.env]),this.curOpenSockets[e]=B,this.lastOpenSockets[e].next(B)}))),share());e===this.firstEnv?(this.firstOpenKeeperSubject.next(u),this.log("reopenSocketWithAp, and start openSocket$, firstOpenKeeperSubject emit next")):this.secondOpenKeeperSubject.next(u)}handleCancelLogin(){const e=OperationName.login,{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_CANCELED);return new RtmUnavailableError(e,[a],r)}stopLogin(){this.endLogin$.next()}}var isMobile$2={exports:{}};isMobile$2.exports=isMobile,isMobile$2.exports.isMobile=isMobile,isMobile$2.exports.default=isMobile;const mobileRE=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,notMobileRE=/CrOS/,tabletRE=/android|ipad|playbook|silk/i;function isMobile(n){n||(n={});let e=n.ua;if(e||typeof navigator>"u"||(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string")return!1;let r=mobileRE.test(e)&&!notMobileRE.test(e)||!!n.tablet&&tabletRE.test(e);return!r&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.indexOf("Macintosh")!==-1&&e.indexOf("Safari")!==-1&&(r=!0),r}var isMobileExports=isMobile$2.exports,isMobile$1=getDefaultExportFromCjs(isMobileExports);const implementsFunction=(n,e)=>n!=null&&typeof n[e]=="function",isArrayLike=n=>n!=null&&typeof n!="function"&&n.length!==void 0,isIterable=n=>n!=null&&typeof n[Symbol.iterator]=="function",compare=(n,e)=>n===e?0:n==null?e==null?0:-1:e==null?n==null?0:1:typeof n.compare=="function"?n.compare(e):typeof e.compare=="function"?-e.compare(n):n<e?-1:n>e?1:0,OBJP=Object.getPrototypeOf({}),FN="function",STR="string",equiv=(n,e)=>{let r;return n===e||(n==null?n==e:typeof n.equiv===FN?n.equiv(e):e==null?n==e:typeof e.equiv===FN?e.equiv(n):typeof n!==STR&&typeof e!==STR&&(r=Object.getPrototypeOf(n),r!=null&&r!==OBJP||(r=Object.getPrototypeOf(e),r!=null&&r!==OBJP)?typeof n!==FN&&n.length!==void 0&&typeof e!==FN&&e.length!==void 0?equivArrayLike(n,e):n instanceof Set&&e instanceof Set?equivSet(n,e):n instanceof Map&&e instanceof Map?equivMap(n,e):n instanceof Date&&e instanceof Date?n.getTime()===e.getTime():n instanceof RegExp&&e instanceof RegExp?n.toString()===e.toString():n!=n&&e!=e:equivObject(n,e)))},equivArrayLike=function(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:equiv,a=n.length;if(a===e.length)for(;--a>=0&&r(n[a],e[a]););return a<0},equivSet=function(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:equiv;return n.size===e.size&&r([...n.keys()].sort(),[...e.keys()].sort())},equivMap=function(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:equiv;return n.size===e.size&&r([...n].sort(),[...e].sort())},equivObject=function(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:equiv;if(Object.keys(n).length!==Object.keys(e).length)return!1;for(let a in n)if(!e.hasOwnProperty(a)||!r(n[a],e[a]))return!1;return!0},defError=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r=>r!==void 0?": "+r:"";return class extends Error{constructor(r){super(n(r)+e(r))}}},IllegalArgumentError=defError(()=>"illegal argument(s)"),illegalArgs=n=>{throw new IllegalArgumentError(n)},OutOfBoundsError=defError(()=>"index out of bounds"),outOfBounds=n=>{throw new OutOfBoundsError(n)},ensureIndex=(n,e,r)=>(n<e||n>=r)&&outOfBounds(n),INV_MAX=1/4294967295;class ARandom{float(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.int()*INV_MAX*e}norm(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return 2*(this.int()*INV_MAX-.5)*e}minmax(e,r){return this.float()*(r-e)+e}}const random=Math.random;class SystemRandom extends ARandom{int(){return 4294967296*random()>>>0}float(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return random()*e}norm(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return 2*(random()-.5)*e}}const SYSTEM=new SystemRandom,SEMAPHORE=Symbol(),NO_OP=()=>{},ensureTransducer=n=>implementsFunction(n,"xform")?n.xform():n;class Reduced{constructor(e){this.value=e}deref(){return this.value}}const isReduced=n=>n instanceof Reduced,unreduced=n=>n instanceof Reduced?n.deref():n;function*iterator1(n,e){const r=ensureTransducer(n)([NO_OP,NO_OP,(a,g)=>g])[2];for(let a=0;a<e.length;a++){let g=e[a],E=r(SEMAPHORE,g);if(isReduced(E))return E=unreduced(E.deref()),void(E!==SEMAPHORE&&(yield E));E!==SEMAPHORE&&(yield E)}}const compR=(n,e)=>[n[0],n[1],e];function map(n,e){return isIterable(e)?iterator1(map(n),e):r=>{const a=r[2];return compR(r,(g,E)=>a(g,n(E)))}}class DCons{constructor(e){this._length=0,e&&this.into(e)}get length(){return this._length}copy(){return new DCons(this)}empty(){return new DCons}clear(){this.release()}release(){let e,r=this.head;for(;r;)e=r.next,delete r.value,delete r.prev,delete r.next,r=e;return delete this.head,delete this.tail,this._length=0,!0}compare(e){const r=this._length;if(r<e._length)return-1;if(r>e._length)return 1;if(r===0)return 0;{let a=this.head,g=e.head,E=0;for(;a&&E==0;)E=compare(a.value,g.value),a=a.next,g=g.next;return E}}equiv(e){if(!(e instanceof DCons||isArrayLike(e))||this._length!==e.length)return!1;if(!this._length||this===e)return!0;let r=this.head;for(let a=0;a<e.length;a++){let g=e[a];if(!equiv(r.value,g))return!1;r=r.next}return!0}*[Symbol.iterator](){let e=this.head;for(;e;)yield e.value,e=e.next}seq(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length;if(e>=r||e<0)return;let a=this.nthCell(e);const g=this.nthCell(r-1),E=u=>({first(){return u.value},next(){return u!==g&&u.next?E(u.next):void 0}});return a?E(a):void 0}*cycle(){for(;;)yield*this}$reduce(e,r){let a=this.head;for(;a&&!isReduced(r);)r=e(r,a.value),a=a.next;return r}drop(){const e=this.head;if(e)return this.head=e.next,this.head?delete this.head.prev:delete this.tail,this._length--,e.value}cons(e){const r={value:e,next:this.head};return this.head?this.head.prev=r:this.tail=r,this.head=r,this._length++,this}insertBefore(e,r){e||illegalArgs("cell is undefined");const a={value:r,next:e,prev:e.prev};return e.prev?e.prev.next=a:this.head=a,e.prev=a,this._length++,this}insertAfter(e,r){e||illegalArgs("cell is undefined");const a={value:r,next:e.next,prev:e};return e.next?e.next.prev=a:this.tail=a,e.next=a,this._length++,this}insertBeforeNth(e,r){return e<0&&(e+=this._length),e<=0?this.cons(r):(ensureIndex(e,0,this._length),this.insertBefore(this.nthCellUnsafe(e),r))}insertAfterNth(e,r){return e<0&&(e+=this._length),e>=this._length-1?this.push(r):(ensureIndex(e,0,this._length),this.insertAfter(this.nthCellUnsafe(e),r))}insertSorted(e,r){r=r||compare;let a=this.head;for(;a;){if(r(e,a.value)<=0)return this.insertBefore(a,e);a=a.next}return this.push(e)}find(e){let r=this.head;for(;r;){if(r.value===e)return r;r=r.next}}findWith(e){let r=this.head;for(;r;){if(e(r.value))return r;r=r.next}}concat(){const e=this.copy();for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];for(let E=0;E<a.length;E++){let u=a[E];e.into(u)}return e}into(e){for(let r=0;r<e.length;r++){let a=e[r];this.push(a)}}slice(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length,a=e<0?e+this._length:e,g=r<0?r+this._length:r;(a<0||g<0)&&illegalArgs("invalid indices: ${from} / ${to}");const E=new DCons;let u=this.nthCell(a);for(;u&&++a<=g;)E.push(u.value),u=u.next;return E}splice(e){let r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=arguments.length>2?arguments[2]:void 0;typeof e=="number"?(e<0&&(e+=this._length),ensureIndex(e,0,this._length),r=this.nthCellUnsafe(e)):r=e;const E=new DCons;if(a>0)for(;r&&a-- >0;)this.remove(r),E.push(r.value),r=r.next;else r&&(r=r.next);if(g)if(r)for(let u=0;u<g.length;u++){let B=g[u];this.insertBefore(r,B)}else for(let u=0;u<g.length;u++){let B=g[u];this.push(B)}return E}remove(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,this._length--,this}swap(e,r){if(e!==r){const a=e.value;e.value=r.value,r.value=a}return this}push(e){if(this.tail){const r={value:e,prev:this.tail};return this.tail.next=r,this.tail=r,this._length++,this}return this.cons(e)}pop(){const e=this.tail;if(e)return this.tail=e.prev,this.tail?delete this.tail.next:delete this.head,this._length--,e.value}first(){return this.head&&this.head.value}peek(){return this.tail&&this.tail.value}setHead(e){return this.head?(this.head.value=e,this):this.cons(e)}setTail(e){return this.tail?(this.tail.value=e,this):this.push(e)}setNth(e,r){const a=this.nthCell(e);return!a&&illegalArgs("index out of bounds: ".concat(e)),a.value=r,this}nth(e,r){const a=this.nthCell(e);return a?a.value:r}nthCell(e){if(e<0&&(e+=this._length),!(e<0||e>=this._length))return this.nthCellUnsafe(e)}rotateLeft(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:return this.push(this.drop())}}rotateRight(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:const e=this.peek();return this.pop(),this.cons(e)}}map(e){const r=new DCons;let a=this.head;for(;a;)r.push(e(a.value)),a=a.next;return r}filter(e){const r=new DCons;let a=this.head;for(;a;)e(a.value)&&r.push(a.value),a=a.next;return r}reduce(e,r){let a=r,g=this.head;for(;g;)a=e(a,g.value),g=g.next;return a}shuffle(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SYSTEM;if(this._length<2)return this;for(e=e??Math.ceil(1.5*Math.log2(this._length));e>0;e--){let a=this.head;for(;a;){const g=a.next;r.float()<.5?this.asHead(a):this.asTail(a),a=g}}return this}sort(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:compare;if(!this._length)return this;let r=1;for(;;){let a=this.head;this.head=void 0,this.tail=void 0;let g=0;for(;a;){g++;let E=a,u=0;for(let f=0;f<r&&(u++,E=E.next,E);f++);let B=r;for(;u>0||B>0&&E;){let f;u===0?(f=E,E=E.next,B--):E&&B!==0?e(a.value,E.value)<=0?(f=a,a=a.next,u--):(f=E,E=E.next,B--):(f=a,a=a.next,u--),this.tail?this.tail.next=f:this.head=f,f.prev=this.tail,this.tail=f}a=E}if(this.tail.next=void 0,g<=1)return this;r*=2}}reverse(){let e=this.head,r=this.tail,a=(this._length>>>1)+(1&this._length);for(;e&&r&&a>0;){const g=e.value;e.value=r.value,r.value=g,e=e.next,r=r.prev,a--}return this}asHead(e){return e===this.head||(this.remove(e),this.head.prev=e,e.next=this.head,e.prev=void 0,this.head=e,this._length++),this}asTail(e){return e===this.tail||(this.remove(e),this.tail.next=e,e.prev=this.tail,e.next=void 0,this.tail=e,this._length++),this}toString(){let e=[],r=this.head;for(;r;)e.push(String(r.value)),r=r.next;return e.join(", ")}toJSON(){return[...this]}nthCellUnsafe(e){let r,a;for(e<=this._length>>1?(r=this.head,a="next"):(r=this.tail,a="prev",e=this._length-e-1);e-- >0&&r;)r=r[a];return r}}class LRUCache{constructor(e,r){const a=Object.assign({maxlen:1/0,maxsize:1/0,map:()=>new Map,ksize:()=>0,vsize:()=>0},r);this.map=a.map(),this.items=new DCons,this._size=0,this.opts=a,e&&this.into(e)}get length(){return this.items.length}get size(){return this._size}[Symbol.iterator](){return this.entries()}entries(){return map(e=>[e.k,e],this.items)}keys(){return map(e=>e.k,this.items)}values(){return map(e=>e.v,this.items)}copy(){const e=this.empty();e.items=this.items.copy();let r=e.items.head;for(;r;)e.map.set(r.value.k,r),r=r.next;return e}empty(){return new LRUCache(null,this.opts)}release(){this._size=0,this.map.clear();const e=this.opts.release;if(e){let r;for(;r=this.items.drop();)e(r.k,r.v);return!0}return this.items.release()}has(e){return this.map.has(e)}get(e,r){const a=this.map.get(e);return a?this.resetEntry(a):r}set(e,r){const a=this.opts.ksize(e)+this.opts.vsize(r),g=this.map.get(e);return this._size+=Math.max(0,a-(g?g.value.s:0)),this.ensureSize()&&this.doSetEntry(g,e,r,a),r}into(e){for(let r=0;r<e.length;r++){let a=e[r];this.set(a[0],a[1])}return this}getSet(e,r){const a=this.map.get(e);return a?Promise.resolve(this.resetEntry(a)):r().then(g=>this.set(e,g))}delete(e){const r=this.map.get(e);return!!r&&(this.removeEntry(r),!0)}resetEntry(e){return this.items.asTail(e),e.value.v}ensureSize(){const e=this.opts.release,r=this.opts.maxsize,a=this.opts.maxlen;for(;this._size>r||this.length>=a;){const g=this.items.drop();if(!g)return!1;this.map.delete(g.k),e&&e(g.k,g.v),this._size-=g.s}return!0}removeEntry(e){const r=e.value;this.map.delete(r.k),this.items.remove(e),this.opts.release&&this.opts.release(r.k,r.v),this._size-=r.s}doSetEntry(e,r,a,g){e?(e.value.v=a,e.value.s=g,this.items.asTail(e)):(this.items.push({k:r,v:a,s:g}),this.map.set(r,this.items.tail))}}class TLRUCache extends LRUCache{constructor(e,r){super(e,r=Object.assign({ttl:36e5},r))}empty(){return new TLRUCache(null,this.opts)}has(e){return this.get(e)!==void 0}get(e,r){const a=this.map.get(e);if(a){if(a.value.t>=Date.now())return this.resetEntry(a);this.removeEntry(a)}return r}set(e,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.opts.ttl;const g=this.opts.ksize(e)+this.opts.vsize(r),E=this.map.get(e);if(this._size+=Math.max(0,g-(E?E.value.s:0)),this.ensureSize()){const u=Date.now()+a;E?(E.value.v=r,E.value.s=g,E.value.t=u,this.items.asTail(E)):(this.items.push({k:e,v:r,s:g,t:u}),this.map.set(e,this.items.tail))}return r}getSet(e,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.opts.ttl;const g=this.get(e);return g?Promise.resolve(g):r().then(E=>this.set(e,E,a))}prune(){const e=Date.now();let r=this.items.head;for(;r;)r.value.t<e&&this.removeEntry(r),r=r.next}ensureSize(){const e=this.opts.maxsize,r=this.opts.maxlen,a=Date.now();let g=this.items.head;for(;g&&(this._size>e||this.length>=r);)g.value.t<a&&this.removeEntry(g),g=g.next;return super.ensureSize()}}function comparator(n,e){return Long$2.fromValue(n).eq(e)}function validateField(n,e){const r=e===void 0?n.val:e,{isBoolean:a,isNumber:g,oneof:E,len:u}=n;if([a,g,E].filter(y=>!y).length!==2)throw new TypeError("invalid field type");if(r===void 0)return;let B=!1;if(E!==void 0){const y=values$3(E);uniqWith$1(y,comparator).length===y.length&&find$1(y,D=>comparator(r,D))!==void 0&&(B=!0)}const f=a!==void 0&&(r===0||r===1)&&u===1,m=g!==void 0&&r.toString(2).length<=u;if(!(B||f||m))throw new Error("invalid field value")}class Struct{constructor(){_defineProperty$1(this,"size",0),_defineProperty$1(this,"fields",new Map)}define(e,r,a){if(this.size+=a,this.size>64)throw new RangeError("the struct over 64 bits is not supported");const g={val:0,isNumber:r==="number",isBoolean:r==="boolean",oneof:r==="number"||r==="boolean"?void 0:r,len:a};validateField(g),this.fields.set(e,g)}set(e,r){const a=this.fields.get(e);if(!a)throw new Error("field not found");const{oneof:g}=a;let E;if(Long$2.isLong(r)||typeof r=="number")E=r;else if(typeof r=="boolean")E=r?1:0;else{if(g===void 0)throw new Error("invalid field type");const u=g[r];if(u===void 0)throw new Error("field type not found");E=u}validateField(a,E),a.val=E}toNumber(){let e=0,r=0;for(let a=0,g=Array.from(this.fields);a<g.length;a++){const[,E]=g[a],{len:u,val:B}=E;B!==void 0&&(e+=Long$2.fromValue(B).shiftLeft(r).toNumber(),r+=u)}return e}toLong(){let e=Long$2.fromNumber(0,!0),r=0;for(let a=0,g=Array.from(this.fields);a<g.length;a++){const[,E]=g[a],{len:u,val:B}=E;B!==void 0&&(e=Long$2.fromValue(B).shiftLeft(r).add(e),r+=u)}return e}assert(e,r){const a=this.fields.get(e);if(!a)throw new Error("field not found");const{oneof:g}=a;function E(u){let B;if(Long$2.isLong(u)||typeof u=="number")B=u;else if(typeof u=="boolean")B=u?1:0;else{if(g===void 0)throw new Error("invalid field type");const f=g[u];if(f===void 0)throw new Error("field type not found");B=f}return validateField(a,B),comparator(B,a.val)}if(!Array.isArray(r))return E(r);if(r.length===1)return E(r[0]);if(r.every(u=>typeof u=="string")&&g!==void 0)return r.some(u=>E(u));throw new Error("invalid valueTypes")}from(e){const r=Long$2.fromValue(e);let a=0;for(let g=0,E=Array.from(this.fields);g<E.length;g++){const[,u]=E[g],{len:B}=u,f=Long$2.fromNumber(2**B-1,!0).shiftLeft(a),m=r.and(f).shiftRightUnsigned(a);validateField(u,m),u.val=m,a+=B}}typeOf(e){const r=this.fields.get(e);if(r!==void 0){const{oneof:a,val:g}=r;if(a!==void 0)for(let E=0,u=Object.entries(a);E<u.length;E++){const[B,f]=u[E];if(comparator(g,f))return B}}throw new TypeError("can only get type of oneof type")}}class UserJoinOptions extends Struct{constructor(e){super(),this.define("Rejoin","boolean",1),this.define("Unused","number",31),this.define("Platform","number",8),this.define("Version","number",12),this.define("Subversion","number",12),this.set("Platform",WEB_PLATFORM_TYPE),this.set("Version",VERSION_NO),this.set("Subversion",SUBVERSION),this.set("Rejoin",e)}}const TextMessageDstType={PeerTextMessage:0,ChannelTextMessage:1,VendorTextMessage:2},RawMessageDstType={PeerRawMessage:3,ChannelRawMessage:4,VendorRawMessage:5},MessageDstType=_objectSpread2(_objectSpread2({},TextMessageDstType),RawMessageDstType),InvitationType={CallInvite:101,CallAccept:102,CallReject:103,CallCancel:104},MessageType=_objectSpread2(_objectSpread2({},MessageDstType),InvitationType),CompressionMethod={Uncompressed:0,Zlib:1};class MessageOption extends Struct{constructor(e){if(super(),this.define("MessageType",MessageType,8),this.define("BroadcastJumps","number",2),this.define("ToCache","boolean",1),this.define("FromCache","boolean",1),this.define("CompressionMethod",CompressionMethod,2),this.define("IterationNumber","number",4),this.define("BufferedMessage","boolean",1),this.define("ToArchive","boolean",1),this.define("FromArchive","boolean",1),this.define("kDelegate","number",1),this.define("kSecurity","number",1),this.define("kBypassGroupMemberCheck","number",1),this.define("enableEncryption","boolean",1),this.define("encrytionComplement","number",5),this.define("kHistory","number",1),this.define("undefined","number",33),isLongNum(e))this.from(e);else if(e!==void 0)for(let r=0,a=getEntries(e);r<a.length;r++){const[g,E]=a[r];this.set(g,E)}}isTextMessage(){return this.assert("MessageType",["PeerTextMessage","ChannelTextMessage","VendorTextMessage"])}isRawMessage(){return this.assert("MessageType",["ChannelRawMessage","PeerRawMessage","VendorRawMessage"])}isRawPeerMessage(){return this.assert("MessageType","PeerRawMessage")}isRawChannelMessage(){return this.assert("MessageType","ChannelRawMessage")}isPeerTextMessage(){return this.assert("MessageType","PeerTextMessage")}isChannelTextMessage(){return this.assert("MessageType","ChannelTextMessage")}isInvitation(e){return e!==void 0?this.assert("MessageType",e):getKeys(InvitationType).some(r=>this.assert("MessageType",r))}isPeerMessage(){return this.assert("MessageType",["PeerTextMessage","PeerRawMessage"])}isZlibCompressed(){return this.assert("CompressionMethod","Zlib")}isFromCache(){return this.assert("FromCache",!0)}isBufferedMessage(){return this.assert("BufferedMessage",!0)}getInvitationType(){if(!this.isInvitation())throw new TypeError("cannot get InvitationType of a normal message type");return this.typeOf("MessageType")}isEncryption(){return this.assert("enableEncryption",!0)}getEncrytionComplement(){var e;return(e=this.fields.get("encrytionComplement"))===null||e===void 0?void 0:e.val}}let MetadataRequestErrorCode=function(n){return n[n.kMetadataOk=0]="kMetadataOk",n[n.kDuplicatedOperation=1]="kDuplicatedOperation",n[n.kSyncServerError=2]="kSyncServerError",n[n.kArgumentError=3]="kArgumentError",n[n.kAutheticationError=4]="kAutheticationError",n[n.kExceedLimitationError=5]="kExceedLimitationError",n[n.kOutdateRevision=6]="kOutdateRevision",n[n.kLockAcquireFailed=7]="kLockAcquireFailed",n[n.kLockExpired=8]="kLockExpired",n[n.kLockWatching=9]="kLockWatching",n[n.kInvalidLock=10]="kInvalidLock",n[n.kLockReleased=11]="kLockReleased",n[n.kWriteNotAllowed=12]="kWriteNotAllowed",n[n.kNoLock=13]="kNoLock",n[n.kTimeOutError=100]="kTimeOutError",n[n.kUnknownError=255]="kUnknownError",n}({});function convertMetadataServerCodeToSdkCode(n){switch(n){case MetadataRequestErrorCode.kMetadataOk:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_OK);case MetadataRequestErrorCode.kArgumentError:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_ARGUMENT);case MetadataRequestErrorCode.kOutdateRevision:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OUTDATED_REVISION);case MetadataRequestErrorCode.kTimeOutError:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);default:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_FAILED)}}function convertServerCodeToSdkCodeForSub(n){switch(n){case MetadataRequestErrorCode.kMetadataOk:case MetadataRequestErrorCode.kDuplicatedOperation:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_OK);case MetadataRequestErrorCode.kArgumentError:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_ARGUMENT);case MetadataRequestErrorCode.kTimeOutError:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);default:return getErrorInfoByCode(n)}}function convertLockServerCodeToSdkCode(n){switch(n){case MetadataRequestErrorCode.kMetadataOk:case MetadataRequestErrorCode.kDuplicatedOperation:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_OK);case MetadataRequestErrorCode.kOutdateRevision:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_ALREADY_EXIST);case MetadataRequestErrorCode.kLockAcquireFailed:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_ACQUIRE_FAILED);case MetadataRequestErrorCode.kNoLock:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_EXIST);default:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_FAILED)}}function convertDataChannelJoinCodeToSdkCode(n,e){switch(n){case AgoraRTCErrorCode.NOT_SUPPORTED:case AgoraRTCErrorCode.UNEXPECTED_RESPONSE:case AgoraRTCErrorCode.DATASTREAM2_NOT_AVAILABLE:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_NOT_AVAILABLE);case AgoraRTCErrorCode.INIT_DATACHANNEL_TIMEOUT:case AgoraRTCErrorCode.CREATE_DATACHANNEL_ERROR:case AgoraRTCErrorCode.DATACHANNEL_FAILED:case AgoraRTCErrorCode.DATACHANNEL_CONNECTION_TIMEOUT:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED);case AgoraRTCErrorCode.CAN_NOT_GET_GATEWAY_SERVER:case AgoraRTCErrorCode.VOID_GATEWAY_ADDRESS:case AgoraRTCErrorCode.MULTI_UNILBS_RESPONSE_ERROR:case AgoraRTCErrorCode.UID_CONFLICT:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED);case AgoraRTCErrorCode.TOKEN_EXPIRE:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED);case AgoraRTCErrorCode.TIMEOUT:case AgoraRTCErrorCode.UNEXPECTED_ERROR:case AgoraRTCErrorCode.INVALID_PARAMS:case AgoraRTCErrorCode.NOT_READABLE:case AgoraRTCErrorCode.INVALID_OPERATION:case AgoraRTCErrorCode.OPERATION_ABORTED:case AgoraRTCErrorCode.WEB_SECURITY_RESTRICT:case AgoraRTCErrorCode.EXCHANGE_SDP_FAILED:case AgoraRTCErrorCode.NETWORK_ERROR:case AgoraRTCErrorCode.NETWORK_TIMEOUT:case AgoraRTCErrorCode.NETWORK_RESPONSE_ERROR:case AgoraRTCErrorCode.API_INVOKE_TIMEOUT:case AgoraRTCErrorCode.ENUMERATE_DEVICES_FAILED:case AgoraRTCErrorCode.DEVICE_NOT_FOUND:case AgoraRTCErrorCode.ELECTRON_IS_NULL:case AgoraRTCErrorCode.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR:case AgoraRTCErrorCode.CHROME_PLUGIN_NO_RESPONSE:case AgoraRTCErrorCode.CHROME_PLUGIN_NOT_INSTALL:case AgoraRTCErrorCode.MEDIA_OPTION_INVALID:case AgoraRTCErrorCode.PERMISSION_DENIED:case AgoraRTCErrorCode.CONSTRAINT_NOT_SATISFIED:case AgoraRTCErrorCode.TRACK_IS_DISABLED:case AgoraRTCErrorCode.GET_VIDEO_ELEMENT_VISIBLE_ERROR:case AgoraRTCErrorCode.SHARE_AUDIO_NOT_ALLOWED:case AgoraRTCErrorCode.LOW_STREAM_ENCODING_ERROR:case AgoraRTCErrorCode.SET_ENCODING_PARAMETER_ERROR:case AgoraRTCErrorCode.TRACK_STATE_UNREACHABLE:case AgoraRTCErrorCode.INVALID_UINT_UID_FROM_STRING_UID:case AgoraRTCErrorCode.CAN_NOT_GET_PROXY_SERVER:case AgoraRTCErrorCode.UPDATE_TICKET_FAILED:case AgoraRTCErrorCode.INVALID_LOCAL_TRACK:case AgoraRTCErrorCode.INVALID_TRACK:case AgoraRTCErrorCode.SENDER_NOT_FOUND:case AgoraRTCErrorCode.CREATE_OFFER_FAILED:case AgoraRTCErrorCode.SET_ANSWER_FAILED:case AgoraRTCErrorCode.ICE_FAILED:case AgoraRTCErrorCode.PC_CLOSED:case AgoraRTCErrorCode.SENDER_REPLACE_FAILED:case AgoraRTCErrorCode.GET_LOCAL_CAPABILITIES_FAILED:case AgoraRTCErrorCode.GET_LOCAL_CONNECTION_PARAMS_FAILED:case AgoraRTCErrorCode.SUBSCRIBE_FAILED:case AgoraRTCErrorCode.UNSUBSCRIBE_FAILED:case AgoraRTCErrorCode.GATEWAY_P2P_LOST:case AgoraRTCErrorCode.NO_ICE_CANDIDATE:case AgoraRTCErrorCode.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS:case AgoraRTCErrorCode.EXIST_DISABLED_VIDEO_TRACK:case AgoraRTCErrorCode.INVALID_REMOTE_USER:case AgoraRTCErrorCode.REMOTE_USER_IS_NOT_PUBLISHED:case AgoraRTCErrorCode.CUSTOM_REPORT_SEND_FAILED:case AgoraRTCErrorCode.CUSTOM_REPORT_FREQUENCY_TOO_HIGH:case AgoraRTCErrorCode.FETCH_AUDIO_FILE_FAILED:case AgoraRTCErrorCode.READ_LOCAL_AUDIO_FILE_ERROR:case AgoraRTCErrorCode.DECODE_AUDIO_FILE_FAILED:case AgoraRTCErrorCode.WS_ABORT:case AgoraRTCErrorCode.WS_DISCONNECT:case AgoraRTCErrorCode.WS_ERR:case AgoraRTCErrorCode.LIVE_STREAMING_TASK_CONFLICT:case AgoraRTCErrorCode.LIVE_STREAMING_INVALID_ARGUMENT:case AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR:case AgoraRTCErrorCode.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED:case AgoraRTCErrorCode.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED:case AgoraRTCErrorCode.LIVE_STREAMING_CDN_ERROR:case AgoraRTCErrorCode.LIVE_STREAMING_INVALID_RAW_STREAM:case AgoraRTCErrorCode.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT:case AgoraRTCErrorCode.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE:case AgoraRTCErrorCode.LIVE_STREAMING_WARN_FREQUENT_REQUEST:case AgoraRTCErrorCode.WEBGL_INTERNAL_ERROR:case AgoraRTCErrorCode.BEAUTY_PROCESSOR_INTERNAL_ERROR:case AgoraRTCErrorCode.CROSS_CHANNEL_WAIT_STATUS_ERROR:case AgoraRTCErrorCode.CROSS_CHANNEL_FAILED_JOIN_SRC:case AgoraRTCErrorCode.CROSS_CHANNEL_FAILED_JOIN_DEST:case AgoraRTCErrorCode.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST:case AgoraRTCErrorCode.CROSS_CHANNEL_SERVER_ERROR_RESPONSE:case AgoraRTCErrorCode.METADATA_OUT_OF_RANGE:case AgoraRTCErrorCode.LOCAL_AEC_ERROR:case AgoraRTCErrorCode.INVALID_PLUGIN:case AgoraRTCErrorCode.DISCONNECT_P2P:case AgoraRTCErrorCode.CONVERTING_IMAGEDATA_TO_BLOB_FAILED:case AgoraRTCErrorCode.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED:case AgoraRTCErrorCode.ADD_CANDIDATE_FAILED:case AgoraRTCErrorCode.EXTERNAL_SIGNAL_ABORT:case AgoraRTCErrorCode.IMAGE_MODERATION_UPLOAD_FAILED:case AgoraRTCErrorCode.P2P_MESSAGE_FAILED:case AgoraRTCErrorCode.PROHIBITED_OPERATION:default:return{code:e,reason:""}}}class MessageReport extends EventBase{constructor(e,r,a){super(r,"MessageReport"),_defineProperty$1(this,"messagecount",this.getInitMessageCount()),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"rtmMessageCategory",void 0),_defineProperty$1(this,"seq",Long$2.fromNumber(1,!0)),this.context=e,this.rtmMessageCategory=a}incGetSeq(){return this.seq=this.seq.add(1),this.seq}getInitMessageCount(){return{peerack10mscount:Long$2.fromNumber(0),peerack25mscount:Long$2.fromNumber(0),peerack50mscount:Long$2.fromNumber(0),peerack75mscount:Long$2.fromNumber(0),peerack100mscount:Long$2.fromNumber(0),peerack150mscount:Long$2.fromNumber(0),peerack200mscount:Long$2.fromNumber(0),peerack250mscount:Long$2.fromNumber(0),peerack300mscount:Long$2.fromNumber(0),peerack400mscount:Long$2.fromNumber(0),peerack500mscount:Long$2.fromNumber(0),peerack600mscount:Long$2.fromNumber(0),peerack800mscount:Long$2.fromNumber(0),peerack1000mscount:Long$2.fromNumber(0),peerack2000mscount:Long$2.fromNumber(0),peerack3000mscount:Long$2.fromNumber(0),peerack5000mscount:Long$2.fromNumber(0),peerack7000mscount:Long$2.fromNumber(0),peerackslowcount:Long$2.fromNumber(0),norecipientack10mscount:Long$2.fromNumber(0),norecipientack25mscount:Long$2.fromNumber(0),norecipientack50mscount:Long$2.fromNumber(0),norecipientack75mscount:Long$2.fromNumber(0),norecipientack100mscount:Long$2.fromNumber(0),norecipientack150mscount:Long$2.fromNumber(0),norecipientack200mscount:Long$2.fromNumber(0),norecipientack250mscount:Long$2.fromNumber(0),norecipientack300mscount:Long$2.fromNumber(0),norecipientack400mscount:Long$2.fromNumber(0),norecipientack500mscount:Long$2.fromNumber(0),norecipientack600mscount:Long$2.fromNumber(0),norecipientack800mscount:Long$2.fromNumber(0),norecipientack1000mscount:Long$2.fromNumber(0),norecipientack2000mscount:Long$2.fromNumber(0),norecipientack3000mscount:Long$2.fromNumber(0),norecipientack5000mscount:Long$2.fromNumber(0),norecipientack7000mscount:Long$2.fromNumber(0),norecipientackslowcount:Long$2.fromNumber(0),sentcount:Long$2.fromNumber(0),receivedcount:Long$2.fromNumber(0),acktimeoutcount:Long$2.fromNumber(0),toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0}}updatePeerAckCount(e){const r=e/2,a=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]];for(let u=0;u<a.length;u++){const B=a[u];if(inRange$1(r,B[0],B[1])){var g;const f="peerack".concat(B[1],"mscount");this.messagecount[f]=(g=this.messagecount[f])===null||g===void 0?void 0:g.add(1)}else if(r>7e3){var E;this.messagecount.peerackslowcount=(E=this.messagecount.peerackslowcount)===null||E===void 0?void 0:E.add(1)}}}updateNorecipientackCount(e){const r=e/2,a=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]];for(let u=0;u<a.length;u++){const B=a[u];if(inRange$1(r,B[0],B[1])){var g;const f="norecipientack".concat(B[1],"mscount");this.messagecount[f]=(g=this.messagecount[f])===null||g===void 0?void 0:g.add(1)}else if(r>7e3){var E;this.messagecount.norecipientackslowcount=(E=this.messagecount.norecipientackslowcount)===null||E===void 0?void 0:E.add(1)}}}updateCommonCount(e){const r=this.messagecount[e];long.isLong(r)?this.messagecount[e]=r.add(1):this.messagecount[e]=r+1}report(){this.context.addReportEvents("RtmSdkMessageCount",new RtmSdkMessageCount(_objectSpread2(_objectSpread2({},this.messagecount),{},{vid:Long$2.fromString(this.context.vid||"0"),os:WEB_PLATFORM_TYPE,lts:Long$2.fromNumber(Date.now()),sid:this.context.sid,reportsequence:this.incGetSeq(),apimajorversion:VERSION_NO,apiminorversion:SUBVERSION,userid:this.context.uid,messagecategory:this.rtmMessageCategory}))),this.messagecount=_objectSpread2(_objectSpread2({},this.messagecount),{},{toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0})}}class ChatManager extends EventBase{constructor(e){super(e,"ChatManager"),_defineProperty$1(this,"dialogueLru",new TLRUCache(void 0,{maxlen:LRU_MAX_ITEMS,ttl:DIALOGUE_EXPIRE_TIMEOUT}))}getChatInfo(e){const r=this.dialogueLru.get(e);if(this.dialogueLru.prune(),r){const{dialogue:g,sequence:E}=r,u=E.add(1),B={dialogue:g,sequence:u};return this.dialogueLru.set(e,{dialogue:g,sequence:u}),B}const a={dialogue:getRandomUInt64(),sequence:Long$2.fromNumber(1,!0)};return this.dialogueLru.set(e,a),a}}var AsyncAction$1={},Action$1={},Subscription$1={},isArray={};Object.defineProperty(isArray,"__esModule",{value:!0}),isArray.isArray=Array.isArray||function(n){return n&&typeof n.length=="number"};var isObject$1={};function isObject(n){return n!==null&&typeof n=="object"}Object.defineProperty(isObject$1,"__esModule",{value:!0}),isObject$1.isObject=isObject;var isFunction$1={};function isFunction(n){return typeof n=="function"}Object.defineProperty(isFunction$1,"__esModule",{value:!0}),isFunction$1.isFunction=isFunction;var UnsubscriptionError={};Object.defineProperty(UnsubscriptionError,"__esModule",{value:!0});var UnsubscriptionErrorImpl=function(){function n(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,a){return a+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n}();UnsubscriptionError.UnsubscriptionError=UnsubscriptionErrorImpl,Object.defineProperty(Subscription$1,"__esModule",{value:!0});var isArray_1=isArray,isObject_1=isObject$1,isFunction_1=isFunction$1,UnsubscriptionError_1=UnsubscriptionError,Subscription=function(){function n(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return n.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,a=r._parentOrParents,g=r._ctorUnsubscribe,E=r._unsubscribe,u=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof n)a.remove(this);else if(a!==null)for(var B=0;B<a.length;++B)a[B].remove(this);if(isFunction_1.isFunction(E)){g&&(this._unsubscribe=void 0);try{E.call(this)}catch(y){e=y instanceof UnsubscriptionError_1.UnsubscriptionError?flattenUnsubscriptionErrors(y.errors):[y]}}if(isArray_1.isArray(u)){B=-1;for(var f=u.length;++B<f;){var m=u[B];if(isObject_1.isObject(m))try{m.unsubscribe()}catch(y){e=e||[],y instanceof UnsubscriptionError_1.UnsubscriptionError?e=e.concat(flattenUnsubscriptionErrors(y.errors)):e.push(y)}}}if(e)throw new UnsubscriptionError_1.UnsubscriptionError(e)}},n.prototype.add=function(e){var r=e;if(!e)return n.EMPTY;switch(typeof e){case"function":r=new n(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof n)){var a=r;(r=new n)._subscriptions=[a]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var g=r._parentOrParents;if(g===null)r._parentOrParents=this;else if(g instanceof n){if(g===this)return r;r._parentOrParents=[g,this]}else{if(g.indexOf(this)!==-1)return r;g.push(this)}var E=this._subscriptions;return E===null?this._subscriptions=[r]:E.push(r),r},n.prototype.remove=function(e){var r=this._subscriptions;if(r){var a=r.indexOf(e);a!==-1&&r.splice(a,1)}},n.EMPTY=function(e){return e.closed=!0,e}(new n),n}();function flattenUnsubscriptionErrors(n){return n.reduce(function(e,r){return e.concat(r instanceof UnsubscriptionError_1.UnsubscriptionError?r.errors:r)},[])}Subscription$1.Subscription=Subscription;var __extends$2=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,g){a.__proto__=g}||function(a,g){for(var E in g)g.hasOwnProperty(E)&&(a[E]=g[E])},n(e,r)};return function(e,r){function a(){this.constructor=e}n(e,r),e.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(Action$1,"__esModule",{value:!0});var Subscription_1=Subscription$1,Action=function(n){function e(r,a){return n.call(this)||this}return __extends$2(e,n),e.prototype.schedule=function(r,a){return this},e}(Subscription_1.Subscription);Action$1.Action=Action;var __extends$1=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,g){a.__proto__=g}||function(a,g){for(var E in g)g.hasOwnProperty(E)&&(a[E]=g[E])},n(e,r)};return function(e,r){function a(){this.constructor=e}n(e,r),e.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(AsyncAction$1,"__esModule",{value:!0});var Action_1=Action$1,AsyncAction=function(n){function e(r,a){var g=n.call(this,r,a)||this;return g.scheduler=r,g.work=a,g.pending=!1,g}return __extends$1(e,n),e.prototype.schedule=function(r,a){if(a===void 0&&(a=0),this.closed)return this;this.state=r;var g=this.id,E=this.scheduler;return g!=null&&(this.id=this.recycleAsyncId(E,g,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(E,this.id,a),this},e.prototype.requestAsyncId=function(r,a,g){return g===void 0&&(g=0),setInterval(r.flush.bind(r,this),g)},e.prototype.recycleAsyncId=function(r,a,g){if(g===void 0&&(g=0),g!==null&&this.delay===g&&this.pending===!1)return a;clearInterval(a)},e.prototype.execute=function(r,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var g=this._execute(r,a);if(g)return g;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,a){var g=!1,E=void 0;try{this.work(r)}catch(u){g=!0,E=!!u&&u||new Error(u)}if(g)return this.unsubscribe(),E},e.prototype._unsubscribe=function(){var r=this.id,a=this.scheduler,g=a.actions,E=g.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,E!==-1&&g.splice(E,1),r!=null&&(this.id=this.recycleAsyncId(a,r,null)),this.delay=null},e}(Action_1.Action),AsyncAction_2=AsyncAction$1.AsyncAction=AsyncAction,AsyncScheduler$1={},Scheduler$1={};Object.defineProperty(Scheduler$1,"__esModule",{value:!0});var Scheduler=function(){function n(e,r){r===void 0&&(r=n.now),this.SchedulerAction=e,this.now=r}return n.prototype.schedule=function(e,r,a){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(a,r)},n.now=function(){return Date.now()},n}();Scheduler$1.Scheduler=Scheduler;var __extends=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,g){a.__proto__=g}||function(a,g){for(var E in g)g.hasOwnProperty(E)&&(a[E]=g[E])},n(e,r)};return function(e,r){function a(){this.constructor=e}n(e,r),e.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(AsyncScheduler$1,"__esModule",{value:!0});var Scheduler_1=Scheduler$1,AsyncScheduler=function(n){function e(r,a){a===void 0&&(a=Scheduler_1.Scheduler.now);var g=n.call(this,r,function(){return e.delegate&&e.delegate!==g?e.delegate.now():a()})||this;return g.actions=[],g.active=!1,g.scheduled=void 0,g}return __extends(e,n),e.prototype.schedule=function(r,a,g){return a===void 0&&(a=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,a,g):n.prototype.schedule.call(this,r,a,g)},e.prototype.flush=function(r){var a=this.actions;if(this.active)a.push(r);else{var g;this.active=!0;do if(g=r.execute(r.state,r.delay))break;while(r=a.shift());if(this.active=!1,g){for(;r=a.shift();)r.unsubscribe();throw g}}},e}(Scheduler_1.Scheduler),AsyncScheduler_2=AsyncScheduler$1.AsyncScheduler=AsyncScheduler;const blob=new Blob(["var fakeIdToId = {};onmessage = function (event) {	var data = event.data,		name = data.name,		fakeId = data.fakeId,		time;	if(data.hasOwnProperty('time')) {		time = data.time;	}	switch (name) {		case 'setInterval':			fakeIdToId[fakeId] = setInterval(function () {				postMessage({fakeId: fakeId});			}, time);			break;		case 'clearInterval':			if (fakeIdToId.hasOwnProperty (fakeId)) {				clearInterval(fakeIdToId[fakeId]);				delete fakeIdToId[fakeId];			}			break;	}}"]),workerScript=window.URL.createObjectURL(blob),fakeIdToCallback={};let lastFakeId=0;const maxFakeId=2147483647;function getFakeId(){do lastFakeId==maxFakeId?lastFakeId=0:lastFakeId++;while(fakeIdToCallback.hasOwnProperty(lastFakeId));return lastFakeId}const worker=new Worker(workerScript);function hackSetInterval(n,e){const r=getFakeId();return fakeIdToCallback[r]={callback:n,parameters:Array.prototype.slice.call(arguments,2)},worker.postMessage({name:"setInterval",fakeId:r,time:e}),r}function hackClearInterval(n){fakeIdToCallback.hasOwnProperty(n)&&(delete fakeIdToCallback[n],worker.postMessage({name:"clearInterval",fakeId:n}))}worker.onmessage=function(n){const e=n.data.fakeId;let r,a,g;fakeIdToCallback.hasOwnProperty(e)&&(r=fakeIdToCallback[e],g=r.callback,a=r.parameters,g.apply(window,a))};class HackAsyncAction extends AsyncAction_2{requestAsyncId(e,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return hackSetInterval(e.flush.bind(e,this),a)}recycleAsyncId(e,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(a!==null&&this.delay===a&&this.pending===!1)return r;hackClearInterval(r)}}const getHackAsyncScheduler=()=>new AsyncScheduler_2(HackAsyncAction);class MetadataItem{constructor(e){var r,a,g,E,u;_defineProperty$1(this,"key",void 0),_defineProperty$1(this,"value",void 0),_defineProperty$1(this,"revision",void 0),_defineProperty$1(this,"updateTs",void 0),_defineProperty$1(this,"authorUserId",void 0),this.key=(r=e==null?void 0:e.key)!==null&&r!==void 0?r:"",this.value=(a=e==null?void 0:e.value)!==null&&a!==void 0?a:"",this.revision=(g=e==null?void 0:e.revision)!==null&&g!==void 0?g:-1,this.updateTs=(E=e==null?void 0:e.updateTs)!==null&&E!==void 0?E:0,this.authorUserId=(u=e==null?void 0:e.authorUserId)!==null&&u!==void 0?u:""}setKey(e){if(typeof e!="string"){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_KEY);throw new RtmInvalidArgumentError(OperationName.storage,[a],r)}this.key=e,this.key=e}getKey(){if(typeof this.key=="string")return this.key;throw new RtmInternalError("Cannot get MetaDataItem key")}setValue(e){if(typeof e!="string"&&!isNull$1(null)){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_VALUE);throw new RtmInvalidArgumentError(OperationName.storage,[a],r)}this.value=e}getValue(){if(typeof this.value=="string"||isNull$1(null))return this.value;throw new RtmInternalError("Cannot get MetaDataItem value")}setRevision(e){if(typeof e!="number"||e%1!=0){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(OperationName.storage,[a],r)}this.revision=e}getRevision(){if(typeof this.revision=="number")return this.revision;throw new RtmInternalError("Cannot get MetaDataItem revision")}getUpdateTs(){return this.updateTs}getAuthorUserId(){return this.authorUserId}}let StatePrefixEnum=function(n){return n.STATE_REVISION_KEY_PREFIX="_rev_",n.STATE_TIMESTAMP_PREFIX="_t_",n.STATE_AUTHOR_PREFIX="_m_",n.STATE_REVISION="_rev",n.STATE_INTERNAL_PREFIX="_",n}({});function getRequestInfo(n,e){const r={[StatePrefixEnum.STATE_REVISION]:e!==void 0&&e>=0?e:void 0};for(let a=0;a<n.length;a++){const g=n[a];r[g.getKey()]=g.getValue(),r["".concat(StatePrefixEnum.STATE_REVISION_KEY_PREFIX).concat(g.getKey())]=g.getRevision()>=0||g.getRevision()===-2?g.getRevision():void 0}return omitBy$1(r,isUndefined$1)}function covertStateStringToMetaData(n){const e=JSON.parse(n),r={majorRevision:e[StatePrefixEnum.STATE_REVISION],items:[]},a=omit$1(e,StatePrefixEnum.STATE_REVISION),g=Object.keys(a).filter(E=>E[0]!=="_");return r.items=g.map(E=>new MetadataItem({key:E,value:a[E],revision:a["".concat(StatePrefixEnum.STATE_REVISION_KEY_PREFIX).concat(E)],updateTs:a["".concat(StatePrefixEnum.STATE_TIMESTAMP_PREFIX).concat(E)],authorUserId:a["".concat(StatePrefixEnum.STATE_AUTHOR_PREFIX).concat(E)]})),r}class LockSession extends EventBase{constructor(e,r,a,g,E,u){super(a,"LockSession"),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"instanceId",void 0),_defineProperty$1(this,"getLoginSockets",void 0),_defineProperty$1(this,"incGetSeq",void 0),_defineProperty$1(this,"genTimeoutError",void 0),_defineProperty$1(this,"locksWithRetryNoRes",new Map),_defineProperty$1(this,"notifyAcquireRetryReject",new Subject),this.context=e,this.instanceId=r,this.getLoginSockets=g,this.incGetSeq=E,this.genTimeoutError=u}setLock(e,r,a){const g=OperationName.setLock,E=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&E.length===0){const{code:B,reason:f}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(g,[f],B)}const u=this.incGetSeq();return E.forEach(B=>{var f;B.sendPacket("StateLockCreate",{target:e,requestUuid:"".concat(u,"_").concat(this.instanceId),lock:r,ttl:Long$2.fromNumber((f=a==null?void 0:a.ttl)!==null&&f!==void 0?f:getParameter("LOCK_TTL")),flags:new Long$2(1048577,0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),...E.map(B=>B.fromReceived("StateLockCreateResult").pipe(first(f=>{let{requestUuid:m}=f;return"".concat(u,"_").concat(this.instanceId)===m}),map$1(f=>{let{code:m}=f;const{code:y,reason:D}=convertLockServerCodeToSdkCode(m);if(y!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(g,[D],y)}))))}removeLock(e,r){const a=OperationName.removeLock,g=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&g.length===0){const{code:u,reason:B}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(a,[B],u)}const E=this.incGetSeq();return g.forEach(u=>{u.sendPacket("StateLockDelete",{target:e,lock:r,requestUuid:"".concat(E,"_").concat(this.instanceId),flags:new Long$2(1048577,0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),...g.map(u=>u.fromReceived("StateLockDeleteResult").pipe(first(B=>{let{requestUuid:f}=B;return"".concat(E,"_").concat(this.instanceId)===f}),map$1(B=>{let{code:f}=B;const{code:m,reason:y}=convertLockServerCodeToSdkCode(f);if(m!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(a,[y],m)}))))}acquireLock(e,r,a){var g;const E=OperationName.acquireLock,u=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&u.length===0){const{code:F,reason:x}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(E,[x],F)}const B=getPrefixLockName(r),{reqSeq:f,resolve:m,reject:y}=(g=this.locksWithRetryNoRes.get("".concat(e).concat(B)))!==null&&g!==void 0?g:{},D=m??(a==null?void 0:a.resolve),M=y??(a==null?void 0:a.reject),O=f??this.incGetSeq(),U=Long$2.fromNumber(Date.now());return this.context.addReportEvents("SyncLockAcquireEvent",{code:0,target:e,lock:r,ttl:Long$2.fromNumber(0),flags:new Long$2(1048577,0,!0),uuid:"",lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(this.context.vid||"0"),ip:"",userid:this.context.uid,sid:this.context.sid,lockrev:Long$2.fromNumber(0),leaseid:this.context.uid,eventtype:"Acquire",sdktype:4,requestts:U,replyts:Long$2.fromNumber(Date.now()),usersid:this.context.sid,sdkip:""}),u.forEach(F=>{F.sendPacket("StateLockAcquire",{target:e,requestUuid:"".concat(O,"_").concat(this.instanceId),lock:r,ttl:new Long$2(0,0,!0),flags:a!=null&&a.retry?new Long$2(1310721,0,!0):new Long$2(1048577,0,!0)})}),D&&M&&this.locksWithRetryNoRes.set("".concat(e).concat(B),{reqSeq:O,resolve:D,reject:M}),a!=null&&a.retry&&(a==null?void 0:a.checkTimeout)===!1?race(...u.map(F=>F.fromReceived("StateLockAcquireResult").pipe(first(x=>{let{requestUuid:H}=x;return"".concat(O,"_").concat(this.instanceId)===H}),tap(x=>{let{lock:H,code:j,target:ee,lockRev:ne}=x;this.log("acquire lock with lock(".concat(r,"), channel: ").concat(replaceRangeWithAsterisk(e),", retry: ",!0,", serverCode is ").concat(j));const{code:oe,reason:ae}=convertLockServerCodeToSdkCode(j);this.context.addReportEvents("SyncLockAcquireEvent",{code:oe,target:ee,lock:r,ttl:Long$2.fromNumber(0),flags:new Long$2(1310721,0,!0),uuid:"",lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(this.context.vid||"0"),ip:F.ip,userid:this.context.uid,sid:this.context.sid,lockrev:ne,leaseid:this.context.uid,eventtype:"AcquireResult",sdktype:4,requestts:U,replyts:Long$2.fromNumber(Date.now()),usersid:this.context.sid,sdkip:""}),oe!==RTMErrorCode.RTM_ERROR_OK||H===r&&ee===e||(this.log("RTM service Error: acquired unexpected lock on channel '%s', lock '%s', member '%s'",replaceRangeWithAsterisk(e),replaceRangeWithAsterisk(H),replaceRangeWithAsterisk(this.context.uid||"")),this.releaseLock(ee,H).toPromise())}),map$1(x=>{let{code:H,target:j,lock:ee,lockRev:ne,reason:oe}=x;const{code:ae,reason:he}=convertLockServerCodeToSdkCode(H);if(ae!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(E,[he],ae);return this.emit("acquireSuccess",{prefixChannelName:e,lockName:r,revision:ne.toNumber()}),{target:j,lock:ee,lockRev:ne,reason:oe,code:H}})))).pipe(takeUntil(this.notifyAcquireRetryReject.pipe(filter(F=>F==="".concat(e).concat(B)))),finalize(()=>{this.locksWithRetryNoRes.delete("".concat(e).concat(B))})):race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),...u.map(F=>F.fromReceived("StateLockAcquireResult").pipe(first(x=>{let{requestUuid:H}=x;return"".concat(O,"_").concat(this.instanceId)===H}),tap(x=>{let{lock:H,code:j,target:ee,lockRev:ne}=x;this.log("acquire lock with lock(".concat(r,"), channel: ").concat(replaceRangeWithAsterisk(e),", retry: ",!1,", serverCode is ").concat(j));const{code:oe,reason:ae}=convertLockServerCodeToSdkCode(j);this.context.addReportEvents("SyncLockAcquireEvent",{code:oe,target:ee,lock:r,ttl:Long$2.fromNumber(0),flags:new Long$2(1048577,0,!0),uuid:"",lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(this.context.vid||"0"),ip:F.ip,userid:this.context.uid,sid:this.context.sid,lockrev:ne,leaseid:this.context.uid,eventtype:"AcquireResult",sdktype:4,requestts:U,replyts:Long$2.fromNumber(Date.now()),usersid:this.context.sid,sdkip:""}),oe!==RTMErrorCode.RTM_ERROR_OK||H===r&&ee===e||(this.log("RTM service Error: acquired unexpected lock on channel '%s', lock '%s', member '%s'",replaceRangeWithAsterisk(e),replaceRangeWithAsterisk(H),replaceRangeWithAsterisk(this.context.uid||"")),this.releaseLock(ee,H).toPromise())}),map$1(x=>{let{code:H,target:j,lock:ee,lockRev:ne,reason:oe}=x;const{code:ae,reason:he}=convertLockServerCodeToSdkCode(H);if(ae!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(E,[he],ae);return this.emit("acquireSuccess",{prefixChannelName:e,lockName:r,revision:ne.toNumber()}),{target:j,lock:ee,lockRev:ne,reason:oe,code:H}})))).pipe(finalize(()=>{this.locksWithRetryNoRes.delete("".concat(e).concat(B))}))}releaseLock(e,r){const a=OperationName.releaseLock,g=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&g.length===0){const{code:B,reason:f}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(a,[f],B)}const E=this.incGetSeq(),u=Long$2.fromNumber(Date.now());return this.context.addReportEvents("SyncLockReleaseEvent",{code:0,target:e,lock:r,flags:new Long$2(1048577,0,!0),uuid:"",lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(this.context.vid||"0"),ip:"",userid:this.context.uid,sid:this.context.sid,leaseid:this.context.uid,eventtype:"Release",sdktype:4,requestts:u,replyts:Long$2.fromNumber(Date.now()),usersid:this.context.sid,sdkip:""}),g.forEach(B=>{B.sendPacket("StateLockRelease",{target:e,requestUuid:"".concat(E,"_").concat(this.instanceId),lock:r,flags:new Long$2(1048577,0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),...g.map(B=>B.fromReceived("StateLockReleaseResult").pipe(first(f=>{let{requestUuid:m}=f;return"".concat(E,"_").concat(this.instanceId)===m}),map$1(f=>{let{code:m}=f;const{code:y,reason:D}=convertLockServerCodeToSdkCode(m);if(this.context.addReportEvents("SyncLockReleaseEvent",{code:y,target:e,lock:r,flags:new Long$2(1048577,0,!0),uuid:"",lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(this.context.vid||"0"),ip:"",userid:this.context.uid,sid:this.context.sid,leaseid:this.context.uid,eventtype:"ReleaseResult",sdktype:4,requestts:u,replyts:Long$2.fromNumber(Date.now()),usersid:this.context.sid,sdkip:""}),y!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(a,[D],y);this.emit("releaseSuccess",{channelName:e,lockName:r})}))))}revokeLock(e,r,a){const g=OperationName.revokeLock,E=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&E.length===0){const{code:f,reason:m}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(g,[m],f)}const u=this.incGetSeq(),B=Long$2.fromNumber(Date.now());return this.context.addReportEvents("SyncLockDisableEvent",{code:0,target:e,lock:r,flags:new Long$2(1048577,0,!0),uuid:"",lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(this.context.vid||"0"),ip:"",userid:this.context.uid,sid:this.context.sid,leaseid:a,eventtype:"Disable",sdktype:4,requestts:B,replyts:Long$2.fromNumber(Date.now()),usersid:this.context.sid,sdkip:""}),E.forEach(f=>{f.sendPacket("StateLockDisable",{target:e,requestUuid:"".concat(u,"_").concat(this.instanceId),lock:r,userId:a,flags:new Long$2(1048577,0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),...E.map(f=>f.fromReceived("StateLockDisableResult").pipe(first(m=>{let{requestUuid:y}=m;return"".concat(u,"_").concat(this.instanceId)===y}),map$1(m=>{let{code:y}=m;const{code:D,reason:M}=convertLockServerCodeToSdkCode(y);if(this.context.addReportEvents("SyncLockDisableEvent",{code:D,target:e,lock:r,flags:new Long$2(1048577,0,!0),uuid:"",lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(this.context.vid||"0"),ip:"",userid:this.context.uid,sid:this.context.sid,leaseid:a,eventtype:"DisableResult",sdktype:4,requestts:B,replyts:Long$2.fromNumber(Date.now()),usersid:this.context.sid,sdkip:""}),D!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(g,[M],D)}))))}getLocks(e){const r=OperationName.getLock,a=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&a.length===0){const{code:E,reason:u}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(r,[u],E)}const g=this.incGetSeq();return a.forEach(E=>{E.sendPacket("StateLockList",{target:e,sequence:g,flags:new Long$2(1048577,0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),...a.map(E=>E.fromReceived("StateLockListResult").pipe(first(u=>{let{sequence:B}=u;return g.eq(B)}),map$1(u=>{let{code:B,lockStates:f}=u;const{code:m,reason:y}=convertLockServerCodeToSdkCode(B);if(m!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(r,[y],m);return f}))))}clearLocksWithRetry(){this.locksWithRetryNoRes.forEach((e,r)=>{const{reject:a}=e,{code:g,reason:E}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_ACQUIRE_FAILED);a(new RtmUnavailableError(OperationName.acquireLock,[E],g)),this.notifyAcquireRetryReject.next(r)}),this.locksWithRetryNoRes.clear()}}class StorageSession extends EventBase{constructor(e,r,a){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:new Map,E=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,B=arguments.length>6?arguments[6]:void 0;super(a,"StorageSession"),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"instanceId",void 0),_defineProperty$1(this,"getLoginSockets",void 0),_defineProperty$1(this,"incGetSeq",void 0),_defineProperty$1(this,"genTimeoutError",void 0),_defineProperty$1(this,"operationsTimeCache",{}),_defineProperty$1(this,"userMetaEventInfos",new Map),this.context=e,this.instanceId=r,this.userMetaEventInfos=g,this.getLoginSockets=E,this.incGetSeq=u,this.genTimeoutError=B}setChannelMetadata(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},a=arguments.length>2?arguments[2]:void 0,g=arguments.length>3?arguments[3]:void 0,E=arguments.length>4?arguments[4]:void 0;const u=OperationName.setChannelMetadata,B=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&B.length===0){const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(u,[U],O)}const f=JSON.stringify(getRequestInfo(e,r.majorRevision));validateMetaDataSize(u,f);const m=1<<17,y=this.incGetSeq(),D=Date.now(),M=r==null?void 0:r.majorRevision;return B.forEach(O=>{O.sendPacket("StateModify",{sequence:y,target:a,requestUuid:"".concat(y,"_").concat(this.instanceId),value:f,lock:g??"",lockRev:Long$2.fromNumber(E??0),baseRevision:Long$2.fromNumber(M>=0?M:0),author:r.enableRecordUserId?this.context.uid:"",flags:r.enableRecordTs?new Long$2(1572865|(M>=0?m:0),0,!0):new Long$2(1048577|(M>=0?m:0),0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...B.map(O=>O.fromReceived("StateRequestResult").pipe(first(U=>{let{sequence:F}=U;return y.eq(F)}),map$1(U=>{let{code:F}=U;const{code:x,reason:H}=convertMetadataServerCodeToSdkCode(F);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(D),replyts:Long$2.fromNumber(Date.now()),target:a,eventtype:"Set",revision:Long$2.fromNumber(r.majorRevision),uuid:"".concat(y,"_").concat(this.instanceId),sdktype:4,flags:r.enableRecordTs?new Long$2(524289,0,!0):new Long$2(1,0,!0),code:x,seq:y,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:g??"",lockrev:Long$2.fromNumber(E??0),subtarget:this.context.uid,sdkip:""}),x!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(u,[H],x)}))))}getChannelMetadata(e){const r=OperationName.getChannelMetadata,a=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&a.length===0){const{code:u,reason:B}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(r,[B],u)}const g=this.incGetSeq(),E=Date.now();return a.forEach(u=>{u.sendPacket("StateGet",{target:e,subTarget:"",lock:"",sequence:g,flags:new Long$2(1048577,0,!0),lockRev:Long$2.fromNumber(0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...a.map(u=>u.fromReceived("StateGetResult").pipe(first(B=>{let{sequence:f}=B;return g.eq(f)}),map$1(B=>{let{code:f,allStates:m}=B;const{code:y,reason:D}=convertMetadataServerCodeToSdkCode(f);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(E),replyts:Long$2.fromNumber(Date.now()),target:e,eventtype:"Get",revision:Long$2.fromNumber(0),uuid:"".concat(g,"_").concat(this.instanceId),sdktype:4,flags:new Long$2(1,0,!0),code:y,seq:g,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:"",lockrev:Long$2.fromNumber(0),subtarget:this.context.uid,sdkip:""}),y!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(r,[D],y);return m}))))}removeChannelMetadata(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},a=arguments.length>2?arguments[2]:void 0,g=arguments.length>3?arguments[3]:void 0,E=arguments.length>4?arguments[4]:void 0;const u=OperationName.removeChannelMetadata,B=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&B.length===0){const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(u,[U],O)}const f=1<<17,m=r==null?void 0:r.majorRevision,y=this.incGetSeq(),D=JSON.stringify(getRequestInfo(cloneDeep$1(e).map(O=>(O.setValue(null),O)),r.majorRevision));validateMetaDataSize(u,D);const M=Date.now();return B.forEach(O=>{O.sendPacket("StateModify",{sequence:y,target:a,requestUuid:"".concat(y,"_").concat(this.instanceId),lock:g??"",lockRev:Long$2.fromNumber(E??0),value:D,baseRevision:Long$2.fromNumber(m>=0?m:0),author:r.enableRecordUserId?this.context.uid:"",flags:r.enableRecordTs?new Long$2(1572865|(m>=0?f:0),0,!0):new Long$2(1048577|(m>=0?f:0),0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...B.map(O=>O.fromReceived("StateRequestResult").pipe(first(U=>{let{sequence:F}=U;return y.eq(F)}),map$1(U=>{let{code:F}=U;const{code:x,reason:H}=convertMetadataServerCodeToSdkCode(F);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(M),replyts:Long$2.fromNumber(Date.now()),target:a,eventtype:"Delete",revision:Long$2.fromNumber(r.majorRevision),uuid:"".concat(y,"_").concat(this.instanceId),sdktype:4,flags:r.enableRecordTs?new Long$2(524289,0,!0):new Long$2(1,0,!0),code:x,seq:y,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:g??"",lockrev:Long$2.fromNumber(E??0),subtarget:this.context.uid,sdkip:""}),x!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(u,[H],x)}))))}clearChannelMetadata(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,g=arguments.length>3?arguments[3]:void 0;const E=OperationName.removeChannelMetadata,u=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&u.length===0){const{code:D,reason:M}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(E,[M],D)}const B=1<<17,f=e==null?void 0:e.majorRevision,m=this.incGetSeq(),y=Date.now();return u.forEach(D=>{D.sendPacket("StateSet",{sequence:m,target:r,requestUuid:"".concat(m,"_").concat(this.instanceId),lock:a??"",lockRev:Long$2.fromNumber(g??0),value:JSON.stringify({}),baseRevision:Long$2.fromNumber(f>=0?f:0),author:e.enableRecordUserId?this.context.uid:"",flags:e.enableRecordTs?new Long$2(1638401|(f>=0?B:0),0,!0):new Long$2(1114113|(f>=0?B:0),0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...u.map(D=>D.fromReceived("StateRequestResult").pipe(first(M=>{let{sequence:O}=M;return m.eq(O)}),map$1(M=>{let{code:O}=M;const{code:U,reason:F}=convertMetadataServerCodeToSdkCode(O);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(y),replyts:Long$2.fromNumber(Date.now()),target:r,eventtype:"Clear",revision:Long$2.fromNumber(e.majorRevision),uuid:"".concat(m,"_").concat(this.instanceId),sdktype:4,flags:e.enableRecordTs?new Long$2(589825,0,!0):new Long$2(65537,0,!0),code:U,seq:m,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:a??"",lockrev:Long$2.fromNumber(g??0),subtarget:this.context.uid,sdkip:""}),U!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(E,[F],U)}))))}updateChannelMetadata(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},a=arguments.length>2?arguments[2]:void 0,g=arguments.length>3?arguments[3]:void 0,E=arguments.length>4?arguments[4]:void 0;const u=OperationName.updateChannelMetadata,B=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&B.length===0){const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(u,[U],O)}const f=1<<17,m=r==null?void 0:r.majorRevision,y=this.incGetSeq(),D=JSON.stringify(getRequestInfo(cloneDeep$1(e).map(O=>(O.getRevision()===-1&&O.setRevision(-2),O)),r.majorRevision));validateMetaDataSize(u,D);const M=Date.now();return B.forEach(O=>{O.sendPacket("StateModify",{sequence:y,target:a,requestUuid:"".concat(y,"_").concat(this.instanceId),lock:g??"",lockRev:Long$2.fromNumber(E??0),value:D,baseRevision:Long$2.fromNumber(m>=0?m:0),author:r.enableRecordUserId?this.context.uid:"",flags:r.enableRecordTs?new Long$2(1572865|(m>=0?f:0),0,!0):new Long$2(1048577|(m>=0?f:0),0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...B.map(O=>O.fromReceived("StateRequestResult").pipe(first(U=>{let{sequence:F}=U;return y.eq(F)}),map$1(U=>{let{code:F}=U;const{code:x,reason:H}=convertMetadataServerCodeToSdkCode(F);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(M),replyts:Long$2.fromNumber(Date.now()),target:a,eventtype:"Update",revision:Long$2.fromNumber(r.majorRevision),uuid:"".concat(y,"_").concat(this.instanceId),sdktype:4,flags:r.enableRecordTs?new Long$2(524289,0,!0):new Long$2(1,0,!0),code:x,seq:y,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:g??"",lockrev:Long$2.fromNumber(E??0),subtarget:this.context.uid,sdkip:""}),x!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(u,[H],x)}))))}setUserMetadata(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},a=arguments.length>2?arguments[2]:void 0;const g=OperationName.setUserMetadata,E=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&E.length===0){const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(g,[U],O)}const u=1<<19,B=1<<20,f=1<<17,m=this.incGetSeq(),y=Date.now(),D=r==null?void 0:r.majorRevision,M=JSON.stringify(getRequestInfo(e,r.majorRevision));return validateMetaDataSize(g,M),E.forEach(O=>{O.sendPacket("StateModify",{sequence:m,target:a??this.context.uid,requestUuid:"".concat(m,"_").concat(this.instanceId),value:M,lock:"",lockRev:Long$2.fromNumber(0),baseRevision:Long$2.fromNumber(D>=0?D:0),author:r.enableRecordUserId?this.context.uid:"",flags:r.enableRecordTs?new Long$2(1572864|(D>=0?f:0),0,!0):new Long$2(B|(D>=0?f:0),0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...E.map(O=>O.fromReceived("StateRequestResult").pipe(first(U=>{let{sequence:F}=U;return m.eq(F)}),tap(U=>{let{code:F}=U;const{code:x,reason:H}=convertMetadataServerCodeToSdkCode(F);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(y),replyts:Long$2.fromNumber(Date.now()),target:this.context.uid,eventtype:"Set",revision:Long$2.fromNumber(r.majorRevision),uuid:"".concat(m,"_").concat(this.instanceId),sdktype:4,flags:r.enableRecordTs?new Long$2(u,0,!0):Long$2.fromNumber(0),code:x,seq:m,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:"",lockrev:Long$2.fromNumber(0),subtarget:this.context.uid,sdkip:""}),x!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(g,[H],x)}))))}getUserMetadata(e){const r=OperationName.getUserMetadata,a=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&a.length===0){const{code:u,reason:B}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(r,[B],u)}const g=this.incGetSeq(),E=Date.now();return a.forEach(u=>{u.sendPacket("StateGet",{target:e,subTarget:"",lock:"",sequence:g,flags:new Long$2(1048576,0,!0),lockRev:Long$2.fromNumber(0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...a.map(u=>u.fromReceived("StateGetResult").pipe(first(B=>{let{sequence:f}=B;return g.eq(f)}),map$1(B=>{let{code:f,allStates:m}=B;const{code:y,reason:D}=convertMetadataServerCodeToSdkCode(f);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(E),replyts:Long$2.fromNumber(Date.now()),target:e,eventtype:"Get",revision:Long$2.fromNumber(0),uuid:"".concat(g,"_").concat(this.instanceId),sdktype:4,flags:Long$2.fromNumber(0),code:y,seq:g,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:"",lockrev:Long$2.fromNumber(0),subtarget:this.context.uid,sdkip:""}),y!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(r,[D],y);return m}))))}removeUserMetadata(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},a=arguments.length>2?arguments[2]:void 0;const g=OperationName.removeUserMetadata,E=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&E.length===0){const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(g,[U],O)}const u=1<<19,B=1<<20,f=1<<17,m=r==null?void 0:r.majorRevision,y=this.incGetSeq(),D=JSON.stringify(getRequestInfo(cloneDeep$1(e).map(O=>(O.setValue(null),O)),r.majorRevision));validateMetaDataSize(g,D);const M=Date.now();return E.forEach(O=>{O.sendPacket("StateModify",{sequence:y,target:a??this.context.uid,requestUuid:"".concat(y,"_").concat(this.instanceId),lock:"",lockRev:Long$2.fromNumber(0),value:D,baseRevision:Long$2.fromNumber(m>=0?m:0),author:r.enableRecordUserId?this.context.uid:"",flags:r.enableRecordTs?new Long$2(1572864|(m>=0?f:0),0,!0):new Long$2(B|(m>=0?f:0),0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...E.map(O=>O.fromReceived("StateRequestResult").pipe(first(U=>{let{sequence:F}=U;return y.eq(F)}),tap(U=>{let{code:F}=U;const{code:x,reason:H}=convertMetadataServerCodeToSdkCode(F);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(M),replyts:Long$2.fromNumber(Date.now()),target:this.context.uid,eventtype:"Delete",revision:Long$2.fromNumber(r.majorRevision),uuid:"".concat(y,"_").concat(this.instanceId),sdktype:4,flags:r.enableRecordTs?new Long$2(u,0,!0):Long$2.fromNumber(0),code:x,seq:y,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:"",lockrev:Long$2.fromNumber(0),subtarget:this.context.uid,sdkip:""}),x!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(g,[H],x)}))))}clearUserMetadata(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},r=arguments.length>1?arguments[1]:void 0;const a=OperationName.removeUserMetadata,g=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&g.length===0){const{code:y,reason:D}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(a,[D],y)}const E=1<<19,u=1<<17,B=e==null?void 0:e.majorRevision,f=this.incGetSeq(),m=Date.now();return g.forEach(y=>{y.sendPacket("StateSet",{sequence:f,target:r??this.context.uid,requestUuid:"".concat(f,"_").concat(this.instanceId),lock:"",lockRev:Long$2.fromNumber(0),value:JSON.stringify({}),baseRevision:Long$2.fromNumber(B>=0?B:0),author:e.enableRecordUserId?this.context.uid:"",flags:e.enableRecordTs?new Long$2(1638400|(B>=0?u:0),0,!0):new Long$2(1114112|(B>=0?u:0),0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...g.map(y=>y.fromReceived("StateRequestResult").pipe(first(D=>{let{sequence:M}=D;return f.eq(M)}),tap(D=>{let{code:M}=D;const{code:O,reason:U}=convertMetadataServerCodeToSdkCode(M);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(m),replyts:Long$2.fromNumber(Date.now()),target:this.context.uid,eventtype:"Clear",revision:Long$2.fromNumber(e==null?void 0:e.majorRevision),uuid:"".concat(f,"_").concat(this.instanceId),sdktype:4,flags:e.enableRecordTs?new Long$2(E,0,!0):Long$2.fromNumber(0),code:O,seq:f,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:"",lockrev:Long$2.fromNumber(0),subtarget:this.context.uid,sdkip:""}),O!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(a,[U],O)}))))}updateUserMetadata(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},a=arguments.length>2?arguments[2]:void 0;const g=OperationName.updateUserMetadata,E=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&E.length===0){const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(g,[U],O)}const u=1<<19,B=1<<20,f=1<<17,m=r==null?void 0:r.majorRevision,y=this.incGetSeq(),D=JSON.stringify(getRequestInfo(cloneDeep$1(e).map(O=>(O.getRevision()===-1&&O.setRevision(-2),O)),r.majorRevision));validateMetaDataSize(g,D);const M=Date.now();return E.forEach(O=>{O.sendPacket("StateModify",{sequence:y,target:a??this.context.uid,requestUuid:"".concat(y,"_").concat(this.instanceId),lock:"",lockRev:Long$2.fromNumber(0),value:D,baseRevision:Long$2.fromNumber(m>=0?m:0),author:r.enableRecordUserId?this.context.uid:"",flags:r.enableRecordTs?new Long$2(1572864|(m>=0?f:0),0,!0):new Long$2(B|(m>=0?f:0),0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...E.map(O=>O.fromReceived("StateRequestResult").pipe(first(U=>{let{sequence:F}=U;return y.eq(F)}),tap(U=>{let{code:F}=U;const{code:x,reason:H}=convertMetadataServerCodeToSdkCode(F);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(M),replyts:Long$2.fromNumber(Date.now()),target:this.context.uid,eventtype:"Update",revision:Long$2.fromNumber(r.majorRevision),uuid:"".concat(y,"_").concat(this.instanceId),sdktype:4,flags:r.enableRecordTs?new Long$2(u,0,!0):Long$2.fromNumber(0),code:x,seq:y,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:"",lockrev:Long$2.fromNumber(0),subtarget:this.context.uid,sdkip:""}),x!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(g,[H],x)}))))}unsubscribeUserMetadata(e){const r=OperationName.unsubscribeUserMetadata,a=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&a.length===0){const{code:u,reason:B}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(r,[B],u)}const g=this.incGetSeq(),E=Date.now();a.forEach(u=>{u.sendPacket("StateUnsubscribe",{sequence:g,target:e,subTarget:"",flags:Long$2.fromNumber(0)})}),this.userMetaEventInfos.delete(e),this.context.addReportEvents("SyncSubscribeEvent",{lts:Long$2.fromNumber(Date.now()),userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,target:e,requestts:Long$2.fromNumber(E),replyts:Long$2.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:4,flags:Long$2.fromNumber(0),code:0,seq:g,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},subtarget:this.context.uid})}}const{inflate,deflate}=UZIP;class RegistrarSession extends EventBase{static sendMessageAck(e,r){const a=new MessageOption(e.options);(a.isInvitation()||a.isPeerMessage())&&r.sendPacket("Ack",{code:0,dialogue:e.dialogue,instance:e.instance,sequence:e.sequence})}constructor(e,r,a,g,E,u,B,f,m,y){super(g,"Session"),_defineProperty$1(this,"loginOperation",OperationName.login),_defineProperty$1(this,"chatManager",void 0),_defineProperty$1(this,"msgDedupLru",new LRUCache(void 0,{maxlen:MSG_DEDUP_MAX_LEN})),_defineProperty$1(this,"startTime",Date.now()),_defineProperty$1(this,"seq",Long$2.fromNumber(1,!0)),_defineProperty$1(this,"userJoinOptions",new UserJoinOptions(!1)),_defineProperty$1(this,"seqSentStatuses",[!1,!1]),_defineProperty$1(this,"dialogueSequenceLru",new LRUCache(void 0,{maxlen:LRU_MAX_ITEMS})),_defineProperty$1(this,"loggedOut",!1),_defineProperty$1(this,"curLoginSockets",[void 0,void 0]),_defineProperty$1(this,"loginSocketSubs",[{channels:new Map,receivers:[],lockSubs:new Map,userMetadataSubs:new Map,metadataSubs:new Map},{channels:new Map,receivers:[],lockSubs:new Map,userMetadataSubs:new Map,metadataSubs:new Map}]),_defineProperty$1(this,"lastLoginSockets",[new ReplaySubject(1),new ReplaySubject(1)]),_defineProperty$1(this,"dialPendingMsgSubjectMap",new Map),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"connection",void 0),_defineProperty$1(this,"instanceId",void 0),_defineProperty$1(this,"lastPingTime",void 0),_defineProperty$1(this,"chanelStringMessageReport",void 0),_defineProperty$1(this,"chanelRawMessageReport",void 0),_defineProperty$1(this,"p2pSMsgNoOfflineReport",void 0),_defineProperty$1(this,"p2pRMsgNoOfflineReport",void 0),_defineProperty$1(this,"lockSnapshotLastTime",new Map),_defineProperty$1(this,"lockEventInfos",new Map),_defineProperty$1(this,"channelMetaEventInfos",new Map),_defineProperty$1(this,"userMetaEventInfos",new Map),_defineProperty$1(this,"initEncryption",!1),_defineProperty$1(this,"key",""),_defineProperty$1(this,"iv",""),_defineProperty$1(this,"keyLength",0),_defineProperty$1(this,"operationsTimeCache",{}),_defineProperty$1(this,"lockSession",void 0),_defineProperty$1(this,"storageSession",void 0),_defineProperty$1(this,"updateLastSubOrJoinOptionsCache",void 0),_defineProperty$1(this,"getLastSubscribeOrJoinOptions",void 0),_defineProperty$1(this,"manualShakeHand",void 0),_defineProperty$1(this,"sendTick",void 0),_defineProperty$1(this,"initSync",void 0),_defineProperty$1(this,"loginSubject$",new Subject),_defineProperty$1(this,"initRegConnSuccess$",new Subject),_defineProperty$1(this,"emitUserJoined",!1),_defineProperty$1(this,"firstInitSyncSeq",void 0),_defineProperty$1(this,"networkOnlineSubject",new Subject),_defineProperty$1(this,"connSyncIndex",[0,0]),_defineProperty$1(this,"registerSocketsFailureListener",()=>{this.connection.once("socketsFailure",()=>{this.log("registrar: socketsFailure, creating a new connection, start reLogin..."),defer(()=>(this.connection.removeAllListeners(),this.connection=new Connection(this.context,this.logger,!0),this.emit("login-request"),this.loginHandler(!0))).pipe(retryWhen(D=>D.pipe(tap(M=>{let O=!1;if(isTimeout(M)&&!this.connection.cancelLogin&&(O=!0),this.logError(M),this.log("reLogin need retry: %s, cancel login: %s",O,this.connection.cancelLogin),O)return delay(getParameter("RECONNECTING_AP_INTERVAL"));throw M}))),takeUntil(this.loginSubject$)).subscribe(()=>{this.log("new connection connected")})})}),this.context=e,this.context.startTime=this.startTime,this.connection=r,this.instanceId=a,this.chatManager=new ChatManager(g),this.lastPingTime=[0,0],this.setMaxListeners(512),this.log("The instanceId is %s",this.instanceId.toString()),this.lockSession=new LockSession(e,a,g,this.getLoginSockets.bind(this),this.incGetSeq.bind(this),RegistrarSession.genTimeoutError.bind(this)),this.lockSession.on("releaseSuccess",D=>{this.emit("releaseSuccess",D)}),this.lockSession.on("acquireSuccess",D=>{this.emit("acquireSuccess",D)}),this.connection.on("syncTicketUpdated",D=>{let{ticket:M,vid:O}=D;this.emit("syncTicketUpdated",{ticket:M,vid:O})}),this.storageSession=new StorageSession(e,a,g,this.userMetaEventInfos,this.getLoginSockets.bind(this),this.incGetSeq.bind(this),RegistrarSession.genTimeoutError.bind(this)),this.updateLastSubOrJoinOptionsCache=E,this.getLastSubscribeOrJoinOptions=u,this.manualShakeHand=B,this.sendTick=f,this.initSync=m,y!=null&&y.key&&(this.initEncryption=y.initEncryption,this.key=y.key,this.iv=y.iv,this.keyLength=y.keyLength),this.chanelStringMessageReport=new MessageReport(e,g,RtmMessageCategoryEnum.ChannelSMsg),this.chanelRawMessageReport=new MessageReport(e,g,RtmMessageCategoryEnum.ChannelRMsg),this.p2pSMsgNoOfflineReport=new MessageReport(e,g,RtmMessageCategoryEnum.P2pSMsgNoOfflineFlag),this.p2pRMsgNoOfflineReport=new MessageReport(e,g,RtmMessageCategoryEnum.P2pRMsgNoOfflineFlag)}getVirtualSyncSocket(){return this.getLoginSockets().filter(e=>e.env===this.context.connSyncEnv)}loginHandler(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.context.connSyncEnv=void 0,this.loggedOut&&e){const{code:E,reason:u}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_ABORTED);throw new RtmInvalidStatusError(this.loginOperation,[u+"logout when login retrying"],E)}e&&this.registerSocketsFailureListener(),this.connection.initConnection();const{seq:r}=this,a=this.getSocketLoginObservables(this.connection.lastOpenSockets,r);let g;return this.initLoginsSocketsReceivers(a,e,!1),this.initKeepAliveSender(),this.initLoginReceiver(),this.context.linkIntervals=[...LINK_INTERVALS],this.log("start login, log for debug, login - timeout"),merge(...a,fromEvent(this.connection,"connectionInitFailure").pipe(tap(E=>{if(isRtmError(E)||isTimeout(E))throw E;const{code:u,reason:B}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_ABORTED);throw new RtmUnavailableError(this.loginOperation,[B],u)})),fromEvent(this,"login-cancel").pipe(tap(()=>{throw this.context.syncConnecting=!1,this.connection.handleCancelLogin()})),this.networkOnlineSubject.pipe(tap(()=>{this.log("network change, will retry connect in 2s");const E=new TimeoutError;throw E.name="network-change",this.context.linkIntervals=[...LINK_INTERVALS],E}))).pipe(timeout(LOGIN_RESP_TIMEOUT),take(1),concatMap(async E=>{try{await timeoutPromise(this.connSyncInLogin(E,e),DEFAULT_RPC_TIMEOUT_TIME,"init sync timeout",RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT,!0)}catch(u){if(this.connection.cancelLogin)throw u;if(!getParameter("DECOUPLE_SYNC"))throw E.forceReconnect(),isTimeout(u)?new TimeoutError:u}return e&&this.emitUserJoined&&(this.emit("userJoined",E.env),this.emitUserJoined=!1),E}),catchError(E=>(E instanceof TimeoutError&&(E&&E.name==="network-change"?this.emit("net-change-abort-reconn"):(this.warn("client ".concat(e?"re-":"","login timeout")),this.emit("login-timeout",e))),E&&E.code===RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED&&(this.warn("token expired when login, isRetrying: %s",e),e&&this.emit("tokenExpired"),this.connection.apClient.apFinish$.next(void 0),this.connection.stopLogin()),this.clearSockets(0,e),throwError(E))),retryWhen(E=>E.pipe(switchMap((u,B)=>{if(this.connection.apClient.apFinish$.next(void 0),g=this.getFallBackTimer(),this.connection.cancelLogin&&!e)throw this.connection.handleCancelLogin();if(u instanceof TimeoutError)return merge(fromEvent(this,"login-cancel").pipe(tap(()=>{throw this.context.syncConnecting=!1,this.connection.handleCancelLogin()})),race(interval(g),this.networkOnlineSubject.pipe(tap(()=>{this.log("network is online, will retry connect now")}))).pipe(take(1),takeUntil(this.connection.apClient.apFinish$),tap(()=>{if(this.connection.cancelLogin)throw this.connection.handleCancelLogin();this.emit("login-request"),this.initLoginsSocketsReceivers(a,e,!0),this.initKeepAliveSender(),this.initLoginReceiver(),this.connection.subKeeperSubject(),this.connection.initConnection(),this.log("retryWhen---interval")})));throw u}),catchError(u=>throwError(u)))),takeUntil(this.loginSubject$),tap(()=>{e||this.registerSocketsFailureListener()}),tap(()=>{this.manualShakeHand()}),finalize(()=>{e||this.connection.apClient.apFinish$.next(void 0),this.loginSubject$.next(void 0),this.connection.endLogin$.next(void 0)}))}getFallBackTimer(){return 1e3*(this.context.linkIntervals.length>=1?this.context.linkIntervals.splice(0,1)[0]:SUSPENDED_TIME_INTERVAL)}async connSyncInLogin(e,r){const a=this.context.connSyncEnv===void 0&&this.context.syncConnecting===!1;a&&(this.context.syncConnecting=!0),this.info("ENV_%d(%s): First reg logged response received, need connect sync: %s, connSyncEnv: %d",e.env,e.name,a,this.context.connSyncEnv);const g=getParameter("DECOUPLE_SYNC");if(a){try{await timeoutPromise(this.requestFirstSyncInit(e),2e3,"syncInitAck timeout",RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT,!0)}catch(E){throw this.warn("ENV_%d(%s): First reg connect sync failed",e.env,e.name),this.context.syncConnecting=!1,this.warn(E),g&&!this.connection.cancelLogin&&this.handleSyncDisconnected(e),E}try{this.context.connSyncEnv=e.env,this.log("ENV_".concat(e.env," - ").concat(e.name,": reg connect sync done by concatMap when ").concat(r?"reLogging":"logging",", start logging sync..., syncEnv: ").concat(this.context.connSyncEnv)),await this.initSync(),this.log("ENV_".concat(e.env," - ").concat(e.name,": logged sync when ").concat(r?"reLogging":"logging","."))}catch(E){throw this.warn("First init sync error, ".concat(E)),this.context.connSyncEnv=void 0,this.warn("change connSyncEnv: %d to undefined in first sync init error",e.env),this.emit("syncDisconnected"),g&&!this.connection.cancelLogin&&this.handleSyncDisconnected(e),E}finally{this.context.syncConnecting=!1}}}async logoutHandler(e){this.loggedOut=!0,this.connection.apClient.apFinish$.next(void 0),this.connection.stopLogin(),this.incGetSeq();const r=this.getLoginSockets(),a=r.map(E=>(E.sendPacket("UserQuit2",{flags:e?new Long$2(1,0,!0):Long$2.fromNumber(0)}),this.connection.waitClosing(E)));this.clearSockets(LOGOUT_SOCKET_CLOSE_TIMEOUT);const g=r.map(E=>E.env);return[0,1].filter(E=>!g.includes(E)).forEach(E=>{this.connection.closeSocket(E,0)}),this.lockSession.clearLocksWithRetry(),merge(...a).toPromise()}async requestChannelJoin(e){const r=OperationName.subscribe;if(this.getLoginSockets().length===0){const{code:u,reason:B}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(r,[B],u)}const a=fromEvent(this,"channelLeft").pipe(filter(u=>e===u),take(1)),g=this.incGetSeq(),E=this.lastLoginSockets.map(u=>u.pipe(switchMap((B,f)=>{f!==0&&this.incSeqIfNeeded(B.env);const m=f===0?g:this.seq;return B.sendPacket("GroupEnter",{account:e,seq:m}),B.fromReceived("GroupReply").pipe(first(y=>{let{seq:D}=y;return m.eq(D)}),tap(y=>{let{code:D}=y;if(D!==0){const{code:M,reason:O}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED);throw this.warn("channel join failed, server code is %d",D),this.updateLastSubOrJoinOptionsCache(e,"withMessage",!1),new RtmUnavailableError(r,[O],{code:M,serverCode:D})}this.updateLastSubOrJoinOptionsCache(e,"withMessage",!0)}))}),takeUntil(a),share()));E.forEach((u,B)=>{const f=()=>{this.loginSocketSubs[B].channels.delete(e)};this.loginSocketSubs[B].channels.set(e,u.subscribe({error:f,complete:f}))}),await merge(...E).pipe(take(1),timeout(COMMON_REQUEST_TIMEOUT),catchError(u=>{if(isRtmError(u))return throwError(u);!(u instanceof TimeoutError)&&this.logError(u);const{code:B,reason:f}=getErrorInfoByCode(u instanceof TimeoutError?RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT:RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED);return throwError(new RtmUnavailableError(r,[f],B))})).toPromise()}requestChannelLeave(e){this.getLoginSockets().forEach(r=>{r.sendPacket("GroupLeave2",{account:e,flags:Long$2.fromNumber(0)})}),this.updateLastSubOrJoinOptionsCache(e,"withMessage",!1)}requestUpdateEdgeTicket(e){const r=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&r.length===0){const{code:g,reason:E}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(OperationName.login,[E],g)}const a=this.incGetSeq();return r.forEach(g=>{g.sendPacket("UserRenewTokenReq",{instance:this.instanceId,seq:a,account:this.context.uid,ticket:e})}),race(RegistrarSession.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...r.map(g=>g.fromReceived("UserRenewTokenResp").pipe(first(E=>{let{seq:u}=E;return a.eq(u)}),tap(E=>{let{code:u}=E;if(u!==0){const{code:B,reason:f}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmUnavailableError(OperationName.login,[f],{serverCode:u,code:B})}}))))}requestGetChannelMetadata(e){return this.storageSession.getChannelMetadata(e)}requestGetLocalMetaData(e){return this.storageSession.getUserMetadata(e)}requestUpdateChannelMetadata(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},a=arguments.length>2?arguments[2]:void 0,g=arguments.length>3?arguments[3]:void 0,E=arguments.length>4?arguments[4]:void 0;return this.storageSession.updateChannelMetadata(e,r,a,g,E)}requestDeleteChannelMetadata(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},a=arguments.length>2?arguments[2]:void 0,g=arguments.length>3?arguments[3]:void 0,E=arguments.length>4?arguments[4]:void 0;return this.storageSession.removeChannelMetadata(e,r,a,g,E)}requestSetChannelMetadata(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},a=arguments.length>2?arguments[2]:void 0,g=arguments.length>3?arguments[3]:void 0,E=arguments.length>4?arguments[4]:void 0;return this.storageSession.setChannelMetadata(e,r,a,g,E)}requestClearChannelMetadata(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,g=arguments.length>3?arguments[3]:void 0;return this.storageSession.clearChannelMetadata(e,r,a,g)}requestUpdateLocalMetadata(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},a=arguments.length>2?arguments[2]:void 0;return this.storageSession.updateUserMetadata(e,r,a)}requestDeleteLocalMetadata(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},a=arguments.length>2?arguments[2]:void 0;return this.storageSession.removeUserMetadata(e,r,a)}requestSetLocalMetadata(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},a=arguments.length>2?arguments[2]:void 0;return this.storageSession.setUserMetadata(e,r,a)}requestClearLocalMetadata(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},r=arguments.length>1?arguments[1]:void 0;return this.storageSession.clearUserMetadata(e,r)}async requestSubscribeUserMetadata(e,r){const a=OperationName.subscribeUserMetadata,g=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&g.length===0){const{code:m,reason:y}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(a,[y],m)}const E=fromEvent(this,"unSubUserMetadata").pipe(filter(m=>e===m),take(1)),u=this.incGetSeq(),B=Date.now(),f=this.lastLoginSockets.map(m=>m.pipe(switchMap((y,D)=>{D!==0&&this.incSeqIfNeeded(y.env);const M=D===0?u:this.seq;return y.sendPacket("StateSubscribe",{sequence:M,target:e,subTarget:"",flags:Long$2.fromNumber(0)}),y.fromReceived("StateSubscribeResult").pipe(first(O=>{let{sequence:U}=O;return M.eq(U)}),tap(O=>{let{code:U}=O;const{code:F,reason:x}=convertServerCodeToSdkCodeForSub(U);if(F!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(a,[x],F);this.context.userMetadataSub.add(e),this.context.addReportEvents("SyncSubscribeEvent",{lts:Long$2.fromNumber(Date.now()),userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,target:e,requestts:Long$2.fromNumber(B),replyts:Long$2.fromNumber(Date.now()),eventtype:"Subscribe",sdktype:4,flags:Long$2.fromNumber(0),code:0,seq:u,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},subtarget:this.context.uid})}))}),takeUntil(E),share()));f.forEach((m,y)=>{const D=()=>{this.loginSocketSubs[y].userMetadataSubs.delete(e)};this.loginSocketSubs[y].userMetadataSubs.set(e,m.subscribe({error:D,complete:D}))}),await merge(...f).pipe(take(1),timeout(COMMON_REQUEST_TIMEOUT),catchError(m=>(m instanceof TimeoutError&&this.warn("subscribe user metadata timeout"),throwError(m)))).toPromise()}requestUnsubscribeUserMetadata(e){this.storageSession.unsubscribeUserMetadata(e),this.emit("unSubUserMetadata",e)}requestUnsubscribeChannelMetadata(e){const r=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&r.length===0)return;const a=this.incGetSeq();r.forEach(g=>{g.sendPacket("StateUnsubscribe",{sequence:a,target:e,subTarget:"",flags:new Long$2(1,0,!0)})}),this.channelMetaEventInfos.delete(e),this.context.addReportEvents("SyncSubscribeEvent",{lts:Long$2.fromNumber(Date.now()),userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,target:e,requestts:Long$2.fromNumber(Date.now()),replyts:Long$2.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:4,flags:new Long$2(1,0,!0),code:0,seq:a,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},subtarget:this.context.uid}),this.updateLastSubOrJoinOptionsCache(e,"withMetadata",!1)}async requestSubscribeChannelMetadata(e,r){const a=OperationName.subscribe,g=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&g.length===0){const{code:m,reason:y}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(a,[y],m)}const E=fromEvent(this,"unSubChannelMetadata").pipe(filter(m=>e===m),take(1)),u=this.incGetSeq(),B=Date.now(),f=this.lastLoginSockets.map(m=>m.pipe(switchMap((y,D)=>{D!==0&&this.incSeqIfNeeded(y.env);const M=D===0?u:this.seq;return y.sendPacket("StateSubscribe",{sequence:M,target:e,subTarget:"",flags:new Long$2(1,0,!0)}),y.fromReceived("StateSubscribeResult").pipe(first(O=>{let{sequence:U}=O;return M.eq(U)}),tap(O=>{let{code:U}=O;const{code:F,reason:x}=convertServerCodeToSdkCodeForSub(U);this.context.addReportEvents("SyncSubscribeEvent",{lts:Long$2.fromNumber(Date.now()),userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,target:e,requestts:Long$2.fromNumber(B),replyts:Long$2.fromNumber(Date.now()),eventtype:"Subscribe",sdktype:4,flags:Long$2.fromNumber(0),code:F,seq:u,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},subtarget:this.context.uid}),F!==RTMErrorCode.RTM_ERROR_OK?(this.updateLastSubOrJoinOptionsCache(e,"withMetadata",!1),this.warn("Subscribe channel metadata failure. The response code from the RTM service is ".concat(U))):this.updateLastSubOrJoinOptionsCache(e,"withMetadata",!0)}))}),takeUntil(E),share()));f.forEach((m,y)=>{const D=()=>{this.loginSocketSubs[y].metadataSubs.delete(e)};this.loginSocketSubs[y].metadataSubs.set(e,m.subscribe({error:D,complete:D}))}),await merge(...f).pipe(take(1),timeout(COMMON_REQUEST_TIMEOUT),catchError(m=>(m instanceof TimeoutError&&this.warn("subscribe channel metadata timeout"),throwError(m)))).toPromise()}requestUnsubscribeLock(e){const r=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&r.length===0)return;const a=this.incGetSeq();r.forEach(g=>{g.sendPacket("StateLockUnsubscribe",{sequence:a,target:e,flags:new Long$2(1048577,0,!0)})}),this.lockSnapshotLastTime.delete(e),this.updateLastSubOrJoinOptionsCache(e,"withLock",!1)}async requestSubscribeLock(e){const r=OperationName.subscribe,a=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&a.length===0){const{code:B,reason:f}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(r,[f],B)}const g=fromEvent(this,"unSubChannelLock").pipe(filter(B=>e===B),take(1),tap(B=>{this.lockSnapshotLastTime.delete(B)})),E=this.incGetSeq(),u=this.lastLoginSockets.map(B=>B.pipe(switchMap((f,m)=>{m!==0&&this.incSeqIfNeeded(f.env);const y=m===0?E:this.seq;return f.sendPacket("StateLockSubscribe",{sequence:y,target:e,flags:new Long$2(1048577,0,!0)}),f.fromReceived("StateLockSubscribeResult").pipe(first(D=>{let{sequence:M}=D;return y.eq(M)}),tap(D=>{let{code:M}=D;const{code:O,reason:U}=convertServerCodeToSdkCodeForSub(M);O!==RTMErrorCode.RTM_ERROR_OK?(this.updateLastSubOrJoinOptionsCache(e,"withLock",!1),this.warn("Subscribe lock failure. The response code from the RTM service is ".concat(M))):this.updateLastSubOrJoinOptionsCache(e,"withLock",!0)}))}),takeUntil(g),share()));u.forEach((B,f)=>{const m=()=>{this.loginSocketSubs[f].lockSubs.delete(e)};this.loginSocketSubs[f].lockSubs.set(e,B.subscribe({error:m,complete:m}))}),await merge(...u).pipe(take(1),timeout(COMMON_REQUEST_TIMEOUT),catchError(B=>(B instanceof TimeoutError&&this.warn("subscribe channel lock timeout"),throwError(B)))).toPromise()}requestSetLock(e,r,a){return this.lockSession.setLock(e,r,a)}requestRemoveLock(e,r){return this.lockSession.removeLock(e,r)}requestAcquireLock(e,r,a){return this.lockSession.acquireLock(e,r,a)}requestReleaseLock(e,r){return this.lockSession.releaseLock(e,r)}requestDisableLock(e,r,a){return this.lockSession.revokeLock(e,r,a)}requestGetLock(e){return this.lockSession.getLocks(e)}requestGetMessages(e){let{channelName:r,channelType:a,startTime:g,endTime:E,count:u}=e;const B=OperationName.getMessages,f=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&f.length===0){const{code:D,reason:M}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(B,[M],D)}const m=this.incGetSeq(),y=m+"_"+this.instanceId;return f.forEach(D=>{D.sendPacket("StateHistoryGet2",{dst:r,uuid:y,startTime:Long$2.fromNumber(g),endTime:Long$2.fromNumber(E),count:u,flags:new Long$2(a==="MESSAGE"?1:0,0,!0)})}),race(RegistrarSession.genTimeoutError(RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_TIMEOUT),...f.map(D=>D.fromReceived("StateHistoryGetResult2").pipe(first(M=>{let{uuid:O}=M;return y===O}),map$1(M=>{if(M.code!==RTMErrorCode.RTM_ERROR_OK){const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_FAILED);throw new RtmUnavailableError(B,[U],O)}{const{messages:O,flags:U,oldestTime:F,more:x}=M;return{messageList:O.map(j=>{var ee;const{options:ne,payload:oe,src:ae,ms:he,details:fe}=j,Le=new MessageOption(ne),He=Le.isZlibCompressed(),Se=Le.isEncryption(),ge=(ee=Le.getEncrytionComplement())!==null&&ee!==void 0?ee:0,Ye=Le.isTextMessage(),{customType:q=new Uint8Array}=fe,me=new TextDecoder().decode(q);if(Ye){const Fe=He?inflate(concatenateUint8Array(oe,Uint8Array.of(0,0,0,0))):oe,_t=Fe.byteLength-Long$2.fromValue(ge).toNumber();return{message:new TextDecoder().decode(Se&&this.initEncryption?decrypt(Fe,this.key,this.iv,this.keyLength).slice(0,_t):Fe),customType:me,messageType:MessageType$1.STRING,publisher:ae,timestamp:he==null?void 0:he.toNumber()}}{const Fe=He?inflate(oe):oe,_t=Fe.byteLength-Long$2.fromValue(ge).toNumber();return{message:Se&&this.initEncryption?decrypt(Fe,this.key,this.iv,this.keyLength).slice(0,_t):Fe,customType:me,messageType:MessageType$1.BINARY,publisher:ae,timestamp:he==null?void 0:he.toNumber()}}}),newStart:x?F.toNumber():0}}}))))}async sendRawMessage(e,r,a){let g=arguments.length>3&&arguments[3]!==void 0&&arguments[3],E=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,B=arguments.length>6?arguments[6]:void 0;const f=OperationName.publish,m=Date.now(),y=g?RtmMessageCategoryEnum.P2pRMsgNoOfflineFlag:RtmMessageCategoryEnum.ChannelRMsg;if(!(isValidId(a)&&e instanceof Uint8Array&&typeof r=="string")){const{code:ee,reason:ne}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);throw new RtmInvalidArgumentError(f,[ne],ee)}if(e.byteLength+new Blob([r]).size+new Blob([u??""]).size>TEXT_MESSAGE_MAX_TEXT_BYTES){this.emit("messageCount",{messageCategory:y,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:y,type:"common",key:"invalidmessagecount"});const{code:ee,reason:ne}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION);throw new RtmLimitExceededError(f,[ne],ee)}const D=this.initEncryption;let M=e;if(D)try{M=encrypt(e,this.key,this.iv,this.keyLength)}catch{const{code:ne,reason:oe}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED);throw new RtmUnavailableError(f,[oe],ne)}const O=!getParameter("DISABLE_MESSAGE_COMPRESSION")&&M.byteLength>=MESSAGE_MIN_COMPRESSION_LEN,{dialogue:U,sequence:F}=this.chatManager.getChatInfo(g?K_P2P_MESSAGE_PREFIX+a:a),x=this.instanceId;this.log('A%s %s raw message is sending to %s: "'.concat(x,"-").concat(U,"#").concat(F,'"'),O?" compressed":"",g?"peer":"channel",replaceRangeWithAsterisk(a));const{code:H}=await from(this.sendMessageToRetry(ee=>({MiscMap:_objectSpread2({description:new TextEncoder().encode(r)},u?{customType:new TextEncoder().encode(u)}:{}),sequence:F,dialogue:U,instance:x,dst:a,ms:Long$2.fromNumber(Date.now(),!0),options:new MessageOption({IterationNumber:ee,CompressionMethod:O?"Zlib":"Uncompressed",MessageType:g?"PeerRawMessage":"ChannelRawMessage",ToCache:!1,ToArchive:!1,enableEncryption:D,encrytionComplement:M.byteLength-e.byteLength,kHistory:B?1:0}).toLong(),payload:O?deflate(M):M,src:this.context.uid}),!0,g)).pipe(timeout(E===void 0?MESSAGE_SEND_TIMEOUT:E),catchError(ee=>(ee instanceof TimeoutError&&(this.emit("messageCount",{messageCategory:y,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:y,type:"common",key:"timeoutcount"}),this.warn("Send message timeout")),throwError(ee)))).toPromise(),j=H===0;return this.emit("messageCount",{messageCategory:y,type:"common",key:"sentcount"}),j&&(this.emit("messageCount",{messageCategory:y,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:y,type:g?"peer":"recipient",delay:getElapse(m).toNumber()})),H!==0&&this.throwPeerMsgFailed(f,H),{hasPeerReceived:j}}throwPeerMsgFailed(e,r){const{code:a,reason:g}=getErrorInfoByCode(r===K_ACK_PEER_OFFLINE?RTMErrorCode.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE:RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);throw new RtmUnavailableError(e,[g],a)}async sendTextMessage(e,r){let a=arguments.length>2&&arguments[2]!==void 0&&arguments[2],g=arguments.length>3?arguments[3]:void 0,E=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0;const B=OperationName.publish,f=Date.now(),m=a?RtmMessageCategoryEnum.P2pSMsgNoOfflineFlag:RtmMessageCategoryEnum.ChannelSMsg;if(!isValidId(r)){const{code:j,reason:ee}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);throw new RtmInvalidArgumentError(B,[ee],j)}if(new Blob([e]).size+new Blob([E??""]).size>TEXT_MESSAGE_MAX_TEXT_BYTES){this.emit("messageCount",{messageCategory:m,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:m,type:"common",key:"invalidmessagecount"});const{code:j,reason:ee}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION);throw new RtmLimitExceededError(B,[ee],j)}const y=this.initEncryption;let D=new TextEncoder().encode(e);if(y)try{D=encrypt(e,this.key,this.iv,this.keyLength)}catch{const{code:ee,reason:ne}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED);throw new RtmUnavailableError(B,[ne],ee)}const M=!getParameter("DISABLE_MESSAGE_COMPRESSION")&&(y?new Blob([new TextDecoder().decode(D)]).size:new Blob([e]).size)>=MESSAGE_MIN_COMPRESSION_LEN,{dialogue:O,sequence:U}=this.chatManager.getChatInfo(a?K_P2P_MESSAGE_PREFIX+r:r),F=this.instanceId;this.log('A%s %s message is sending to %s: "'.concat(F,"-").concat(O,"#").concat(U,'"'),M?" compressed":"",a?"peer":"channel",replaceRangeWithAsterisk(r));const{code:x}=await from(this.sendMessageToRetry(j=>({MiscMap:_objectSpread2({},E?{customType:new TextEncoder().encode(E)}:{}),sequence:U,dialogue:O,instance:F,dst:r,ms:Long$2.fromNumber(Date.now(),!0),options:new MessageOption({IterationNumber:j,CompressionMethod:M?"Zlib":"Uncompressed",MessageType:a?"PeerTextMessage":"ChannelTextMessage",ToCache:!1,ToArchive:!1,enableEncryption:y,encrytionComplement:D.byteLength-new TextEncoder().encode(e).byteLength,kHistory:u?1:0}).toLong(),payload:M?deflate(D):D,src:this.context.uid}),!0,a)).pipe(timeout(g===void 0?MESSAGE_SEND_TIMEOUT:g),catchError(j=>(j instanceof TimeoutError&&(this.emit("messageCount",{messageCategory:m,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:m,type:"common",key:"timeoutcount"}),this.warn("Send message timeout")),throwError(j)))).toPromise(),H=x===0;return this.emit("messageCount",{messageCategory:m,type:"common",key:"sentcount"}),H&&(this.emit("messageCount",{messageCategory:m,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:m,type:a?"peer":"recipient",delay:getElapse(f).toNumber()})),x!==0&&this.throwPeerMsgFailed(B,x),{hasPeerReceived:H}}cleanLoginSubs(e,r){Object.entries(this.loginSocketSubs[e]).forEach(a=>{let[g,E]=a;["channels","lockSubs","userMetadataSubs","metadataSubs"].includes(g)&&r||(Array.isArray(E)||E instanceof Map?E.forEach(u=>u.unsubscribe()):E&&E.unsubscribe())}),this.loginSocketSubs[e]={channels:r?this.loginSocketSubs[e].channels:new Map,lockSubs:r?this.loginSocketSubs[e].lockSubs:new Map,userMetadataSubs:r?this.loginSocketSubs[e].userMetadataSubs:new Map,metadataSubs:r?this.loginSocketSubs[e].metadataSubs:new Map,receivers:[]}}async sendMessageToRetry(e,r,a){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.log("Attempt to send the message ".concat(r?" with retrying, %o":"without retrying"),{retryTimes:g});const E=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&E.length===0){const{code:D,reason:M}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(OperationName.publish,[M],D)}const u=e(g);E.forEach(D=>{D.sendPacket("Message",u)});const{dialogue:B,sequence:f,instance:m}=u,y=E.map(D=>D.fromReceived("Ack").pipe(filter(M=>B.eq(M.dialogue)&&f.eq(M.sequence)&&m.eq(M.instance)&&M.code!==K_ACK_MISS)));try{const{code:D}=await merge(...y).pipe(timeout(MESSAGE_RETRY_TIMEOUT+(a?500:0)),catchError(M=>(isTimeout(M)&&this.warn("Message send timeout, retry times %d",g),throwError(M))),take(1)).toPromise();return this.log("The message has been acked, %o",{code:D}),{code:D,retryTimes:g}}catch(D){if(D instanceof TimeoutError&&r)return this.sendMessageToRetry(e,!1,a,g+1);throw D}}initLoginsSocketsReceivers(e,r,a){const g=Date.now();e.forEach((E,u)=>{const{login:B}=this.loginSocketSubs[u];B===void 0||a||B.unsubscribe(),this.loginSocketSubs[u].login=E.pipe(tap(f=>{this.log("Env_%s: acquired socket %s",u,f.name);const m=Date.now();this.context.addReportEvents("Link",{ackedServerIp:f.address,destServerIp:f.ip,ec:0,sc:0,elapse:getElapse(this.startTime),lts:Long$2.fromNumber(m),responseTime:m-g,sid:getSid(this.instanceId),userId:this.context.uid,version:VERSION_NO,subVersion:SUBVERSION,connectionsequence:Long$2.fromNumber(0),linktype:4,linkflag:Long$2.fromNumber(0),linkenv:f.env}),this.emitUserJoined=!0,r&&this.connection.apClient.apFinish$.next(void 0),a&&this.initRegConnSuccess$.next(void 0)})).subscribe(this.lastLoginSockets[u])})}initKeepAliveSender(){this.lastLoginSockets.map(e=>e.pipe(switchMap(r=>{var a;return(a=this.loginSocketSubs[r.env].pingTimer)===null||a===void 0||a.unsubscribe(),r.loggedIn&&this.startPingTimer(r,!0),EMPTY}))).forEach((e,r)=>{const{keepAlive:a}=this.loginSocketSubs[r];a!==void 0&&a.unsubscribe(),this.loginSocketSubs[r].keepAlive=e.subscribe({error:()=>{}})})}startPingTimer(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const a=of(e).pipe(delay(r?0:this.context.heartbeatInterval,isMobile$1()?void 0:getHackAsyncScheduler()),tap(()=>{!e.isActiveClose&&this.sendPing(e),a.unsubscribe()})).subscribe();this.loginSocketSubs[e.env].pingTimer=a}initLoginReceiver(){race(...this.lastLoginSockets.map(u=>u.pipe(switchMap(B=>B.fromReceived("UserTicketNearlyExpire").pipe(throttleTime(5e3),tap(this.onUserTicketNearlyExpire(B))))))).subscribe({error:u=>{this.logError("TokenPrivilegeWillExpireReceivers error: %o",u)}});const e=fromEvent(this,"messageCount"),r=e.pipe(filter(u=>u.messageCategory===RtmMessageCategoryEnum.ChannelSMsg));r.subscribe(u=>this.updateMessageCount(u)),r.pipe(bufferTime(6e3)).subscribe(u=>{u.length&&this.chanelStringMessageReport.report()}),merge(of(void 0),r).pipe(switchMap(()=>interval(36e5))).subscribe(()=>{this.chanelStringMessageReport.report()});const a=e.pipe(filter(u=>u.messageCategory===RtmMessageCategoryEnum.ChannelRMsg));a.subscribe(u=>this.updateMessageCount(u)),a.pipe(bufferTime(6e3)).subscribe(u=>{u.length&&this.chanelRawMessageReport.report()}),merge(of(void 0),a).pipe(switchMap(()=>interval(36e5))).subscribe(()=>{this.chanelRawMessageReport.report()});const g=e.pipe(filter(u=>u.messageCategory===RtmMessageCategoryEnum.P2pSMsgNoOfflineFlag));g.subscribe(u=>this.updateMessageCount(u)),g.pipe(bufferTime(6e3)).subscribe(u=>{u.length&&this.p2pSMsgNoOfflineReport.report()}),merge(of(void 0),g).pipe(switchMap(()=>interval(36e5))).subscribe(()=>{this.p2pSMsgNoOfflineReport.report()});const E=e.pipe(filter(u=>u.messageCategory===RtmMessageCategoryEnum.P2pRMsgNoOfflineFlag));E.subscribe(u=>this.updateMessageCount(u)),E.pipe(bufferTime(6e3)).subscribe(u=>{u.length&&this.p2pRMsgNoOfflineReport.report()}),merge(of(void 0),E).pipe(switchMap(()=>interval(36e5))).subscribe(()=>{this.p2pSMsgNoOfflineReport.report()}),this.lastLoginSockets.map(u=>u.pipe(switchMap(B=>merge(fromEvent(B,"reconnect").pipe(tap(this.onSocketReconnect(B))),B.fromReceived("Message").pipe(tap(this.onMessage(B))),B.fromReceived("StateLockSubscribeEvent").pipe(tap(this.onLockEvent())),B.fromReceived("StateUpdate").pipe(tap(this.onStateUpdate())),B.fromReceived("Pong3").pipe(tap(this.onPong())),B.fromReceived("UserDrop").pipe(tap(this.onUserDrop(B))),B.fromReceived("GroupDrop").pipe(tap(this.onGroupDrop())),B.fromReceived("StateLockUpdate").pipe(tap(this.onLockUpdate())),B.fromReceived("SyncFin").pipe(tap(this.onSyncFin(B))),B.fromReceived("SyncInitAck").pipe(tap(this.onSyncInitAck(B))),B.receivedSyncPacket.pipe(tap(this.onSyncPacket()))).pipe(mapTo(void 0))))).forEach((u,B)=>{this.loginSocketSubs[B].receivers.forEach(f=>f.unsubscribe()),this.loginSocketSubs[B].receivers.push(u.subscribe({error:f=>{this.logError("socketReceiver error: %o",f)},complete:()=>{this.log("socketReceiver complete: %o")}}))})}handleConfig(e){if(typeof e["presence.interval"]!==void 0&&isUintString(e["presence.interval"])){const r=Number(e["presence.interval"]);r>K_PRESENCE_INTERVAL_MAX?e["presence.interval"]=String(K_PRESENCE_INTERVAL_MAX):r<K_PRESENCE_INTERVAL_MIN&&(e["presence.interval"]=String(K_PRESENCE_INTERVAL_MIN))}else e["presence.interval"]=String(K_PRESENCE_INTERVAL_DEFAULT);if(typeof e["presence.occupancy"]!==void 0&&isUintString(e["presence.occupancy"])){const r=Number(e["presence.occupancy"]);r>K_INTERVAL_THRESHOLD_MAX?e["presence.occupancy"]=String(K_INTERVAL_THRESHOLD_MAX):r<K_INTERVAL_THRESHOLD_MIN&&(e["presence.occupancy"]=String(K_INTERVAL_THRESHOLD_MIN))}else e["presence.occupancy"]=String(K_DEFAULT_INTERVAL_THRESHOLD);if(typeof e["presence.debounce"]!==void 0&&isUintString(e["presence.debounce"])){const r=Number(e["presence.debounce"]);r>K_INTERVAL_THRESHOLD_MAX?e["presence.debounce"]=String(K_INTERVAL_THRESHOLD_MAX):r<K_INTERVAL_THRESHOLD_MIN&&(e["presence.debounce"]=String(K_INTERVAL_THRESHOLD_MIN))}else e["presence.debounce"]=String(K_DEBOUNCE_DEFAULT)}requestSocketLogin(e,r,a,g){const E=defer(()=>{if(this.emit("login-request"),this.userJoinOptions=new UserJoinOptions(r),this.log("ENV_%d(%s):socket send UserJoin2, socket.isActiveClose: %s, isRejoin: %s",e.env,e.name,e.isActiveClose,r),this.loggedOut)return this.log("close other socket, ignore this login request"),void e.close();e.isActiveClose||e.sendPacket("UserJoin2",{account:this.context.uid,instance:this.instanceId,opt:this.userJoinOptions.toLong(),seq:a,ticket:e.ticket,detail:{[UserJoinDetailKey.kDetailKeyVendorConfig]:new Uint8Array,[UserJoinDetailKey.kDetailKeyKeepAliveInterval]:new TextEncoder().encode(String(this.context.heartbeatInterval/1e3))}})}),u=e.fromReceived("UserResp2").pipe(first(B=>a.eq(B.seq)),tap(B=>{if(this.loggedOut)return this.log("ENV_%d(%s): other socket is closing, will close this socket, ignore this resp",e.env,e.name),EMPTY;const{code:f}=B;if(f!==0){let y=String(f);this.clearSockets();let D=RTMErrorCode.RTM_ERROR_LOGIN_REJECTED;switch(f){case RegServerErrorCode.kCertificateInvalid:case RegServerErrorCode.kTicketParseError:case RegServerErrorCode.kTicketIllegalLength:case RegServerErrorCode.kTicketNotAuth:case RegServerErrorCode.kTicketUnknownVersion:D=RTMErrorCode.RTM_ERROR_INVALID_TOKEN;break;case RegServerErrorCode.kTimestampExpired:this.warn("token expired when received userResp, isReJoin: %s",r),r&&this.emit("tokenExpired"),this.connection.apClient.apFinish$.next(void 0),this.connection.stopLogin(),D=RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED;break;case RegServerErrorCode.kUserRejectedByConsoleConfig:D=RTMErrorCode.RTM_ERROR_LOGIN_NOT_AUTHORIZED,y="NOT_ENABLE_RTM";case RegServerErrorCode.kFail:case RegServerErrorCode.kServiceTooHeavy:}this.logError("Connected to gateway success but the Rtm server rejected login, server code is %s",y);const{code:M,reason:O}=getErrorInfoByCode(D);throw new RtmUnavailableError(this.loginOperation,[O+" userResp error, detail: ".concat(y)],M)}try{let y;const{detail:{1:D}}=B;y=JSON.parse(new TextDecoder().decode(D)),this.handleConfig(y);const M={};for(const O in y)O[0]!=="_"&&(M[O]=y[O]);this.log("user console config: %o",M),this.emit("appConfig",y)}catch(y){this.logError("parse user console config error: %o",y)}var m;return e.attemptsSinceLastError=0,e.loggedIn=!0,r&&((m=this.loginSocketSubs[e.env].pingTimer)===null||m===void 0||m.unsubscribe(),this.startPingTimer(e,!0)),this.log("ENV_%d logged in",e.env),e}),mapTo(e),timeout(6e3));return concat(E,u).pipe(filter(B=>B!==void 0),tap(()=>{this.log("ENV_%d(%s): Login response received",g,e.name),this.curLoginSockets[g]=e}),concatMap(async B=>{const f=this.context.connSyncEnv===void 0&&this.context.syncConnecting===!1&&r;if(f&&(this.context.syncConnecting=!0),r&&this.info("ENV_%d(%s): reg logged response received when reconnecting, need connect sync: %s, connSyncEnv: %d",B.env,B.name,f,this.context.connSyncEnv),f){this.emitUserJoined=!1;try{await timeoutPromise(this.requestFirstSyncInit(B),2e3,"syncInitAck timeout",RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT),this.context.connSyncEnv=B.env,this.log("ENV_".concat(B.env," - ").concat(B.name,": reg connect sync done by concatMap when sdk reconnecting, start logging sync..., connSyncEnv: ").concat(this.context.connSyncEnv)),await this.initSync(),this.log("ENV_".concat(B.env," - ").concat(B.name,": logged sync when sdk reconnecting."))}catch(m){if(this.warn("First sync init error when sdk reconnecting, ".concat(m)),this.context.connSyncEnv=void 0,this.warn("change connSyncEnv %d to undefined in requestSocketLogin",B.env),this.emit("syncDisconnected"),!getParameter("DECOUPLE_SYNC"))throw B.forceReconnect(),new TimeoutError;this.handleSyncDisconnected(B)}finally{this.context.syncConnecting=!1,this.emitUserJoined=!0}}return r&&this.emitUserJoined&&(this.emit("userJoined",B.env),this.emitUserJoined=!1),B}),catchError(B=>{var f;return B instanceof TimeoutError&&(f=this.curLoginSockets[e.env===0?1:0])!==null&&f!==void 0&&f.isActiveClose?(this.log("ENV_%d(%s): other socket is closing, will close this socket",e.env,e.name),EMPTY):B instanceof TimeoutError?(!r&&this.warn("ENV_%d(%s): sdk connect sync or reg response timeout, rejoin: %s",e.env,e.name,r),B.name="loginRespTimeout",setTimeout(()=>{e.emit("connectionFailure"),e.close()},SOCKET_RETRY_INTERVAL),of(e).pipe(delay(6e3))):(this.emit("banEdgeIP",e.ip),throwError(B))}))}getSocketLoginObservables(e,r){return e.map((a,g)=>a.pipe(switchMap((E,u)=>(this.incSeqIfNeeded(E.env),this.requestSocketLogin(E,u!==0,u===0?r:this.seq,g))),share()))}incSeqIfNeeded(e){if(![0,1].includes(e))throw new CommonError({INVALID_ENV:"The env argument is not 0 or 1"});this.seqSentStatuses[e]&&(this.seq=this.seq.add(1),this.seqSentStatuses=[!1,!1]),this.seqSentStatuses[e]=!0}incGetSeq(){return this.seq=this.seq.add(1),this.seqSentStatuses=[!0,!0],this.seq}getLoginSockets(){return compact$1(this.curLoginSockets)}emitMessage(e,r){var a;const{options:g,payload:E,src:u,dst:B,instance:f,dialogue:m,sequence:y,ms:D,MiscMap:M={}}=e;this.dialogueSequenceLru.set(m.toString(),y);const O="".concat(f,"-").concat(m,"#").concat(y);if(this.msgDedupLru.has(O))return void this.warn("Env_%d: Messages out-of-order or not start with 1: %s",r,O);this.msgDedupLru.set(O,void 0);const U=new MessageOption(g);this.lastLoginSockets.forEach(async ne=>{const oe=await ne.pipe(take(1)).toPromise();RegistrarSession.sendMessageAck(e,oe)});const F=U.isZlibCompressed(),x=U.isEncryption(),H=(a=U.getEncrytionComplement())!==null&&a!==void 0?a:0,{customType:j=new Uint8Array}=M,ee=new TextDecoder().decode(j);if(!x||this.key)if(x||!this.key){if(U.isTextMessage()){const ne=U.isPeerTextMessage(),oe=F?inflate(concatenateUint8Array(E,Uint8Array.of(0,0,0,0))):E,ae=oe.byteLength-Long$2.fromValue(H).toNumber(),he=new TextDecoder().decode(x?decrypt(oe,this.key,this.iv,this.keyLength).slice(0,ae):oe);this.info("Received a %s %s text message from %s to %s, %s",F?" compressed":"",ne?"peer":"channel",replaceRangeWithAsterisk(u),replaceRangeWithAsterisk(B),O),ne?this.emit("messageCount",{messageCategory:RtmMessageCategoryEnum.P2pSMsgNoOfflineFlag,type:"common",key:"receivedcount"}):this.emit("messageCount",{messageCategory:RtmMessageCategoryEnum.ChannelSMsg,type:"common",key:"receivedcount"}),this.emit("channelTextMessage",{channelId:B,memberId:u,text:he,properties:{serverReceivedTs:D.toNumber()},customType:ee,channelType:ne?"USER":"MESSAGE"})}else if(U.isRawMessage()){const ne=U.isRawPeerMessage(),{description:oe}=M,ae=oe===void 0?"":decodeUint8ArrayToString(oe),he=F?inflate(E):E,fe=he.byteLength-Long$2.fromValue(H).toNumber(),Le=x?decrypt(he,this.key,this.iv,this.keyLength).slice(0,fe):he;this.info("Received a %s %s raw message from %s to %s, %s",F?" compressed":"",ne?"peer":"channel",replaceRangeWithAsterisk(u),replaceRangeWithAsterisk(B),O),ne?this.emit("messageCount",{messageCategory:RtmMessageCategoryEnum.P2pRMsgNoOfflineFlag,type:"common",key:"receivedcount"}):this.emit("messageCount",{messageCategory:RtmMessageCategoryEnum.ChannelRMsg,type:"common",key:"receivedcount"}),this.emit("channelRawMessage",{desc:ae,raw:Le,channelId:B,memberId:u,properties:{serverReceivedTs:D.toNumber()},customType:ee,channelType:ne?"USER":"MESSAGE"})}}else this.warn("Received a message without encryption but the key is ready, %s",O);else this.warn("Received a message with encryption but the key is not ready yet, %s",O)}onSocketReconnect(e){return()=>{const r=[0,1].filter(E=>E!==e.env)[0],a=this.connection.curOpenSockets[r],g=this.context.connSyncEnv===e.env;this.log("ENV_".concat(e.env,"(").concat(e.name,"): received a reconnect event from ").concat(e.address,", otherSocketState: ").concat(a==null?void 0:a.loggedIn,", syncEnv: ").concat(g)),g&&this.handleSyncDisconnected(e),a&&!a.loggedIn&&(this.log("ENV_".concat(e.env,"(").concat(e.name,"): will emit connectionLost")),!g&&this.handleSyncDisconnected(a),this.emit("connectionLost"),this.emitUserJoined=!0)}}onUserTicketNearlyExpire(e){return r=>{const{ticket:a}=r;a===e.ticket&&this.emit("tokenPrivilegeWillExpire")}}onGroupDrop(){return e=>{let{account:r}=e;this.context.addReportEvents("ChnLeave",{cname:r,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.startTime),errCode:RTMErrorCode.RTM_ERROR_CHANNEL_IN_ERROR_STATE,sid:getSid(this.instanceId),userId:this.context.uid}),[0,1].forEach(a=>this.loginSocketSubs[a].channels.delete(r)),this.logError("the user is kicked out of the channel: ".concat(r))}}onStateUpdate(){return e=>{let{flags:r,allStates:a,target:g}=e;const E=covertStateStringToMetaData(a);var u,B;!r.and(new Long$2(0,2,!0)).isZero()&&this.log("metadata is cleared."),r.and(new Long$2(1,0,!0)).isZero()?E.majorRevision>=((u=this.userMetaEventInfos.get(g))!==null&&u!==void 0?u:0)&&this.emit("userMetaDataUpdated",{uid:g,data:E}):E.majorRevision>=((B=this.channelMetaEventInfos.get(g))!==null&&B!==void 0?B:0)&&this.emit("channelMetaDataUpdated",{channelId:g,data:E})}}onLockUpdate(){return e=>{const{target:r,flags:a,code:g,lock:E}=e,{channelName:u,channelType:B}=getChannelDetailByName(r);if(this.context.addReportEvents("SyncLockUpdateEvent",{vid:Long$2.fromValue(this.context.vid||"0"),code:g,sid:this.context.sid,lts:Long$2.fromNumber(Date.now()),userid:this.context.uid,replyts:Long$2.fromNumber(Date.now()),target:r,eventtype:g===MetadataRequestErrorCode.kLockWatching?"Watch":"Expire",sdktype:4,flags:a,lock:E,usersid:this.context.sid,ip:"",sdkip:""}),g===MetadataRequestErrorCode.kLockWatching)this.emit("lockWatching",{prefixChannelName:r,lockName:E});else if(g===MetadataRequestErrorCode.kLockExpired){const f={channelType:B,channelName:u,eventType:"EXPIRED",lockName:E,ttl:0,publisher:"",snapshot:[],owner:"",timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emit("lockExpired",f)}}}async requestFirstSyncInit(e){let r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const a=this.incGetSeq();return r&&(this.firstInitSyncSeq=a),this.log("ENV_".concat(e.env," - ").concat(e.name,": request ").concat(r?"first":""," sync init")),e.sendPacket(getParameter("DECOUPLE_SYNC")?"SyncInit2":"SyncInit",{seq:a}),e.fromReceived("SyncInitAck").pipe(first(g=>g.seq.eq(a)),map$1(async g=>{if(g.code!==0)throw this.context.connSyncEnv=void 0,this.warn("change connSyncEnv %d to undefined in requestFirstSyncInit",e.env),new Error("reg connect sync error, code is ".concat(g.code));this.log("reg connect sync succeed, change sync connected"),this.emit("syncConnected")})).toPromise()}onSyncFin(e){return r=>{let{code:a}=r;this.warn("ENV_%d: reg and sync conn is fin, connSyncEnv is %d, code is %d, %s",e.env,this.context.connSyncEnv,a,e.name),isNil$1(this.context.connSyncEnv)||this.context.connSyncEnv!==e.env||this.handleSyncDisconnected(e)}}onSyncInitAck(e){return async r=>{let{code:a,seq:g}=r;if(this.firstInitSyncSeq&&g.eq(this.firstInitSyncSeq))this.log("first sync init, ignore.");else if(a!==0)this.warn("reg connect sync error, code: ".concat(a)),getParameter("DECOUPLE_SYNC")||(e.emit("connectionFailure"),e.close()),this.context.connSyncEnv=void 0,this.warn("change connSyncEnv %d to undefined in onSyncInitAck error",e.env);else{this.context.connSyncEnv=e.env,this.log("sync init ack success, will emit sync connected, connSyncEnv: %d",this.context.connSyncEnv),this.emit("syncConnected");try{await this.initSync(),this.emitUserJoined&&(this.emit("userJoined",e.env),this.emitUserJoined=!1)}catch(E){this.log("received syncInitAck and sync init error:",E),getParameter("DECOUPLE_SYNC")?this.handleSyncDisconnected(e):e.forceReconnect()}}}}setSyncInitTimer(e){this.connSyncIndex.some(r=>r===1)||(this.connSyncIndex[e.env]=1,timeoutPromise(this.requestFirstSyncInit(e,!1),5e3,"syncInitAck timeout",RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT,!0).catch(r=>{this.warn("Request sync init error: %o",r),isNil$1(this.context.connSyncEnv)&&!e.isActiveClose&&setTimeout(()=>this.handleSyncDisconnected(e),isTimeout(r)?0:5e3)}).finally(()=>{this.connSyncIndex[e.env]=0}))}handleSyncDisconnected(e){if(!isNil$1(this.context.connSyncEnv)&&this.context.connSyncEnv!==e.env)return void this.warn("connSyncEnv is not equal to socket env");this.emit("syncDisconnected"),this.context.connSyncEnv=void 0;const r=[0,1].filter(g=>g!==e.env)[0],a=this.connection.curOpenSockets[r];a&&a.loggedIn?(this.info("use another env to connect sync, env: %d(%s)",a.env,a.name),this.setSyncInitTimer(a)):!getParameter("DECOUPLE_SYNC")||a!=null&&a.loggedIn||(this.info("use same env to connect sync, env: %d(%s)",e.env,e.name),this.setSyncInitTimer(e))}onSyncPacket(){return e=>{this.emit("syncPacket",e)}}onLockEvent(){return e=>{var r,a,g;let{target:E,lockStates:u,eventType:B}=e;if(!((r=(a=this.getLastSubscribeOrJoinOptions().get(E))===null||a===void 0?void 0:a.withLock)!==null&&r!==void 0&&r))return;const{channelName:f,channelType:m}=getChannelDetailByName(E);if(B===LockEventType.LockUnknown)return void this.log("RTM service Error: lockEvent type is 0 on channel '%s', channelType 's%', member '%s'",replaceRangeWithAsterisk(f),m,replaceRangeWithAsterisk(this.context.uid||""));const y=getUTCTimeBaseREG(this.context.offsetTime),D=new Date().getTime();if(B===LockEventType.LockSnapshot&&u.length===0){var M;if(this.lockSnapshotLastTime.has(E)||D-((M=this.lockSnapshotLastTime.get(E))!==null&&M!==void 0?M:0)<=LAST_PONG_RECEIVED_TS_FIELD_NUMBER)return;const je={channelType:m,channelName:f,eventType:"SNAPSHOT",lockName:"",ttl:0,publisher:"",snapshot:[],owner:"",timestamp:y};return this.log("received snapshot lockEvent is empty on channel(".concat(E,"), emit channelLockEvent")),this.lockSnapshotLastTime.set(E,D),void this.emit("channelLockEvent",je)}let O="SNAPSHOT",U=0,F=!1,x="",H=null;try{var j,ee;!((j=u[0])===null||j===void 0)&&j.lockState&&(H=JSON.parse((ee=u[0])===null||ee===void 0?void 0:ee.lockState))}catch(je){this.warn("parse lockState error: %o",je)}switch(B){case LockEventType.LockAdded:var ne;O="SET",U=(ne=H)===null||ne===void 0?void 0:ne.create_ttl;break;case LockEventType.LockModified:var oe,ae,he,fe;(oe=H)!==null&&oe!==void 0&&oe.user?(O="ACQUIRED",U=(ae=H)===null||ae===void 0?void 0:ae.create_ttl,x=(he=H)===null||he===void 0?void 0:he.user):(O="RELEASED",U=(fe=H)===null||fe===void 0?void 0:fe.create_ttl);break;case LockEventType.LockRemoved:O="REMOVED",U=0;break;case LockEventType.LockSnapshot:O="SNAPSHOT",F=!0}const Le={channelType:m,channelName:f,eventType:O,lockName:F?"":(g=u[0].lockName)!==null&&g!==void 0?g:"",ttl:U,publisher:"",snapshot:[],owner:x,timestamp:y};if(this.log("received lockEvent: %o",Le,H),F){var He;!this.lockSnapshotLastTime.has(E)&&D-((He=this.lockSnapshotLastTime.get(E))!==null&&He!==void 0?He:0)>LAST_PONG_RECEIVED_TS_FIELD_NUMBER&&(this.log("received snapshot lockEvent, emit channelLockEvent"),this.lockSnapshotLastTime.set(E,D),Le.snapshot=u.map(je=>{var nt,ut,$t,gA,AA,SA,DA,ki,ei,At,Qi;let QA=null;try{je.lockState&&(QA=JSON.parse(je.lockState))}catch(GA){this.warn("parse lockState error: %o",GA)}const fi={prefixChannelName:E,lockName:(nt=je.lockName)!==null&&nt!==void 0?nt:"",owner:(ut=($t=QA)===null||$t===void 0?void 0:$t.user)!==null&&ut!==void 0?ut:"",ttl:(gA=(AA=QA)===null||AA===void 0?void 0:AA.create_ttl)!==null&&gA!==void 0?gA:getParameter("LOCK_TTL"),revision:(SA=(DA=QA)===null||DA===void 0?void 0:DA._rev)!==null&&SA!==void 0?SA:0};return this.updateLockSnapshotCache(fi),{lockName:je.lockName,owner:(ki=(ei=QA)===null||ei===void 0?void 0:ei.user)!==null&&ki!==void 0?ki:"",ttl:(At=(Qi=QA)===null||Qi===void 0?void 0:Qi.create_ttl)!==null&&At!==void 0?At:getParameter("LOCK_TTL")}}),this.emit("channelLockEvent",Le))}else{var Se,ge,Ye,q;this.log("received incremental lockEvent, emit channelLockEvent");const je=H._rev||0,nt=((Se=this.lockEventInfos.get(E))===null||Se===void 0||(Se=Se.get((ge=u[0].lockName)!==null&&ge!==void 0?ge:""))===null||Se===void 0?void 0:Se.revision)||0;let ut=!1;if((O!=="RELEASED"&&je>nt||O==="RELEASED"&&je>=nt&&(Ye=this.lockEventInfos.get(E))!==null&&Ye!==void 0&&(Ye=Ye.get((q=u[0].lockName)!==null&&q!==void 0?q:""))!==null&&Ye!==void 0&&Ye.owner)&&(ut=!0),ut){var me,Fe,_t,Qt;this.emit("channelLockEvent",Le);const $t={prefixChannelName:E,lockName:(me=u[0].lockName)!==null&&me!==void 0?me:"",owner:(Fe=H.user)!==null&&Fe!==void 0?Fe:null,ttl:(_t=H.create_ttl)!==null&&_t!==void 0?_t:null,revision:(Qt=H._rev)!==null&&Qt!==void 0?Qt:null};this.updateLockCache($t)}}}}updateLockCache(e){var r;const{lockName:a,prefixChannelName:g}=e;this.lockEventInfos.get(g)||this.lockEventInfos.set(g,new Map);const E=(r=this.lockEventInfos.get(g))!==null&&r!==void 0?r:new Map;E.set(a,e),this.lockEventInfos.set(g,E)}updateLockSnapshotCache(e){var r;const{lockName:a,prefixChannelName:g}=e,E=(r=this.lockEventInfos.get(g))!==null&&r!==void 0?r:new Map;E.set(a,e),this.lockEventInfos.set(g,E)}onUserDrop(e){return r=>{let{code:a}=r;if(a===RegServerErrorCode.kConnectionTimeout)return void this.warn("connection timeout");if(this.context.addReportEvents("KickedOff",{code:0,elapse:getElapse(this.startTime),linkId:parseInt(e.name.split("-")[1],10),lts:Long$2.fromNumber(Date.now()),server:e.address,serverCode:a,sid:getSid(this.instanceId),userId:this.context.uid}),a===RegServerErrorCode.kJoinTooFrequently)return void this.warn("Login too often and kicked off, reconnect and login");if(a===RegServerErrorCode.kUserInstanceConflict)return this.warn("The instance ID conflicts, reconnecting"),this.instanceId=getRandomUInt64(),this.context.instanceId=this.instanceId,this.context.sid=getSid(this.instanceId),void this.emit("instanceChanged",this.instanceId);[RegServerErrorCode.kTimestampExpired,RegServerErrorCode.kRejoined,RegServerErrorCode.kUidBanned,RegServerErrorCode.kIpBanned,RegServerErrorCode.kChannelBanned,RegServerErrorCode.kUserBannedByAuth].includes(a)&&(this.emit("syncDisconnected"),this.emit("userDrop",a),this.connection.cancelLogin=!0,this.emit("login-cancel"),this.clearSockets())}}clearSockets(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];[0,1].forEach(a=>{this.cleanLoginSubs(a,r),this.connection.closeSocket(a,e)})}onMessage(e){return r=>{const{dialogue:a,instance:g,sequence:E,options:u,src:B}=r,f=a.toString(),m=this.dialPendingMsgSubjectMap.get(f),y="".concat(g,"-").concat(a,"#").concat(E);if(m)return m.next(r),void this.log("Env_%d: The dialogue has pending messages, next: %s",e.env,y);const D=this.dialogueSequenceLru.get(f),M=!D&&E.eq(1),O=D!==void 0&&E.sub(D).eq(1);if(M||O)return void this.emitMessage(r,e.env);if(D){if(E.lte(D))return;this.log("Env_%d: The message pended, the sequence is not continuous with the last: %s",e.env,y)}else this.log("Env_%d: The message pended, the first sequence is not equal to 1: %s",e.env,y);const U=new Subject;this.dialPendingMsgSubjectMap.set(f,U);const F=U.pipe(observeOn(asyncScheduler),scan((j,ee)=>[...j,ee],[]),map$1(j=>[...j].sort((ee,ne)=>{let{sequence:oe}=ee,{sequence:ae}=ne;return oe.eq(ae)?0:oe.gt(ae)?1:-1})),shareReplay(1)),x=new MessageOption(u),H=!x.isFromCache()&&!x.isBufferedMessage();F.pipe(takeUntil(timer(H?ONLINE_MESSAGE_DEDUP_DELAY:OFFLINE_MESSAGE_DEDUP_DELAY)),first(j=>{if(j.length<2)return!1;for(let ee=D===void 0?Long$2.fromNumber(1,!0):D.add(1),ne=0;ne<j.length;ee=ee.add(1),ne++)if(!j[ne].sequence.eq(ee))return!1;return!0}),finalize(()=>{this.dialPendingMsgSubjectMap.delete(f)})).subscribe(j=>{j.forEach(ee=>{this.emitMessage(ee,e.env),this.log("Env_%d: The message queue has fully ordered, emitting: %s",e.env,"".concat(ee.instance,"-").concat(ee.dialogue,"#").concat(ee.sequence))})},j=>{j instanceof EmptyError&&F.pipe(take(1)).subscribe(ee=>ee.forEach(ne=>{this.log("Env_%d: The message pending queue expired, emitting: %s",e.env,"".concat(ne.instance,"-").concat(ne.dialogue,"#").concat(ne.sequence)),this.emitMessage(ne,e.env)}))}),U.next(r)}}handleHeartbeatTimeout(e){var r;const a=this.context.heartbeatInterval+((r=getParameter("RTM_LINK_KEEP_ALIVE_TIMEOUT"))!==null&&r!==void 0?r:CONFIGURABLE_KEY_RTM_LINK_KEEP_ALIVE_TIMEOUT)-2*SOCKET_RETRY_INTERVAL;this.warn("ENV_".concat(e.env,"(").concat(e.name,"): registrar forceReconnect, the last received packet is the same as it was ").concat(a/1e3,"s ago ")),e.forceReconnect()}onPong(){return e=>{let{serverMs:r}=e;this.context.pongTime=r.toNumber(),this.context.offsetTime=this.context.pongTime-new Date().getTime(),document.hidden&&this.getLoginSockets().forEach(a=>{!a.isActiveClose&&this.sendPing(a)})}}sendPing(e){var r;if(Date.now()-this.lastPingTime[e.env]<=this.context.heartbeatInterval||!e.loggedIn)return;this.incSeqIfNeeded(e.env);const a=this.seq,g=this.context.heartbeatInterval+((r=getParameter("RTM_LINK_KEEP_ALIVE_TIMEOUT"))!==null&&r!==void 0?r:CONFIGURABLE_KEY_RTM_LINK_KEEP_ALIVE_TIMEOUT)-2*SOCKET_RETRY_INTERVAL;e.sendPacket("Ping3",{ms:Long$2.fromNumber(Date.now(),!0),seq:a,flags:new Long$2(3,0,!0)}),this.lastPingTime[e.env]=Date.now(),e.env===this.context.connSyncEnv&&this.manualShakeHand();const E=e.fromReceived("Pong3").pipe(filter(u=>{let{seq:B}=u;return B.eq(a)}),take(1),tap(u=>{let{serverMs:B}=u;this.context.pongTime=B.toNumber(),this.context.offsetTime=this.context.pongTime-new Date().getTime(),this.startPingTimer(e)}),timeout(g),catchError(u=>(e.loggedIn===!1||(this.logError("ENV: %d, loggedIn: %s, received pong error, e: %o",e.env,e.loggedIn,u),u instanceof TimeoutError&&this.handleHeartbeatTimeout(e)),EMPTY)),finalize(()=>{E.unsubscribe()})).subscribe()}updateMessageCount(e){const r={[RtmMessageCategoryEnum.ChannelRMsg]:this.chanelRawMessageReport,[RtmMessageCategoryEnum.ChannelSMsg]:this.chanelStringMessageReport,[RtmMessageCategoryEnum.P2pRMsgNoOfflineFlag]:this.p2pRMsgNoOfflineReport,[RtmMessageCategoryEnum.P2pSMsgNoOfflineFlag]:this.p2pSMsgNoOfflineReport,3:void 0,4:void 0,7:void 0,8:void 0,9:void 0,10:void 0}[e.messageCategory];e.type==="common"?r==null||r.updateCommonCount(e.key):e.type==="peer"?r==null||r.updatePeerAckCount(e.delay):r==null||r.updateNorecipientackCount(e.delay)}clearLockSnapshotLastTime(){this.lockSnapshotLastTime.clear()}notifyNetworkChange(e){this.networkOnlineSubject.next(e)}}_defineProperty$1(RegistrarSession,"genTimeoutError",(n,e)=>of(void 0).pipe(delay(e===void 0?COMMON_REQUEST_TIMEOUT:e),map$1(()=>{throw new RtmTimeoutError(OperationName.rtm,[getErrorInfoByCode(n).reason||"Request timed out after ".concat((e===void 0?COMMON_REQUEST_TIMEOUT:e)/1e3,"s")],n)})));class CollectionEvent{constructor(e,r,a,g){this.document=e,this.path=r,this.type=a,this.value=g}}var CollectionEventType;(function(n){n.Put="Put",n.Insert="Insert",n.Delete="Delete",n.DocSyncEnd="DocSyncEnd"})(CollectionEventType||(CollectionEventType={}));var CollectionEventType$1=CollectionEventType;class SyncCounter{constructor(e,r,a,g,E){this.docInstance=e,this.path=r,this.documentIn=a,this.collectionIn=g,this.client=E}Set(e){if(Math.round(e)!=e)throw new TypeError("The value is expected to be an int, but a double was got.");if(!checkAll(this.documentIn,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.documentIn);const r=Module._rte_crdt_path_create();parsePath(this.path,r);const a=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,r,a)!==0)throw Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),new Error("The counter no longer exists.");counterCheckAndReplace(a,r,this.docInstance),Module._rte_crdt_document_batch_write_begin(this.docInstance),setValue(this.docInstance,null,e,r,!0),Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),this.client.connected&&tickLoop(this.client)}Inc(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(Math.round(e)!=e)throw new TypeError("The delta is expected to be an int, but a double was got.");if(!checkAll(this.documentIn,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.documentIn);const r=Module._rte_crdt_path_create();parsePath(this.path,r);const a=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,r,a)!==0)throw Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),new Error("The counter no longer exists.");counterCheckAndReplace(a,r,this.docInstance),Module._rte_crdt_document_batch_write_begin(this.docInstance),Module._rte_crdt_document_increment(this.docInstance,null,r,BigInt(e)),Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),this.client.connected&&tickLoop(this.client)}Dec(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(Math.round(e)!=e)throw new TypeError("The delta is expected to be an int, but a double was got.");if(!checkAll(this.documentIn,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.documentIn);const r=Module._rte_crdt_path_create();parsePath(this.path,r);const a=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,r,a)!==0)throw Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),new Error("The counter no longer exists.");counterCheckAndReplace(a,r,this.docInstance),Module._rte_crdt_document_batch_write_begin(this.docInstance),Module._rte_crdt_document_increment(this.docInstance,null,r,-BigInt(e)),Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),this.client.connected&&tickLoop(this.client)}Value(){if(!checkAll(this.documentIn,this.collectionIn.readable))throw new Error("The current collection is forbidden to read the Document : "+this.documentIn);let e;const r=Module._rte_crdt_path_create();parsePath(this.path,r);const a=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,r,a)!==0)throw Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),new Error("The counter no longer exists.");return counterCheckAndReplace(a,r,this.docInstance),e=getScalarValue(a),Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),e}}class List{constructor(e,r,a,g,E){this.docInstance=e,this.path=r,this.documentIn=a,this.collectionIn=g,this.client=E}Insert(e,r){if(Math.round(e)!=e)throw new TypeError("The index is expected to be an int, but a double was got.");if(!checkAll(this.documentIn,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.documentIn);const a=Module._rte_crdt_path_create();parsePath(this.path,a);const g=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,a,g)!==0||!Module._rte_crdt_nested_value_is_list(g))throw Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(a),new Error("The list no longer exists.");{const E=Module._rte_crdt_nested_value_iterator_create(g);let u=0;for(;Module._rte_crdt_nested_value_iterator_next_value(E,null)!==305;)u+=1;if(Module._rte_crdt_nested_value_iterator_destroy(E),e<0||e>u)throw Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(a),new Error("The index is out of bound.");Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let B=0;B<r.length;B++){const f=r[B];setValue(this.docInstance,e,f,a),e+=1}Module._rte_crdt_document_batch_write_end(this.docInstance)}Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(a),this.client.connected&&tickLoop(this.client)}Append(e){if(!checkAll(this.documentIn,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.documentIn);const r=Module._rte_crdt_path_create();parsePath(this.path,r);const a=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,r,a)!==0||!Module._rte_crdt_nested_value_is_list(a))throw Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),new Error("The list no longer exists.");{const g=Module._rte_crdt_nested_value_iterator_create(a);let E=0;for(;Module._rte_crdt_nested_value_iterator_next_value(g,null)!==305;)E+=1;Module._rte_crdt_nested_value_iterator_destroy(g),Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let u=0;u<e.length;u++){const B=e[u];setValue(this.docInstance,E,B,r),E+=1}Module._rte_crdt_document_batch_write_end(this.docInstance)}Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),this.client.connected&&tickLoop(this.client)}Remove(e){for(let u=0;u<e.length;u++){const B=e[u];if(Math.round(B)!=B)throw new TypeError("The indexes is expected to be an array of int, but a double was got in the array.")}if(!checkAll(this.documentIn,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.documentIn);let r=e.filter((u,B,f)=>f.indexOf(u)===B),a=r.sort();const g=Module._rte_crdt_path_create();parsePath(this.path,g);const E=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,g,E)!==0||!Module._rte_crdt_nested_value_is_list(E))throw Module._rte_crdt_nested_value_destroy(E),Module._rte_crdt_path_destroy(g),new Error("The list no longer exists.");{const u=Module._rte_crdt_nested_value_iterator_create(E);let B=0;for(;Module._rte_crdt_nested_value_iterator_next_value(u,null)!==305;)B+=1;Module._rte_crdt_nested_value_iterator_destroy(u);for(let m=0;m<e.length;m++){const y=e[m];if(y<0||y>B)throw Module._rte_crdt_nested_value_destroy(E),Module._rte_crdt_path_destroy(g),new Error("The index is out of bound.")}let f=0;Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let m=0;m<a.length;m++){let y=a[m];const D=Module._rte_crdt_path_create();y-=f,parsePath(this.path+"["+y.toString()+"]",D),Module._rte_crdt_document_delete(this.docInstance,null,D),f+=1,Module._rte_crdt_path_destroy(D)}Module._rte_crdt_document_batch_write_end(this.docInstance)}Module._rte_crdt_nested_value_destroy(E),Module._rte_crdt_path_destroy(g),this.client.connected&&tickLoop(this.client)}Value(){if(!checkAll(this.documentIn,this.collectionIn.readable))throw new Error("The current collection is forbidden to read the Document : "+this.documentIn);let e=[];const r=Module._rte_crdt_path_create();parsePath(this.path,r);const a=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,r,a)!==0||!Module._rte_crdt_nested_value_is_list(a))throw Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),new Error("The list no longer exists.");return getAll(this.docInstance,a,e,!0),Module._rte_crdt_path_destroy(r),Module._rte_crdt_nested_value_destroy(a),e}}class Map$1{constructor(e,r,a,g,E){this.docInstance=e,this.path=r,this.documentIn=a,this.collectionIn=g,this.client=E}Set(e){if(!isDict(e))throw new TypeError("The value should be in JSON format");if(!checkAll(this.documentIn,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.documentIn);const r=Module._rte_crdt_path_create();parsePath(this.path,r);const a=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,r,a)!==0||!Module._rte_crdt_nested_value_is_map(a))throw Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),new Error("The map no longer exists.");Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let g=0,E=Object.entries(e);g<E.length;g++){const[u,B]=E[g];setValue(this.docInstance,u,B,r)}Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),this.client.connected&&tickLoop(this.client)}Delete(e){if(!checkAll(this.documentIn,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.documentIn);const r=Module._rte_crdt_path_create();parsePath(this.path,r);const a=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,r,a)!==0||!Module._rte_crdt_nested_value_is_map(a))throw Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),new Error("The map no longer exists.");Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let g=0;g<e.length;g++){const E=e[g],u=Module._rte_crdt_path_clone(r),B=getPtrWithStr(E);Module._rte_crdt_path_add_property(u,B,getRealLenWithStrBI(E)),releasePtr(B),Module._rte_crdt_document_delete(this.docInstance,null,u),Module._rte_crdt_path_destroy(u)}Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),this.client.connected&&tickLoop(this.client)}Value(){if(!checkAll(this.documentIn,this.collectionIn.readable))throw new Error("The current collection is forbidden to read the Document : "+this.documentIn);let e={};const r=Module._rte_crdt_path_create();parsePath(this.path,r);const a=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,r,a)!==0||!Module._rte_crdt_nested_value_is_map(a))throw Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),new Error("The map no longer exists.");return getAll(this.docInstance,a,e,!1),Module._rte_crdt_nested_value_destroy(a),Module._rte_crdt_path_destroy(r),e}}class SyncDocument{constructor(e,r,a,g){this.docInstance=e,this.name=r,this.collectionIn=a,this.client=g}Set(e){if(!isDict(e))throw new TypeError("The value should be in JSON format");if(!checkAll(this.name,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.name);Module._rte_crdt_document_batch_write_begin(this.docInstance);const r=Module._rte_crdt_path_create();for(let a=0,g=Object.entries(e);a<g.length;a++){const[E,u]=g[a];setValue(this.docInstance,E,u,r)}Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_path_destroy(r),this.client.connected&&tickLoop(this.client)}Update(e,r){if(!checkAll(this.name,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.name);Module._rte_crdt_document_batch_write_begin(this.docInstance);const a=Module._rte_crdt_path_create();parsePath(e,a,!0),setValue(this.docInstance,null,r,a),Module._rte_crdt_document_batch_write_end(this.docInstance),this.client.connected&&tickLoop(this.client)}Del(e){if(!checkAll(this.name,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.name);Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let r=0;r<e.length;r++){const a=e[r],g=Module._rte_crdt_path_create();parsePath(a,g,!0),Module._rte_crdt_document_delete(this.docInstance,null,g),Module._rte_crdt_path_destroy(g)}Module._rte_crdt_document_batch_write_end(this.docInstance),this.client.connected&&tickLoop(this.client)}Get(){if(!checkAll(this.name,this.collectionIn.readable))throw new Error("The current collection is forbidden to read the Document : "+this.name);let e={};const r=Module._rte_crdt_path_create(),a=Module._rte_crdt_nested_value_create();try{return Module._rte_crdt_document_get(this.docInstance,null,r,a),getAll(this.docInstance,a,e,!1),Module._rte_crdt_path_destroy(r),Module._rte_crdt_nested_value_destroy(a),e}catch(g){Module._rte_crdt_path_destroy(r),Module._rte_crdt_nested_value_destroy(a),logger("The Error Stack is : ".concat(g.Stack),this.collectionIn.getLogger,"error")}}Counter(e,r){const a=Module._rte_crdt_path_create();parsePath(e,a,!0);const g=Module._rte_crdt_nested_value_create();let E;try{E=Module._rte_crdt_document_get(this.docInstance,null,a,g)}catch{throw Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(a),new Error("The path is invalid")}if(E!=0){if(!r)throw new Error("The given path leads to an empty field and the 'create' is false.");Module._rte_crdt_document_batch_write_begin(this.docInstance),setValue(this.docInstance,null,0,a,!0),Module._rte_crdt_document_batch_write_end(this.docInstance)}else{if(!Module._rte_crdt_nested_value_is_scalar(g))throw Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(a),new TypeError("The given path does not lead to a counter.");{const u=Module._rte_crdt_nested_value_get_scalar(g);if(!Module._rte_crdt_scalar_value_is_counter(u)&&!Module._rte_crdt_scalar_value_is_i64(u))throw new TypeError("The given path does not lead to a counter.");if(Module._rte_crdt_scalar_value_is_i64(u)){const B=getScalarValue(g);Module._rte_crdt_document_batch_write_begin(this.docInstance),setValue(this.docInstance,null,B,a,!0),Module._rte_crdt_document_batch_write_end(this.docInstance)}}}return Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(a),new SyncCounter(this.docInstance,e,this.name,this.collectionIn,this.client)}Map(e,r){const a=Module._rte_crdt_path_create();parsePath(e,a,!0);const g=Module._rte_crdt_nested_value_create();let E;try{E=Module._rte_crdt_document_get(this.docInstance,null,a,g)}catch{throw Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(a),new Error("The path is invalid!")}if(E!=0){if(!r)throw new Error("The given path leads to an empty field and the 'create' is false.");Module._rte_crdt_document_batch_write_begin(this.docInstance),setValue(this.docInstance,null,{},a),Module._rte_crdt_document_batch_write_end(this.docInstance)}else if(!Module._rte_crdt_nested_value_is_map(g))throw Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(a),new TypeError("The given path does not lead to a map.");return Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(a),new Map$1(this.docInstance,e,this.name,this.collectionIn,this.client)}List(e,r){const a=Module._rte_crdt_path_create();parsePath(e,a,!0);const g=Module._rte_crdt_nested_value_create();let E;try{E=Module._rte_crdt_document_get(this.docInstance,null,a,g)}catch{throw Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(a),new Error("The path is invalid!")}if(E!=0){if(!r)throw new Error("The given path leads to an empty field and the 'create' is false.");Module._rte_crdt_document_batch_write_begin(this.docInstance),setValue(this.docInstance,null,[],a),Module._rte_crdt_document_batch_write_end(this.docInstance)}else if(!Module._rte_crdt_nested_value_is_list(g))throw Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(a),new TypeError("The given path does not lead to a list.");return Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(a),new List(this.docInstance,e,this.name,this.collectionIn,this.client)}Keepalive(e){if(!isInteger(e))throw new TypeError("The ttl is expected to be an interger, but a double was got.");const r=getPtrWithStr(this.collectionIn.dbIn),a=getPtrWithStr(this.collectionIn.name),g=getPtrWithStr(this.name);Module._sync_client_keepalive(this.client.clientPtr,r,a,g,e),releasePtr(r),releasePtr(a),releasePtr(g)}}class SyncCollection{constructor(e,r,a,g,E,u,B){this.colPtr=e,this.name=r,this.client=a,this.readable=g,this.writable=E,this.dbIn=u,this.channel=new eventsExports.EventEmitter,this.cb=null,this.getLogger=B}PutDoc(e){if(!checkAll(e,this.writable))throw new Error("The current collection is forbidden to write the Document : "+e);const r=getPtrWithStr(e);Module._rte_crdt_collection_put_doc(this.colPtr,r,getRealLenWithStrBI(e));const a=getPtrWithStr(this.name);releasePtr(r),releasePtr(a),this.client.connected&&tickLoop(this.client)}DelDoc(e){if(!checkAll(e,this.writable))throw new Error("The current collection is forbidden to write the Document : "+e);const r=getPtrWithStr(e),a=getPtrWithStr(this.name);Module._rte_crdt_collection_delete_doc(this.colPtr,r,getRealLenWithStrBI(e)),releasePtr(r),releasePtr(a),this.client.connected&&tickLoop(this.client)}Docs(){let e=new Map,r=Module._rte_crdt_collection_iterator_create(this.colPtr,null,BigInt(0)),a=0;const g=Module._malloc(4),E=Module._malloc(4);for(;a=Module._rte_crdt_collection_iterator_next(r,E,g),a!==305;){const u=Module.getValue(E,"i32"),B=Module.UTF8ToString(u).valueOf(),f=getPtrWithStr(B),m=Module._rte_crdt_collection_ref_doc(this.colPtr,f,getRealLenWithStrBI(B));releasePtr(f);const y=new SyncDocument(m,B,this,this.client);e.set(B,y)}return releasePtr(g),releasePtr(E),e}Doc(e){const r=getPtrWithStr(e),a=Module._rte_crdt_collection_ref_doc(this.colPtr,r,getRealLenWithStrBI(e));return releasePtr(r),a!=0?new SyncDocument(a,e,this,this.client):null}Subscribe(){return this.cb!==null?(logger("The Collection : ".concat(this.name," has already been subscribed."),this.getLogger,"info"),null):(this.cb=subscribe(this,this.channel),this.channel)}UnSubscribe(){this.channel.removeAllListeners(),this.cb!=null&&(Module.removeFunction(this.cb),this.cb=null),logger("The Collection : ".concat(this.name," has been unsubscribed successfully."),this.getLogger,"info")}}class SyncDatabase{constructor(e,r){this.name=e,this.client=r,this.colls=new Map,this.keepAliveTimers=new Map}async CreateCollection(e,r,a){if(this.colls.has(e))throw new Error("The collection : ".concat(e," has alreay existed in this database."));try{await promisify(createCollection)({client:this.client,db:this.name,coll:e,readable:r})}catch(f){logger("Collection init failed by the error : ".concat(f),this.client.getLogger,"error")}const g=getPtrWithStr(e),E=getPtrWithStr(this.name),u=Module._sync_client_get_coll(this.client.clientPtr,E,g);releasePtr(g),releasePtr(E);const B=new SyncCollection(u,e,this.client,r,a,this.name,this.client.getLogger);this.colls.set(e,B)}DestroyCollection(e){let r=!1;if(this.colls.has(e)){const a=this.colls.get(e);if(a!=null){const g=getPtrWithStr(a.name),E=getPtrWithStr(this.name);Module._sync_client_delete_coll(this.client.clientPtr,E,g),releasePtr(g),releasePtr(E),this.colls.delete(e),r=!0}}logger(r?"The Collection : ".concat(e," has been destroyed successfully."):"The operation to destroy the Collection : ".concat(e," is failed."),this.client.getLogger,"info")}Coll(e){return this.colls.has(e)?this.colls.get(e):null}SetAutoKeepalive(e,r,a){if(!isInteger(a)||a<=0)throw new TypeError("The ttl is expected to be a positive integer.");const g=getPtrWithStr(this.name),E=getPtrWithStr(e),u=getPtrWithStr(r);Module._sync_client_set_doc_ttl(this.client.clientPtr,g,E,u,a),releasePtr(g),releasePtr(E),releasePtr(u),this.client.connected&&tickLoop(this.client)}CancelAutoKeepalive(e,r){const a=getPtrWithStr(this.name),g=getPtrWithStr(e),E=getPtrWithStr(r);Module._sync_client_set_doc_ttl(this.client.clientPtr,a,g,E,0),releasePtr(a),releasePtr(g),releasePtr(E),this.client.connected&&tickLoop(this.client)}SetAutoKeepaliveRPC(e,r,a){if(!isInteger(a)||a<=0)throw new TypeError("The ttl is expected to be a positive integer.");const g=e+" "+r,E=getPtrWithStr(this.name),u=getPtrWithStr(e),B=getPtrWithStr(r);if(Module._sync_client_keepalive(this.client.clientPtr,E,u,B,a),releasePtr(E),releasePtr(u),releasePtr(B),this.client.connected){tickLoop(this.client);let f=setInterval(()=>{const m=getPtrWithStr(this.name),y=getPtrWithStr(e),D=getPtrWithStr(r);Module._sync_client_keepalive(this.client.clientPtr,m,y,D,a),releasePtr(m),releasePtr(y),releasePtr(D),tickLoop(this.client)},1e3*a/2);this.keepAliveTimers.set(g,f)}}RemoveAutoKeepaliveRPC(e,r){let a=e+" "+r;if(this.keepAliveTimers.has(a)){let g=this.keepAliveTimers.get(a);clearInterval(g)}}GetAutoKeepaliveRPC(){return Array.from(this.keepAliveTimers.keys())}}function checkIfContainsStart(n){for(let e=0;e<n.length;e++)if(n[e]==="*")return!0;return!1}function promisify(n){return typeof n!="function"?n:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise((r,a)=>{n(Object.assign(Object.assign(Object.assign({},e),{success:r,fail:a})))})}}function isDict(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date)}function toRegex(n){let e="";for(let r=0;r<n.length;r++){const a=n.charAt(r);a==="*"&&(e+="."),e+=a}return new RegExp(e)}function checkRegex(n,e){for(let r=0;r<e.length;r++){let a=e[r];if(a.includes("*")&&toRegex(a).test(n))return!0}return!1}function isInteger(n){return Math.round(n)===n}function checkAll(n,e){return!(!checkIfContainsStart(e)&&e.length>0&&!e.includes(n)&&!checkRegex(n,e))}function logger(n,e,r){if(e!==null)switch(r){case"info":e().handleInfoLog(n);break;case"warn":e().handleWarnLog(n);break;case"error":e().handleErrorLog(n)}else{let a=new Date;console.log(a+a.getMilliseconds().toString()+" : "+n)}}function getMallocLenWithStr(n){return new Blob([n]).size+1}function getPtrWithStr(n){const e=Module._malloc(getMallocLenWithStr(n));return Module.stringToUTF8(n,e,getMallocLenWithStr(n)),e}function releasePtr(n){n!=null&&(Module._free(n),n=null)}function getRealLenWithStrBI(n){const e=new Blob([n]).size;return BigInt(e)}function setValue(n,e,r,a){let g=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const E=Module._rte_crdt_value_create(),u=Module._rte_crdt_path_clone(a);if(typeof r=="object"&&r!=null&&r!=null)if(Array.isArray(r)){Module._rte_crdt_value_set_list(E),constructPathAndPut(e,n,u,E);let B=0;for(let f=0;f<r.length;f++)setValue(n,B,r[f],u),B+=1}else{Module._rte_crdt_value_set_map(E),constructPathAndPut(e,n,u,E);for(let B=0,f=Object.entries(r);B<f.length;B++){const[m,y]=f[B];setValue(n,m,y,u)}}else{const B=Module._rte_crdt_value_set_scalar(E);switch(typeof r){case"number":g?Module._rte_crdt_scalar_value_set_counter(B,BigInt(r)):isInteger(r)?Module._rte_crdt_scalar_value_set_i64(B,BigInt(r)):Module._rte_crdt_scalar_value_set_double(B,r);break;case"boolean":Module._rte_crdt_scalar_value_set_bool(B,r);break;case"string":const f=getPtrWithStr(r);Module._rte_crdt_scalar_value_set_bytes(B,f,getRealLenWithStrBI(r)),releasePtr(f);break;default:Module._rte_crdt_scalar_value_set_null(B)}constructPathAndPut(e,n,u,E)}Module._rte_crdt_path_destroy(u),Module._rte_crdt_value_destroy(E)}function constructPathAndPut(n,e,r,a){if(typeof n=="string"){const g=getPtrWithStr(n);Module._rte_crdt_path_add_property(r,g,getRealLenWithStrBI(n)),releasePtr(g)}else n!=null&&(Module._rte_crdt_path_add_index(r,BigInt(n)),Module._rte_crdt_document_insert(e,null,r,a));if(Module._rte_crdt_document_put(e,null,r,a)!=0)throw Error("The path is invalid!")}function getScalarValue(n){var e;let r;if(r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1]?Module._rte_crdt_nested_value_get_scalar(n):Module._rte_crdt_value_get_scalar(n),Module._rte_crdt_scalar_value_is_i64(r)){const a=Module._malloc(4);Module._rte_crdt_scalar_value_get_i64(r,a),e=Module.getValue(a,"i64"),e=Number(e),releasePtr(a)}else if(Module._rte_crdt_scalar_value_is_double(r)){const a=Module._malloc(8);Module._rte_crdt_scalar_value_get_double(r,a),e=Module.getValue(a,"double"),e=Number(e),releasePtr(a)}else if(Module._rte_crdt_scalar_value_is_bytes(r)){const a=Module._malloc(4),g=Module._malloc(4);Module._rte_crdt_scalar_value_get_bytes(r,g,a);const E=Module.getValue(g,"i32");e=Module.UTF8ToString(E).valueOf(),releasePtr(a),releasePtr(g)}else if(Module._rte_crdt_scalar_value_is_bool(r)){const a=Module._malloc(1);Module._rte_crdt_scalar_value_get_bool(r,a),e=Module.getValue(a)==1,releasePtr(a)}else if(Module._rte_crdt_scalar_value_is_counter(r)){const a=Module._malloc(4);Module._rte_crdt_scalar_value_get_counter(r,a),e=Module.getValue(a,"i64"),e=Number(e),releasePtr(a)}else e=null;return e}function parsePath(n,e){if(arguments.length>2&&arguments[2]!==void 0&&arguments[2]){const g=getPtrWithStr(n);return Module._rte_crdt_path_add_property(e,g,getRealLenWithStrBI(n)),void releasePtr(g)}let r="",a=!1;for(let g=0;g<n.length;g++){const E=n[g];E!=="["?E!=="]"?E!=="."?r+=E:(r.length>0&&(addPropertyOrIndex(r,e,a),r=""),a=!1):(addPropertyOrIndex(r,e,a),a=!1,r=""):(r.length>0&&(addPropertyOrIndex(r,e,a),r=""),a=!0)}r.length>0&&addPropertyOrIndex(r,e,a)}function addPropertyOrIndex(n,e,r){if(!isNaN(n)&&r){const a=Number(n);Module._rte_crdt_path_add_index(e,BigInt(a))}else{const a=getPtrWithStr(n);Module._rte_crdt_path_add_property(e,a,getRealLenWithStrBI(n)),releasePtr(a)}}function getAll(n,e,r,a){const g=Module._rte_crdt_nested_value_iterator_create(e),E=Module._malloc(4),u=Module._malloc(4),B=Module._malloc(4);let f=0;for(;;)if(a){if(f=Module._rte_crdt_nested_value_iterator_next_value(g,B),f===305)break;const m=Module.getValue(B,"i32");if(Module._rte_crdt_nested_value_is_scalar(m))r.push(getScalarValue(m));else if(Module._rte_crdt_nested_value_is_map(m)){let y={};r.push(y),getAll(n,m,y,!1)}else if(Module._rte_crdt_nested_value_is_list(m)){let y=[];r.push(y),getAll(n,m,y,!0)}}else{if(f=Module._rte_crdt_nested_value_iterator_next_key_value(g,E,u,B),f===305)break;const m=Module.UTF8ToString(Module.getValue(E,"i32")).valueOf(),y=Module.getValue(B,"i32");if(Module._rte_crdt_nested_value_is_scalar(y))r[m]=getScalarValue(y);else if(Module._rte_crdt_nested_value_is_map(y)){let D={};r[m]=D,getAll(n,y,D,!1)}else if(Module._rte_crdt_nested_value_is_list(y)){let D=[];r[m]=D,getAll(n,y,D,!0)}}releasePtr(E),releasePtr(u),releasePtr(B),Module._rte_crdt_nested_value_iterator_destroy(g)}function getPtrStringList(n){const e=n.length,r=e===0?0:Module._malloc(4*e);let a=r,g=[];for(let E=0;E<n.length;E++){let u=getPtrWithStr(n[E]);g.push(u),Module.setValue(a,u,"i32"),a+=4}return[r,g]}function counterCheckAndReplace(n,e,r){if(!Module._rte_crdt_nested_value_is_scalar(n))throw Module._rte_crdt_nested_value_destroy(n),Module._rte_crdt_path_destroy(e),new TypeError("The counter no longer exists.");const a=Module._rte_crdt_nested_value_get_scalar(n);if(!Module._rte_crdt_scalar_value_is_counter(a)){if(!Module._rte_crdt_scalar_value_is_i64(a))throw Module._rte_crdt_nested_value_destroy(n),Module._rte_crdt_path_destroy(e),new Error("The counter no longer exists.");{const g=getScalarValue(n);Module._rte_crdt_document_batch_write_begin(r),setValue(r,null,g,e,!0),Module._rte_crdt_document_batch_write_end(r)}}}function getRangeEndStringPtr(n){const e=Module.lengthBytesUTF8(n)+1,r=Module._malloc(e);return Module.stringToUTF8(n,r,e),Module.HEAPU8[r+e-1]=1,r}function getTick(n,e){const r=Module._sync_client_tick(e,n),a=Module._sync_buffer_data(n),g=Number(Module._sync_buffer_length(n));return{resDeepCopy:new Uint8Array(Module.HEAPU8.buffer,a,g).slice(),tikGetRes:r}}function tickLoop(n){let e=0;for(;e!=305;){const{resDeepCopy:r,tikGetRes:a}=getTick(n.tickBufferPtr,n.clientPtr);if(e=a,e===101)Module._sync_client_reset_connection(n.clientPtr);else{if(r.length==0)continue;n.reuseConn!==null?n.reuseConn().sendPacket(r):n.ws.send(r),logger("send tick",n.getLogger,"info")}}}function getShakehand(n,e){const r=Module._sync_client_shakehand(e,n),a=Module._sync_buffer_data(n),g=Number(Module._sync_buffer_length(n));return{resDeepCopy:new Uint8Array(Module.HEAPU8.buffer,a,g).slice(),shakehandRes:r}}function shakehandOnce(n){const{resDeepCopy:e}=getShakehand(n.shakehandBufferPtr,n.clientPtr);n.reuseConn!==null?n.reuseConn().sendPacket(e):n.ws.send(e)}async function recvMsg(n,e){e?n.ws.addEventListener("message",async function(r){try{const a=await r.data.arrayBuffer(),g=new Uint8Array(a),E=g.length*g.BYTES_PER_ELEMENT,u=Module._malloc(E);Module.HEAPU8.set(g,u);const B=Module._sync_client_on_recv(n.clientPtr,u,BigInt(E),n.tickBufferPtr);if(Module._free(u),B===101)Module._sync_client_reset_connection(n.clientPtr);else{const f=new Uint8Array(Module.HEAPU8.buffer,Module._sync_buffer_data(n.tickBufferPtr),Number(Module._sync_buffer_length(n.tickBufferPtr))).slice();f.length!=0&&n.ws.send(f)}}catch(a){logger("recvError : ".concat(a),n.getLogger,"error")}}):n.ws.on("message",r=>{try{const a=new Uint8Array(r),g=a.length*a.BYTES_PER_ELEMENT,E=Module._malloc(g);Module.HEAPU8.set(a,E);const u=Module._sync_client_on_recv(n.clientPtr,E,BigInt(g),n.tickBufferPtr);if(Module._free(E),u===101)Module._sync_client_reset_connection(n.clientPtr);else{const B=new Uint8Array(Module.HEAPU8.buffer,Module._sync_buffer_data(n.tickBufferPtr),Number(Module._sync_buffer_length(n.tickBufferPtr))).slice();B.length!=0&&n.ws.send(B)}}catch(a){logger("recvError : ".concat(a),n.getLogger,"error")}})}async function fetchHelper(n,e){n.tickBufferPtr=Module._sync_buffer_create();try{let r="ws://60.191.137.101:6390/ws";e&&(n.ws=new WebSocket(r)),n.ws.onopen=()=>{n.manualTick||(tickLoop(n),n.connected=!0,n.timer=setInterval(()=>{n.ws.readyState==3?(n.connected=!1,logger("The connection is time out...",n.getLogger,"info")):(n.connected=!0,tickLoop(n))},2e3))},recvMsg(n,e)}catch(r){logger("fetchError : ".concat(r),n.getLogger,"error")}}const createCollCallBackMap=new Map,dbConnectCallBackMap=new Map,dbDisConnectCallBackMap=new Map;let createCollCallBackFunc,dbConnectCallBackFunc,dbDisConnectCallBackFunc;function initFunc(n){createCollCallBackFunc=Module.addFunction((e,r,a,g)=>{const{resolvePromise:E,rejectPromise:u}=createCollCallBackMap.get(g);releasePtr(g),e===0?(logger("init success",n,"info"),E(e)):u(e)},"viiii"),dbConnectCallBackFunc=Module.addFunction((e,r,a,g,E)=>{const{resolvePromise:u,rejectPromise:B}=dbConnectCallBackMap.get(E);releasePtr(E),e===0?(logger("db connect success",n,"info"),u(e)):B(e)},"viiiji"),dbDisConnectCallBackFunc=Module.addFunction((e,r,a)=>{const{resolvePromise:g,rejectPromise:E}=dbDisConnectCallBackMap.get(a);releasePtr(a),e===0?(logger("db disconnect success",n,"info"),g(e)):E(e)},"viii"),n!==null&&(Module.rtejsLog=(e,r)=>{switch(e){case 0:n().handleDebugLog(r," ----------rtejslog");break;case 1:n().handleInfoLog(r," ----------rtejslog");break;case 2:n().handleWarnLog(r," ----------rtejslog");break;case 3:n().handleErrorLog(r," ----------rtejslog")}})}async function createCollection(n){const{client:e,db:r,coll:a,readable:g,success:E,fail:u}=n,B=getPtrWithStr(a),f=getPtrWithStr(r),m=getPtrWithStr(a),[y,D]=getPtrStringList(g),M=uuid_1.v4(),O=getPtrWithStr(M);createCollCallBackMap.set(B,{resolvePromise:E,rejectPromise:u}),Module._sync_client_create_coll(e.clientPtr,f,m,y,g.length,O,getRealLenWithStrBI(M),createCollCallBackFunc,B),releasePtr(f),releasePtr(m),releasePtr(O);for(let U=0;U<D.length;U++)releasePtr(D[U]);e.connected&&tickLoop(e)}async function connectDatabase(n){const{client:e,databaseName:r,success:a,fail:g}=n,E=getPtrWithStr(r),u=E;dbConnectCallBackMap.set(u,{resolvePromise:a,rejectPromise:g});let B=getPtrWithStr("");Module._sync_client_connect_database(e.clientPtr,E,B,getRealLenWithStrBI(""),dbConnectCallBackFunc,u),releasePtr(B),e.connected&&tickLoop(e)}async function disconnectDatabase(n){const{client:e,databaseName:r,success:a,fail:g}=n,E=getPtrWithStr(r),u=E;dbDisConnectCallBackMap.set(u,{resolvePromise:a,rejectPromise:g}),Module._sync_client_disconnect_database(e.clientPtr,E,dbDisConnectCallBackFunc,u),e.connected&&tickLoop(e)}async function queryDoc(n){const{client:e,database:r,coll:a,option:g,buffer:E,success:u,fail:B}=n,f=Module.addFunction((O,U,F,x,H,j)=>{if(O===0){E.SetCount(Number(x)),H===1&&E.SetMore(!0);for(let ee=0;ee<Number(x);ee++){const ne=Module.getValue(U,"i32"),oe=Module.getValue(F,"i32"),ae=Module.UTF8ToString(ne).valueOf(),he=Module.UTF8ToString(oe).valueOf();E.SetDocs(ae,he),U+=4,F+=4}u(O)}else B(O);Module.removeFunction(f)},"viiijii"),m=getPtrWithStr(r),y=getPtrWithStr(a);let D=0,M=0;D=g.startIncluded||g.start.length==0?getPtrWithStr(g.start):getRangeEndStringPtr(g.start),M=g.endIncluded&&g.end.length!=0?getRangeEndStringPtr(g.end):getPtrWithStr(g.end),Module._sync_client_query_doc(e.clientPtr,m,y,D,M,BigInt(g.limit),g.keysOnly,g.countOnly,f,0),e.connected&&tickLoop(e)}function subscribe(n,e){const r=Module.addFunction((f,m,y,D,M,O,U)=>{const F=Module.UTF8ToString(y),x=Module._rte_crdt_path_iterator_create(D);let H,j=0,ee="";for(;;){const ne=Module._malloc(4),oe=Module._malloc(4);Module.setValue(oe,0,"i64");const ae=Module._malloc(4),he=Module._malloc(4);if(j=Module._rte_crdt_path_iterator_next(x,ne,oe,ae),j===305){releasePtr(ne),releasePtr(oe),releasePtr(ae),releasePtr(he);break}if(ee.length===0){if(ne!=0){const fe=Module.getValue(ne,"i32");ee+=Module.UTF8ToString(fe).valueOf()}}else{const fe=Module.getValue(oe,"i64");if(Number(fe)>0){const Le=Module.getValue(ne,"i32");ee+="."+Module.UTF8ToString(Le).valueOf()}else{const Le=Module.getValue(ae,"i64");ee+="["+Number(Le).toString()+"]"}}releasePtr(ne),releasePtr(oe),releasePtr(ae),releasePtr(he)}switch(H=Module._rte_crdt_value_is_list(O)?[]:Module._rte_crdt_value_is_map(O)?{}:getScalarValue(O,!1),M){case 0:a.push(new CollectionEvent(F,ee,CollectionEventType$1.Insert,H));break;case 1:g?a.push(new CollectionEvent(F,ee,CollectionEventType$1.Put,H)):e.listenerCount("document-events")!=0&&(a=[new CollectionEvent(F,"",CollectionEventType$1.Put,null)],e.emit("document-events",a));break;case 2:g?a.push(new CollectionEvent(F,ee,CollectionEventType$1.Delete,H)):e.listenerCount("document-events")!=0&&checkAll(F,n.readable)&&(a=[new CollectionEvent(F,"",CollectionEventType$1.Delete,null)],e.emit("document-events",a));break;case 6:a=[],g=!0;break;case 7:e.listenerCount("document-events")!=0&&e.emit("document-events",a),g=!1;break;case 8:e.listenerCount("document-events")!=0&&e.emit("document-events",[new CollectionEvent(F,"",CollectionEventType$1.DocSyncEnd,null)])}},"viiiiiii");let a=[],g=!1;const E=getPtrWithStr(n.dbIn),u=getPtrWithStr(n.name),B=Module._sync_client_subscribe(n.client.clientPtr,E,u,r,0);if(releasePtr(E),releasePtr(u),B===0)return logger("The Collection : ".concat(n.name," has been subscribed successfully!"),n.getLogger,"info"),r;logger("The Collection : ".concat(n.name," has not been subscribed successfully!"),n.getLogger,"info")}function exceptionCallback(n){n.exceptionCb=Module.addFunction((e,r,a)=>{let g=Module.UTF8ToString(e).valueOf(),E=Module.UTF8ToString(r).valueOf();n.exceptionChan.listenerCount("exception")!=0&&n.exceptionChan.emit("exception",[g,E])},"viii"),Module._sync_client_set_exception_callback(n.clientPtr,n.exceptionCb,0)}var createModule=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var e,r,a=n;a.ready=new Promise(($,te)=>{e=$,r=te});var g=Object.assign({},a),E="./this.program",u=typeof window=="object",B=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var f,m="";(u||B)&&(B?m=self.location.href:typeof document<"u"&&document.currentScript&&(m=document.currentScript.src),m=m.indexOf("blob:")!==0?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",B&&(f=$=>{var te=new XMLHttpRequest;return te.open("GET",$,!1),te.responseType="arraybuffer",te.send(null),new Uint8Array(te.response)})),a.print||console.log.bind(console);var y,D,M=a.printErr||console.error.bind(console);Object.assign(a,g),g=null,a.arguments&&a.arguments,a.thisProgram&&(E=a.thisProgram),a.quit&&a.quit,a.wasmBinary&&(y=a.wasmBinary),a.noExitRuntime,typeof WebAssembly!="object"&&Ye("no native wasm support detected");var O,U,F,x,H,j,ee,ne,oe,ae=!1;function he(){var $=D.buffer;a.HEAP8=O=new Int8Array($),a.HEAP16=F=new Int16Array($),a.HEAPU8=U=new Uint8Array($),a.HEAPU16=new Uint16Array($),a.HEAP32=x=new Int32Array($),a.HEAPU32=H=new Uint32Array($),a.HEAPF32=j=new Float32Array($),a.HEAPF64=ne=new Float64Array($),a.HEAP64=ee=new BigInt64Array($),a.HEAPU64=new BigUint64Array($)}var fe=[],Le=[],He=[],Se=0,ge=null;function Ye($){a.onAbort&&a.onAbort($),M($="Aborted("+$+")"),ae=!0,$+=". Build with -sASSERTIONS for more info.";var te=new WebAssembly.RuntimeError($);throw r(te),te}var q,me,Fe="data:application/octet-stream;base64,";function _t($){return $.startsWith(Fe)}function Qt($){if($==q&&y)return new Uint8Array(y);var te=function(le){if(_t(le))return function(we){try{for(var $e=atob(we),We=new Uint8Array($e.length),ze=0;ze<$e.length;++ze)We[ze]=$e.charCodeAt(ze);return We}catch{throw new Error("Converting base64 string to bytes failed.")}}(le.slice(37))}($);if(te)return te;if(f)return f($);throw"both async and sync fetching of the wasm failed"}function je($,te,le){return function(we){return Promise.resolve().then(()=>Qt(we))}($).then(we=>WebAssembly.instantiate(we,te)).then(we=>we).then(le,we=>{M("failed to asynchronously prepare wasm: ".concat(we)),Ye(we)})}_t(q="data:application/octet-stream;base64,AGFzbQEAAAABhAVNYAJ/fwBgAX8AYAF/AX9gAn9/AX9gA39/fwBgA39/fwF/YAR/f39/AGAEf39/fwF/YAZ/f39/f38Bf2AFf39/f38Bf2AFf39/f38AYAJ/fgBgBn9/f39/fwBgCH9/f39/f39/AX9gA39/fgBgB39/f39/f38Bf2AAAGAFf35+fn4AYAABf2ABfwF+YAV/f39/fgF/YAV/f35/fwBgB39/f39/f38AYAJ/fwF+YAR/f35/AGAEf39/fwF+YAR/fn5/AGAKf39/f39/f39/fwBgCn9/f39/f39/f38Bf2ACfn8Bf2ADf35/AX9gAn9+AX5gBX9/f398AX9gAAF8YAJ+fwBgAn9+AX9gAn98AGAAAX5gCH9/f39/f39/AGABfgF/YAF+AX5gDH9/f39/f39/f39/fwF/YAV/f39+fwBgB39/fn9/f38Bf2AEf39+fwF/YAN/fn8AYAZ/f39/fn8Bf2APf39/f39/f39/f39/f39/AGALf39/f39/f39/f38Bf2AHf39/f39+fgF/YAZ/f39/fn4Bf2AGf39/fn9/AGADf39+AX9gB39/f39+f38AYAR+fn5+AX9gB39/f35/f38BfmACfn4BfGABfwF8YAV/f39/fgBgBn9/fn9/fwF/YAJ8fwBgA39/fwF8YAN/f38BfWACfn4BfWADfn5+AX9gBn98f39/fwF/YAJ8fwF8YAR/f39+AX5gBn9/f39+fwBgCH9/f39/fn9/AX9gEH9/f39/f39/fn5/f39/f38Bf2AJf39/f39+f39/AX9gCn9/f39/fn9/f38Bf2AGf39/fn9/AX9gCX9/f39/f35/fwBgBn9+f39/fwBgBH9/f34BfwI9CgFhAWEABgFhAWIAEAFhAWMACQFhAWQAAwFhAWUAAwFhAWYAEgFhAWcAIQFhAWgAAgFhAWkAIQFhAWoAAAPxDu8OAgECAwMCAwIQAyICAAECAQIAAwUABQMCAQMAAwICAgMBAAADAxEBBAMSAwACERMCAgEBAwQBAQICAQUCAQACAgEBAAECAAIEAAICAAADAQMEBQADAAYAGgoCAgMCAAMCAwIAAhAAAgACAwAEAwUDACMRAAMFAgAJAgAAAQIHFwAAAgQDAAIBAwADCAAAAgIAAAEFBQICAwMDAwoBCAMCAAEDAgsHFRsTAQEKAgIDAAED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IwBBEGsiAyQAAkACQAJAIAIQwgMEQCAAIQEgACACEHkMAQsgAkHv////B0sNASADQQhqIAAgAhC0AkEBahCGAiADKAIMGiAAIAMoAggiARCKASAAIAMoAgwQiQEgACACEG8LIAEgBCACQQFqEIwBIANBEGokAAwBCxBuAAsgAAtAAQJ/AkACfyAAIAAoAhAiAUYEQCAAIQEgACgCAEEQagwBCyABRQ0BIAEoAgBBFGoLIQIgASACKAIAEQEACyAACwUAEAEACygBAX8gACABKAIAIAEgAS0ACyIAwEEASCICGyABKAIEIAAgAhsQ1AULKwEBfwNAIAEgAKdB/wBxIABC/wBWIgJBB3RywBD8ASAAQgeIIQAgAg0ACwvsAQECfyAAQazSATYCOCAAQZjSATYCACAAQbjSASgCACIBNgIAIAAgAUEMaygCAGpBvNIBKAIANgIAIAAgACgCAEEMaygCAGoiAkEANgIUIAIgAEEEaiIBNgIYIAJBADYCDCACQoKggIDgADcCBCACIAFFNgIQIAJBIGpBAEEoEB0aIAJBHGoQ2gkgAkKAgICAcDcCSCAAQZjSATYCACAAQazSATYCOCABQdjOATYCACABQQRqENoJIAFCADcCGCABQgA3AhAgAUIANwIIIAFCADcCICABQcjPATYCACABQRA2AjAgAUIANwIoIAALhQECBH4DfyABKAIEIQYgAAJ/AkADQCAGRSACQj9Wcg0BIAEoAgAiBywAACIIrUL/AIMiBCAChiIFIAKIIARSDQEgASAGQQFrIgY2AgQgASAHQQFqNgIAIAJCB3whAiADIAV8IQMgCEEASA0ACyAAIAM3AwBBAQwBCyAAQQA6AABBAAs6AAgLBgAgABALCzYBAX9BASAAIABBAU0bIQACQANAIAAQRSIBDQFByMMCKAIAIgEEQCABERAADAELCxABAAsgAQuuAQEGfyMAQRBrIgIkACAAKAIAIQMgAkEEaiIEIABBCGoQ9AIgAigCBCAEIAIsAA9BAEgbIQVBoK0CKAIABEBBqK0CKAIAIQYjAEEQayIBJAAgASAFNgIIIAEgAzYCDCABIAY2AgRBoK0CKAIAIgNFBEAQEgALIAMgAUEMaiABQQhqIAFBBGogAygCACgCGBEGACABQRBqJAALIAQQChogAEEEahDdARogAkEQaiQACwwAQZCsAigCACAATAs2ACAALAALQQBIBEAgACgCABALCyAAIAEpAgA3AgAgACABKAIINgIIIAFBADoACyABQQA6AAALjwEBBH8jAEEQayIDJAAgASgCACEEIAMgASgCBCABLQALIgIgAsBBAEgiAhs2AgwgAyAEIAEgAhs2AgggACgCACAAIAAtAAsiBMBBAEgiAhsgAygCCCADKAIMIgEgACgCBCAEIAIbIgAgACABSyIEGxDEBSICQX8gBCAAIAFJGyACGyEFIANBEGokACAFQR92CykBAX8gAgRAIAAhAwNAIAMgAToAACADQQFqIQMgAkEBayICDQALCyAACyoBAX8CQCAAEAwiAiABSQRAIAAgASACaxCzCQwBCyAAIAAQISABEMcJCwszAQF/IAIEQCAAIQMDQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQQFrIgINAAsLIAALCQAgABAhIAFqCxIAIAAQiwEEQCAAKAIADwsgAAsKACAAKAIAEKUEC5ABAQV/AkAgACgCBCIFIAAtAAsiAiACwCIGQQBIGyABKAIEIAEtAAsiBCAEwCIEQQBIG0cNACABKAIAIAEgBEEASBshASAGQQBOBEADQCACRSEDIAJFDQIgAC0AACABLQAARw0CIAFBAWohASAAQQFqIQAgAkEBayECDAALAAsgACgCACABIAUQxAVFIQMLIAMLDAAgACABQRxqENkJCz4AIABBADYCCCAAQgA3AgAgACABKAIANgIAIAAgASgCBDYCBCAAIAEoAgg2AgggAUEANgIIIAFCADcCACAACxsBAX8jAEEQayIBJAAgABCtCiABQRBqJAAgAAsbAQF/QQohASAAEIsBBH8gABCHAkEBawVBCgsLiwICA38CfgJAIAApA3AiBFBFIAQgACkDeCAAKAIEIgEgACgCLCICa6x8IgVXcUUEQCMAQRBrIgIkAEF/IQECQCAAEOIKDQAgACACQQ9qQQEgACgCIBEFAEEBRw0AIAItAA8hAQsgAkEQaiQAIAEiA0EATg0BIAAoAgQhASAAKAIsIQILIABCfzcDcCAAIAE2AmggACAFIAIgAWusfDcDeEF/DwsgBUIBfCEFIAAoAgQhASAAKAIIIQICQCAAKQNwIgRQDQAgBCAFfSIEIAIgAWusWQ0AIAEgBKdqIQILIAAgAjYCaCAAIAUgACgCLCIAIAFrrHw3A3ggACABTwRAIAFBAWsgAzoAAAsgAwtoAQZ/IwBBEGsiAyQAIABBIGohBCABQSBqIQUDQAJAIAEgBUYNAEEBIQIgACAERg0AIAAtAAAiBiABLQAAIgdJDQBBACECIAYgB0sNACABQQFqIQEgAEEBaiEADAELCyADQRBqJAAgAgsLACAAQcDTABChCQtyAQN/AkAgARC3CSICIAAQ6QUiA00EQCAAECEiAyABIAJBAnQiBBBbGiMAQRBrIgEkACAAIAIQrgIgAUEANgIMIAMgBGogAUEMahCAASABQRBqJAAMAQsgACADIAIgA2sgABAMIgBBACAAIAIgARCyCQsLCQAgACABEOcECxAAIAAQnwogARCfCnNBAXMLEAAgABCgCiABEKAKc0EBcwt1AQF+IAAgASAEfiACIAN+fCADQiCIIgIgAUIgiCIEfnwgA0L/////D4MiAyABQv////8PgyIBfiIFQiCIIAMgBH58IgNCIIh8IAEgAn4gA0L/////D4N8IgFCIIh8NwMIIAAgBUL/////D4MgAUIghoQ3AwALeAIDfwF9IwBBEGsiAiQAIABBAUHAACAALQAea3QiATYCECAAIAEQqws2AgwgACgCECIBQYCAgIB4RiEDIABBgICAgHgCfyAAKgIYIAGzlCIEQwAAgE9dIARDAAAAAGBxBEAgBKkMAQtBAAsgAxs2AhQgAkEQaiQAC2ACAX8BfgNAIAAoAgwgAkEDdGoiAygCAARAIAMpAgAhBCADIAEpAgA3AgAgASAENwIAIAEgBKdBgAJqNgIAIAJBAWoiAkEAIAIgACgCEEcbIQIMAQsLIAMgASkCADcCAAtbACAAIAEpAwA3AwAgACABKQMINwMIIABBGGogAUEYahB2GiAAQThqIAFBOGoQsQMaIAAgAS0AaDoAaCAAIAEpA2A3A2AgACABKQNYNwNYIAAgASkDUDcDUCAAC+8CAQZ/QfC0Ai0AAARAQey0AigCAA8LIwBBIGsiAiQAAkACQANAIAJBCGoiBCAAQQJ0IgNqAn9BASAAdEH/////B3EiBUEBckUEQCADKAIADAELIABBg8kAQdPSACAFGxCbCgsiAzYCACADQX9GDQEgAEEBaiIAQQZHDQALQQAQmgpFBEBBiNgBIQEgBEGI2AFBGBDHA0UNAkGg2AEhASAEQaDYAUEYEMcDRQ0CQQAhAEHEswItAABFBEADQCAAQQJ0QZSzAmogAEHT0gAQmwo2AgAgAEEBaiIAQQZHDQALQcSzAkEBOgAAQayzAkGUswIoAgA2AgALQZSzAiEBIAJBCGoiAEGUswJBGBDHA0UNAkGsswIhASAAQayzAkEYEMcDRQ0CQRgQRSIBRQ0BCyABIAIpAgg3AgAgASACKQIYNwIQIAEgAikCEDcCCAwBC0EAIQELIAJBIGokAEHwtAJBAToAAEHstAIgATYCACABCw0AIAApAwAgASkDAFQLAgALEQAgAC0ADARAIAAQChoLIAALwwoCBX8RfiMAQeAAayIFJAAgBEL///////8/gyEMIAIgBIVCgICAgICAgICAf4MhCiACQv///////z+DIg1CIIghDiAEQjCIp0H//wFxIQcCQAJAIAJCMIinQf//AXEiCUH//wFrQYKAfk8EQCAHQf//AWtBgYB+Sw0BCyABUCACQv///////////wCDIgtCgICAgICAwP//AFQgC0KAgICAgIDA//8AURtFBEAgAkKAgICAgIAghCEKDAILIANQIARC////////////AIMiAkKAgICAgIDA//8AVCACQoCAgICAgMD//wBRG0UEQCAEQoCAgICAgCCEIQogAyEBDAILIAEgC0KAgICAgIDA//8AhYRQBEAgAiADhFAEQEKAgICAgIDg//8AIQpCACEBDAMLIApCgICAgICAwP//AIQhCkIAIQEMAgsgAyACQoCAgICAgMD//wCFhFAEQCABIAuEIRlCACEBIBlQBEBCgICAgICA4P//ACEKDAMLIApCgICAgICAwP//AIQhCgwCCyABIAuEUARAQgAhAQwCCyACIAOEUARAQgAhAQwCCyALQv///////z9YBEAgBUHQAGogASANIAEgDSANUCIGG3kgBkEGdK18pyIGQQ9rEGFBECAGayEGIAUpA1giDUIgiCEOIAUpA1AhAQsgAkL///////8/Vg0AIAVBQGsgAyAMIAMgDCAMUCIIG3kgCEEGdK18pyIIQQ9rEGEgBiAIa0EQaiEGIAUpA0ghDCAFKQNAIQMLIANCD4YiC0KAgP7/D4MiAiABQiCIIgR+IhAgC0IgiCITIAFC/////w+DIgF+fCIPQiCGIhEgASACfnwiCyARVK0gAiANQv////8PgyINfiIV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ACACKAIINgIIIAAgAikDADcCACACQQA2AgggAkIANwMAIABBAToADCACEAoaCyACQSBqJAALDQAgACgCABCxChogAAsNACAAKAIAELcKGiAAC2IBA38jAEEQayICJAAgAEEgaiEDA0AgACADRwRAIAAtAAAhBCAAIAEtAAA6AAAgASAEOgAAIAFBAWohASAAQQFqIQAMAQsLIAIgATYCDCACIAM2AgggAigCDBogAkEQaiQACyYBAX4gACgCACIAKQMAIQIgACABKAIAIgApAwA3AwAgACACNwMACzkBAn8gAEEgaiECA0ACQCAAIAJGIgMNACAALQAAIAEtAABHDQAgAUEBaiEBIABBAWohAAwBCwsgAws3AQF/IwBBEGsiASQAIAEgADYCDCABKAIMIgAoAgAEQCAAELYIIAEoAgwoAgAQCwsgAUEQaiQACxEAIAAgASAAKAIAKAIcEQMAC78BAQN/IAAtAABBIHFFBEACQCABIQMCQCACIAAiASgCECIABH8gAAUgARDZCg0BIAEoAhALIAEoAhQiBWtLBEAgASADIAIgASgCJBEFABoMAgsCQCABKAJQQQBIDQAgAiEAA0AgACIERQ0BIAMgBEEBayIAai0AAEEKRw0ACyABIAMgBCABKAIkEQUAIARJDQEgAyAEaiEDIAIgBGshAiABKAIUIQULIAUgAyACEB8aIAEgASgCFCACajYCFAsLCwtKAQF/IAAgAUkEQCAAIAEgAhAfDwsgAgRAIAAgAmohAyABIAJqIQEDQCADQQFrIgMgAUEBayIBLQAAOgAAIAJBAWsiAg0ACwsgAAswAQF/IAAoAgQiAiAAKAIISQRAIAIgASgCADYCACAAIAJBBGo2AgQPCyAAIAEQ/wULEQAgACABEBAiAEEBOgAQIAALMAEBfyAAKAIEIgIgACgCCEkEQCACIAEpAwA3AwAgACACQQhqNgIEDwsgACABEPAFC6EBAQJ/AkAgABAMRSACIAFrQQVIcg0AIAEgAhCqBCACQQRrIQQgABAhIgIgABAMaiEFAkADQAJAIAIsAAAhACABIARPDQAgAEEATCAAQf8ATnJFBEAgASgCACACLAAARw0DCyABQQRqIQEgAiAFIAJrQQFKaiECDAELCyAAQQBMIABB/wBOcg0BIAIsAAAgBCgCAEEBa0sNAQsgA0EENgIACwsI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AC0AC0H/AHE6AAsLrgEBBn8jAEEQayICJAAgAkEIaiIDIAAQuAIaAkAgAy0AAEUNACACQQRqIgMgACAAKAIAQQxrKAIAahAkIAMQxQMhBCADECIgAiAAEMQDIQUgACAAKAIAQQxrKAIAaiIGEOMCIQcgAiAEIAUoAgAgBiAHIAEgBCgCACgCHBEUADYCBCADELYCRQ0AIAAgACgCAEEMaygCAGpBBRC5AgsgAkEIahC3AiACQRBqJAAgAAvGCQIEfwZ+IwBB8ABrIgYkACAEQv///////////wCDIQkCQAJAIAFQIgUgAkL///////////8AgyIKQoCAgICAgMD//wB9QoCAgICAgMCAgH9UIApQG0UEQCADQgBSIAlCgICAgICAwP//AH0iC0KAgICAgIDAgIB/ViALQoCAgICAgMCAgH9RGw0BCyAFIApCgICAgICAwP//AFQgCkKAgICAgIDA//8AURtFBEAgAkKAgICAgIAghCEEIAEhAwwCCyADUCAJQoCAgICAgMD//wBUIAlCgICAgICAwP//AFEbRQRAIARCgICAgICAIIQhBAwCCyABIApCgICAgICAwP//AIWEUARAQoCAgICAgOD//wAgAiABIAOFIAIgBIVCgICAgICAgICAf4WEUCIFGyEEQgAgASAFGyEDDAILIAMgCUKAgICAgIDA//8AhYRQDQEgASAKhFAEQCADIAmEQgBSDQIgASADgyEDIAIgBIMhBAwCCyADIAmEUEUNACABIQMgAiEEDAELIAMgASABIANUIAkgClYgCSAKURsiCBshCiAEIAIgCBsiC0L///////8/gyEJIAIgBCAIGyICQjCIp0H//wFxIQcgC0IwiKdB//8BcSIFRQRAIAZB4ABqIAogCSAKIAkgCVAiBRt5IAVBBnStfKciBUEPaxBhIAYpA2ghCSAGKQNgIQpBECAFayEFCyABIAMgCBshAyACQv///////z+DIQQgB0UEQCAGQdAAaiADIAQgAyAEIARQIgcbeSAHQQZ0rXynIgdBD2sQYUEQIAdrIQcgBikDWCEEIAYpA1AhAwsgBEIDhiADQj2IhEKAgICAgICABIQhASAJQgOGIApCPYiEIQ4gAiALhSENAn4gA0IDhiICIAUgB0YNABogBSAHayIHQf8ASwRAQgAhAUIBDAELIAZBQGsgAiABQYAB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QCACQSBqIAApAAggBIVCACAAKQAAQtvR0IWa2t+BZ4VCABAvIABBEGohACADQRBrIQMgAikDKCACKQMghSEEDAELCyAAIANqIgBBCGspAAAhBSAAQRBrKQAACyEGIAJBEGogBCAFhUIAIAZC29HQhZra34FnhUIAEC8gAiACKQMYIAIpAxCFQgAgAa1C29HQhZra34FnhUIAEC8gAikDCCEIIAIpAwAhByACQeAAaiQAIAggB4ULLgAgACAAKAIIQYCAgIB4cSABQf////8HcXI2AgggACAAKAIIQYCAgIB4cjYCCAsJACAAIAE2AgALCgAgAC0AC0EHdgsMACABIAIgABC8ChoLHAAgACABENEBIgEgACgCBEYEQBASAAsgAUEQagtGACAAKAIAIgAgASkDCBD6AyABLQBIQQFGBEAgACABQUBrKQMAEPoDCwJAIAEtAGhFDQAgASkDWFANACAAIAEpA2AQ+gMLCx0BAn8jAEEQayIBJAAgABCkCCECIAFBEGokACACCwkAIABBABCoBQsLACAAIAFBMBCeCQsPACAAIAFBmAlB6AgQqwkLjgEAIAAgASkDADcDACAAIAEoAgg2AgggAUIANwMAIAFBADYCCCAAQRBqIAFBEGpBOBAfGiAAQcgAaiABQcgAahAlGiAAIAEoAlw2AlwgACABKQJUNwJUIAFCADcCVCABQQA2AlwgACABKQN4NwN4IAAgASkDcDcDcCAAIAEpA2g3A2ggACABKQNgNwNgIAALNAEBfyABIAVPBEAQAQALIAQgACgCCCAAKAIAayADbSIAQQF0IgYgASABIAZJGyAAIAJPGwtOAQF/IAAoAgQiAiAAKAIIRwRAIAIgASkAADcAACACIAEpABg3ABggAiABKQAQNwAQIAIgASkACDcACCAAIAJBIGo2AgQPCyAAIAEQygkLBwAgABAmGgsPACAAIAAoAgAoAgwRAgALBwAgABAMRQsRACAAIAEgASgCACgCHBEAAAsRACAAIAEgASgCACgCGBEAAAsVACAAEKkKIAAoAgAiAARAIAAQCwsLEwAgACABIAIgACgCACgCDBEFAAsnAQF/IAJBAE4EfyAAKAIIIAJB/wFxQQJ0aigCACABcUEARwVBAAsLNwACf0EBIABBgAFJDQAaQQIgAEGAgAFJDQAaQQMgAEGAgIABSQ0AGkEE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LAALQQBODQAgAigCBEGBgIAESQ0AIAMoAhBFDQEgA0EWIAoQgAMQ/wIMAQsgChDGAyAANQI4QoCU69wDfnw3A3AgAEEgaiEBIABBzABqIQAgBARAIAogCkH+AGogAiADIApB8ABqIAUgBiAHIAEgBygCBCAHLQALIgEgAcBBAEgbGyAIIAkQrQshAyMAQRBrIgEkAEH4ABAYIgJBADYCACABIABBCGo2AgggAUEBNgIMIAJBCGogAxDKBBogAiAANgIEIAIgACgCACIENgIAIAQgAjYCBCAAIAI2AgAgACAAKAIIQQFqNgIIIAFBADYCBCABQQRqEJABIAFBEGokACADEL8CDAELIAogCkH+AGogAiADIApB8ABqIAUgBiAHIAEgBygCBCAHLQALIgEgAcBBAEgbGyAIIAkQrQshAyMAQRBrIgEkAEH4ABAYIgJBADYCACABIABBCGo2AgggAUEBNgIMIAJBCGogAxDKBBogAiAANgIAIAIgACgCBCIENgIEIAQgAjYCACAAIAI2AgQgACAAKAIIQQFqNgIIIAFBADYCBCABQQRqEJABIAFBEGokACADEL8CCyAKQYABaiQAC2gCAX8EfiMAQSBrIgEkACABQRBqIAApAwBCAELp2uDZjsH6751/QgAQLyABIAApAwggASkDGCABKQMQhXxCAELp2uDZjsH6751/QgAQLyABKQMIIQUgASkDACEEIAFBIGokACAFIASFCxIAIABBLGoQ4AQgAEEgahAPGgsLACAAQdjUABC3AwvKAwEHfyMAQbABayIFJAACQAJAIAIoAgAiCCACKAIEIglHBEAgAygCACEGIAMoAgQhBwwBCyADKAIAIgYgAygCBCIHRw0AIAVBADYCICAFQgA3AxggACAFQRhqIgAQ+QEaIAAQDxoMAQsgBUEANgKsASAFQgA3AqQBIAVBpAFqIAcgBmtBBXUgCSAIa0EFdWoQdCABQbwBaiEGIAIoAgQhByACKAIAIQIDQAJAAkAgAiAHRwRAIAYgAhChASIIIAEoAsABRwRAIAUgCEEgajYCGCAFQaQBaiAFQRhqEFwMAwsgBA0CQQAQGgRAIAVBHGoQFSEKIAVBADYCGCAKIAFB0ANqEBNBy88AEA0hCyAFQQxqIgMgAhCCBSALIAMQExogAxAKGiAFQRhqEBkLIABBADoADCAAQQA6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AgBB+d2rxQJHDQEgAEEANgIAIABBBGohCCABQZSsAiABGyEDA0AgBygCGCAETQRAAkBBACEBA0AgACgCCCECIAEgACgCBE8NASACIAFBBHRqKAIMIgIEQCADKAIIIAIgAygCBBEAAAsgAUEBaiEBDAALAAsFAkAgBygCHCAEQTBsaiICLQAgQQRxBEAgAigCBCAAIAIoAhBqKAIARw0BCyACKAIIQQJGBEAgACACKAIUaigCACIFRQ0BIAAgAigCEGooAgAhBkEAIQECQAJAAkACQCACKAIMQQ5rDgMAAQIDCwNAIAEgBkYNAyAFIAFBAnRqKAIAIgIEQCADKAIIIAIgAygCBBEAAAsgAUEBaiEBDAALAAsDQCABIAZGDQIgBSABQQN0aigCBCICBEAgAygCCCACIAMoAgQRAAALIAFBAWohAQwACwALA0AgASAGRg0BIAUgAUECdGooAgAgAxDjASABQQFqIQEMAAsACyADKAIIIAUgAygCBBEAAAwBCwJAAkACQCACKAIMQQ5rDgMAAQIDCyAAIAIoAhRqKAIAIgFFDQIgASACKAIcRg0CIAMoAgggASADKAIEEQAADAILIAggAigCFGooAgAiAUUNASACKAIcIgIEQCACKAIEIAFGDQILIAMoAgggASADKAIEEQAADAELIAAgAigCFGooAgAiAUUNACABIAIoAhxGDQAgASADEOMBCyAEQQFqIQQMAQsLIAIEQCADKAIIIAIgAygCBBEAAAsgAygCCCAAIAMoAgQRAAALDwtBhMgAQbXCAEGCGkH4PBAAAAsOACAAQQhqEBEaIAAQCwsKACAAQQhqEBEaCwwAIAEgAikDADcDAAsOACAAIAEQ2QJBAToAWAsPACAALQAQBEAQEgALIAALEgAgAC0AEEEFRwRAEBIACyAAC74CAQR/IAAoAgQgACgCCEkEQCAAIAAoAgQgARDuA0EYajYCBA8LIwBBIGsiBCQAIARBDGogACAAKAIEIAAoAgBrQRhtQQFqENsBIAAoAgQgACgCAGtBGG0gAEEIahC+ASICKAIIIAEQ7gMaIAIgAigCCEEYajYCCCAAKAIEIQMgACgCACEFIAIoAgQhAQNAIAMgBUcEQCABQRhrIANBGGsiAxDuAyEBDAELCyACIAE2AgQgACgCACEDIAAgATYCACACIAM2AgQgACgCBCEBIAAgAigCCDYCBCACIAE2AgggACgCCCEBIAAgAigCDDYCCCACIAE2AgwgAiACKAIENgIAIAIoAgQhAANAIAAgAigCCCIBRwRAIAIgAUEYayIBNgIIIAEQKgwBCwsgAigCACIABEAgABALCyAEQSBqJAALNQEBfwJAIAAtAAwiAiABLQAMRgRAIAJFDQEgACABEEwPCyACBEAgABCKBA8LIAAgARC0AwsLFAAgACABIAIgA0EsQd7oxS4QpgEL4QEBBH8jAEEQayIDJAAgAyABNgIEIwBBEGsiAiQAIAMgACACQQxqIAEQjggiBCgCACIBBH9BAAVBOBAYIQEgAiAAQQRqNgIEIAIgATYCACABQRBqIgEgAygCBCkDADcDACABQQhqEGYaIAJBAToACCAAIAIoAgwgBCACKAIAEP8DIAIoAgAhASACQQA2AgAgAigCACEAIAJBADYCACAABEAgAi0ACARAIABBGGoQ4QILIAAEQCAAEAsLC0EBCzoADCADIAE2AgggAkEQaiQAIAMoAgghBSADQRBqJAAgBUEYagsbACAAIAEpAwA3AwAgAEEIaiABQQhqEBAaIAALCQAgAEEoEKUJC9QBAQN/IAAoAgQhAiAAKAIAIQQgASgCBCEDA0AgAiAERwRAIANBKGsiAyACQShrIgIpAwA3AwAgAyACKAIINgIIIAJBADYCCCACQgA3AwAgAyACKQMQNwMQIAMgAikDGDcDGCADIAIoAiA2AiAgAkEANgIgIAJCADcDGAwBCwsgASADNgIEIAAoAgAhAiAAIAM2AgAgASACNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsUACAAQRBqEA8aIABBBGoQiwQgAAs3AQF/IwBBEGsiASQAIAEgADYCDCABKAIMIgAoAgAEQCAAEMcIIAEoAgwoAgAQCwsgAUEQaiQAC14BA38jAEEQayIBJAAgASAANgIMIAEoAgwiACgCAARAIAAoAgAhAyAAKAIEIQIDQCACIANHBEAgAkGAAWsQfyECDAELCyAAIAM2AgQgASgCDCgCABALCyABQRBqJAALJgAgAEGwAWoQ2QggAEGQAWoQqQMgAEHwAGoQqQMgAEHkAGoQ2AgLVQEDfyMAQSBrIgIkACACQRBqIgMgARCcAiACQQhqIABBGGoiBCADEHUgAS0AUEUEQCADIAQgARB1CyAAIAApA0AgAS0AMEEAR618NwNAIAJBIGokAAvpAgIFfwF+IwBBEGsiBCQAAkAgASgCBCABKAIISQRAIAEgAhCuCQwBCyABIAIQrQkLIAEoAgRBDGsiBRA4IginQf8BcUGAAnIhAiAIIAExAB6IpyEDIAACfwNAIAEoAgwgA0EDdGoiBigCACIHIAJPBEACQCACIAdHDQAgBSABKAIAIAYoAgRBDGxqECNFDQAgARDABSABKAIAIAEoAgwgA0EDdGooAgRBDGxqIQJBAAwDCyADQQFqIgNBACADIAEoAhBHGyEDIAJBgAJqIQIMAQsLIAEoAgQgASgCAGtBDG0iBkEBayEFAkAgASgCFCAGSQRAIAEoAhRBgICAgHhGBEAgARDABRASAAsgASABLQAeQQFrOgAeIAEQTSABEDAgARD9CwwBCyAEIAU2AgwgBCACNgIIIAQgBCkCCDcDACABIAQgAxAxCyABKAIAIAVBDGxqIQJBAQs6AAQgACACNgIAIARBEGokAAvOAQEEfyMAQRBrIggkAAJAIABFBEAMAQsgBCgCDCEHIAIgAWsiCUEASgRAIAAgASAJIAAoAgAoAjARBQAgCUcNAQsgByADIAFrIgFrQQAgASAHSBsiAUEASgRAIAhBBGoiByABIAUQnQQgACAIKAIEIAcgCCwAD0EASBsgASAAKAIAKAIwEQUAIQUgBxAKGiABIAVHDQELIAMgAmsiAUEASgRAIAAgAiABIAAoAgAoAjARBQAgAUcNAQsgBEEANgIMIAAhBgsgCEEQaiQAIAYLIQAgAEEAOgAMIABBADoAACABLQAMBEAgACABELQDCyAACxEAIAAgARAlIgBBAToADCAACxcAIAEgAjYCACABQQhqIABBCGoQgwMaCx8BAX9BIBAYIgIgATYCACACQQhqIABBCGoQgwMaIAILrgEBA38jAEEQayICJAAgAiABOgAPAkACQAJ/IAAQiwEiBEUEQEEKIQEgABC3BAwBCyAAEIcCQQFrIQEgACgCBAsiAyABRgRAIAAgAUEBIAEgARDgBSAAECEaDAELIAAQIRogBA0AIAAiASADQQFqEHkMAQsgACgCACEBIAAgA0EBahBvCyABIANqIgAgAkEPahCDASACQQA6AA4gAEEBaiACQQ5qEIMBIAJBEGokAAtiAQJ/IwBBIGsiAiQAAkAgASAAKAIIIAAoAgAiA2tBDG1LBEAgAUHWqtWqAU8NASAAIAJBDGogASAAKAIEIANrQQxtIABBCGoQqgIiABCcBCAAELkDCyACQSBqJAAPCxABAAsLACAAIAE2AgAgAAsPACAAIAAoAgAoAiQRAgALEQAgACABIAEoAgAoAiARAAALEQAgACABIAEoAgAoAiwRAAALDAAgAEGChoAgNgAACxEAIAAQISAAEAxBAnRqEOwFCw4AIAAQISAAEAxqEOwFCxYAIAAgASACIAMgACgCACgCIBEHABoLGQAgAkEBEKEKIQEgACACNgIEIAAgATYCAAsOACAAKAIIQf////8HcQsSACABIAEgAkECdGogABCoChoLBwAgACABRgsOACAAIAEpAwA3AwAgAAuUAgIHfwJ+IwBBQGoiACQAQQAgAEEoahDCCgRAQdCtAigCABDbBQALIABBGGogAEEoahCKAiEEIAAgACgCMEHoB202AgwgAEEQaiAAQQxqEMEKIQUjAEEgayIBJAAjAEEQayIDJAAjAEEQayIGJAAjAEEQayICJAAgAiAEKQMAQsCEPX43AwAgAkEIaiACEIoCKQMAIQcgAkEQaiQAIAZBEGokACADIAc3AwggASADKQMINwMIIANBEGokACABKQMIIQcgASAFKQMANwMAIAEgByABKQMAfDcDECABQRhqIAFBEGoQigIpAwAhByABQSBqJAAgACAHNwMgIABBOGogAEEgahCKAikDACEIIABBQGskACAICxAAIABBIEYgAEEJa0EFSXILFQAgACABIAIgA0HwAEGTyaQSEKYBC2oBA38jAEEQayICJAAgAC0AMEH/AUcEQCMAQRBrIgEkACABQbDbACkDADcDCCACQQ9qIAAgAUEIakF/IAAtADAiAyADQf8BRhtBAnRqKAIAEQAAIAFBEGokAAsgAEH/AToAMCACQRBqJAALgQIBA38jAEEQayIHJAAgBigCBCEJIAYtAAshCCAAQQA2AgggAEIANwIAIABBE0ESIAEbIAkgCCAIwEEASBtqEGcgAEHrMRD9AiAAIAIQ/QICQCABRQRAIAAgAxCkBiAAIAQQowYgACAFEP0CDAELIAAgBBCjBiAHQQA2AgwgACAHQQxqQQQQdxoLAkAg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QcQAayIBNgIIIAEQhgEaDAELCyAAKAIAIgAEQCAAEAsLCxUAIAAgASACIANBxABBxIePHhCmAQsoACABLQBQRQRAIAFBOGoQciEBCyAAIAEpAwA3AwAgACABKQMINwMIC+MCAgd/AX4jAEEwayIBJAAgAC0AJUUEQCAAQQVqIQMgAUEANgIoIAFCADcDIEIBIAFBIGoQFANAIAAtAAQhAiAAKAI4IAAoAjQiBGtBLG2tIAhYBEACQCACRQ0AIAAoAiwiAkEEay0AAEUNACACQcQAaxCdAiABQSBqIAAoAixBP2tBIBB3GgsgASABKAIgIAFBIGogASwAKyICQQBIIgQbIAEoAiQgAkH/AXEgBButEK8DIAAtACUhByADIAEpABg3ABggAyABKQAQNwAQIAMgASkACDcACCADIAEpAAA3AAAgB0UEQCAAQQE6ACULIAFBIGoQChoFIAinIQUCQCACRQ0AIAVBxABsIgIgACgCKGoiBi0AQEUNACAGEJ0CIAFBIGogACgCKCACakEFakEgEHcaIAAoAjQhBAsgAUEgaiAEIAVBLGxqQQxqQSAQdxogCEIBfCEIDAELCwsgAUEwaiQACw8AIAAgARDUCEEBOgDAAQtRACAAAn8gAS0AhAEEQCABQcQAahCdAiAAIAEpAGE3ABggACABKQBZNwAQIAAgASkAUTcACCAAIAEpAEk3AABBAQwBCyAAQQA6AABBAAs6ACALTAAgAAJ/IAEtAEAEQCABEJ0CIAAgASkABTcAACAAIAEpAB03ABggACABKQAVNwAQIAAgASkADTcACEEBDAELIABBADoAAEEACzoAIAsnAQF/IAAgASgCACABIAEtAAsiAMBBAEgiAhsgASgCBCAAIAIbEHcLwgEBA38gACgCBCICIAAoAghJBEAgAiABKQIANwIAIAIgASgCCDYCCCABQgA3AgAgAUEANgIIIAAgAkEMajYCBA8LIwBBIGsiAyQAIANBDGogACAAKAIEIAAoAgBrQQxtQQFqEOICIAAoAgQgACgCAGtBDG0gAEEIahCqAiICKAIIIgQgASkCADcCACAEIAEoAgg2AgggAUIANwIAIAFBADYCCCACIAIoAghBDGo2AgggACACEJwEIAIQuQMgA0EgaiQAC40CAgN/AX4jAEEwayIBJAAgAEEIaiECAkACQAJAAkACQCAALQAgQQJrDgQAAwECBAsgACgCACICKAIEIAItAAsiAiACwEEASBtFDQMgACAAKQMIENoBDAMLIAFBADYCLCABQgA3AiQgAUEkaiIDIAIQXiABIAEoAiQ2AhggASkCKCEEIAFBADYCLCABIAQ3AhwgAUIANwIkIAAgAUEYaiIAELIDIAAQDxogAxAPGgwCCyAAIAIgACkDEBDJBQwBCyAAQRBqIAIQXiABIAAoAhA2AgwgASAAKAIUNgIQIAEgACgCGDYCFCAAQQA2AhggAEIANwMQIAAgAUEMaiIAELIDIAAQDxoLIAFBMGokAAuTBAIEfwF+IwBBQGoiAiQAIABBCGohAwJAAkACQAJAAkACQAJAIAAtACAOBgAFBAMBAgYLIAIgATcDGCADIAJBGGoQlAQMBQsgASADKQMAUQRAIAJCAjcDICACIAE3AxggAyACQRhqEPYIDAULIAJBADYCPCACQgA3AjQgAkE0aiIFQQIQ4AIgBSADEF4gAiACKQI4NwIkIAIgATcDGCACKAI0IQAgAkEANgI0IAIgADYCICACQgA3AjggAkEYaiEEIwBBEGsiACQAAkAgAy0AGEEDRgRAIAMgBBDtCAwBCyAAIAQ2AgwgACADNgIIIAAoAgwhAyAAKAIIIgQQpQEgBCADEOwIQQM6ABgLIABBEGokACACQSBqEA8aIAUQDxoMBAsgACkDECEGIAEgACkDCFEEQCAAIAZCAXw3AxAMBAsgACADIAYQyQUgAiABNwMYIAMgAkEYahCUBAwDCyABIAApAwhRBEAgAiAAKAIQNgIMIAIgACgCFDYCECACIAAoAhg2AhQgAEEANgIYIABCADcDECAAIAJBDGoiABCyAyAAEA8aIAJCAjcDICACIAE3AxggAyACQRhqEPYIDAMLIABBEGogAxBeIAMgATcDAAwCCyAAIAApAwgQ2gEgAiABNwMYIAMgAkEYahCUBAwBCyAAIAApAwgQ2gEgAiABNwMYIAMgAkEYahCUBAsgAkFAayQAC7gCAQN/IAAgAUcEfyABLQALIgPAIQIgACwAC0EATgRAIAJBAE4EQCAAIAEpAgA3AgAgACABKAIINgIIDwsgASgCACEEIAEoAgQhASMAQRBrIgIkAAJAIAFBCk0EQCAAIAEQeSAAIAQgARCMASACQQA6AA8gACABaiACQQ9qEIMBDAELIABBCiABQQprIAAQtwQiAEEAIAAgASAEEJ4ECyACQRBqJAAPCyABKAIAIAEgAkEASCICGyEEIAEoAgQgAyACGyEBIwBBEGsiAiQAAkAgASAAEIcCIgNJBEAgACgCACEDIAAgARBvIAMgBCABEIwBIAJBADoADyABIANqIAJBD2oQgwEMAQsgACADQQFrIAEgA2tBAWogACgCBCIAQQAgACABIAQQngQLIAJBEGokAEEABSAACxoLMAEBfyAAKAIEIgIgACgCCEcEQCACIAEpAwA3AwAgACACQQhqNgIEDwsgACABEPAFC/4CAgJ/AX4jAEEgayICJAAgAUEIaiEDAkACQANAIAEpAxgiBEIAUg0BIAJBEGogARCpASACLQAYRQRAIABBADoACCAAQQA6AAAgAEEAOgAQDAMLIAIpAxAiBEIAVQRAIAEgBDcDGCACIAEQFiACLQAIBEAgAikDACEEIAFBADoAICABQQE6ABAgASAENwMIDAILIABBADoACCAAQQA6AAAgAEEAOgAQDAMLIARCAFMEQCABQQE6ACAgAUIAIAR9NwMYDAELIAIgARAWIAItAAgEQCABIAIpAwA3AxggAS0AEARAIAFBADoAEAsgAUEAOgAgDAELCyAAQQA6AAggAEEAOgAAIABBADoAEAwBCyABIARCAX03AxggAS0AIARAIAJBEGogARAWIAACfyACLQAYRQRAIABBADoACEEADAELIAAgAikDEDcDCEEBCyIBOgAAIAAgAToAEAwBCyAAQQE6AAAgACADKQMANwMIIAAgAykDCDcDEAsgAkEgaiQACzsBAX8gACAGNgIAAkACQCAAKAIEIgcEQCAHKAIAIAVHDQEgB0EAEOMBCwwBCyAEIAMgAiABEAAACyAACxMAIAFBAXRB8KcCakECIAAQvAoLSgEBfyAAQQA2AgwgACADNgIQIAEEQCABEPwIIQQLIAAgBDYCACAAIAQgAkEMbGoiAjYCCCAAIAQgAUEMbGo2AgwgACACNgIEIAALEwAgABCfBCgCACAAKAIAa0ECdQsHACAAQRBqCw0AIAAoAgAgAUECdGoLFwAgABCLAQRAIAAgARBvDwsgACABEHkLYQEBfyMAQRBrIgIkACACIAA2AgwCQCAAIAFGDQADQCACIAFBAWsiATYCCCAAIAFPDQEgAigCDCACKAIIEMYKIAIgAigCDEEBaiIANgIMIAIoAgghAQwACwALIAJBEGokAAsJACAAQQgQ5QILuAEBBH8jAEEQayIIJAACQCAARQ0AIAQoAgwhBiACIAFrIgdBAEoEQCAAIAEgB0ECdiIHEP0FIAdHDQELIAYgAyABa0ECdSIBa0EAIAEgBkgbIgFBAEoEQCAAIAhBBGogASAFEP4JIgUQISABEP0FIQYgBRBBGiABIAZHDQELIAMgAmsiAUEASgRAIAAgAiABQQJ2IgEQ/QUgAUcNAQsgBCgCDBogBEEANgIMIAAhCQsgCEEQaiQAIAkLSgEBfyAAQQA2AgwgACADNgIQIAEEQCABEKsLIQQLIAAgBDYCACAAIAQgAkEDdGoiAjYCCCAAIAQgAUEDdGo2AgwgACACNgIEIAALDgAgACABKAIANgIAIAALJAAgAEELTwR/IABBEGpBcHEiACAAQQFrIgAgAEELRhsFQQoLCyQBAn8jAEEQayICJAAgACABEIgGIQMgAkEQaiQAIAEgACADGwsIACAAKAIARQuNAQEBfwJAIAAoAgQiASABKAIAQQxrKAIAaigCGEUNACAAKAIEIgEgASgCAEEMaygCAGoQugpFDQAgACgCBCIBIAEoAgBBDGsoAgBqKAIEQYDAAHFFDQAgACgCBCIBIAEoAgBBDGsoAgBqKAIYELkKQX9HDQAgACgCBCIAIAAoAgBBDGsoAgBqQQEQuQILC7MBAQF/IAAgATYCBCAAQQA6AAAgASABKAIAQQxrKAIAahC6CgRAIAEgASgCAEEMaygCAGooAkgiAQRAIwBBEGsiAiQAIAEgASgCAEEMaygCAGooAhgEQCACQQhqIAEQuAIaAkAgAi0ACEUNACABIAEoAgBBDGsoAgBqKAIYELkKQX9HDQAgASABKAIAQQxrKAIAakEBELkCCyACQQhqELcCCyACQRBqJAALIABBAToAAAsgAAsJACAAIAEQ/wgLCAAgAEH/AXELUAEBfgJAIANBwABxBEAgAiADQUBqrYghAUIAIQIMAQsgA0UNACACQcAAIANrrYYgASADrSIEiIQhASACIASIIQILIAAgATcDACAAIAI3AwgL2wECAX8CfkEBIQQCQCAAQgBSIAFC////////////AIMiBUKAgICAgIDA//8AViAFQoCAgICAgMD//wBRGw0AIAJCAFIgA0L/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AghBxABqNgIIIAAgAxCUAyADEJoCIAZBIGokAAsgACgCBBogBCAEKQCYATcDECAEIAQpAKABNwMYIAQgBCkAqAE3AyAgBCAEKQCQATcDCCABIAQtAIwBIAIgBEEIahCaBRogBRCeAwsgBEGwAWoQChogBEHAAWokAAsxAQJ+An9BASAAKQMAIgIgASkDACIDVA0AGkEAIAIgA1YNABogAEEIaiABQQhqEBwLCwwAIAAgARDUAkEBcwsbACAAIAFBgP///wdBBkH///8PQYCAgBAQtgMLFgAgAC0AQARAIAAQngMgAEEAOgBACwvkAQEFf0EBIQQCQCAAIAJGDQACQCABIAAQHARAQQAhBCAAKAJEIAEgAiADENgCDQEMAgsgASAAQQxqEH0EQCABIABBOGoQHEUNAUEAIQQgACgCRCABIAIgAxDYAkUNAiAAKAJIIAEgAiADENgCDQEMAgtBACEEIAAoAkQgASACIAMQ2AJFDQEgAygCACEHIAAoAhghBSAAKAIcIQgjAEEQayIGJAADQCAFIAhHBEAgBkEIaiAHIAUQtwggBUEEaiEFDAELCyAGQRBqJAAgACgCSCABIAIgAxDYAkUNAQtBASEECyAEC4cBACAAIAEQJSIAQQxqIAFBDGoQJRogAEEYaiABQRhqECUaIABBJGogAUEkahAlGiAAQQA6ADwgAEEAOgAwIAEtADwEQCAAIAEpAzA3AzAgACABKAI4NgI4IAFCADcDMCABQQA2AjggAEEBOgA8CyAAQUBrIAFBQGsQJRogACABKQNQNwNQIAALEAAgAC0AwAEEQCAAEPQBCwuNAwEEfyMAQRBrIgMkACABIAAQHCEFIAIgARAcIQQCfwJAIAVFBEBBACAERQ0CGiADIAEoAgg2AgggAyABKQIANwMAIAEgAigCCDYCCCABIAIpAgA3AgAgAiADKAIINgIIIAIgAykDADcCAEEBIAEgABAcRQ0CGiADIAAoAgg2AgggAyAAKQIANwMAIAAgASgCCDYCCCAAIAEpAgA3AgAgASADKAIINgIIIAEgAykDADcCAAwBCyAEBEAgAyAAKAIINgIIIAMgACkCADcDACAAIAIoAgg2AgggACACKQIANwIAIAIgAygCCDYCCCACIAMpAwA3AgBBAQwCCyADIAAoAgg2AgggAyAAKQIANwMAIAAgASgCCDYC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7AEiCigCCCIHIAhBLGxqIQgDQCAHIAhHBEAgB0EAQSwQHUEsaiEHDAELCyAKIAg2AgggBiAKEP4DIAoQ0QILIAxBIGokAAwBCyAHIAlLBEAgBiAIIAlBLGxqEKMFCwsgBUEANgIUIAVCADcCDCAELQAERQ0DIAVBDGogBSgCHCAFKAIYa0EsbUEBahCoByAEQShqIQYDQCAEKAIsIAQoAigiB2tBxABtrSANWARAAkAgBiAJEJYIIAUoAhwgBSgCGGtBLG1BAWogBSgCECAFKAIMa0HEAG1HDQAMBgsFIAVBDGogByANp0HEAGxqENACIA1CAXwhDQwBCwtB9soAQeknQdcCQfXEABAAAAUgBUEYaiAHIAKnQSxsahCnByACQgF8IQIMAQsACwALQbLJAEHpJ0GnAkH1xAAQAAALIAAgC0HEAGwiACABKAIoahCiASEGIAEoAiggAGogASAGQQRqEJcFIAEoAiggAGpBNGogBUEYahCqCCABKAIoIABqQShqIAVBDGoQqwggBUHcAGoiBCABKAIoIABqQgAgAxCMAyAGLQAEBEAgBkEoaiAEENACCyAFQdwAahCGARogBUEMahCvCCAFQRhqELAICyAFQaABaiQAC7oBAgR/BH4gASgCBCABKAIAIgRrQQN1IgIgACgCBCAAKAIAIgVrQQN1IgMgAiADSRutIQdBACEBAkADQCAGIAdSBEACQCAFIAanQQN0IgBqKQMAIgggACAEaikDACIJUQ0AIAggCVQEQEEDIQAgAUEBRg0EQQIhASACIANPDQEMBAtBAyEAIAFBAkYNA0EBIQEgAiADSw0DCyAGQgF8IQYMAQsLQQJBASABIAIgA0kbIAIgA0sbIQALIAALEAAgAC0AkAEEQBASAAsgAAsfACAAKAIEIAAoAghJBEAgACABEMkIDwsgACABEMgICxUAIAAgASACIANBHEHKpJLJABCmAQtAAQF/IAAoAggiAyACIAFraiECA0AgAiADRkUEQCADIAEoAgA2AgAgAUEEaiEBIANBBGohAwwBCwsgACACNgIIC94DAQN/IAAgARBMIABBDGogAUEMahBMIABBGGogAUEYahBMIABBJGogAUEkahDrASAAQTRqIAFBNGoQ6wECQCAAQcQAaiICLQAMIgMgAUHEAGoiBC0ADEYEQCADRQ0BIAIgBBDpBwwBCyADBEAgAhDKCAwBCyACIAQQtAMLIABB1ABqIAFB1ABqEPYCIABB9ABqIAFB9ABqEOsBIAAgASgClAE2ApQBIAAgASkCjAE3AowBIAAgASkChAE3AoQBIABBmAFqIAFBmAFqEEwgAEGkAWogAUGkAWoQTCAAQbABaiICEJcDAkAgAigCFEUEQANAIAIoAggiAyACKAIERwRAIANBBGsoAgAQCyACEOgHDAELCyACQQA2AhAMAQsgAkEAEOcHAkAgAhDlB0EBTQRAIAIQ5QdFDQELIAIoAghBBGsoAgAQCyACEOgHCwsgAhDmByACEKkKIAIQ5gcgAiABKAKwATYCACACIAEoArQBNgIEIAIgASgCuAE2AgggAiABKAK8ATYCDCABQgA3ArgBIAFCADcCsAEgAiABKALAATYCECACIAEoAsQBNgIUIAFCADcCwAEgAEHIAWogAUHIAWoQTCAAIAEpA9gBNwPYASAAQeABaiABQeABahAbC20BA38jAEEQayICJAAgAC0AkAFB/wFHBEAjAEEQayIBJAAgAUHI0wApAwA3AwggAkEPaiAAIAFBCGpBfyAALQCQASIDIANB/wFGG0ECdGooAgARAAAgAUEQaiQACyAAQf8BOgCQASACQRBqJAALbAECfyABIAAoAgQgACgCACABKAIEEIoIIgI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACxsAIAAgAUHhw4cPQcQAQcOHjx5BxIePHhCUAQvlAwEHfyMAQRBrIgUkAAJAIAAoAgAgACgCBEYNACAFQQhqIAAgARDcAiAFKAIMIQIgBSgCCCEDA0ACQCAAKAIMIAJBA3RqIgYoAgAiBCADRgRAIAEgACgCACAGKAIEQQxsahAjIQggBSgCCCEDIAhFDQEgACgCDCAFKAIMIgJBA3RqKAIAIQQLIAMgBEcNAiACIgFBAWoiA0EAIAMgACICKAIQRxshAyACKAIMIgQgAUEDdGooAgQhBgNAIAQgAyIAQQN0aiIDKAIAIgdBgARPBEAgBCABQQN0aiIBIAMoAgQ2AgQgASAHQYACazYCACAAQQFqIgFBACABIAIoAhBHGyEDIAIoAgwhBCAAIQEMAQsLIAQgAUEDdGpCADcCACACKAIEIgAgAigCACIBa0EMbUEBayAGRwRAIAEgBkEMbGoiASAAQQxrEBsgARA4IAIxAB6IpyEEIAIoAgQgAigCAGtBDG1BAWshACACKAIQIQEgAigCDCEDA0AgAyAEQQN0aiIHKAIEIABHBEAgBEEBaiIEQQAgASAERxshBAwBCwsgByAGNgIECyACEMAFDAILIAUgA0GAAmoiAzYCCCAFIAUoAgxBAWoiAkEAIAIgACgCEEcbIgI2AgwMAAsACyAFQRBqJAAL2wEBA38jAEEQayICJAAgAkEIaiAAEJ0FIAIgABCEBCACKAIMIQEDQAJAIAIoAgQgAUYEQCAAQQA2AhQgACgCBCEBA0AgACgCCCABayIDQQlJDQIgASgCABALIAAgACgCBEEEaiIBNgIEDAALAAsgARB/GiACIAIoAgxBgAFqIgE2AgwgASACKAIIIgMoAgBrQYAgRw0BIAIgA0EEajYCCCACIAMoAgQiATYCDAwBCwtBECEBAkACQAJAIANBAnZBAWsOAgEAAgtBICEBCyAAIAE2AhALIAJBEGokAAunAQEDfyAAQeABahAKGiAAQcgBahAPGiAAQbABaiICEJcDIAIoAgghAyACKAIEIQEDQCABIANHBEAgASgCABALIAFBBGohAQwBCwsgAhCbASAAQaQBahAPGiAAQZgBahAPGiAAQfQAahA/IABB1ABqEDwgAEHEAGoiAS0ADARAIAEQ8gELIABBNGoQPyAAQSRqED8gAEEYahAPGiAAQQxqEA8aIAAQDxoLcQICfwF+IAJBIBCIASIFp0H/AXFBgAJyIQIgBSABMQAeiKchAyABKAIQIQQgASgCDCEBA0AgAiABIANBA3RqKAIAT0UEQCADQQFqIgNBACADIARHGyEDIAJBgAJqIQIMAQsLIAAgAzYCBCAAIAI2AgALiAEAIABBADoARCAAQQA6ADQgAEEAOgBQIABBQGtBADoAACAAQQA6ADAgAEEAQSUQHSIAQdQAahCPARogAEJ/NwOQASAAQQE7AYgBIABBADYChAEgAEEAOgCAASAAQQA6AHQgAEGYAWpBAEE8EB0aIABBADYC6AEgAEIANwPgASAAQgA3A9gBIAALUQECfyAAIAAoAgAiASgCBCICNgIAIAIEQCACIAA2AggLIAEgACgCCDYCCCAAKAII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CwsLZwECfyAAQf8BOgAQIABBADoAACMAQRBrIgIkACAAELkBIAEtABAiA0H/AUcEQCACQeAIKQMANwMIIAJBB2ogACABIAJBCGogA0ECdGooAgARBAAgACABLQAQOgAQCyACQRBqJAAgAAtfAQJ/IwBBEGsiAiQAIAJCACABKAIEIAEoAgBrQQN1rX03AwggACACQQhqENgBIAEoAgQhAyABKAIAIQEDQCABIANGBEAgAkEQaiQABSAAIAEQwgUgAUEIaiEBDAELCwscACAAIAFB4P///wdBBEH///8/QYCAgMAAELYDCw0AIAAgARAlQQE6AAwLCwAgACAAIAEQzwoLMQEBfyABIAVPBEAQAQALIAQgACgCCCAAKAIAayIAIAN1IgYgASABIAZJGyAAIAJPGws/AQJ/IwBBEGsiAiQAIAAtABgiA0H/AUcEQCACQQ9qIAAgA0ECdCABaigCABEAAAsgAEH/AToAGCACQRBqJAALSgECfyMAQRBrIgIkAEEIEBghAyACQQE2AgggAiACQQ9qNgIEIAMgATYCACADIAAoAgQ2AgQgAkEANgIAIAIQkAEgAkEQaiQAIAMLCQAgAEEMEJkECxEAIAAgAUEwajoAACAAQQFqCwsAIAQgAjYCAEEDCw8AIAAgACgCAEEEajYCAAsPACAAIAAoAgBBAWo2AgALHQAgACABQfj///8HQQJB/////wFBgICAgAIQtgMLNwECfyMAQRBrIgMkACADQQxqIgQgARAkIAIgBBDwAiIBEG02AgAgACABEGwgBBAiIANBEGokAAs2AQJ/IwBBEGsiAiQAIAJBDGoiAyAAECQgAxBwQaDxAUG68QEgARDgASADECIgAkEQaiQAIAELNwECfyMAQRBrIgMkACADQQxqIgQgARAkIAIgBBDyAiIBEG06AAAgACABEGwgBBAiIANBEGokAAsHACAAQQtJCxcAIAAgAzYCECAAIAI2AgwgACABNgIICxoAIAAgASABKAIAQQxrKAIAaigCGDYCACAACwsAIABB7LMCEOEBC4UCAgd/An4jAEEwayIAJABBASAAQRhqEMIKBEBB0K0CKAIAENsFAAsgAEEIaiAAQRhqEIoCIQQgACAAQSBqEMEKIQUjAEEgayIBJAAjAEEQayIDJAAjAEEQayIGJAAjAEEQayICJAAgAiAEKQMAQoCU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KAIINgIIIAVCADcCACAFQQA2AgggAyAEKQMANwMQIAMgBCgCEDYCICADIAQpAwg3AxggBEEANgIQIARCADcDCCABIANBKGo2AgQMAQsjAEEgayIKJAAgCkEMaiABIAEoAgQgASgCAGtBKG1BAWoQowEgASgCBCABKAIAa0EobSABQQhqEIcBIQMgBigCCCEEIAMoAggiBSAGKAIMIgkpAgA3AgAgBSAJKAIINgIIIAlCADcCACAJQQA2AgggBSAEKQMANwMQIAUgBCgCEDYCICAFIAQpAwg3AxggBEEANgIQIARCADcDCCADIAMoAghBKGo2AgggASADEPABIAMQ7wEgCkEgaiQAIAEoAgQaCyABKAIEIAEoAgBrQShtIgRBAWshAwJAIAEoAhQgBEkEQCABEKIDDAELIAIgAzYCDCACIAc2AgggAiACKQIINwMAIAEgAiAIEDELIAEoAgAhASAAQQE6AAQgACABIANBKGxqNgIAIAJBEGokAAsgBkEQaiQADwsgCEEBaiIEQQAgBCABKAIQRxshCCAHQYACaiEHDAALAAtCAQF/IwBBEGsiAiQAIABCADcCACAAQT46AB4gAEHNmbP6AzYCGCAAQgA3AhAgAEIANwIIIAAgARD2AiACQRBqJAALFQAgACABQQdBH0H8////AUEDEJsJCy4BAX8gACAAKAIAIgIgASACa0HIAG1ByABsaiIBQcgAaiAAKAIEIAEQzgUQlgQLGAAgACABKQMANwMAIABBCGogAUEIahAbCzcBAn4gACgCACEAA34gASACUQR+IAMFIAMgACACp0HIAGxqKQM4fEIBfCEDIAJCAXwhAgwBCwsLLgEBfyABKAIAIgIgASgCBDYCBCABKAIEIAI2AgAgACAAKAIIQQFrNgIIIAEQCwuBAQECfyAAKAIEIAAoAghJBEAgACABEJcKDwsjAEEgayIDJAAgA0EMaiAAIAAoAgQgACgCAGtB8ABtQQFqEI8EIAAoAgQgACgCAGtB8ABtIABBCGoQjQIiAigCCCABEDIaIAIgAigCCEHwAGo2AgggACACEOQKIAIQ9QIgA0EgaiQACxYAIAAtAAwEQCAAEA8aIABBADoADAsLNwEBfyMAQRBrIgEkACABIAA2AgwgASgCDCIAKAIABEAgABCuBSABKAIMKAIAEAsLIAFBEGokAAtCAQF/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IAcgBhCMAQsgAyAEIAVqIgprIQcgAyAKRwRAIAIgBGogBmogBCAJaiAFaiAHEIwBCyABQQFqIgFBC0cEQCAAIAkgARCzBAsgACACEIoBIAAgCCgCCBCJASAAIAQgBmogB2oiABBvIAhBADoADCAAIAJqIAhBDGoQgwEgCEEQaiQADwsQbgALBwAgAEEIagsVACAAIAEgAiADQcgAQeTxuBwQpgELCQAgACABEMYJCwcAIABBAkkLBABBBAsqAQF/IAAoAgQhAgNAIAEgAkZFBEAgAkHwAGsQQiECDAELCyAAIAE2AgQLHQAgAEEEahDbCUF/RgRAIAAgACgCACgCCBEBAAsLEQAgACABIAEoAgAoAigRAAALFAECfyAAKAIAIQIgAEEANgIAIAILCABB/////wcLBQBB/wALYQEBfyMAQRBrIgIkACACIAA2AgwCQCAAIAFGDQADQCACIAFBBGsiATYCCCAAIAFPDQEgAigCDCACKAIIELkEIAIgAigCDEEEaiIANgIMIAIoAgghAQwACwALIAJBEGokAAubAQEFfyMAQRBrIgQkACMAQRBrIgMkACAAIQUgAiEGA0AgASAFRwRAIAYgBRCSASAGQfAAaiEGIAVB8ABqIQUMAQsLIAMgBjYCDCADIAE2AgggAygCCCEBIAQgAiADKAIMIAJrQfAAbUHwAGxqNgIMIAQgACABIABrQfAAbUHwAGxqNgIIIANBEGokACAEKAIMIQcgBEEQaiQAIAcL0AEBAn8gAkGAEHEEQCAAQSs6AAAgAEEBaiEACyACQYAIcQRAIABBIzoAACAAQQFqIQALIAJBhAJxIgNBhAJHBEAgAEGu1AA7AAAgAEECaiEACyACQYCAAXEhAgNAIAEtAAAiBARAIAAgBDoAACAAQQFqIQAgAUEBaiEBDAELCyAAAn8CQCADQYACRwRAIANBBEcNAUHGAEHmACACGwwCC0HFAEHlACACGwwBC0HBAEHhACACGyADQYQCRg0AGkHHAEHnACACGws6AAAgA0GEAkcLqgEBAX8CQCADQYAQcUUNACACRSADQcoAcSIEQQhGIARBwABGcnINACAAQSs6AAAgAEEBaiEACyADQYAEcQRAIABBIzoAACAAQQFqIQALA0AgAS0AACIEBEAgACAEOgAAIABBAWohACABQQFqIQEMAQsLIAACf0Hv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BCIDRQ0AIAgoAhwiBARAIAMgBCgCBEYNAQsgAigCCCADIAIoAgQRAAALAkAgACAGSQRAIAEgAigCCCAGIABrIgQgAigCABEDACICNgIEIAJFDQMgAiAAIAVqIAQQHxoMAQsgAUEANgIEIAYgAGshBAsgASAENgIADAMLIARBAkcNACAIKAIcIQlBASEEIAgoAhggAiAGIAAtAAUiAGsgACAFahCuASEAAkAgA0UNACABKAIAIgdFIAcgCUZyDQACQCAARQRADAELIAcgACACEOYKQQBHIQQgASgCACEHCyAHIAIQ4wELIAEgADYCACAAQQBHIARxIQcLIAcPCyABIAYgBRD6AjYCAAtBAQvBAQECfyAApyECIABCIIinIgNFBEAgAiABEMsBDwsgASACQYABcjoAACABIAJBFXZBgAFyOgADIAEgAkEOdkGAAXI6AAIgASACQQd2QYABcjoAASADQQR0IAJBHHZyIQIgA0EHTQRAIAEgAjoABEEFDwsgASACQYABcjoABCADQQN2IQJBBSEDA0AgAkGAAUlFBEAgASADaiACQYABcjoAACACQQd2IQIgA0EBaiEDDAELCyABIANqIAI6AAAgA0EBagtSAQF/IABCIIinIgFFBEAgAKcQngEPCwJ/QQUgAUEISQ0AGkEGIAFBgAhJDQAaQQcgAUGAgAhJDQAaQQggAUGAgIAISQ0AGkEJQQogAEIAWRsLCw0AIABB6I4BQSgQHxoLIwAgACABKAIANgIAIABBBGogAUEEahAQGiAAIAEoAhA2AhALHwAgACABEBAiAEEMaiABQQxqEBAaIAAgASkCGDcCGAsMACAAIAFB+AgQkgkLEgAgAC0AKARAIABBCGoQhQELC28CAn8BfiACELEBIgWnQf8BcUGAAnIhAiAFIAExAB6IpyEDIAEoAhAhBCABKAIMIQEDQCACIAEgA0EDdGooAgBPRQRAIANBAWoiA0EAIAMgBEcbIQMgAkGAAmohAgwBCwsgACADNgIEIAAgAjYCAAuHBgEIfyMAQcABayIDJAAgACgCACEEIANCADcDiAEgA0IANwOAASADQgA3A3ggA0GQAWoQvwEgA0IANwO4ASADQgA3A7ABIwBBIGsiBSQAIANBhAFqIgYiAigCCCACKAIAIghrQfAAbUEPSQRAIAIgBUEMakEPIAIoAgQgCGtB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AgggAUIANwIAIAFBADYCCCAAQRBqIgFBADoARCABQQA6AEAgAUEAOgAAIAFBADoAhAEgAUGIAWoQZhojAEEQayIDJAAgAUGoAWoiAkIANwIAIAJBPjoAHiACQc2Zs/oDNgIYIAJCADcCECACQgA3AgggAhAwIAIoAgwiBARAIARBACACKAIQQQN0EB0aCyADQRBqJAAgASABQcwBajYCyAEgAUIANwLMASABQdgBakEAQS0QHRogAEEANgLQAiAAQQA2ArgCIABBADoApAIgACAAQZwCajYCmAIgAEIANwKcAiAAQdgCahBmGiAAQQA2AoADIAAgAEH4AmoiATYC/AIgACABNgL4AiMAQRBrIgIkACAAQYQDaiIBQgA3AgAgAUE+OgAeIAFBzZmz+gM2AhggAUIANwIQIAFCADcCCCABEDAgASgCDCIDBEAgA0EAIAEoAhBBA3QQHRoLIAJBEGokACAAQgA3ALUDIABCADcDsAMgAEIANwOoAyAAQcADaiIBQgA3AgAgAUIANwIQIAFCADcCCCMAQRBrIgMkACABQRhqIgJCADcCACACQT46AB4gAkHNmbP6AzYCGCACQgA3AhAgAkIANwIIIAIQMCACKAIMIgQEQCAEQQAgAigCEEEDdBAdGgsgA0EQaiQAIAFBADYCUCABQgA3AkggAUFAa0IANwIAIAFCADcCOCABQQA2AlggASABNgJUIABBnARqIgFCADcCACABQgA3AhAgAUIANwIIIAFBGGoQZhogAUEANgJQIAFCADcCSCABQUBrQgA3AgAgAUIANwI4IAFBADYCWCABIAE2AlQgAAswAQF/IAAoAgAhASAAQQA2AgAgAQRAIAAtAAgEQCABQQhqEL8GCyABBEAgARALCwsLwgMBBn8jAEEgayIHJAAgACgCACIDIAEgA2tB8ABtQfAAbGohBQJAIAAoAgQiASAAKAIISQRAIAEgBUYEQCAAIAIQlwoMAgsgACAFIAEgBUHwAGoQ4wggBSACEJIBDAELIAdBDGogACABIANrQfAAbUEBahCPBCAFIAAoAgBrQfAAbSAAQQhqEI0CIQEjAEEgayIIJAACQCABKAIIIgMgASgCDEcNACABKAIEIgQgASgCACIGSwRAIAEgBCADIAQgBCAGa0HwAG1BAWpBfm1B8ABsIgZqEKsEIgM2AgggASABKAIE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AWoPCyABIAIQVSABIAAQKUUEQCAEQQJqDwsgACABEFUgBEEDagUgBAsLOgEBfyAAKAIEIgIgACgCCEcEQCACIAEpAwA3AwAgAiABKQMINwMIIAAgAkEQajYCBA8LIAAgARDxBAuKDQEGfwNAIAFBIGshCQNAIAAhBANAAkACQAJAAkACQAJAAkACQCABIARrIgZBBXUiAA4GBwcABAECAwsgAUEgayIAIAQQKUUNBiAEIAAQVQ8LIAQgBEEgaiAEQUBrIAFBIGsQ/gQaDwsgBCAEQSBqIARBQGsgBEHgAGogAUEgaxD9BBoPCyAGQd8HTARAIAEhBiMAQSBrIgUkACAEIARBIGogBEFAayICEMUCGiAEQeAAaiEAA0AgBiAAIgFHBEAgACACECkEQCAFIAApABg3AxggBSAAKQAQNwMQIAUgACkACDcDCCAFIAApAAA3AwAgACEDA0ACQCADIAIiACkAADcAACADIAApABg3ABggAyAAKQAQNwAQIAMgACkACDcACCAAIARGBEAgBCEADAELIAAhAyAFIABBIGsiAhApDQELCyAAIAUpAwA3AAAgACAFKQMYNwAYIAAgBSkDEDcAECAAIAUpAwg3AAgLIAFBIGohACABIQIMAQsLIAVBIGokAA8LIANFBEAgASAERyIABH8gAARAAkAgASAEayIAQSFIDQAgAEEFdSICQQJrQQF2IQADQCAAQQBIDQEgBCACIAQgAEEFdGoQrgcgAEEBayEADAALAAsgASAEa0EFdSECIAEhAANAIAAgAUcEQCAAIAQQKQRAIAAgBBBVIAQgAiAEEK4HCyAAQSBqIQAMAQsLIAEgBGtBBXUhAANAIABBAUoEQCABIQNBACEGIwBBIGsiByQAAkAgACICQQJJDQAgByAEKQAYNwMYIAcgBCkAEDcDECAHIAQpAAg3AwggByAEKQAANwMAIAQhACACQQJrQQF2IQgDQCAGQQF0IglBAXIhASAGQQV0IABqQSBqIQUgAiAJQQJqIglMBH8gAQUgBUEgaiIGIAUgBSAGECkiBhshBSAJIAEgBhsLIQYgACAFKQAANwAAIAAgBSkAGDcAGCAAIAUpABA3ABAgACAFKQAINwAIIAUhACAGIAhMDQALIANBIGsiASAARgRAIAAgBykDADcAACAAIAcpAxg3ABggACAHKQMQNwAQIAAg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KAIAIAFGQQJ0aigCACEBDAALAAsgBEEBOgAMCwsgBgskACAAIAFBJhAfIgBBKGogAUEoahCrCCAAQTRqIAFBNGoQqggLKwEBfyAAKAIEIQIDQCABIAJGRQRAIAJBxABrEIYBIQIMAQsLIAAgATYCBAswACAAIAEQGyAAIAEpAiQ3AiQgACABKQIcNwIcIAAgASkCFDcCFCAAIAEpAgw3AgwLCwAgACABQSwQmAQLEwAgACABEIYEIAAgAS0AGDoAGAsUACAAQcQAaiIAELIIIAAgARCgAwslACAAKAIQIgBFBEAQEgALIAAgASACIAMgBCAAKAIAKAIYEQoAC5EBAQN/IAEoAgQhAiAAKAIAIQQgACgCBCEDA0AgAyAERkUEQCACQQhrIgIgA0EIayIDKQIANwIADAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACxsBAX8gACgCACECIAAgATYCACACBEAgAhALCwsPACAAIAAoAgRBKGsQzggLCwAgACABEFdBAXMLCQAgAEEoEJoEC2EBAn8jAEEgayICJAACQCABIAAoAgggACgCACIDa0EobUsEQCABQefMmTNPDQEgACACQQxqIAEgACgCBCADa0EobSAAQQhqEIcBIgAQ8AEgABDvAQsgAkEgaiQADwsQAQALIwAgACABKQIANwIAIAAgASgCCDYCCCAAQQxqIAFBDGoQJRoLDAAgACAAKAIAEM4IC/EBAgF/AX0CQCAAIAFGDQAgABBNIAAoAgAEQCAAEK4FIAAoAgAQCyAAQQA2AgggAEIANwIACyAAIAEoAgA2AgAgACABKAIENgIEIAAgASgCCDYCCCABQQA2AgggAUIANwIAIAEQrgUgASgCDCECIAFBADYCDCAAIAI2AgwgASgCECECIAFBADYCECAAIAI2AhAgASgCFCECIAFBADYCFCAAIAI2AhQgAS0AHiECIAFBPjoAHiAAIAI6AB4gASoCGCEDIAFBzZmz+gM2AhggACADOAIYIAEQMCABKAIMIgBFDQAgAEEAIAEoAhBBA3QQHRoLC2wCA38CfiABEDghBiABIAAoAgBrQTBtIQIgBiAAMQAeiKchASAAKAIQIQMgACgCDCEEA0AgBCABQQN0aigCBCACRkUEQCABQQFqIgFBACABIANHGyEBDAELCyAAIAEQ+AsgACgCACACQTBsagvMAwIEfwF+IwBBIGsiBCQAIAQgAjYCGCAEIAE2AhwgAEH4AmohAQJAIABBhANqIgUgBEEcahChAyICIAAoAogDRwRAIAEgAigCBEEIahC7CCAAIAApA6gDQgF8Igg3A6gDIAAoAvwCIAg3AxAgASACKAIEEIgEIAIgACgC/AI2AgQMAQsgACAAKQOoA0IBfDcDqAMgASAEQRhqIARBHGoiASAAQagDahC6CCAEIAAoAvwCNgIUIARBDGogBSABIARBFGoQuQgLIAMoAgQhBiADKAIAIQADQCAAIAZGBEAgBEEgaiQABSAAKAIAIQEgBCgCHCEDIAQoAhghBSMAQSBrIgIkACACIAU2AhggAiADNgIcIAFBjANqIQMCQCABQZgDaiIHIAJBHGoQoQMiBSABKAKcA0cEQCADIAUoAgRBCGoQuwggASABKQO4A0IBfCIINwO4AyABKAKQAyAINwMQIAMgBSgCBBCIBCAFIAEoApADNgIEDAELIAEgASkDuANCAXw3A7gDIAMgAkEYaiACQRxqIgMgAUG4A2oQugggAiABKAKQAzYCFCACQQxqIAcgAyACQRRqELkICyACQSBqJAAgAEEEaiEADAELCwsWACAALQAgBEAgABDhAiAAQQA6ACALCyUBAX8jAEEQayICJAAgAiABNgIMIAAgAkEMahCoAyACQRBqJAALGwAgACABEGoiASAAKAIERgRAEBIACyABQRBqC4sBAQJ/IwBBMGsiAiQAIABBJGoQ3gggAEE0ahDeCCAAQcQAaiIBIgAQygggAEEBOgAMIABBADYCCCAAQgA3AgAgAkEMaiIAQQBBJBAdGiACQRhqQgAQ3QgCQCABKAIEIAEoAghJBEAgASAAEMkIDAELIAEgABDICAsgASgCBBogABC9ARogAkEwaiQAC+QBAQN/IAAoAgQhAiAAKAIAIQQgASgCBCEDA0AgAiAERwRAIANBgAFrIgMgAkGAAWsiAikDADcDACADIAIoAgg2AgggAkEANgIIIAJCADcDACADIAIpAxA3AxAgAyACKAIgNgIgIAMgAikDGDcDGCACQQA2AiAgAkIANwMYIANBKGogAkEoahDZAhoMAQsLIAEgAzYCBCAAKAIAIQQgACADNgIAIAEgBDYCBCAAKAIEIQQgACABKAIINgIEIAEgBDYCCCAAKAIIIQQgACABKAIMNgIIIAEgBDYCDCABIAEoAgQ2AgALIwAgAEEAOgDAASAAQQA6AAAgAS0AwAEEQCAAIAEQngILIAALUAAgACgCAARAIAAQgQkgACgCABALIABBADYCCCAAQgA3AgALIAAgASgCADYCACAAIAEoAgQ2AgQgACABKAIINgIIIAFBADYCCCABQgA3AgALEgAgACABEBsgACABKQMQNwMQCwkAIABBGBCZBAuyAQEDfyAAKAIEIQIgACgCACEEIAEoAgQhAwNAIAIgBEcEQCADQRhrIgMgAkEYayICKQMANwMAIAMgAigCCDYCCCACQgA3AwAgAkEANgIIIAMgAikDEDcDEAwBCwsgASADNgIEIAAoAgAhAiAAIAM2AgAgASACNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsRACAAIAEQECIAQgA3AxAgAAvfAgECfyMAQRBrIgUkACAAIAEgAiADEL4FIQYCQCAEIAMQHEUNACAFIAMoAgg2AgggBSADKQIANwMAIAMgBCgCCDYCCCADIAQpAgA3AgAgBCAFKAIINgIIIAQgBSkDADcCACADIAIQHEUEQCAGQQFqIQYMAQsgBSACKAIINgIIIAUgAikCADcDACACIAMoAgg2AgggAiADKQIANwIAIAMgBSgCCDYCCCADIAUpAwA3AgAgAiABEBxFBEAgBkECaiEGDAELIAUgASgCCDYCCCAFIAEpAgA3AwAgASACKAIINgIIIAEgAikCADcCACACIAUoAgg2AgggAiAFKQMANwIAIAEgABAcRQRAIAZBA2ohBgwBCyAFIAAoAgg2AgggBSAAKQIANwMAIAAgASgCCDYCCCAAIAEpAgA3AgAgASAFKAIINgIIIAEgBSkDADcCACAGQQRqIQYLIAVBEGokACAGC44CAQJ/IwBBEGsiBCQAIAAgASACENsCIQUCQCADIAIQHEUNACAEIAIoAgg2AgggBCACKQIANwMAIAIgAygCCDYCCCACIAMpAgA3AgAgAyAEKAIINgIIIAMgBCkDADcCACACIAEQHEUEQCAFQQFqIQUMAQsgBCABKAIINgIIIAQgASkCADcDACABIAIoAgg2AgggASACKQIANwIAIAIgBCgCCDYCCCACIAQpAwA3AgAgASAAEBxFBEAgBUECaiEFDAELIAQgACgCCDYCCCAEIAApAgA3AwAgACABKAIINgIIIAAgASkCADcCACABIAQoAgg2AgggASAEKQMANwIAIAVBA2ohBQsgBEEQaiQAIAULkA4BCH8jAEEQayIHJAADQCABQQxrIQkDQCAAIQQDQAJAAkACQAJAAkACQAJAAkAgASAEayIFQQxtIgAOBgcHAAQBAgMLIAFBDGsiACAEEBxFDQYgByAEKAIINgIIIAcgBCkCADcDACAEIAAoAgg2AgggBCAAKQIANwIAIAAgBygCCDYCCCAAIAcpAwA3AgAMBgsgBCAEQQxqIARBGGogAUEMaxC+BRoMBQsgBCAEQQxqIARBGGogBEEkaiABQQxrEL0FGgwECyAFQdMATARAIAEhAyMAQRBrIgUkACAEIARBDGogBEEYaiIBENsCGiAEQSRqIQADQCADIAAiAkcEQCAAIAEQHARAIAUgACgCCDYCCCAFIAApAgA3AwAgAEIANwIAIABBADYCCANAAkAgACABIgAQGyAAIARGBEAgBCEADAELIAUgAEEMayIBEBwNAQsLIAAgBRAbIAUQChoLIAJBDGohACACIQEMAQsLIAVBEGokAAwECyADRQRAIAEgBEcEfyMAQRBrIggkACABIgAgBEcEQCAAIARrIgFBDG0hAgJAIAFBDUgNACACQQJrQQF2IQEDQCABQQBIDQEgBCACIAQgAUEMbGoQ6gggAUEBayEBDAALAAsgACAEa0EMbSECIAAhAQNAIAAgAUcEQCABIAQQHARAIAggASgCCDYCCCAIIAEpAgA3AwAgASAEKAIINgIIIAEgBCkCADcCACAEIAgoAgg2AgggBCAIKQMANwIAIAQgAiAEEOoICyABQQxqIQEMAQsLIAAgBGtBDG0hAQNAIAFBAUoEQCAAIQJBACEFIwBBEGsiCyQAIAFBAk8EQCALIAQoAgg2AgggCyAEKQIANwMAIARCADcCACAEQQA2AgggBCEAIAFBAmtBAXYhCgNAIAVBAXQiCUEBciEDIAVBDGwgAGpBDGohBiABIAlBAmoiCUwEfyADBSAGQQxqIgUgBiAGIAUQHCIFGyEGIAkgAyAF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BQsdACAAIAFBkM4AbiIAEKkCIAEgAEGQzgBsaxDeBQsbACAAIAFB5ABuIgAQqQIgASAAQeQAbGsQqQILsQEBA38jAEEQayICJAAgAiABNgIMAkACQAJ/IAAQiwEiBEUEQEEBIQEgABC3BAwBCyAAEIcCQQFrIQEgACgCBAsiAyABRgRAIAAgAUEBIAEgARCxCSAAECEaDAELIAAQIRogBA0AIAAiASADQQFqEHkMAQsgACgCACEBIAAgA0EBahBvCyABIANBAnRqIgAgAkEMahCAASACQQA2AgggAEEEaiACQQhqEIABIAJBEGokAAvPAQEDfyMAQRBrIgUkACACQe////8HIAFrTQRAIAAQISEGIAVBBGoiByAAIAFB5////wNJBH8gBSABQQF0NgIMIAUgASACajYCBCAHIAVBDGoQtQIoAgAQtAJBAWoFQe////8HCxCGAiAFKAIEIQIgBSgCCBogBARAIAIgBiAEEIwBCyADIARHBEAgAiAEaiAEIAZqIAMgBGsQjAELIAFBAWoiAUELRwRAIAAgBiABELMECyAAIAIQigEgACAFKAIIEIkBIAVBEGokAA8LEG4ACw0AIAAgASACQn8Q2woLBwAgAEEMagsrAQJ/IAAoAgAhASMAQRBrIgAkACAAIAE2AgwgACgCDCECIABBEGokACACCxcAIAAoAggQM0cEQCAAKAIIEJUKCyAACwkAIABBIBDlAgs6AQJ/IwBBEGsiAyQAIAMgAjYCDCADQQhqIANBDGoQqwEhBCAAIAEQiwYhACAEEKoBIANBEGokACAACw8AIAAgACgCBEEBajYCBAs3AQJ/IwBBEGsiAiQAIAIgACgCADYCDCACIAIoAgwgAUECdGo2AgwgAigCDCEDIAJBEGokACADCxsBAX9BASEBIAAQiwEEfyAAEIcCQQFrBUEBCws0AQJ/IwBBEGsiAiQAIAIgACgCADYCDCACIAIoAgwgAWo2AgwgAigCDCEDIAJBEGokACADC5EBAQN/IAEoAgQhAiAAKAIAIQQgACgCBCEDA0AgAyAERkUEQCACQQhrIgIgA0EIayIDKQMANwMADAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASAB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IAQoAhAiBiAEKAIURgRAIAQgBCgCDDYCFAsgB0EBaiEHIAQgBkEIaiIGNgIQDAALAAsCQCAGIAQoAhQiCEYNACAIIAYQNEUNACAHQQFqIQcgBEEQaiAEQRRqEFYLIAQoAhAhBgJAIAcNACAFIAYgAhDICiEHIAQoAhBBCGogASACEMgKBEAgBw0FIAQgBCgCECIBNgIYDAcLIAQoAhAhBiAHRQ0AIAZBCGohAAwCCyAGIABrIAEgBmtIBEAgACAGIAIgAxCHBiAEKAIQQQhqIQAMAgsgBkEIaiABIAIgAxCHBiAEIAQoAhAiATYCGAwGCyAEIAFBCGsiADYCGCAFIAVBCGogABC6BAwCCyAEIAA2AhwMBAsgBiAEKAIMRg0AA0ACQCAFIAYQNEUNAANAIAQgBCgCDEEIayIANgIMIAUgABA0DQALIAQoAhAiACAEKAIMSQRAIARBEGogBEEMahBWDAELIAQgADYCHCAAIQUMAwsgBCAEKAIQQQhqIgY2AhAMAAsACwsLCyAEQSBqJAALDQAgACgCACABKAIASQvSAwICfgJ/IwBBIGsiBCQAAkAgAUL///////////8AgyIDQoCAgICAgMCAPH0gA0KAgICAgIDA/8MAfVQEQCABQgSGIABCPIiEIQMgAEL//////////w+DIgBCgYCAgICAgIAIWgRAIANCgYCAgICAgIDAAHwhAgwCCyADQoCAgICAgICAQH0hAiAAQoCAgICAgICACFINASACIANCAYN8IQIMAQsgAFAgA0KAgICAgIDA//8AVCADQoCAgICAgMD//wBRG0UEQCABQgSGIABCPIiEQv////////8Dg0KAgICAgICA/P8AhCECDAELQoCAgICAgID4/wAhAiADQv///////7//wwBWDQBCACECIANCMIinIgVBkfcASQ0AIARBEGogACABQv///////z+DQoCAgICAgMAAhCICIAVBgfcAaxBhIAQgACACQYH4ACAFaxC7AiAEKQMIQgSGIAQpAwAiAEI8iIQhAiAEKQMQIAQpAxiEQgBSrSAAQv//////////D4OEIgBCgYCAgICAgIAIWgRAIAJCAXwhAgwBCyAAQoCAgICAgICACFINACACQgGDIAJ8IQILIARBIGokACACIAFCgICAgICAgICAf4OEvwtEAQF/IwBBEGsiBSQAIAUg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IARBCGohBiADKAIAQZCRAUcEQEH3H0GfwwBBkARB1iUQAAALIAMgBhBxIARBEGokACABIAEpA2giB0IBfDcDaCACQQhqIgNBAUHmACABLQBkIAdBACAFEI8CIABBADYCACAAIAIoAhA2AgwgACACKQMINwIEIAJBADYCECACQgA3AwggAxAKGiAFEAoaIAJBQGskAAsnAQF/IwBBEGsiAiQAIAIgATcDCCAAIAJBCGpBCBB3GiACQRBqJAALJwEBfyMAQRBrIgIkACACIAE6AA8gACACQQ9qQQEQdxogAkEQaiQAC7wCAQR/IAAoAgQgACgCCEkEQCAAIAAoAgQgARA9QRhqNgIEDwsjAEEgayIEJAAgBEEMaiAAIAAoAgQgACgCAGtBGG1BAWoQ2wEgACgCBCAAKAIAa0EYbSAAQQhqEL4BIgIoAgggARA9GiACIAIoAghBGGo2AgggACgCBCEDIAAoAgAhBSACKAIEIQEDQCADIAVHBEAgAUEYayADQRhrIgMQPSEBDAELCyACIAE2AgQgACgCACEDIAAgATYCACACIAM2AgQgACgCBCEBIAAgAigCCDYCBCACIAE2AgggACgCCCEBIAAgAigCDDYCCCACIAE2AgwgAiACKAIENgIAIAIoAgQhAANAIAAgAigCCCIBRwRAIAIgAUEYayIBNgIIIAEQERoMAQsLIAIoAgAiAARAIAAQCwsgBEEgaiQACwwAIAAgACgCBBCcBgtdAQR/AkAgACgCCEUNACAAKAIEIgEoAgAiAyAAKAIAIgIoAgQ2AgQgAigCBCADNgIAIABBADYCCANAIAAgAUYNASABKAIEIQQgAUEIahC/AiABEAsgBCEBDAALAAsLngMCBX8BfiMAQeAAayIEJAACQCABLQA0RQRAIABB09IAEA4aDAELEIsCIQgjAEEQayIDJAAgAyACOgAPIARBGGogAUHoAWogA0EPahDKAyADQRBqJAACQCAEKAIwIAJyRQRAIABB09IAEA4aDAELIAQgCELoB383AyggBEEANgIQIARCADcDCCMAQRBrIgMkACAEQRhqIgIoAgBBmOkARwRAQYwXQerCAEH7AkG4MBAAAAsgBEEIaiIFIAIQYxBnIAMgBTYCDCADQeIBNgIIIANBCGohBiACKAIAQZjpAEcEQEGMF0HqwgBBiQNB8CIQAAALIAIg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IAItAAA6AAALSwAgACABKQMANwMAIAAgASkDCDcDCCAAIAIoAgg2AhggACACKQIANwIQIAJCADcCACACQQA2AgggAEEBOgAgIABBKGogAxAyGiAACz4BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQZgBayIBNgIIIAEQ3QYaDAELCyAAKAIAIgAEQCAAEAsLC7cBAQN/IAAoAgQhAyAAKAIAIQQgASgCBCECA0AgAyAERwRAIAJBmAFrIgIgA0GYAWsiAykDADcDACACIAMpAwg3AwggAkEQaiADQRBqEO4DGiACQShqIANBKGoQMhoMAQsLIAEgAjYCBCAAKAIAIQMgACACNgIAIAEgAzYCBCAAKAIEIQIgACABKAIINgIEIAEgAjYCCCAAKAIIIQIgACABKAIMNgIIIAEgAjYCDCABIAEoAgQ2AgALFQAgACABIAIgA0GYAUHs0LwNEKYBCxsAIAAgAUG1qN4GQZgBQevQvA1B7NC8DRCUAQs5AQF+IAAgASkDADcDACAAIAEpAwg3AwggAikDACEEIABBADoAICAAIAQ3AxAgAEEoaiADEDIaIAALDQAgACABQdjVABCSCQsMACABIAIrAwA5AwALCgAgASACEO0DGguXAQICfwF+IwBBEGsiAiQAQQIhAyAAKQMIIgQgACkDAFQEQAJAIAEtADBFDQAgACAEQgF8NwMIIAIgARCcAiAALQAoBEAgACACKQMANwMYIAAgAikDCDcDIAwBCyAAQRhqIgEgAikDADcDACABIAIpAwg3AwggAEEBOgAoCyAAIAApAxBCAXw3AxBBACEDCyACQRBqJAAgAwviAQIFfwJ+AkAgACgCACICIAAoAgQiA0cEQANAIAcgAyACa0HIAG2tIghUIQMgByAIWg0CAkACQCABIAIgB6ciBEHIAGwiBWoQ3AZBAWsOAgAEAQsgACgCACAFaiABENsGDQMLIAAoAhAgACgCDCICa0HwAG2tIAdWBEAgASACIARB8ABsahDaBkECRg0DCyAHQgF8IQcgACgCACECIAAoAgQhAwwACwALIAAoAhAhAiAAKAIMIQADQCAAIAJHIQMgACACRg0BIAEgABDaBiEGIABB8ABqIQAgBkECRw0ACwsgAwtAAgF/An5BASECIAApAwggASkDQHwiAyAAKQMAVAR/IAEpAzghBCAA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ACABEBQLIABBOGohAwJAIAAtAEhFBEBCACABEBQgAyABEEcMAQtCASABEBQgAxByKQMAIAEQFCADEHIpAwggARAUIARBCGogAiADEHJBCGoQyQILIAAxAFAgARAUIAAxAGggARAUAkAgAC0AaEUNACAAKQNYIAEQFCAAQeAAaiIDKQMAIAEQFCAAKQNYUA0AIARBCGogAiADEMkCCyAEQRBqJAALWAEBfyMAQRBrIgMkACADIAI2AgggAyABNgIMIAAgAygCDCIBKQIANwIAIAAgASgCCDYCCCABQgA3AgAgAUEANgIIIABBEGogAygCCBAyGiADQRBqJAAgAAstAQF/IAAoAighASAAKAIkIQADQCAAIAFHBEAgAEEBOgAgIABBKGohAAwBCwsLEAAgAC0AgAEEQCAAEH8aCwsSACAAIAEoAgAgASgCBBBRIAALmQMCB38CfiMAQcABayICJAACQCABKAIEIgRBCE0EQCAAQQA6ADggAEEAOgAADAELIAEoAgAiAygAAEGF36maeEcEQEEDEBoEQCACQThqEBUhByACQQM2AjQgB0G7LBANGiACQTRqEBkLIABBADoAOCAAQQA6AAAMAQsgAiADKAAEIgU2AjAgAy0ACCEGIAEgBEEJazYCBCABIANBCWo2AgAgAkEgaiABEBYgAi0AKEUEQCAAQQA6ADggAEEAOgAADAELIAIpAyAiCSABNQIEIgpWBEAgAEEAOgA4IABBADoAAAwBCyACIANBCGogCSAErSAKfSIKfEIIfRCvAyAAAn8gAigCMCACKAAARwRAQQMQGgRAIAJBOGoQFSEIIAJBAzYCNCAIQdcsEA0aIAJBNGoQGQsgAEEAOgAAQQAMAQsgAikDICEJIAAgAikAADcAGCAAIAIpABg3ADAgACACKQAQNwAoIAAgAikACDcAICAAIAo3AxAgACAJNwMIIAAgBjoABCAAIAU2AgBBAQs6ADgLIAJBwAFqJAALWQEBfyMAQRBrIgMkACADIAI2AgggAyABNgIMIAAgAygCDCIBKQIANwIAIAAgASgCCDYCCCABQgA3AgAgAUEANgIIIABBEGogAygCCBCHAxogA0EQaiQAIAALWQEBfyMAQRBrIgMkACADIAI2AgggAyABNgIMIAAgAygCDCIBKQIANwIAIAAgASgCCDYCCCABQgA3AgAgAUEANgIIIABBEGogAygCCBDmBBogA0EQaiQAIAALOwAgACgCFEGAgICAeEYEQCAAIAAoAgRBMGsQ9AYQEgALIAAgAC0AHkEBazoAHiAAEE0gABAwIAAQjwgLKgEBfyAAKAIEIQIDQCABIAJGRQRAIAJBMGsQ9QYhAgwBCwsgACABNgIECw4AIABBEGoQswEgABAKCxcAIAIoAgAhACACQQA2AgAgASAANgIACz0BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQTBrIgE2AgggARD1BhoMAQsLIAAoAgAiAARAIAAQCwsLtgEBA38gACgCBCECIAAoAgAhAyABKAIEIQQDQCACIANHBEAgBEEwayIEIAJBMGsiAikDADcDACAEIAIoAgg2AgggAkIANwMAIAJBADYCCCAEQRBqIAJBEGoQhwMaDAELCyABIAQ2AgQgACgCACEDIAAgBDYCACABIAM2AgQgACgCBCEDIAAgASgCCDYCBCABIAM2AgggACgCCCEDIAAgASgCDDYCCCABIAM2AgwgASABKAIENgIACxcAIAAgARAQIgBBGGogAkEIahCTAiAACw4AIABBGGoQhQEgABAKC+IBAgV/An4CQCAAKAIAIgIgACgCBCIDRwRAA0AgByADIAJrQcgAba0iCFQhAyAHIAhaDQICQAJAIAEgAiAHpyIEQcgAbCIFahDaA0EBaw4CAAQBCyAAKAIAIAVqIAEQ+wYNAwsgACgCECAAKAIMIgJrQfAAba0gB1YEQCABIAIgBEHwAGxqENkDQQJGDQMLIAdCAXwhByAAKAIAIQIgACgCBCEDDAALAAsgACgCECECIAAoAgwhAANAIAAgAkchAyAAIAJGDQEgASAAENkDIQYgAEHwAGohACAGQQJHDQALCyADCzwBAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQQxrIgE2AgggARAPGgwBCwsgACgCACIABEAgABALCwuMAQEDfyAAKAIEIQMgACgCACEEIAEoAgQhAgNAIAMgBEcEQCACQQxrIANBDGsiAxAlIQIMAQsLIAEgAjYCBCAAKAIAIQMgACACNgIAIAEgAzYCBCAAKAIEIQIgACABKAIINgIEIAEgAjYCCCAAKAIIIQIgACABKAIMNgIIIAEgAjYCDCABIAEoAgQ2AgALKwEBfyABQQBIBEAQAQALIAAgARAYIgI2AgQgACACNgIAIAAgASACajYCCAuPAQEDfyAAKAIEIgIgACgCCEcEQCACIAEoAgA2AgAgACACQQRqNgIEDwsjAEEgayIDJAAgA0EMaiAAIAAoAgQgACgCAGtBAnVBAWoQtAogACgCBCAAKAIAa0ECdSAAQQhqEMgBIgIoAggiBCABKAIANgIAIAIgBEEEajYCCCAAIAIQ/AUgAhCbASADQSBqJAAL2AYBB38jAEEgayIIJAAgACgCACIDIAEgA2tByABtQcgAbGohAQJAIAAoAgQiByAAKAIISQRAIAEgB0YEQCAAIAIQhQkMAgsgACgCBCIDIQYgASADIAFByABqa0HIAG1ByABsaiIFIQQDQCAEIAdPBEAgACAGNgIEIwBBEGsiBiQAIwBBEGsiBCQAIAMhACAFIQcDQCABIAdHBEAgAEHIAGsiACAHQcgAayIHEK0DDAELCyAEIAA2AgwgBCAFNgIIIAQoAgghACAGIAMgBCgCDCADa0HIAG1ByABsajYCDCAGIAEgACABa0HIAG1ByABsajYCCCAEQRBqJAAgBigCDBogBkEQaiQABSAGIAQQZUHIAGohBiAEQcgAaiEEDAELCyABIAIQrQMMAQsgCEEMaiAAIAcgA2tByABtQQFqEOcIIAEgACgCAGtByABtIABBCGoQoAQhAyMAQSBrIgckAAJAIAMoAggiBCADKAIMRw0AIAMoAgQiBSADKAIAIgZLBEAgAyAFIAQgBSAFIAZrQcgAbUEBakF+bUHIAGwiBmoQzgUiBDYCCCADIAMoAgQgBmo2AgQMAQsgB0EMakEBIAQgBmtByABtQQF0IAQgBkYbIgUgBUECdiADKAIQEKAEIgUoAggiBCADKAIIIAMoAgQiBmtByABtQcgAbGohCQNAIAQgCUcEQCAEIAYQZUHIAGohBCAGQcgAaiEGDAELCyAFIAk2AgggAygCACEEIAMgBSgCADYCACAFIAQ2AgAgAygCBCEEIAMgBSgCBDYCBCAFIAQ2AgQgAygCCCEEIAMgBSgCCDYCCCAFIAQ2AgggAygCDCEEIAMgBSgCDDYCDCAFIAQ2AgwgBRCXBCADKAIIIQQLIAQgAhBlGiADIAMoAghByABqNgIIIAdBIGokACADIAEgACgCACADKAIEEJ4KNgIEIAAoAgQhBSADKAIIIQIDQCABIAVHBEAgAiABEGVByABqIQIgAUHIAGohAQwBCwsgAyACNgIIIAAoAgAhASAAIAMoAgQ2AgAgAyABNgIEIAAoAgQhASAAIAMoAgg2AgQgAyABNgIIIAAoAgghASAAIAMoAgw2AgggAyABNgIMIAMgAygCBDYCACADEJcECyAIQSBqJAALMwAgACgCFEGAgICAeEYEQCAAEOkEEBIACyAAIAAtAB5BAWs6AB4gABBNIAAQMCAAEOQLCz0BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQYABayIBNgIIIAEQfxoMAQsLIAAoAgAiAARAIAAQCwsLjwEBA38gACgCBCEDIAAoAgAhBCABKAIEIQIDQCADIARHBEAgAkGAAWsgA0GAAWsiAxCTASECDAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACygBAX8jAEEQayICJAAgAiABOgAPIAAgAkEPakEBENQFGiACQRBqJAALEAAgAC0ADEUEQBASAAsgAAuNAgEDfyAAKAIEIAAoAgAiA2tBDG0iAiABSQRAIwBBIGsiAyQAAkAgASACayICIAAoAgggACgCBCIBa0EMbU0EQCAAKAIEIgEgAkEMbGohAgNAIAEgAkYEQCAAIAI2AgQFIAFBADYCCCABQgA3AgAgAUEMaiEBDAELCwwBCyADQQxqIAAgASAAKAIAa0EMbSACahDiAiAAKAIEIAAoAgBrQQxtIABBCGoQqgIiBCgCCCIBIAJBDGxqIQIDQCABIAJHBEAgAUEANgIIIAFCADcCACABQQxqIQEMAQsLIAQgAjYCCCAAIAQQ/QYgBBD8BgsgA0EgaiQADwsgASACSQRAIAAgAyABQQxsahCECAsLngQCB38CfiMAQRBrIgUkAAJAIAAoAgAgACgCBEYNACAFQQhqIAAgARCZAyAFKAIMIQIgBSgCCCEDA0ACQCAAKAIMIAJBA3RqIgYoAgAiBCADRgRAIAEgACgCACAGKAIEQSxsahBXIQggBSgCCCEDIAhFDQEgACgCDCAFKAIMIgJBA3RqKAIAIQQLIAMgBEcNAiACIgFBAWoiA0EAIAMgACICKAIQRxshAyAAKAIMIgQgAUEDdGooAgQhBgNAIAQgAyIAQQN0aiIDKAIAIgdBgARPBEAgBCABQQN0aiIBIAMoAgQ2AgQgASAHQYACazYCACAAQQFqIgFBACABIAIoAhBHGyEDIAIoAgwhBCAAIQEMAQsLIAQgAUEDdGpCADcCACACKAIEIgEgAigCACIAa0EsbUEBayAGRwRAIAAgBkEsbGoiACABQSxrIgEpAgA3AgAgACABKQIYNwIYIAAgASkCEDcCECAAIAEpAgg3AgggAEEgaiABQSBqEEwgAEEgEIgBIQogAigCBCACKAIAa0EsbUEBayEAIAogAjEAHoinIQQgAigCECEBIAIoAgwhAwNAIAMgBEEDdGoiBygCBCAARwRAIARBAWoiBEEAIAEgBEcbIQQMAQsLIAcgBjYCBAsgAhDpBAwCCyAFIANBgAJqIgM2AgggBSAFKAIMQQFqIgJBACACIAAoAhBHGyICNgIMDAALAAsgBUEQaiQAC84BAQR/IwBBQGoiAyQAAkAgAEHkAGogARCNASIELQC4AUUNACAAIARBmAFqIgUgAhCIByAEKAKsASAELQCzASIGIAbAQQBIGwRAIAIgA0EgaiAEQagBahBdIgAQ6gEgABAqDAELIANCADcDMCADQQA6ADggA0IANwMoIAMgATYCICAAQeQAaiAFENEBIgEgACgCaEcEQCABQRBqEGkgA0EgahCLCAsgA0EAOgAYIAMgAykDKDcDCCACIANBCGoiABDqASAAECoLIANBQGskAAvVAgIGfwJ+IAFBAWoiAkEAIAIgACgCEEcbIQQgACgCDCIDIAFBA3RqKAIEIQUDQCADIAQiAkEDdGoiBCgCACIGQYAESUUEQCADIAFBA3RqIgEgBCgCBDYCBCABIAZBgAJrNgIAIAJBAWoiAUEAIAEgACgCEEcbIQQgACgCDCEDIAIhAQwBCwsgAyABQQN0akIANwIAIAAoAgQiAiAAKAIAIgFrQQV1QQFrIAVHBEAgASAFQQV0aiIBIAJBIGsiAikAADcAACABIAIpABg3ABggASACKQAQNwAQIAEgAikACDcACCABQSAQiAEhCSAAKAIEIgIgACgCAGtBBXVBAWshASAJIAAxAB6IpyEDIAAoAhAhBCAAKAIMIQYDQCABIAYgA0EDdGoiBygCBEZFBEAgA0EBaiIDQQAgAyAERxshAwwBCwsgByAFNgIECyAAIAJBIGs2AgQLEAAgAC0AJARAIAAQvQEaCwtbAQF/IABCADcDUCAAQgA3A0AgAEEANgJIIABBADoAPAJAIABBAEExEB0iAkEwaiIALQAMBEAgAEHT0gAQ5wQMAQsgAEHT0gAQDkEBOgAMCyACIAEpA5ABNwNQC68FAgt/Bn4jAEHAAWsiAyQAIANBADYCLCADQgA3AiQgA0GwAWogASACIANBJGoiBEEAELQBIAQQDxoCQCADLQC8AQRAIAMoArQBIAMoArABIgVrQQN1rSEQIAEoAuwBIAEoAugBIgZrQQxtrSERIAEoAvQBIQcDfiAOIBFRBH4gA0IANwMYIANCADcDECADQgA3AwggA0EIaiAPEN0IQgAFIA8gByAOpyIEQQN0aikDACAOIBBUBH4gBSAEQQN0aikDAAVCAAt9IhIgBiAEQQxsaiIEKAIEIAQoAgBrQQN1rSITIBIgE1QbfCEPIA5CAXwhDgwBCwshDgNAIAEoAuwBIAEoAugBIgVrQQxtrSAOWARAIANBJGogAhCYAiIBQQxqIANBCGoQrQUgACABEKUDQQE6ACQgARC9ARogA0EUahAPGgwDBSAFIA6nIgRBDGxqIgUoAgQiByAEQQN0IgQgASgC9AFqKQMAIAMoArQBIAMoArABIgZrQQN1rSAOVgR+IAQgBmopAwAFQgALfSIPIAcgBSgCAGtBA3WtIhAgDyAQVBunQQN0ayEFA0AgBSAHRwRAIAEoApABIAUoAgBBB3RqQShqIQYjAEEQayIEJAAgBEEEaiADQQhqIgkgBhCNByAEKAIIIQogBCgCBCEGA0AgBiAKRgRAIARBBGoQDxogBEEQaiQABSAGKAIAIgtBA3YiCCAJKAIQIAkoAgwiDGtJBEAgCCAMaiIIIAgtAABBASALQQdxdHI6AAALIAZBBGohBgwBCwsgBUEIaiEFDAELCyAOQgF8IQ4MAQsACwALQQMQGgRAIANBKGoQFSENIANBAzYCJCANIAFB0ANqEBNB6BEQDRogA0EkahAZCyAAQQA6ACQgAEEAOgAACyADQbABahA/IANBwAFqJAALpwEBBX8jAEEQayIDJAAgAyACKAAAIAEoAhAgASgCDGtBA3QiBXA2AgwgAigABCEEIAIoAAghByAAQQA2AgggAEIANwIAIAAgASgCCBB0IAAgA0EMahD/BiAHIAVwIQZBASECA0AgAiABKAIIT0UEQCADIAQgBXAiBCADKAIMaiAFcDYCDCAAIANBDGoQ/wYgAkEBaiECIAQgBmohBAwBCwsgA0EQaiQACwwAIAAgARDeA0EBcwt6AQN/IAAoAgAhAiAAIAE2AgAgAgRAIAIEQCMAQRBrIgEkACABIAI2AgwgASgCDCIAKAIABEAgACgCACEEIAAoAgQhAwNAIAMgBEcEQCADQSBrIgMQswEMAQsLIAAgBDYCBCABKAIMKAIAEAsLIAFBEGokAAsgAhALCwtmAQF/IAAoAgAhAiAAIAE2AgAgAgRAIAIEQCACKAIMIgAEQCAAEAsLIwBBEGsiACQAIAAgAjYCDCAAKAIMIgEoAgAEQCABIAEoAgAQ9AYgACgCDCgCABALCyAAQRBqJAALIAIQCwsLCQAgAEEAEI8HCxgBAX9BDBAYIgBCADcCACAAQQA2AgggAAsJACAAQQAQkAcLPQECfyAAKAIEIQIDQCACIAAoAggiAUcEQCAAIAFBKGs2AgggAUEgaxCFAQwBCwsgACgCACIABEAgABALCwuXAQEDfyAAKAIEIQMgACgCACEEIAEoAgQhAgNAIAMgBEcEQCACQSBrIANBIGsQkwIgA0EoayEDIAJBKGshAgwBCwsgASACNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAs9AQJ/IAAoAgQhAgNAIAIgACgCCCIBRwRAIAAgAUE4ayIBNgIIIAEQ+gYaDAELCyAAKAIAIgAEQCAAEAsLC7UBAQN/IAAoAgQhAiAAKAIAIQMgASgCBCEEA0AgAiADRwRAIARBOGsiBCACQThrIgIpAwA3AwAgBCACKAIINgIIIAJCADcDACACQQA2AgggBEEYaiACQRhqEJMCDAELCyABIAQ2AgQgACgCACEDIAAgBDYCACABIAM2AgQgACgCBCEDIAAgASgCCDYCBCABIAM2AgggACgCCCEDIAAgASgCDDYCCCABIAM2AgwgASABKAIENgIACxQAIAAgASACIANBOEGlkskkEKYBC2MBA38jAEEQayIBJAAgASAANgIMIAEoAgwiACgCAARAIAAoAgAhAyAAKAIEIQIDQCACIANHBEAgAkEgaxCFASACQShrIQIMAQsLIAAgAzYCBCABKAIMKAIAEAsLIAFBEGokAAteAQN/IwBBEGsiASQAIAEgADYCDCABKAIMIgAoAgAEQCAAKAIAIQMgACgCBCECA0AgAiADRwRAIAJBOGsQ+gYhAgwBCwsgACADNgIEIAEoAgwoAgAQCwsgAUEQaiQAC7gBAgR/AX0jAEEQayIEJAAgAEEANgIIIABCADcCACABKAIEIgIgASgCACIDRwRAIAAgAiADa0EEdRD5CSAAKAIEIQIgASgCBCEFIAEoAgAhAwNAIAMgBUcEQCACIAMpAwA3AwAgAiADKQMINwMIIAJBEGohAiADQRBqIQMMAQsLIAAgAjYCBAsgAEEANgIUIABCADcCDCABKgIYIQYgAEE+OgAeIAAgBjgCGCAAIAEQwwogBEEQaiQACx0AIABBCGogAUEIahCTAiAAQQE6ACggAEEBOgAwCz8BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQYABazYCCCABQfAAaxBCGgwBCwsgACgCACIABEAgABALCwupAQEDfyAAKAIEIQMgACgCACEEIAEoAgQhAgNAIAMgBEcEQCACQYABayICIANBgAFrIgMpAwA3AwAgAiADKQMINwMIIAJBEGogA0EQahAyGgwBCwsgASACNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAuhTAMmfwt+AXwjAEGwAmsiCSQAIAlB4ABqIgZBAEGwARAdGiAJQZQCaiERIwBB8AFrIggkACACIhYoAgAhAiAGIBYoAgQgFi0ACyIEIATAQQBIIgQbIgM2AgQgBiACIBYgBBsiAjYCACAGIAMgFigCeCIEazYCBCAGIAIgBGo2AgAgCEHgAWogBhAWAkACQAJAIAgtAOgBRQRAIBFBADoAGCARQQA6AAAMAQsgBkEIaiICIAgoAuABEP0BA0AgCCkD4AEgKlYEQCAIQRBqIAYQUgJAIAgtABwiA0UEQCARQQA6ABggEUEAOgAADAELIAhBEGohBAJAIAIoAgQgAigCCEcEQCACIAQQrgkMAQsgAiAEEK0JCwsgKkIBfCEqIAhBEGoQNhogAw0BDAILCyAIQdABaiAGEBYgCC0A2AFFBEAgEUEAOgAYIBFBADoAAAwBCyAIQQA2AswBQgAhKiAIQgA3AsQBIAhBxAFqIAgoAtABEJENAkADQCAIKQPQASAqVgRAIAhBsAFqIAYQFiAILQC4AUUEQCARQQA6ABggEUEAOgAADAMLIAhBoAFqIAYQFgJAAkAgCC0AqAFFDQAgCCkDsAEhKSAqUA0BICkgCCgCxAEgKqdBBHRqQRBrKQMAWg0BQQMQGkUNACAIQRRqEBUhJSAIQQM2AhAgJUH4JRANGiAIQRBqEBkLIBFBADoAGCARQQA6AAAMAwsgCCApNwMQIAggCCkDoAE3AxggKkIBfCEqIAhBEGohAgJAIAhBxAFqIgQoAgQiAyAEKAIISQRAIAMgAikDADcDACADIAIpAwg3AwggBCADQRBqNgIEDAELIAQgAhDxBAsMAQsLIAgoAsQBIQIgCEEANgLEASAIIAI2AgQgCCkCyAEhKSAIQgA3AsgBIAggKTcCCCAIQbABaiEKIwBB4ABrIgMkACADQgA3A1ggBkEUaiEbIAZBIGohHCAGQSxqIR0gBkE4aiEXIAZBxABqIQsgBkHcAGohHiAGQegAaiEfIAZBgAFqISAgBkGMAWohISAGQZgBaiEiIANByABqIRMgA0HEAGohECADQRhqIRogCEEEaiIjIgIoAgQhJCACKAIAIRUDQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgFSAkRwRAIBUpAwgiKiAGNQIEVgRAIApBADoADCAKQQA6AAAMEgsgKqchAiAGKAIAIQQgFSkDACIpQhF9IitCBFgNASApQvAAfSIrQgNYDQIgKUIBfSIrQgFYDQMgKULWAH0iK0IBWA0EAkAgKUI0UgRAIClCwgBSDQcgA0EAOgAwQgAhKSADQgA3AyggA0EAOgAgIANBADoAGCADIAStICpCIIaENwMQICqnIQIDQCACRSApUHENEyADQUBrIANBEGoQpwIgAy0AQEUNAiADLQBQRQ0CIB4gExCmAiADKQMoISkgAygCFCECDAALAAtCACEpIANCADcDICADQQE6ABggAyAErSAqQiCGhDcDECAqpyECA0AgAkUgKVBxDRIgA0FAayEFIwBBEGsiBCQAIANBEGoiAikDECErAkADQCArUARAIAQgAhAWIAQtAAgEQCACIAQpAwAiKzcDECACIAItAAhBAXM6AAgMAgUgBUEAOwAADAMLAAsLIAIgK0IBfTcDECAFQQE6AAAgBSACLQAIOgABCyAEQRBqJAAgAy0AQARAIAYoAlQiAiAGKAJYQQV0RgRAAn8gAkEBaiICQQBOBEAgBigCWCIEQQV0Qf7///8DTQR/IARBBnQiBCACQR9qQWBxIgIgAiAESRsFQf////8HCwwBCwwaCyECIwBBIGsiDSQAIAIgBigCWEEFdEsEQCACQQBIIgQNGiANQQA2AhwgDUIANwIUIAQNGiACQQFrQQV2QQFqIgIQ+gUhBCANQRRqIhQgAjYCCCAUQQA2AgQgFCAENgIAIAYoAlAhAiANQQA2AhAgDSACNgIMIA0gBigCVCIEQR9xNgIIIA0gAiAEQQN2Qfz///8BcWo2AgQjAEEgayIHJAAgFCANKAIIIgUgFCgCBCICIA0oAhAiDGtqIA0oAgQiDiANKAIMIg9rQQN0aiIENgIEIAJBACAEQQFrIhIgAkEBa3NBIEkbRQRAIBQoAgAgEkEFdkEAIARBIU8bQQJ0akEANgIACyAHIAw2AhwgByAPNgIYIAcgBTYCFCAHIA42AhAgFCgCACEEIAcgAkEfcTYCDCAHIAQgAkEDdkH8////AXFqNgIIIwBBIGsiBSQAAkAgBygCHCICIAcoAgwiBEYEQCAHKAIYIQQgBSACNgIcIAUgBDYCGCAFIAcoAhA2AhAgBSAHKAIUNgIUIAcoAgghBCAFIAI2AgwgBSAENgIIAkAgBSgCFCAFKAIcIgRrIAUoAhAgBSgCGCIMa0EDdGoiAkEATARAIAUoAgghBAwBCyAEBEAgBSgCCCIOIA4oAgBBfyAEdEF/QSAgBGsiBCACIAQgAiAESBsiBGt2cSIPQX9zcSAMKAIAIA9xcjYCACAFIAUoAgwgBGoiDEEfcTYCDCAFIA4gDEEDdkH8////AXFqNgIIIAUgBSgCGEEEaiIMNgIYIAIgBGshAgsgBSgCCCAMIAJBIG0iDkECdCIMEFsaIAUgBSgCCCAMaiIENgIIIAIgDkEFdGsiAkEATA0AIAUgBSgCGCAMaiIMNgIYIAUoAggiBCAEKAIAQX9BICACa3YiDkF/c3EgDCgCACAOcXI2AgAgBSACNgIMCyAHIAQ2AgAgByAFKAIMNgIEDAELIAcoAhghDCAFIAI2AhwgBSAMNgIYIAUgBygCEDYCECAFIAcoAhQ2AhQgBygCCCECIAUgBDYCDCAFIAI2AggCQCAFKAIUIAUoAhwiAmsgBSgCECAFKAIYIgRrQQN0aiIOQQBMBEAgBSgCDCECIAUoAgghDAwBCwJAIAJFBEAgBSgCDCECDAELIAUoAggiGSAZKAIAQX9BICAFKAIMIgxrIhIgEiAOQSAgAmsiGCAOIBhIGyIPIA8gEksbIhJrdkF/IAx0cUF/c3EgBCgCAEF/IAJ0QX8gGCAPa3ZxcSIYIAwgAmt0IBggAiAMa3YgAiAMSRtyNgIAIAUgDCASaiIEQR9xIgI2AgwgBSAZIARBA3ZB/P///wFxaiIMNgIIIA8gEmsiBEEASgRAIAwgDCgCAEF/QSAgBGt2QX9zcSAYIAUoAhwgEmp2cjYCACAFIAQ2AgwgBCECCyAOIA9rIQ4gBSAFKAIYQQRqIgQ2AhgLQSAgAmshD0F/IAJ0IhJBf3MhGQNAIAUoAgghDCAOQSBOBEAgDCAMKAIAIBlxIAQoAgAiBCACdHI2AgAgBSAMQQRqNgIIIAwgDCgCBCAScSAEIA92cjYCBCAFIAUoAhhBBGoiBDYCGCAOQSBrIQ4MAQsLIA5BAEwNACAMIAwoAgBBfyAPIA8gDiAOIA9KGyIPa3YgEnFBf3NxIAQoAgBBf0EgIA5rdnEiEiACdHI2AgAgBSACIA9qIgJBH3EiBDYCDCAFIAwgAkEDdkH8////AXFqIgw2AgggDiAPayICQQBMBEAgBCECDAELIAwgDCgCAEF/QSAgAmt2QX9zcSASIA92cjYCACAFIAI2AgwLIAcgAjYCBCAHIAw2AgALIAVBIGokACAHQSBqJAAgBigCUCECIAYgDSgCFDYCUCANIAI2AhQgBigCVCECIAYgDSgCGDYCVCANIAI2AhggBigCWCECIAYgDSgCHDYCWCANIAI2AhwgFBD7CAsgDUEgaiQAIAYoAlQhAgsgBiACQQFqNgJUQQEgAnQhBCAGKAJQIAJBA3ZB/P///wFxaiICAn8gAy0AQQRAIAIoAgAgBHIMAQsgAigCACAEQX9zcQs2AgAgAykDICEpIAMoAhQhAgwBCwsgCkEAOgAMIApBADoAAAwSCyAKQQA6AAwgCkEAOgAADBELIAYoAmwgBigCaGtBA3UhBSMAQSBrIgckACAFIAZB9ABqIgQiAigCCCACKAIAIgtrQRhtSwRAIAVBq9Wq1QBPDRUgAiAHQQxqIAUgAigCBCALa0EYbSACQQhqEL4BIgIQiwkgAhCKCQsgB0EgaiQAIAYoAmwhBSAGKAJoIQIDQCACIAVHBEAgAikDACIqQgSIISkCQAJAAkACQAJAAkACQAJAAkACQCAqp0EPcQ4JCAABAgMEBwUGBwsgA0EDOgAgIANBADoAECAEIANBEGoiBxDcASAHEDsMCAsgA0EDOgAgIANBAToAECAEIANBEGoiBxDcASAHEDsMBwsgAygCXCEHIANBQGsgA0HYAGoQFgJAIAMtAEgEQCApIAcgAygCXGutUQ0BCyAKQQA6AAwgCkEAOgAADBoLIANBAToAICADIAMpA0A3AxAgBCADQRBqIgcQ3AEgBxA7DAYLIAMoAlwhByADQUBrIANB2ABqEKkBAkAgAy0ASARAICkgByADKAJca61RDQELIApBADoADCAKQQA6AAAMGQsgA0EAOgAgIAMgAykDQDcDECAEIANBEGoiBxDcASAHEDsMBQsgKUIIUgRAIApBADoADCAKQQA6AAAMGAsgAygCXCIHQQhPBEAgAygCWCILKwAAITQgAyAHQQhrNgJcIAMgC0EIajYCWCADQQI6ACAgAyA0OQMQIAQgA0EQaiIHENwBIAcQOwwFCyAKQQA6AAwgCkEAOgAADBcLIAMoAlwiB60gKVQEQCAKQQA6AAwgCkEAOgAADBcLAkAgBwRAIANBQGsiCyADKAJYICmnIgcQUSADIAMoAkg2AhggA0EANgJIIANBBDoAICADIAMpA0A3AxAgA0IANwNAIAQgA0EQaiINENwBIA0QOyALEAoaDAELIANBADYCGCADQQA2AkggA0IANwMQIANBBDoAICADQgA3A0AgBCADQRBqIgcQ3AEgBxA7IANBQGsQChogKachBwsgAyADKAJYIAdqNgJYIAMgAygCXCAHazYCXAwDCyADKAJcIQcgA0FAayADQdgAahCpAQJAIAMtAEgEQCApIAcgAygCXGutUQ0BCyAKQQA6AAwgCkEAOgAADBYLIANBBToAICADIAMpA0AiKTcDGCADICk3AxAgBCADQRBqIgcQ3AEgBxA7DAILIApBADoADCAKQQA6AAAMFAsgA0EGOgAgIAQgA0EQaiIHENwBIAcQOwsgAkEIaiECDAELCyAGKAKEASAGKAKAAWtBA3UhAiMAQSBrIgUkACACIAZBpAFqIgQoAgggBCgCACIHa0EYbUsEQCACQavVqtUATw0VIAQgBUEMaiACIAQoAgQgB2tBGG0gBEEIahC+ASICEIkJIAIQiAkLIAVBIGokACAGKAKEASENIAYoAoABIQJCACEpAkADQCACIA1GDQEgAikDACEqIANBADoAICADQQA6ABACQCAqUEUEQCApIAYoApwBIAYoApgBIgVrQQN1rVoNASApIAYoApABIAYoAowBIgdrQQN1rVoNASAFICmnQQN0IgtqKQMAISogByALaikDACErIANBAToAICADICs3AxggAyAqNwMQIClCAXwhKQsCQCAEKAIEIgUgBCgCCEcEQCAFIAMpAxA3AwAgBSADKQMgNwMQIAUgAykDGDcDCCAEIAVBGGo2AgQMAQsjAEEgayILJAAgC0EMaiAEIAQoAgQgBCgCAGtBGG1BAWoQ2wEgBCgCBCAEKAIAa0EYbSAEQQhqEL4BIgUoAggiByADKQMQNwMAIAcgAykDIDcDECAHIAMpAxg3AwggBSAHQRhqNgIIIAQgBRCJCSAFEIgJIAtBIGokAAsgAkEIaiECDAELCyAKQQA6AAwgCkEAOgAADBELQgAhKSMAQZACayICJAACQAJAAkAgBigCVCIEIAYoAmAgBigCXGtBA3VHDQAgBCAGKAJsIAYoAmhrQQN1Rw0AIAQgBigCeCAGKAJ0a0EYbUcNACAEIAYoAqgBIAYoAqQBa0EYbUYNAQtBAxAaBEAgAkGEAWoQFSEmIAJBAzYCgAEgJkGdLBANGiACQYABahAZCyAKQQA6AAwgCkEAOgAADAELIAJBADYCiAEgAkIANwKAASACQfAAaiACQYABaiIEEPkBIQUgBBDRBSAGKAJgIAYoAlxrQQN1IQQjAEEgayIHJAAgBCAFKAIIIAUoAgAiC2tB8ABtSwRAIARBk8mkEk8NFiAFIAdBDGogBCAFKAIEIAtrQfAAbSAFQQhqEI0CIgQQgwkgBBCCCQsgB0EgaiQAIAJBhAFqIRQgAkEgaiEVIAJBsAFqIRcDQAJAAkACfgJAAkAgBigCYCAGKAJca0EDda0gLFYEQEIAIS1BACEEQQAhDSAGKAIYIAYoAhQiB2tBBHWtICxWBEAgByAsp0EEdGoiBykDACItQgiIIS8gBy0ACCENC0EAIQwgBigCJCAGKAIgIgdrQQR1rSAsVgRAIAcgLKdBBHRqIgQpAwAiKkIIiCEuICqnIQwgBC0ACCEEC0EAIQdCACEqQgAhK0EAIQsgBigCMCAGKAIsIg5rQQR1rSAsVgRAIA4gLKdBBHRqIgspAwAiK0IIiCEwIAstAAghCwsgBigCPCAGKAI4Ig5rQQR1rSAsVgRAIA4gLKdBBHRqIgcpAwAiKkIIiCEpIActAAghBwsgAkEAOgBsIAJBADoAYCAGKAJIIAYoAkQiE2tBBHWtICxWBEACQCACQeAAaiIOLQAMIhAgEyAsp0EEdGoiEy0ADEYEQCAQRQ0BIA4gExClAgwBCyAQBEAgDhCMCQwBCyAOIBMQzQULCyAERQRAIA0NAgwDCwJAIA0EQCAtQv8BgyAvQgiGhCItIAYoAgwgBigCCGtBDG2tWA0BDAMLIAytQv8BgyAuQgiGhFANAwwCCyAMrUL/AYMgLkIIhoQMAwsgCiAFEPgBGgwECyAKQQA6AAwgCkEAOgAAQQEhBAwCC0IAIS1CAAshMSACQQA2AlAgAkIANwNIIAJBADoAWCACLQBsIQQCQAJAAkACQCAHBEAgC0UgBEVyDQEMAwsgCyAERXINAiACQcgAaiACQeAAahCHCQwBCwJAAkAgKkL/AYMgKUIIhoQiKlAEQCALDQEgBA0EIAJByABqQdjSABC1AwwDCyALRSAEcg0DDAELIAQNAgsgK0L/AYMgMEIIhoQiKyAGKAIMIAYoAghrQQxtrVYNASACICs3A4gBIAIgKjcDgAEgAkHIAGogAkGAAWoQtQMLIAJBGGogLKciBEEDdCIHIAYoAlxqKQMAIAIgBEEYbCILIAYoAnRqEHMiDRCGCSANEDsCfyACLQBARQRAQQMQGgRAIBQQFSEnIAJBAzYCgAEgJ0H/zQAQDSAGKAJcIAdqKQMAEHoaIAJBgAFqEBkLIApBADoADCAKQQA6AABBAQwBCyAGKAJQIARBA3ZB/P///wFxaigCACENIAJBgAFqIAJByABqELEDIQcgAiAtNwOgASACIDE3A5gBIBcgFRB2GiACIA0gBHZBAXE6ANABIAIgBigCpAEgC2oiBCkDADcD2AEgAiAELQAQOgDoASACIAQpAwg3A+ABAkAgBSgCBCAFKAIISQRAIAUgBSgCBCAHEMwFQfAAajYCBAwBCyMAQSBrIgskACALQQxqIAUgBSgCBCAFKAIAa0HwAG1BAWoQjwQgBSgCBCAFKAIAa0HwAG0gBUEIahCNAiIEKAIIIAcQzAUaIAQgBCgCCEHwAGo2AgggBSAEEIMJIAQQggkgC0EgaiQACyAHENAFGkEACyEEIAJBGGoQhAkMAQsgCkEAOgAMIApBADoAAEEBIQQLIAJByABqELkBCyAsQgF8ISwgAkHgAGoQNhogBEUNAQsLIAUQvAkLIAJBkAJqJAAMEAsgK6dBAWsOBAMKAwkLCyArp0EBaw4DBAIDBQsgK6dBAWsNCwwKCyArp0EBaw0FDAQLIApBADoADCAKQQA6AAAMCwtCACEpIANCADcDOCADQQA6ADAgA0IANwMoIANBADoAICADQQA6ABggAyAErSAqQiCGhDcDECAqpyECA0AgAkUgKVBxDQogA0FAayADQRBqEI8JAkAgAy0AQEUNACADLQBQRQ0AIAMgAykDSDcDACAiIAMQXiADKQMoISkgAygCFCECDAELCyAKQQA6AAwgCkEAOgAADAoLIANBADoAMEIAISkgA0IANwMoIANBADoAICADQQA6ABggAyAErSAqQiCGhDcDECAqpyECA0AgAkUgKVBxDQkgA0FAayADQRBqEKcCAkAgAy0AQEUNACADLQBQRQ0AICEgExCmAiADKQMoISkgAygCFCECDAELCyAKQQA6AAwgCkEAOgAADAkLIANBADoAMEIAISkgA0IANwMoIANBADoAICADQQA6ABggAyAErSAqQiCGhDcDECAqpyECA0AgAkUgKVBxDQggA0FAayADQRBqEKcCAkAgAy0AQEUNACADLQBQRQ0AICAgExCmAiADKQMoISkgAygCFCECDAELCyAKQQA6AAwgCkEAOgAADAgLIAMgAjYCXCADIAQ2AlgMBgsgA0EAOgAwQgAhKSADQgA3AyggA0EAOgAgIANBADoAGCADIAStICpCIIaENwMQICqnIQIDQCACRSApUHENBiADQUBrIANBEGoQpwICQCADLQBARQ0AIAMtAFBFDQAgHyATEKYCIAMpAyghKSADKAIUIQIMAQsLIApBADoADCAKQQA6AAAMBgsgA0EAOgAwIANCADcDKCADQQA6ACQgA0EAOgAYIAMgBK0gKkIghoQ3AxACQANAIAMoAhRFBEAgAykDKFANAgsjAEEgayICJAAgA0FAayIFQQRqIQcgA0EQaiIEQQhqIQ0CQAJAA0AgBCkDGCIpQgBSDQEgAkEQaiAEEKkBIAItABhFBEAgBUEAOgAQIAVBADoABCAFQQA6AAAMAwsgAikDECIpQgBVBEAgBCApNwMYIAIgBBBSAkAgAi0ADCIMRQRAIAVBADoAECAFQQA6AAQgBUEAOgAADAELIA0gAhCNCSAEQQA6ACALIAIQNhogDA0BDAMLIClCAFMEQCAEQQE6ACAgBEIAICl9NwMYDAELIAIgBBAWIAItAAgEQCAEIAIpAwA3AxggDRCMCSAEQQA6ACAMAQsLIAVBADoAECAFQQA6AAQgBUEAOgAADAELIAQgKUIBfTcDGCAELQAgBEAgAkEQaiAEEFIgBQJ/IAItABxFBEAgB0EAOgAAQQAMAQsgByACKQMQNwIAIAcgAigCGDYCCCACQQA2AhggAkIANwMQQQELIgQ6ABAgBSAEOgAAIAJBEGoQNhoMAQsgBUEBOgAAIAdBADoADCAHQQA6AAAgDS0ADARAIAcgDRDNBQsLIAJBIGokAAJAIAMtAEAiDUUEQCAKQQA6AAwgCkEAOgAADAELAkAgCygCBCALKAIISQRAIAsoAgQiAkEAOgAMIAJBADoAACAQLQAMBEAgAiAQKQIANwIAIAIgECgCCDYCCCAQQgA3AgAgEEEANgIIIAJBAToADAsgCyACQRBqNgIEDAELIwBBIGsiBSQAIAVBDGogCyALKAIEIAsoAgBrQQR1QQFqEIEDIAsoAgQgCygCAGtBBHUgC0EIahDAAiICKAIIIgRBADoADCAEQQA6AAAgEC0ADARAIAQgECkCADcCACAEIBAoAgg2AgggEEIANwIAIBBBADYCCCAEQQE6AAwLIAIgAigCCEEQajYCCCALKAIEIQQgCygCACEMIAIoAgQhBwNAIAQgDEcEQCAHQRBrIgdBADoAACAHQQA6AAwgBEEQayIELQAMRQ0BIAcgBCkCADcCACAHIAQoAgg2AgggBEIANwIAIARBADYCCCAHQQE6AAwMAQsLIAIgBzYCBCALKAIAIQQgCyAHNgIAIAIgBDYCBCALKAIEIQQgCyACKAIINgIEIAIgBDYCCCALKAIIIQQgCyACKAIMNgIIIAIgBDYCDCACIAIoAgQ2AgAgAigCBCEEA0AgBCACKAIIIgdHBEAgAiAHQRBrIgc2AgggBxA2GgwBCwsgAigCACICBEAgAhALCyAFQSBqJAALCyAQEDYaIA0NAAsgGhA2GgwGCyAaEDYaDAQLQgAhKSADQgA3AzggA0EAOgAwIANCADcDKCADQQA6ACAgA0EAOgAYIAMgBK0gKkIghoQ3AxADQCACRSApUHENBCADQUBrIANBEGoQjwkgAy0AQARAIANBADoACCADQQA6AAAgAy0AUARAIANBAToACCADIAMpA0g3AwALAkAgFygCBCICIBcoAghJBEAgAiADKQMANwMAIAIgAykDCDcDCCAXIAJBEGo2AgQMAQsgFyADEI4JCyADKQMoISkgAygCFCECDAELCyAKQQA6AAwgCkEAOgAADAQLIANBADoAMEIAISkgA0IANwMoIANBADoAICADQQA6ABggAyAErSAqQiCGhDcDECAqpyECA0AgAkUgKVBxDQMgA0FAayADQRBqEKcCIAMtAEAEQCAdIBMQ0gUgAykDKCEpIAMoAhQhAgwBCwsgCkEAOgAMIApBADoAAAwDCyADQQA6ADBCACEpIANCADcDKCADQQA6ACAgA0EAOgAYIAMgBK0gKkIghoQ3AxAgKqchAgNAIAJFIClQcQ0CIANBQGsgA0EQahCnAiADLQBABEAgHCATENIFIAMpAyghKSADKAIUIQIMAQsLIApBADoADCAKQQA6AAAMAgsgA0EAOgAwQgAhKSADQgA3AyggA0EAOgAgIANBADoAGCADIAStICpCIIaENwMQICqnIQIDQCACRSApUHENASADQUBrIANBEGoQpwIgAy0AQARAIBsgExDSBSADKQMoISkgAygCFCECDAELCyAKQQA6AAwgCkEAOgAADAELIAYgFSgCCCICIAYoAgBqNgIAIAYgBigCBCACazYCBCAVQRBqIRUMAQsLIANB4ABqJAAgIxAPGgJAIAgtALwBRQRAQQMQGgRAIAhBFGoQFSEoIAhBAzYCECAoQYM8EA0aIAhBEGoQGQsgEUEAOgAYIBFBADoAAAwBCyAIIAYoAgg2AhAgCCAGKAIMNgIUIAggBigCEDYCGCAGQQA2AhAgBkIANwIIIAggCCkCtAE3AiAgCCAIKAKwATYCHCAIQQA2ArgBIAhCADcCsAEgESAIQRBqIgIQJSIEQQxqIAJB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IAAgAygCDCIAIABBEGoQ0wILIANBwAFqJAALkQMCBH8BfiMAQdAAayIDJAAgACACELgBIAItADBBAUYEQCADQQhqIABB8ABqIAIQdQsgAEEIaiEEAkACQCAALQBQBEAgACgCGCIFIAAoAhQiBmtB8ABtQR9JDQEgAyAAKAIINgIIIAMgACgCDDYCDCADIABBEGooAgA2AhAgAEEANgIQIABCADcDCCADIAU2AhggAyAGNgIUIAMgAEEcaigCADYCHCAAQQA2AhwgAEIANwIUIANBIGogAEEgahCbByADIABBQGsiBSkDADcDQCADIAApA0g3A0ggBCADQQhqEKwDIARCABDJBCAFIAUpAwBCAXw3AwAgBCACEPUBAn8gASAAKAIIIgApAzgiB1YEQCAAQcgAaiAHQn+FIAF8IAIQiQMMAQsgACABIAIQiQMLIQAgA0EIahBkGgwCCyADQgA3AxggA0IANwMQIANCADcDCCADQSBqEL8BIANCADcDSCADQgA3A0AgBCADQQhqIgAQjQUgABBkGgsgBCABIAIQiQMhAAsgA0HQAGokACAAC4ABAQF/IwBBMGsiAyQAIAMgASgCCDYCKCADIAEpAgA3AyAgAUIANwIAIAFBADYCCCADIAIpAwA3AwggAyACKAIQNgIYIAMgAikDCDcDECACQQA2AhAgAkIANwMIIAAgA0EgaiIAIANBCGoQqwcgA0EQahAKGiAAEAoaIANBMGokAAvNAgEGfyMAQSBrIgUkAAJAIAFBAkgNACABQQJrQQF2IgggAiAAayIDQQV1SA0AIAAgA0EEdSIDQQFqIgZBBXRqIQQgASADQQJqIgNKBEAgBEEgaiIHIAQgBCAHECkiBxshBCADIAYgBxshBgsgBCACECkNACAFIAIpABg3AxggBSACKQAQNwMQIAUgAikACDcDCCAFIAIpAAA3AwADQAJAIAIgBCIDKQAANwAAIAIgAykAGDcAGCACIAMpABA3ABAgAiADKQAINwAIIAYgCEoNACAAIAZBAXQiAkEBciIGQQV0aiEEIAEgAkECaiICSgRAIARBIGoiByAEIAQgBxApIgcbIQQgAiAGIAcbIQYLIAMhAiAEIAUQKUUNAQsLIAMgBSkDADcAACADIAUpAxg3ABggAyAFKQMQNwAQIAMgBSkDCDcACAsgBUEgaiQAC5IDAQd/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ECABQgA3AgAgAUEANgIIIABBADoAICAAQQQ6ABggARAKGgwBCyAAQQhqIAFBEGoQ0AEQugcLIAJBEGokAAvhAgINfwJ+IwBBMGsiBCQAIAMtADBBAUYEQCAEIAEpAwg3AxggBCABKQMANwMQIARBIGogAhAQIRAgBCAANgIMIARBBGohByADQRhqIQkgBEEQaiEKIARBDGohCyMAQRBrIgEkACADELEBIhGnQf8BcUGAAnIhAiARIABB5ABqIgAxAB6IpyEFIAAoAhAhDCADKQMIIREgAykDACESIAAoAgAhDSAAKAIMIQ4DQAJAAkACQCAOIAVBA3RqIgYoAgAiDyACRgRAIBIgDSAGKAIEQdABbGoiBikDAFINAiARIAYpAwhSDQIgB0EAOgAEIAcgBjYCAAwBCyACIA9NDQEgASADNgIMIAEgCzYCCCABIAo2AgQgASAJNgIAIAcgACACIAUgAUEMaiABELwHCyABQRBqJAAMAQsgBUEBaiIFQQAgBSAMRxshBSACQYACaiECDAELCyAQEAoaCyAEQTBqJAALZQEDfyMAQRBrIgEkACABIAA2AgwgASgCDCIAKAIABEAgACgCACEDIAAoAgQhAgNAIAIgA0cEQCACQfAAaxBCGiACQYABayECDAELCyAAIAM2AgQgASgCDCgCABALCyABQRBqJAALiAEBAX8gACABIAMQ7wMgAEHkAGogARCNARBpIQAjAEEQayIBJAACQAJAAkAgAy0AMA4CAQACCyABIABB8ABqIAMQdQwBCyAAQdgAaiADEP8EIAAgAykDCBDLAgsgAUIANwMIIAFCADcDACAAQQhqIAAgAiADIAQgASAFELQHIQYgAUEQaiQAIAYLsQEBBH8jAEHwAGsiBCQAIARB5ABqIgUgACABEPADIARBADoAWCAEIAI3A0ggBSAEQcgAaiIBEOoBIAEQKiAAKAIIIQcgBEE8aiAAKAIAEBAhACAEIAQoAmQ2AjAgBCkCaCECIARBADYCbCAEIAI3AjQgBEIANwJkIARBCGoiBiADEMkHIAcgACAEQTBqIgFBACAGEKQBIARBEGoQSiABEFggABAKGiAFEFggBEHwAGokAAsfACAAIAEgAxDvAyAAQeQAaiABEI0BEGkgAiADEKwHC7YBAQN/IwBB8ABrIgMkACADQeQAaiIEIAAgARDwAyAD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BjYCACAAIAI2AgQgASAFNgIEIAAgAiAEIAVrajYCCCABIAQ2AgggACgCDCECIAAgASgCDDYCDCABIAI2AgwgARCbAQsgA0EgaiQAC0ABAX8gACgCECICQcAASSACQSBJIAFycUUEQCAAKAIEKAIAEAsgACAAKAIEQQRqNgIEIAAgACgCEEEgazYCEAsLDwAgACAAKAIIQQRrEKcKC1AAIAAoAgAEQCAAEMcIIAAoAgAQCyAAQQA2AgggAEIANwIACyAAIAEoAgA2AgAgACABKAIENgIEIAAgASgCCDYCCCABQQA2AgggAUIANwIACxQAIAAgARAQIgAgAjQCADcDECAACz0BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQSxrNgIIIAFBDGsQDxoMAQsLIAAoAgAiAARAIAAQCwsLuwEBA38gACgCBCEDIAAoAgAhBCABKAIEIQIDQCADIARHBEAgAkEsayICIANBLGsiAykCADcCACACIAMpAhg3AhggAiADKQIQNwIQIAIgAykCCDcCCCACQSBqIANBIGoQJRoMAQsLIAEgAjYCBCAAKAIAIQMgACACNgIAIAEgAzYCBCAAKAIEIQIgACABKAIINgIEIAEgAjYCCCAAKAIIIQIgACABKAIMNgIIIAEgAjYCDCABIAEoAgQ2AgALCQAgAEEoEJkEC8oBAQN/IAEoAgQhAyAAKAIAIQQgACgCBCECA0AgAiAERkUEQCADQShrIgMgAkEoayICKQMANwMAIAMgAkEIaigCADYCCCACQgA3AwAgAkEANgIIIAMgAikDIDcDICADIAIpAxg3AxggAyACKQMQNwMQDAELCyABIAM2AgQgACgCACECIAAgAzYCACABIAI2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACz4BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQYABayIBNgIIIAEQ9gcaDAELCyAAKAIAIgAEQCAAEAsLC7cBAQN/IAAoAgQhAiAAKAIAIQMgASgCBCEEA0AgAiADRwRAIARBgAFrIgQgAkGAAWsiAikDADcDACAEIAIoAgg2AgggAkIANwMAIAJBADYCCCAEQRBqIAJBEGoQMhoMAQsLIAEgBDYCBCAAKAIAIQMgACAENgIAIAEgAzYCBCAAKAIEIQMgACABKAIINgIEIAEgAzYCCCAAKAIIIQMgACABKAIMNgIIIAEgAzYCDCABIAEoAgQ2AgALFgAgAC0ASARAIAAQZBogAEEAOgBICwuTAQAjAEEQayIAJAAgAigCACECIAAgAygCCDYCCCAAIAMpAgA3AwAgACACNgIMIwBBMGsiAiQAIAEgACgCDCIDKQMANwMAIAEgAykDCDcDCCAAKAIAKAIAIQMgAkEAOgAoIAJBADoACCABQRBqIAMgAkEIaiIBIAAoAggoAgAQjgUgARD8AyACQTBqJAAgAEEQaiQACxAAIAAgACgCBEHQAWsQgggLCwAgACABQSgQmAQL8QECAX8BfQJAIAAgAUYNACAAEE0gACgCAARAIAAQkQUgACgCABALIABBADYCCCAAQgA3AgALIAAgASgCADYCACAAIAEoAgQ2AgQgACABKAIINgIIIAFBADYCCCABQgA3AgAgARCRBSABKAIMIQIgAUEANgIMIAAgAjYCDCABKAIQIQIgAUEANgIQIAAgAjYCECABKAIUIQIgAUEANgIUIAAgAjYCFCABLQAeIQIgAUE+OgAeIAAgAjoAHiABKgIYIQMgAUHNmbP6AzYCGCAAIAM4AhggARAwIAEoAgwiAEUNACAAQQAgASgCEEEDdBAdGgsLDgAgAEEQahBCGiAAEAoLKwEBfyAAKAIEIQIDQCABIAJGRQRAIAJBgAFrEPYHIQIMAQsLIAAgATYCBAviAQIFfwJ+AkAgACgCACICIAAoAgQiA0cEQANAIAcgAyACa0HIAG2tIghUIQMgByAIWg0CAkACQCABIAIgB6ciBEHIAGwiBWoQ/QdBAWsOAgAEAQsgACgCACAFaiABEPgHDQMLIAAoAhAgACgCDCICa0HwAG2tIAdWBEAgASACIARB8ABsahCJCkECRg0DCyAHQgF8IQcgACgCACECIAAoAgQhAwwACwALIAAoAhAhAiAAKAIMIQADQCAAIAJHIQMgACACRg0BIAEgABCJCiEGIABB8ABqIQAgBkECRw0ACwsgAwvxAQIBfwF9AkAgACABRg0AIAAQTSAAKAIABEAgABCSBSAAKAIAEAsgAEEANgIIIABCADcCAAsgACABKAIANgIAIAAgASgCBDYCBCAAIAEoAgg2AgggAUEANgIIIAFCADcCACABEJIFIAEoAgwhAiABQQA2AgwgACACNgIMIAEoAhAhAiABQQA2AhAgACACNgIQIAEoAhQhAiABQQA2AhQgACACNgIUIAEtAB4hAiABQT46AB4gACACOgAeIAEqAhghAyABQc2Zs/oDNgIYIAAgAzgCGCABEDAgASgCDCIARQ0AIABBACABKAIQQQN0EB0aCwtkAQJ/IAAgASgCADYCACAAQQhqIgJBADoASCACQQA6AAAgAUEIaiIDLQBIBEAgAiADEIAGCyAAQdgAaiABQdgAahAlGiAAQeQAaiABQeQAahAlGiAAQfAAaiABQfAAahCDBCAAC6sBAQJ/IAAgASgCADYCACMAQRBrIgMkACAAQQRqIgJCADcCACACQT46AB4gAkHNmbP6AzYCGCACQgA3AhAgAkIANwIIIAIgAUEEahD5ByADQRBqJAAjAEEQayIDJAAgAEEkaiICQgA3AgAgAkE+OgAeIAJBzZmz+gM2AhggAkIANwIQIAJCADcCCCACIAFBJGoQ9QcgA0EQaiQAIABBxABqIAFBxABqEIMEIAALVQAgAEEAOgAgIABBADoAACABLQAgBEAgACABKQMANwMAIAAgASkDCDcDCCAAIAEoAhg2AhggACABKQMQNwMQIAFCADcDECABQQA2AhggAEEBOgAgCwtDAQF/QQEhAiABQRhqIAAoAgAQ9AUgASgCHEYEfyAAIAApAxAgASkDOHw3AxAgACAAKQMIIAEpA0B8NwMIQQAFQQELCxUAIAAgAUEDQf8DQfz//w9BBxCbCQs8AQF/IwBBEGsiASQAIAEgADYCDCABKAIMIgAoAgAEQCAAIAAoAgAQ5gggASgCDCgCABALCyABQRBqJAALFwEBfyAAKAIMIgEEQCABEAsLIAAQ/wcLEAAgAEGYAWoQ/AMgABCTAwsxAQF/IAAoAgQhAgNAIAEgAkZFBEAgAkHAAWsQgQggAkHQAWshAgwBCwsgACABNgIECy8BAX8gACgCBCECA0AgASACRkUEQCACQQxrEA8aIAJBLGshAgwBCwsgACABNgIECykBAX8gACgCBCECA0AgASACRkUEQCACQQxrEA8hAgwBCwsgACABNgIEC2ABAn8gAUHw////B0kEQCABQQpNBEAgAEEANgIIIABCADcCACAAIAE6AAsgAA8LIAFBD3JBAWoiAhAYIQMg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aiEFDAELCyAGQTBqJAAgBEEEaiEEDAALAAsFIAQoAgAhBSMAQYACayICJAAgAkH4AWogBUGUA2ogABCqAyACLQD8AUUEQCACQQhqIgVBAEHwARAdGiAFEJoDIQUgAigC+AFBEGogBRCSAyAFEJgDCyACQYACaiQAIARBBGohBAwBCwsgAygC0AIEQCABQUBrIAAQECEAIAFBADoAKCABQQY6ACAgAUEANgI8IAFCADcCNCAKIAAgAUE0aiICQQEgAUEIahCkASABQRBqEEogAhBYIAAQChoLIAFB8ABqEDwgAUHQAWokAAsgCEHAAWokACAJC0QAIwBBEGsiACQAIAIoAgAhAiAAIAMpAgA3AwAgACACNgIMIAEgACgCDBAQQRBqIAAoAgAgACgCBBCcBRogAEEQaiQAC1kBAX8jAEEQayIDJAAgAyACNgIIIAMgATYCDCAAIAMoAgwiASkCADcCACAAIAEoAgg2AgggAUIANwIAIAFBADYCCCAAQRBqIAMoAggQ7gEaIANBEGokACAACykAIAAgARAQIgAgAikDADcDECAAQRhqIAMQEBogAEEoaiAEENkCGiAACysBAX8gACgCBCECA0AgASACRkUEQCACQYACaxCjCCECDAELCyAAIAE2AgQLDgAgAEEQahCYAyAAEAoLSgEBfyAAQgA3AgAgAEE+OgAeIABBzZmz+gM2AhggAEIANwIQIABCADcCCCAAEDAgACgCDCIBBEAgAUEAIAAoAhBBA3QQHRoLIAALNgEBfyMAQRBrIgIkACACIAE2AgwgACACKAIMEBAiAEEQakEAQfABEB0QmgMaIAJBEGokACAACxAAIAAgACgCBEGAAmsQoggLXQAgACABKQIANwIAIAAgASgCCDYCCCABQgA3AgAgAUEANgIIIAAgAikDADcDECAAIAMoAgg2AiAgACADKQIANwIYIANCADcCACADQQA2AgggAEEoaiAEENkCGiAACxYAIABBKGoQqwMgAEEYahAKGiAAEAoLMQEBfwNAIAEEQCACIAEgAUEQaiAAEBwiAxshAiABQQRqIAEgAxsoAgAhAQwBCwsgAgtQACAAKAIABEAgABCuCCAAKAIAEAsgAEEANgIIIABCADcCAAsgACABKAIANgIAIAAgASgCBDYCBCAAIAEoAgg2AgggAUEANgIIIAFCADcCAAtQ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kAEgBUEQaiQAC3wBAn8jAEEQayIDJABBGBAYIQIgAyAAQQhqNgIIIANBATYCDCACIAEpAwg3AxAgAiABKQMANwMIIAIgADYCACACIAAoAgQiATYCBCABIAI2AgAgACACNgIEIAAgACgCCEEBajYCCCADQQA2AgQgA0EEahCQASADQRBqJAALOwEBfyMAQRBrIgMkACADIAI2AgggAyABNgIMIAAgAygCDBAQIgBBEGogAygCCBDuARogA0EQaiQAIAALGAAgACABEBAiAEEQaiABQRBqEO4BGiAAC2kBAn8jAEEgayIDJAAgA0EMaiAAIAAoAgQgACgCAGtBKG1BAWoQowEgACgCBCAAKAIAa0EobSAAQQhqEIcBIgIoAgggARC9CBogAiACKAIIQShqNgIIIAAgAhDwASACEO8BIANBIGokAAsUACAAIAAoAgQgARC9CEEoajYCBAsWACAAQShqENYBIABBGGoQChogABAKC2EBAX8gAEGAgICAeCABIAFBAEgbIgEQrAUgACABIAAoAgQgACgCAGtBKG0iAiABIAJLGxCLDSEBAkAgACgCEARAIAEgAC0AHk8NAQsgACABOgAeIAAQTSAAEDAgABCrBQsLFwAgAEHI4/E4TwRAEBIACyAAQSRsEBgLPQECfyAAKAIEIQIDQCACIAAoAggiAUcEQCAAIAFBJGsiATYCCCABEL0BGgwBCwsgACgCACIABEAgABALCwuNAQEDfyAAKAIEIQMgACgCACEEIAEoAgQhAgNAIAMgBEcEQCACQSRrIANBJGsiAxClAyECDAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIAC0oBAX8gAEEANgIMIAAgAzYCECABBEAgARDCCCEECyAAIAQ2AgAgACAEIAJBJGxqIgI2AgggACAEIAFBJGxqNgIMIAAgAjYCBCAACzkBAX8gAUEASARAEAEAC0H/////ByAAKAIIIAAoAgBrIgBBAXQiAiABIAEgAkkbIABB/////wNPGwswAQJ/IAAoAgAhAiAAKAIEIQEDQCABIAJHBEAgAUEkaxC9ASEBDAELCyAAIAI2AgQLnQEBBH8jAEEgayIDJAAgACgCBCAA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ACFOIAFCADcCxAIgAUHEAmogASgC0AIQrAUCQANAAkACQAJAIAEpA9ACIE5WBEAgAUHgAWogBRBSIAEtAOwBRQ0BIAFBsAJqIAUQFiABLQC4AkUNASABQaACaiAFEFICfyABLQCsAkUEQCAEQQA6AMABIARBADoAAEEBDAELIAEgASkDsAI3AwAgCyABKQOgAjcCACALIAEoAqgCNgIIIAFBADYCqAIgAUIANwOgAgJAIAFBxAJqIgIoAgQiBiACKAIISQRAIAYgASkC4AE3AgAgBiABKALoATYCCCABQgA3AuABIAFBADYC6AEgBiABKQMANwMQIAYgASgCEDYCICAGIAEpAwg3AxggAUEANgIQIAFCADcDCCACIAZBKGo2AgQMAQsjAEEgayIPJAAgD0EMaiACIAIoAgQgAigCAGtBKG1BAWoQowEgAigCBCACKAIAa0EobSACQQhqEIcBIgYoAggiCCABKQLgATcCACAIIAEoAugBNgIIIAFCADcC4AEgAUEANgLoASAIIAEpAwA3AxAgCCABKAIQNgIgIAggASkDCDcDGCABQQA2AhAgAUIANwMIIAYgBigCCEEoajYCCCACIAYQ8AEgBhDvASAPQSBqJAAgAigCBBoLIAsQChpBAAshAiABQaACahA2GgwCCyABQbACaiAFEBYgAS0AuAJFBEAgBEEAOgDAASAEQQA6AAAMAwsgAUEANgKcAkIAIU4gAUIANwKUAiABQZQCaiABKAKwAhCqBwJ/AkADQCBOIAEpA7ACWg0BIAFBoAJqIAUQFgJAIAEtAKgCRQ0AIAFBADoAISABQQA6AAAgASkDoAJQRQRAIAFBgAJqIAUQFiABLQCIAkUNASAFKAIEIgZBIEkNASAFKAIAIgItAAAhCCABIAIpABg3APcBIAEgAikAETcD8AEgASACKQAJNwPoASABIAIpAAE3A+ABIAUgBkEgazYCBCAFIAJBIGo2AgAgASAIOgABIAEgASkDgAI8AAAgASABKQD3ATcAGSABIAEpA/ABNwASIAEgASkD6AE3AAogASABKQPgATcAAiABQQE6ACELIE5CAXwhTgJAIAFBlAJqIgIoAgQiBiACKAIIRwRAIAIgBiABQSIQH0EiajYCBAwBCyMAQSBrIggkACAIQQxqIAIgAigCBCACKAIAa0EibUEBahDzBCACKAIE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ASABKAKsAjYCrAMgAUEANgKkAiABQQA2AqgCIAFBADYCrAIgAUEAOgC8AyABQQA6ALADIAEtAIQBBEAgASABKQN4NwKwAyABIAEoAoABNgK4AyABQQA2AoABIAFCADcDeCABQQE6ALwDCyABIAEpAnA3AsQDIAEgASgCbDYCwAMgAUEANgJ0IAFCADcCbCABIE43A9ADIAQgAUGAA2oiBBDnASAEEKsDCyABQewAahDzASABQfgAahA2GgsgAUGkAmoQ8wEMAgsgBEEAOgBYIARBADoAAEEBIQYLIE5CAXwhTiABQdABahA/IAZFDQELCyABQcQCahDyAQsgAUHgAmoQPwsgAUHwAmoQPwsgAUGQBGokAAJ/IAMtAMACRQRAQQMQGgRAIA8QFSE0IANBAzYCECA0Qb3RABANIBIQExogA0EQahAZCyAOQQA6ANgBIA5BADoAAEEBDAELIBQgAygCyAIiASAUKAIAajYCACAUIBQoAgQgAWs2AgQgA0H8AmohBSADQegCaiECIANB2AJqIQYgA0HoAWohBwJAIANBjANqIgEoAgQgASgCCEkEQCABIAEoAgQgBSACIAYgBxCnCEGAAWo2AgQMAQsjAEEgayIIJAAgCEEMaiABIAEoAgQgASgCAGtBB3VBAWoQ1gIgASgCBCABKAIAa0EHdSABQQhqENcBIgQoAgggBSACIAYgBxCnCBogBCAEKAIIQYABajYCCCABIAQQtgUgBBDgCCAIQSBqJAALIAEoAgQaQQALIQEgA0HoAWoiBC0AWARAIAQQqwMLDAILIANBEGogA0GoA2oQtwUiASADKAKMAzYCyAEgASADKAKQAzYCzAEgASADKAKUAzYC0AEgA0EANgKUAyADQgA3AowDIA4gARC3BSIEQcgBaiABQcgBahAlGiAEQQE6ANgBIAEQ4ggMBAsgDkEAOgDYASAOQQA6AABBASEBCyADQdgCahA2GgwBCyAOQQA6ANgBIA5BADoAAEEBIQELIFFCAXwhUSADQfwCahA2GiABRQ0BCwsgA0GMA2oQ4QgLIANBqANqENoCCyADQYAFaiQAIBQtAOgBIiQEQCMAQfADayISJAAgDigCzAEhByAOKALIASEJAkACQCAOLQDAAQRAIA5B8ABqIQEDQCAHIAlGBEAgACgCAEEQaiEEIABBCGohDyASQbACaiAO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RQ0AIAMhAUEDEBpFDQAgKxAVIUsgD0EDNgIEIEsgJhATQfLRABANIBcQExogD0EEahAZCyAqEFggAw0BCyAXQYABaiEXDAELCyAPQaACaiQAIAEiCQ0AAkAgACgCACIBLQCkAg0AIAAoAvQCIQMgACgC8AIhCQNAIAMgCUcEQCABQZgCaiAJELoBIgQgACgCACIBQZwCakYNAiAJQQxqIQkgBC0A5AMNAQwCCwtBARAaBEAgEkGkAWoQFSFMIBJBATYCoAEgTCAAKAIAQbADahATQYPRABANIAAoAgAQExogEkGgAWoQGQsgACgCACIBQQE6AKQCIAEoAtwCIQMgASgC2AIhCQNAIAMgCUcEQCAJKAIAIgEtAJADBEAgAUHwAmoQsgULIAlBBGohCQwBCwtBACEJIAAoAgAiACgCuAJFDQEgEkGgAWogAEGoAmoQPSIAQQAQswUgABARGgwBC0EAIQkLIBJB8ANqJAALIBRBEGoiAC0A2AEEQCAAEOIICyAkRQ0BDAILQQMQGkUNACAUQRRqEBUhTSAUQQM2AhAgTSAAKAIAQbADahATQabLABANGiAUQRBqEBkLQQkhCQsgFEHwAWokACAJCy8BA38gAC0AISICQQBHIAEtACEiA0EAR3MhBCACRSADRXIEfyAEBSAAIAEQjQQLC6ABAQJ/IAEgAiAAKAIAIAEoAgQQowo2AgQgACgCBCEEIAEoAgghAwNAIAIgBEcEQCADIAIQMkHwAGohAyACQfAAaiECDAELCyABIAM2AgggACgCACECIAAgASgCBDYCACABIAI2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACzcBAX8jAEEQayIBJAAgASAANgIMIAEoAgwiACgCAARAIAAQzwggASgCDCgCABALCyABQRBqJAALNwEBfyMAQRBrIgEkACABIAA2AgwgASgCDCIAKAIABEAgABDMCCABKAIMKAIAEAsLIAFBEGokAAvbAQEBfyAAIAFB4QAQHyIAQeQAaiICKAIABEAgAhDPCCACKAIAEAsgAkEANgIIIAJCADcCAAsgACABKAJkNgJkIAAgASgCaDYCaCAAIAEoAmw2AmwgAUEANgJsIAFCADcCZCAAQfAAaiABQfAAahCvBSAAQZAB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IQQgASgCBCECA0AgAyAERwRAIAJB8ABrIANB8ABrIgMQzAUhAgwBCwsgASACNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsRACAALQAoBEAgAEEIahBGCwsUACAAIAAoAgQgARBlQcgAajYCBAvKAgECfyMAQUBqIgMkAAJAAkAgAUIFVg0AAkACQAJAAkACQCABp0EBaw4FAQIDBQQACyADQQE6ADggA0EANgIgIAAgA0EYahDkAiADQSBqEEYMBQsgA0EgaiADIAIQcyICEHMiBEECOgAYIAAgA0EYahDkAiAEEEYgAhA7DAQLIANBAToAOCADQQE2AiAgACADQRhqEOQCIANBIGoQRgwDCyADQQA6ADggACADQRhqEOQCIANBIGoQRgwCCwJAIAJFDQACQAJAIAItABAOAgABAgsgAikDACEBIANBAzoAOCADIAE3AyAgACADQRhqEOQCIANBIGoQRgwDCyACKQMAIQEgA0EDOgA4IAMgATcDICAAIANBGGoQ5AIgA0EgahBGDAILIABBADoAKCAAQQA6AAAMAQsgAEEAOgAoIABBADoAAAsgA0FAayQACwsAIAAgACABEPkICwkAIABBGBDlAgulAQEDfyABKAIEIQIgACgCACEEIAAoAgQhAwNAIAMgBEZFBEAgAkEYayICIANBGGsiAykDADcDACACIAMpAxA3AxAgAiADKQMINwMIDAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACzsBAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQRhrIgE2AgggARA7DAELCyAAKAIAIgAEQCAAEAsLC4wBAQN/IAAoAgQhAyAAKAIAIQQgASgCBCECA0AgAyAERwRAIAJBGGsgA0EYayIDEHMhAgwBCwsgASACNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsWACAALQAMBEAg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CkcEQCAEQQJ0IgMgAmogBkECdGogAyAJaiAFQQJ0aiAHEIgCCyABQQFqIgFBAkcEQCAAIAkgARChBAsgACACEIoBIAAgCCgCCBCJASAAIAQgBmogB2oiABBvIAhBADYCDCACIABBAnRqIAhBDGoQgAEgCEEQaiQADwsQbgALbwEDfyMAQRBrIgQkACABBEAgASAAECciAyAAEAwiAmtLBEAgACADIAEgA2sgAmogAiACEOAFCyACIAAQISIDaiABQQAQtAkgACABIAJqIgAQrgIgBEEAOgAPIAAgA2ogBEEPahCDAQsgBEEQaiQACz0BAX8jAEEQayIDJAAgAyACOgAPA0AgAQRAIAAgAy0ADzoAACABQQFrIQEgAEEBaiEADAELCyADQRBqJAALFgAgACABIAJCgICAgICAgICAfxDbCgsJACAAEDM2AgALIwECfyAAIQEDQCABIgJBBGohASACKAIADQALIAIgAGtBAnULDwAgACAAKAIAQQRrNgIACwoAIAAoAgBBBGsLLAAgACgCABogACgCABogABCrAhogACgCABogABCoARogACgCABogABCrAhoLMAAjAEEQayICJAACQCAAIAFGBEAgAUEAOgB4DAELIAJBD2ogARDGCQsgAkEQaiQACw8AIAAtAAwEQCAAENEFCwssAQF/IAAoAgQhAgNAIAEgAkcEQCAAEKwCGiACQQRrIQIMAQsLIAAgATYCBAsJACAAQQA2AgALJgAgACgCABogACgCABogABCrAhogACgCABogABCrAhogACgCABoLSwEBfyMAQRBrIgMkAAJAAkAgAkEeSw0AIAEtAHgNACABQQE6AHgMAQsgA0EPaiACEMgJIQELIANBEGokACAAIAI2AgQgACABNgIAC0QBAn8jAEEQayIBJAAgABCsAhogAUH/////AzYCDCABQf////8HNgIIIAFBDGogAUEIahC2BCgCACECIAFBEGokACACCwsAIABBADYCACAACw4AIABBDGoQ0QUgABBACycBAn8jAEEQayIBJAAgASAANgIMIAFBDGoQ4wUhAiABQRBqJAAgAgs3AQF/IwBBEGsiAyQAIAMgARDECTYCDCADIAIQxAk2AgggACADQQxqIANBCGoQtAQgA0EQaiQACwkAIAFBBBCmCgsvAQF/IwBBEGsiAyQAIAAgAhCuAiADQQA6AA8gASACaiADQQ9qEIMBIANBEGokAAsbACABQf////8DSwRAEBIACyABQQJ0QQQQoQoLCQAgABDkBRALC4gBAQN/IwBBIGsiBCQAIARBDGogACAAKAIEIAAoAgBrQQV1QQFqELMDIAAoAgQgACgCAGtBBXUgAEEIahDpAiIDKAIIIgIgASkAADcAACACIAEpABg3ABggAiABKQAQNwAQIAIgASkACDcACCADIAJBIGo2AgggACADENUJIAMQ5QUgBEEgaiQACxUAIABBwPwBNgIAIABBEGoQChogAAsVACAAQZj8ATYCACAAQQxqEAoaIAAL1QMBBn8CQCADIAIiAGtBA0hBAXINACAALQAAQe8BRw0AIAAtAAFBuwFHDQAgAEEDQQAgAC0AAkG/AUYbaiEACwNAAkAgBCAHTSAAIANPcg0AIAAsAAAiAUH/AXEhBgJAIAFBAE4EQEEBIQEMAQsgAUFCSQ0BIAFBX00EQCADIABrQQJIDQIgAC0AAUHAAXFBgAFHDQJBAiEBDAELIAFBb00EQCADIABrQQNIDQIgAC0AAiEKIAAtAAEhAQJAAkAgBkHtAUcEQCAGQeABRw0BIAFB4AFxQaABRg0CDAULIAFB4AFxQYABRw0EDAELIAFBwAFxQYABRw0DCyAKQcABcUGAAUcNAkEDIQEMAQsgAyAAa0EESCABQXRLcg0BIAAtAAMhCCAALQACIQkgAC0AASEFAkACQAJAAkAgBkHwAWsOBQACAgIBAgsgBUHwAGpB/wFxQTBPDQQMAgsgBUHwAXFBgAFHDQMMAQsgBUHAAXFBgAFHDQILIAlBwAFxQYABRyAIQcABcUGAAUdyDQFBBCEBIAhBP3EgCUEGdEHAH3EgBkESdEGAgPAAcSAFQT9xQQx0cnJyQf//wwBLDQELIAdBAWohByAAIAFqIQAMAQsLIAAgAmsLzgQBBn8jAEEQayIAJAAgACACNgIMIAAgBTYCCAJ/IAAgAjYCDCAAIAU2AggCQAJAA0ACQCAAKAIMIgEgA08NACAAKAIIIgwgBk8NACABLAAAIgVB/wFxIQICQCAFQQBOBEAgAkH//8MATQRAQQEhBQwCC0ECDAYLQQIhCiAFQUJJDQMgBUFfTQRAIAMgAWtBAkgNBSABLQABIghBwAFxQYABRw0EQQIhBSAIQT9xIAJBBnRBwA9xciECDAELIAVBb00EQCADIAFrQQNIDQUgAS0AAiEJIAEtAAEhCAJAAkAgAkHtAUcEQCACQeABRw0BIAhB4AFxQaABRg0CDAcLIAhB4AFxQYABRg0BDAYLIAhBwAFxQYABRw0FCyAJQcABcUGAAUcNBEEDIQUgCUE/cSACQQx0QYDgA3EgCEE/cUEGdHJyIQIMAQsgBUF0Sw0DIAMgAWtBBEgNBCABLQADIQkgAS0AAiELIAEtAAEhCAJAAkACQAJAIAJB8AFrDgUAAgICAQILIAhB8ABqQf8BcUEwSQ0CDAYLIAhB8AFxQYABRg0BDAULIAhBwAFxQYABRw0ECyALQcABcUGAAUcgCUHAAXFBgAFHcg0DQQQhBSAJQT9xIAtBBnRBwB9xIAJBEnRBgIDwAHEgCEE/cUEMdHJyciICQf//wwBLDQMLIAwgAjYCACAAIAEgBWo2AgwgACAAKAIIQQRqNgIIDAELCyABIANJIQoLIAoMAQtBAQshDSAEIAAoAgw2AgAgByAAKAIINgIAIABBEGokACANC5AEAQF/IwBBEGsiACQAIAAgAjYCDCAAIAU2AggCfyAAIAI2AgwgACAFNgIIIAAoAgwhAQJAA0AgASADTwRAQQAhAgwCC0ECIQIgASgCACIBQf//wwBLIAFBgHBxQYCwA0ZyDQECQAJAIAFB/wBNBEBBASECIAYgACgCCCIFa0EATA0EIAAgBUEBajYCCCAFIAE6AAAMAQsgAUH/D00EQCAGIAAoAggiAmtBAkgNAiAAIAJBAWo2AgggAiABQQZ2QcABcjoAACAAIAAoAggiAkEBajYCCCACIAFBP3FBgAFyOgAADAELIAYgACgCCCICayEFIAFB//8DTQRAIAVBA0gNAiAAIAJBAWo2AgggAiABQQx2QeABcjoAACAAIAAoAggiAkEBajYCCCACIAFBBnZBP3FBgAFyOgAAIAAgACgCCCICQQFqNgIIIAIgAUE/cUGAAXI6AAAMAQsgBUEESA0BIAAgAkEBajYCCCACIAFBEnZB8AFyOgAAIAAgACgCCCICQQFqNgIIIAIgAUEMdkE/cUGAAXI6AAAgACAAKAIIIgJBAWo2AgggAiABQQZ2QT9xQYABcjoAACAAIAAoAggiAkEBajYCCCACIAFBP3FBgAFyOgAACyAAIAAoAgxBBGoiATYCDAwBCwtBAQwBCyACCyEIIAQgACgCDDYCACAHIAAoAgg2AgAgAEEQaiQAIAgL3gMBBX8CQCADIAIiAGtBA0hBAXINACAALQAAQe8BRw0AIAAtAAFBuwFHDQAgAEEDQQAgAC0AAkG/AUYbaiEACwNAAkAgBCAGTSAAIANPcg0AAn8gAEEBaiAALQAAIgHAQQBODQAaIAFBwgFJDQEgAUHfAU0EQCADIABrQQJIDQIgAC0AAUHAAXFBgAFHDQIgAEECagwBCyABQe8BTQRAIAMgAGtBA0gNAiAALQACIQkgAC0AASEFAkACQCABQe0BRwRAIAFB4AFHDQEgBUHgAXFBoAFGDQIMBQsgBUHgAXFBgAFHDQQMAQsgBUHAAXFBgAFHDQMLIAlBwAFxQYABRw0CIABBA2oMAQsgAyAAa0EESCABQfQBS3IgBCAGa0ECSXINASAALQADIQcgAC0AAiEIIAAtAAEhBQJAAkACQAJAIAFB8AFrDgUAAgICAQILIAVB8ABqQf8BcUEwTw0EDAILIAVB8AFxQYABRw0DDAELIAVBwAFxQYABRw0CCyAIQcABcUGAAUcgB0HAAXFBgAFHciAHQT9xIAhBBnRBwB9xIAFBEnRBgIDwAHEgBUE/cUEMdHJyckH//8MAS3INASAGQQFqIQYgAEEEagshACAGQQFqIQYMAQsLIAAgAmsLpwUBBX8jAEEQayIAJAAgACACNgIMIAAgBTYCCAJ/IAAgAjYCDCAAIAU2AggCQAJAAkADQAJAIAAoAgwiASADTw0AIAAoAggiBSAGTw0AQQIhCiAAAn8gAS0AACICwEEATgRAIAUgAjsBACABQQFqDAELIAJBwgFJDQUgAkHfAU0EQCADIAFrQQJIDQUgAS0AASIIQcABcUGAAUcNBCAFIAhBP3EgAkEGdEHAD3FyOwEAIAFBAmoMAQsgAkHvAU0EQCADIAFrQQNIDQUgAS0AAiEJIAEtAAEhCAJAAkAgAkHtAUcEQCACQeABRw0BIAhB4AFxQaABRg0CDAcLIAhB4AFxQYABRg0BDAYLIAhBwAFxQYABRw0FCyAJQcABcUGAAUcNBCAFIAlBP3EgCEE/cUEGdCACQQx0cnI7AQAgAUEDagwBCyACQfQBSw0FQQEhCiADIAFrQQRIDQMgAS0AAyEJIAEtAAIhCCABLQABIQECQAJAAkACQCACQfABaw4FAAICAgECCyABQfAAakH/AXFBME8NCAwCCyABQfABcUGAAUcNBwwBCyABQcABcUGAAUcNBgsgCEHAAXFBgAFHIAlBwAFxQYABR3INBSAGIAVrQQRIDQNBAiEKIAlBP3EiCSAIQQZ0IgtBwB9xIAFBDHRBgOAPcSACQQdxIgJBEnRycnJB///DAEsNAyAFIAhBBHZBA3EgAUECdCIBQcABcSACQQh0ciABQTxxcnJBwP8AakGAsANyOwEAIAAgBUECajYCCCAFIAtBwAdxIAlyQYC4A3I7AQIgACgCDEEEags2AgwgACAAKAIIQQJqNgIIDAELCyABIANJIQoLIAoMAgtBAQwBC0ECCyEMIAQgACgCDDYCACAHIAAoAgg2AgAgAEEQaiQAIAwL6gUBAn8jAEEQayIAJAAgACACNgIMIAAgBTYCCAJ/IAAgAjYCDCAAIAU2AgggACgCDCECAkACQANAIAIgA08EQEEAIQUMAwtBAiEFAkACQCACLwEAIgFB/wBNBEBBASEFIAYgACgCCCICa0EATA0FIAAgAkEBajYCCCACIAE6AAAMAQsgAUH/D00EQCAGIAAoAggiAmtBAkgNBCAAIAJBAWo2AgggAiABQQZ2QcABcjoAACAAIAAoAggiAkEBajYCCCACIAFBP3FBgAFyOgAADAELIAFB/68DTQRAIAYgACgCCCICa0EDSA0EIAAgAkEBajYCCCACIAFBDHZB4AFyOgAAIAAgACgCCCICQQFqNgIIIAIgAUEGdkE/cUGAAXI6AAAgACAAKAIIIgJBAWo2AgggAiABQT9xQYABcjoAAAwBCyABQf+3A00EQEEBIQUgAyACa0EESA0FIAIvAQIiCEGA+ANxQYC4A0cNAiAGIAAoAghrQQRIDQUgCEH/B3EgAUEKdEGA+ANxIAFBwAdxIgVBCnRyckH//z9LDQIgACACQQJqNgIMIAAgACgCCCICQQFqNgIIIAIgBUEGdkEBaiICQQJ2QfABcjoAACAAIAAoAggiBUEBajYCCCAFIAJBBHRBMHEgAUECdkEPcXJBgAFyOgAAIAAgACgCCCICQQFqNgIIIAIgCEEGdkEPcSABQQR0QTBxckGAAXI6AAAgACAAKAIIIgFBAWo2AgggASAIQT9xQYABcjoAAAwBCyABQYDAA0kNBCAGIAAoAggiAmtBA0gNAyAAIAJBAWo2AgggAiABQQx2QeABcjoAACAAIAAoAggiAkEBajYCCCACIAFBBnZBP3FBgAFyOgAAIAAgACgCCCICQQFqNgIIIAIgAUE/cUGAAXI6AAALIAAgACgCDEECaiICNgIMDAELC0ECDAILQQEMAQsgBQshCSAEIAAoAgw2AgAgByAAKAIINgIAIABBEGokACAJC0IBA38jAEEQayIBJAAgASAANgIMIAFBCGogAUEMahCrASEDQQRBAUHsrgIoAgAoAgAbIQIgAxCqASABQRBqJAAgAgs+AQJ/IwBBEGsiBSQAIAUgBDYCDCAFQQhqIAVBDGoQqwEhBiAAIAEgAiADELIEIQAgBhCqASAFQRBqJAAgAAuvAQEDfyABKAIEIQIgACgCACEEIAAoAgQhAwNAIAMgBEZFBEAgAkEgayICIANBIGsiAykAADcAACACIAMpABg3ABggAiADKQAQNwAQIAIgAykACDcACAwBCwsgASACNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsSACAEIAI2AgAgByAFNgIAQQMLKAEBfyAAQazzATYCAAJAIAAoAggiAUUNACAALQAMRQ0AIAEQCwsgAAtAAQJ/IAAoAgAoAgAiACgCACAAKAIIIgJBAXVqIQEgACgCBCEAIAEgAkEBcQR/IAEoAgAgAGooAgAFIAALEQEACxMAIAAgASgCACIANgIAIAAQ5wULkwoBBX8gAAJ/QYi1Ai0AAARAQYS1AigCAAwBC0GAtQICf0H8tAItAAAEQEH4tAIoAgAMAQtB2MECEDoiAEGY8wE2AgAjAEEQayICJAAgAEEIaiIBQgA3AwAgAkEANgIMIAFBCGoQwglBADoAgAEgAkEEaiABEP4BKAIAGiACQQA6AAojAEEQayIDJAAgARDBCUEeSQRAEG4ACyADQQhqIAEQrAJBHhDACSABIAMoAggiBDYCBCABIAQ2AgAgAygCDCEFIAEQnwQgBCAFQQJ0ajYCACABQQAQvwkgA0EQaiQAIAFBHhDfCSACQQE6AAogAkEQaiQAIABBmAFqQYPJABAOGiABEKgBIQIgARDeCSABIAIQ3QlBkL8CEDpBtIcCNgIAIABBkL8CQcyzAhA5ED5BmL8CEDpB1IcCNgIAIABBmL8CQdSzAhA5ED5BoL8CEDoiAUEAOgAMIAFBADYCCCABQazzATYCACABQeDzATYCCCAAQaC/AkGYtQIQORA+QbC/AhA6QZj/ATYCACAAQbC/AkGQtQIQORA+Qbi/AhA6QayAAjYCACAAQbi/AkGgtQIQORA+QcC/AhA6IgFB6PsBNgIAIAEQMzYCCCAAQcC/AkGotQIQORA+QdC/AhA6QcCBAjYCACAAQdC/AkGwtQIQORA+Qdi/AhA6QaiDAjYCACAAQdi/AkHAtQIQORA+QeC/AhA6QbSCAjYCACAAQeC/AkG4tQIQORA+Qei/AhA6QZyEAjYCACAAQei/AkHItQIQORA+QfC/AhA6IgFBrtgAOwEIIAFBmPwBNgIAIAFBDGoQJhogAEHwvwJB0LUCEDkQPkGIwAIQOiIBQq6AgIDABTcCCCABQcD8ATYCACABQRBqECYaIABBiMACQdi1AhA5ED5BqMACEDpB9IcCNgIAIABBqMACQdyzAhA5ED5BsMACEDpB6IkCNgIAIABBsMACQeSzAhA5ED5BuMACEDpBvIsCNgIAIABBuMACQeyzAhA5ED5BwMACEDpBpI0CNgIAIABBwMACQfSzAhA5ED5ByMACEDpB/JQCNgIAIABByMACQZy0AhA5ED5B0MACEDpBkJYCNgIAIABB0MACQaS0AhA5ED5B2MACEDpBhJcCNgIAIABB2MACQay0AhA5ED5B4MACEDpB+JcCNgIAIABB4MACQbS0AhA5ED5B6MACEDpB7JgCNgIAIABB6MACQby0AhA5ED5B8MACEDpBkJoCNgIAIABB8MACQcS0AhA5ED5B+MACEDpBtJsCNgIAIABB+MACQcy0AhA5ED5BgMECEDpB2JwCNgIAIABBgMECQdS0AhA5ED5BiMECEDoiAUHApgI2AgggAUHsjgI2AgAgAUGcjwI2AgggAEGIwQJB/LMCEDkQPkGYwQIQOiIBQeSmAjYCCCABQfSQAjYCACABQaSRAjYCCCAAQZjBAkGEtAIQORA+QajBAhA6IgFBCGoQtgkgAUHgkgI2AgAgAEGowQJBjLQCEDkQPkG4wQIQOiIBQQhqELYJIAFB/JMCNgIAIABBuMECQZS0AhA5ED5ByMECEDpB/J0CNgIAIABByMECQdy0AhA5ED5B0MECEDpB9J4CNgIAIABB0MECQeS0AhA5ED5B9LQCQdjBAjYCAEH8tAJBAToAAEH4tAJB9LQCNgIAQfS0AgsQ2QlBiLUCQQE6AABBhLUCQYC1AjYCAEGAtQILKAIAIgA2AgAgABDnBQsTACAAIAAoAgBBAWsiADYCACAAC6QBAQN/IABBmPMBNgIAIABBCGohAQNAIAEQqAEgAksEQCABIAIQrQIoAgAEQCABIAIQrQIoAgAQpQQLIAJBAWohAgwBCwsgAEGYAWoQChojAEEQayICJAAgAkEMaiABEP4BIgEoAgAQugkgASgCABogASgCACIDKAIABEAgAxDeCSABKAIAEKwCIAEoAgAiASgCACABEKsCELsJCyACQRBqJAAgAAsmACAAKAIAGiAAKAIAGiAAEKsCGiAAKAIAGiAAKAIAGiAAEKgBGgsMACAAIAAoAgAQvQkLewEDfyMAQRBrIgQkACAEQQRqIgIgADYCACACIAAoAgQiAzYCBCACIAMgAUECdGo2AgggAiIDKAIEIQEgAigCCCECA0AgASACRgRAIAMoAgAgAygCBDYCBCAEQRBqJAAFIAAQrAIaIAEQvgkgAyABQQRqIgE2AgQMAQsLCyAAIABB6PsBNgIAIAAoAggQM0cEQCAAKAIIEJUKCyAACwQAQX8LrgEBBX8jAEEQayIEJAAjAEEgayIDJAAgA0EYaiAAIAEQxQkgA0EQaiADQQxqIgUgAygCGCADKAIcIAIQ+AUgAygCECEGIwBBEGsiASQAIAEgADYCDCABQQxqIgAgBiAAEOMFa0ECdRDoBSEAIAFBEGokACADIAA2AgwgAyACIAMoAhQQtQQ2AgggBEEIaiAFIANBCGoQxwEgA0EgaiQAIAQoAgwhByAEQRBqJAAgBwuABgELfyMAQRBrIhMkACACIAA2AgAgA0GABHEhFSAHQQJ0IRYDQCAUQQRGBEAgDRAMQQFLBEAgEyANEIIBNgIMIAIgE0EMakEBEOgFIA0QgwIgAigCABDiCTYCAAsgA0GwAXEiA0EQRwRAIAEgA0EgRgR/IAIoAgAFIAALNgIACyATQRBqJAAFAkACQAJAAkACQAJAIAggFGosAAAOBQABAwIEBQsgASACKAIANgIADAQLIAEgAigCADYCACAGQSAQeCEHIAIgAigCACIPQQRqNgIAIA8gBzYCAAwDCyANEJgBDQIgDUEAEK4EKAIAIQcgAiACKAIAIg9BBGo2AgAgDyAHNgIADAILIAwQmAEgFUVyDQEgAiAMEIIBIAwQgwIgAigCABDiCTYCAAwBCyACKAIAIRkgBCAWaiIEIQcDQAJAIAUgB00NACAGQcAAIAcoAgAQnAFFDQAgB0EEaiEHDAELCyAOQQBKBEAgAigCACEPIA4hEANAIBBFIAQgB09yRQRAIBBBAWshECAHQQRrIgcoAgAhEiACIA9BBGoiETYCACAPIBI2AgAgESEPDAELCwJAIBBFBEBBACESDAELIAZBMBB4IRIgAigCACEPCwNAIA9BBGohESAQQQBKBEAgDyASNgIAIBBBAWshECARIQ8MAQsLIAIgETYCACAPIAk2AgALAkAgBCAHRgRAIAZBMBB4IQ8gAiACKAIAIhFBBGoiBzYCACARIA82AgAMAQsgCxCYAQR/QX8FIAtBABAgLAAACyESQQAhD0EAIRADQCAEIAdHBEACQCAPIBJHBEAgDyERDAELIAIgAigCACIRQQRqNgIAIBEgCjYCAEEAIREgCxAMIBBBAWoiEE0EQCAPIRIMAQsgCyAQECAtAABB/wBGBEBBfyESDAELIAsgEBAgLAAAIRILIAdBBGsiBygCACEPIAIgAigCACIYQQRqNgIAIBggDzYCACARQQFqIQ8MAQsLIAIoAgAhBwsgGSAHEKoECyAUQQFqIRQMAQsLC9MCAQF/IwBBEGsiCiQAIAkCfyAABEAgAhDpCSEAAkAgAQRAIApBBGoiASAAEIECIAMgCigCBDYAACABIAAQgAIMAQsgCkEEaiIBIAAQpgQgAyAKKAIENgAAIAEgABCZAQsgCCABEMABIAEQQRogBCAAEJcBNgIAIAUgABBtNgIAIApBBGoiASAAEGwgBiABEGAgARAKGiABIAAQmgEgByABEMABIAEQQRogABD/AQwBCyACEOgJIQACQCABBEAgCkEEaiIBIAAQgQIgAyAKKAIENgAAIAEgABCAAgwBCyAKQQRqIgEgABCmBCADIAooAgQ2AAAgASAAEJkBCyAIIAEQwAEgARBBGiAEIAAQlwE2AgAgBSAAEG02AgAgCkEEaiIBIAAQbCAGIAEQYCABEAoaIAEgABCaASAHIAEQwAEgARBBGiAAEP8BCzYCACAKQRBqJAALqwEBBX8jAEEQayIEJAAjAEEgayIDJAAgA0EYaiAAIAEQxQkgA0EQaiADQQxqIgUgAygCGCADKAIcIAIQ+AUgAygCECEGIwBBEGsiASQAIAEgADYCDCABQQxqIgAgBiAAEOMFaxDqBSEAIAFBEGokACADIAA2AgwgAyACIAMoAhQQtQQ2AgggBEEIaiAFIANBCGoQxwEgA0EgaiQAIAQoAgwhByAEQRBqJAAgBwvXBQELfyMAQRBrIhQkACACIAA2AgAgA0GABHEhFgNAIBVBBEYEQCANEAxBAUsEQCAUIA0QggE2AgwgAiAUQQxqQQEQ6gUgDRCEAiACKAIAEOUJNgIACyADQbABcSIDQRBHBEAgASADQSBGBH8gAigCAAUgAAs2AgALIBRBEGokAAUCQAJAAkACQAJAAkAgCCAVaiwAAA4FAAEDAgQFCyABIAIoAgA2AgAMBAsgASACKAIANgIAIAZBIBBZIQ8gAiACKAIAIhBBAWo2AgAgECAPOgAADAMLIA0QmAENAiANQQAQIC0AACEPIAIgAigCACIQQQFqNgIAIBAgDzoAAAwCCyAMEJgBIBZFcg0BIAIgDBCCASAMEIQCIAIoAgAQ5Qk2AgAMAQsgAigCACEZIAQgB2oiBCERA0ACQCAFIBFNDQAgBkHAACARLAAAEJ0BRQ0AIBFBAWohEQwBCwsgDiIPQQBKBEADQCAPRSAEIBFPckUEQCAPQQFrIQ8gEUEBayIRLQAAIRAgAiACKAIAIhJBAWo2AgAgEiAQOgAADAELCyAPBH8gBkEwEFkFQQALIRIDQCACIAIoAgAiEEEBajYCACAPQQBKBEAgECASOgAAIA9BAWshDwwBCwsgECAJOgAACwJAIAQgEUYEQCAGQTAQWSEPIAIgAigCACIQQQFqNgIAIBAgDzoAAAwBCyALEJgBBH9BfwUgC0EAECAsAAALIRBBACEPQQAhEwNAIAQgEUYNAQJAIA8gEEcEQCAPIRIMAQsgAiACKAIAIhBBAWo2AgAgECAKOgAAQQAhEiALEAwgE0EBaiITTQRAIA8hEAwBCyALIBMQIC0AAEH/AEYEQEF/IRAMAQsgCyATECAsAAAhEAsgEUEBayIRLQAAIQ8gAiACKAIAIhhBAWo2AgAgGCAPOgAAIBJBAWohDwwACwALIBkgAigCABCvAgsgFUEBaiEVDAELCwvVAgEBfyMAQRBrIgokACAJAn8gAARAIAIQ7gkhAAJAIAEEQCAKQQRqIgEgABCBAiADIAooAgQ2AAAgASAAEIACDAELIApBBGoiASAAEKYEIAMgCigCBDYAACABIAAQmQELIAggARBgIAEQChogBCAAEJcBOgAAIAUgABBtOgAAIApBBGoiASAAEGwgBiABEGAgARAKGiABIAAQmgEgByABEGAgCkEEahAKGiAAEP8BDAELIAIQ7QkhAAJAIAEEQCAKQQRqIgEgABCBAiADIAooAgQ2AAAgASAAEIACDAELIApBBGoiASAAEKYEIAMgCigCBDYAACABIAAQmQELIAggARBgIAEQChogBCAAEJcBOgAAIAUgABBtOgAAIApBBGoiASAAEGwgBiABEGAgARAKGiABIAAQmgEgByABEGAgCkEEahAKGiAAEP8BCzYCACAKQRBqJAALCwAgAEGstAIQ4QELCwAgAEG0tAIQ4QELHwEBfyABKAIAELEKIQIgACABKAIANgIEIAAgAjYCAAvzDwEKfyMAQZAEayILJAAgCyAKNgKIBCALIAE2AowEAkAgACALQYwEahAtBEAgBSAFKAIAQQRyNgIAQQAhAAwBCyALQdsDNgJIIAsgC0HoAGogC0HwAGogC0HIAGoiARBEIg8oAgAiCjYCZCALIApBkANqNgJgIAEQJiERIAtBPGoQJiEMIAtBMGoQJiEOIAtBJGoQJiENIAtBGGoQJiEQIwBBEGsiCiQAIAsCfyACBEAgCkEEaiIBIAMQ6QkiAhCBAiALIAooAgQ2AFwgASACEIACIA0gARDAASABEEEaIAEgAhCZASAOIAEQwAEgARBBGiALIAIQlwE2AlggCyACEG02AlQgASACEGwgESABEGAgARAKGiABIAIQmgEgDCABEMABIAEQQRogAhD/AQwBCyAKQQRqIgEgAxDoCSICEIECIAsgCigCBDYAXCABIAIQgAIgDSABEMABIAEQQRogASACEJkBIA4gARDAASABEEEaIAsgAhCXATYCWCALIAIQbTYCVCABIAIQbCARIAEQYCABEAoaIAEgAhCaASAMIAEQwAEgARBBGiACEP8BCzYCFCAKQRBqJAAgCSAIKAIANgIAIARBgARxIRRBACEDQQAhAQNAIAEhAgJAAkACQAJAIANBBEYNACAAIAtBjARqEC0NAEEAIQoCQAJAAkAC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ASEGIAUgBSgCACIIQQFqNgIAIAggBjoAAAsgCSAHIAIgBSgCABCFAiAFIAUoAgAgAiAHa2oiBTYCACAEIAUgAyABIABraiABIAJGGzYCACAKQQRqEAoaIApBEGokAA8LIAkgBsAQWSEGIAUgBSgCACIIQQFqNgIAIAggBjoAACAHIQYMAAsAC9kDAQh/IwBBEGsiCiQAIAYQayELIApBBGoiByAGEPICIgYQbAJAIAcQmAEEQCALIAAgAiADEIUCIAUgAyACIABraiIGNgIADAELIAUgAzYCAAJAAkAgACIHLQAAIghBK2sOAwABAAELIAsgCMAQWSEHIAUgBSgCACIIQQFqNgIAIAggBzoAACAAQQFqIQcLAkAgAiAHa0ECSA0AIActAABBMEcNACAHLQABQSByQfgARw0AIAtBMBBZIQggBSAFKAIAIglBAWo2AgAgCSAIOgAAIAsgBywAARBZIQggBSAFKAIAIglBAWo2AgAgCSAIOgAAIAdBAmohBwsgByACEK8CQQAhCSAGEG0hDUEAIQggByEGA38gAiAGTQR/IAMgByAAa2ogBSgCABCvAiAFKAIABQJAIApBBGoiDCAIECAtAABFDQAgCSAKQQRqIAgQICwAAEcNACAFIAUoAgAiCUEBajYCACAJIA06AAAgCCAIIAwQDEEBa0lqIQhBACEJCyALIAYsAAAQWSEMIAUgBSgCACIOQQFqNgIAIA4gDDoAACAGQQFqIQYgCUEBaiEJDAELCyEGCyAEIAYgAyABIABraiABIAJGGzYCACAKQQRqEAoaIApBEGokAAubAwEDfyMAQdACayIAJAAgACACNgLIAiAAIAE2AswCIAMQxgEhBiADIABB0AFqEMADIQcgAEHEAWogAyAAQcQCahC/AyAAQbgBahAmIgEgARAnEB4gACABQQAQICICNgK0ASAAIABBEGo2AgwgAEEANgIIA0ACQCAAQcwCaiAAQcgCahAtDQAgACgCtAEgARAMIAJqRgRAIAEQDCEDIAEgARAMQQF0EB4gASABECcQHiAAIAMgAUEAECAiAmo2ArQBCyAAQcwCaiIDEEggBiACIABBtAFqIABBCGogACgCxAIgAEHEAWogAEEQaiAAQQxqIAcQ7wINACADEFMaDAELCwJAIABBxAFqEAxFDQAgACgCDCIDIABBEGprQZ8BSg0A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AiACKAIEQQFyNgIEIAkgBiAJKAIAQQFxckECcjYCACABIAZqIgIgAigCBEEBcjYCBCABIAYQuwQLAkAgACgCBCICQQNxRQ0AIAJBeHEiASAFQRBqTQ0AIAAgBSACQQFxckECcjYCBCAAIAVqIgQgASAFayICQQNyNgIEIAAgAWoiASABKAIEQQFyNgIEIAQgAhC7BAsgAEEIagsLIgBFDQEaIAggADYCDEEAIQELIAELIQBBACAIKAIMIAAbIQELIAhBEGokACABDQBByMMCKAIAIgBFDQAgABEQAAwBCwsgAQ8LIAAQGAsHACABIABrCyMAA0AgACABRwRAIAJB8ABrIABB8ABrIgAQMiECDAELCyACCwkAIAAgARCiCgsHACAAQQhLCxMAIAEQpQoEQCAAEAsPCyAAEAsLJQEBfyAAKAIIIQIDQCABIAJGRQRAIAAgAkEEayICNgIIDAELCwuBAQEDfyMAQRBrIgQkACMAQSBrIgMkACADQRhqIAAgARD5BSADQRBqIANBDGoiASADKAIYIAMoAhwgAhD4BSADIAAgAygCEBD3BTYCDCADIAIgAygCFBC1BDYCCCAEQQhqIAEgA0EIahDHASADQSBqJAAgBCgCDCEFIARBEGokACAFCwwAIAAgACgCBBCnCgsJACAAEN0BEAsLDgBBACAAIABBfxCJAhsLqQEBA38jAEEQayIDJAAgASACEKQKIgVB7////wdNBEACQCAFEMIDBEAgACAFEHkgACEEDAELIANBCGogACAFELQCQQFqEIYCIAMoAgwaIAAgAygCCCIEEIoBIAAgAygCDBCJASAAIAUQbwsDQCABIAJHBEAgBCABEIMBIARBAWohBCABQQFqIQEMAQsLIANBADoAByAEIANBB2oQgwEgA0EQaiQADwsQbgALEAAgAEIANwIAIABBADYCCAsPACAAIAAoAhggAWo2AhgLFwAgACACNgIcIAAgATYCFCAAIAE2AhgLVwECfwJAIAAoAgAiAkUNAAJ/IAIoAhgiAyACKAIcRgRAIAIgASACKAIAKAI0EQMADAELIAIgA0EEajYCGCADIAE2AgAgAQtBfxCJAkUNACAAQQA2AgALCzEBAX8gACgCDCIBIAAoAhBGBEAgACAAKAIAKAIoEQIADwsgACABQQRqNgIMIAEoAgALJwEBfyAAKAIMIgEgACgCEEYEQCAAIAAoAgAoAiQRAgAPCyABKAIACycBAX8CQCAAKAIAIgJFDQAgAiABELYKQX8QiQJFDQAgAEEANgIACwsdACAAIAFB/P///wdBAUH/////A0GAgICABBC2AwsJACAAEP4FEAsLPQEBfyAAKAIYIgIgACgCHEYEQCAAIAEQugIgACgCACgCNBEDAA8LIAAgAkEBajYCGCACIAE6AAAgARC6Ags0AQF/IAAoAgwiASAAKAIQRgRAIAAgACgCACgCKBECAA8LIAAgAUEBajYCDCABLAAAELoCCyoBAX8gACgCDCIBIAAoAhBGBEAgACAAKAIAKAIkEQIADwsgASwAABC6AgsPACAAIAAoAgAoAhgRAgALCAAgACgCEEULBABBfwsOACAAIAAgAWogAhCoCgsIACAAEPYFGgsKACABIABrQQJ1C4QBAQN/IwBBEGsiBSQAIAVBADoADiMAQRBrIgMkACAAIAEQhQYhAQNAIAEEQCADIAA2AgwgAyADKAIMIAFBAXYiBEECdGo2AgwgASAEQX9zaiAEIAMoAgwgAhCIBiIEGyEBIAMoAgxBBGogACAEGyEADAELCyADQRBqJAAgBUEQaiQAIAALrQwBBn8jAEEQayIEJAAgBCAANgIMAkAgAEHTAU0EQEHQywFBkM0BIARBDGoQvwooAgAhAgwBCyAAQXxPBEAQEgALIAQgACAAQdIBbiIGQdIBbCICazYCCEGQzQFB0M4BIARBCGoQvwpBkM0Ba0ECdSEFA0AgBUECdEGQzQFqKAIAIAJqIQJBBSEAA0ACQCAAQS9GBEBB0wEhAANAIAIgAG4iASAASQ0FIAIgACABbEYNAiACIABBCmoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBDGoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBEGoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBEmoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBFmoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBHGoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBHmoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBJGoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBKGoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBKmoiAW4iAyAB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QgBSDQEgAiAEQQFxaiECDAELIABQIAVCgICAgICAwP//AFQgBUKAgICAgIDA//8AURtFBEAgAUIZiKdB////AXFBgICA/gdyIQIMAQtBgICA/AchAiAFQv///////7+/wABWDQBBACECIAVCMIinIgRBkf4ASQ0AIANBEGogACABQv///////z+DQoCAgICAgMAAhCIFIARBgf4AaxBhIAMgACAFQYH/ACAEaxC7AiADKQMIIgBCGYinIQIgAykDACADKQMQIAMpAxiEQgBSrYQiBVAgAEL///8PgyIAQoCAgAhUIABCgICACFEbRQRAIAJBAWohAgwBCyAFIABCgICACIWEQgBSDQAgAkEBcSACaiECCyADQSBqJAAgAiABQiCIp0GAgICAeHFyvguqDwIFfw9+IwBB0AJrIgUkACAEQv///////z+DIQsgAkL///////8/gyEKIAIgBIVCgICAgICAgICAf4MhDSAEQjCIp0H//wFxIQgCQAJAIAJCMIinQf//AXEiCUH//wFrQYKAfk8EQCAIQf//AWtBgYB+Sw0BCyABUCACQv///////////wCDIgxCgICAgICAwP//AFQgDEKAgICAgIDA//8AURtFBEAgAkKAgICAgIAghCENDAILIANQIARC////////////AIMiAkKAgICAgIDA//8AVCACQoCAgICAgMD//wBRG0UEQCAEQoCAgICAgCCEIQ0gAyEBDAILIAEgDEKAgICAgIDA//8AhYRQBEAgAyACQoCAgICAgMD//wCFhFAEQEIAIQFCgICAgICA4P//ACENDAMLIA1CgICAgICAwP//AIQhDUIAIQEMAgsgAyACQoCAgICAgMD//wCFhFAEQEIAIQEMAgsgASAMhFAEQEKAgICAgIDg//8AIA0gAiADhFAbIQ1CACEBDAILIAIgA4RQBEAgDUKAgICAgIDA//8AhCENQgAhAQwCCyAMQv///////z9YBEAgBUHAAmogASAKIAEgCiAKUCIGG3kgBkEGdK18pyIGQQ9rEGFBECAGayEGIAUpA8gCIQogBSkDwAIhAQsgAkL///////8/Vg0AIAVBsAJqIAMgCyADIAsgC1AiBxt5IAdBBnStfKciB0EPaxBhIAYgB2pBEGshBiAFKQO4AiELIAUpA7ACIQMLIAVBoAJqIAtCgICAgICAwACEIhJCD4YgA0IxiIQiAkIAQoCAgICw5ryC9QAgAn0iBEIAEC8gBUGQAmpCACAFKQOoAn1CACAEQgAQLyAFQYACaiAFKQOYAkIBhiAFKQOQAkI/iIQiBEIAIAJCABAvIAVB8AFqIARCAEIAIAUpA4gCfUIAEC8gBUHgAWogBSkD+AFCAYYgBSkD8AFCP4iEIgRCACACQgAQLyAFQdABaiAEQgBCACAFKQPoAX1CABAvIAVBwAFqIAUpA9gBQgGGIAUpA9ABQj+IhCIEQgAgAkIAEC8gBUGwAWogBEIAQgAgBSkDyAF9QgAQLyAFQaABaiACQgAgBSkDuAFCAYYgBSkDsAFCP4iEQgF9IgJCABAvIAVBkAFqIANCD4ZCACACQgAQLyAFQfAAaiACQgBCACAFKQOoASAFKQOgASIMIAUpA5gBfCIEIAxUrXwgBEIBVq18fUIAEC8gBUGAAWpCASAEfUIAIAJCABAvIAYgCSAIa2ohBgJ/IAUpA3AiE0IBhiIOIAUpA4gBIg9CAYYgBSkDgAFCP4iEfCIQQufsAH0iFEIgiCICIApCgICAgICAwACEIhVCAYYiFkIgiCIEfiIRIAFCAYYiDEIgiCILIBAgFFatIA4gEFatIAUpA3hCAYYgE0I/iIQgD0I/iHx8fEIBfSITQiCIIhB+fCIOIBFUrSAOIA4gE0L/////D4MiEyABQj+IIhcgCkIBhoRC/////w+DIgp+fCIOVq18IAQgEH58IAQgE34iESAKIBB+fCIPIBFUrUIghiAPQiCIhHwgDiAOIA9CIIZ8Ig5WrXwgDiAOIBRC/////w+DIhQgCn4iESACIAt+fCIPIBFUrSAPIA8gEyAMQv7///8PgyIRfnwiD1atfHwiDlatfCAOIAQgFH4iGCAQIBF+fCIEIAIgCn58IgogCyATfnwiEEIgiCAKIBBWrSAEIBhUrSAEIApWrXx8QiCGhHwiBCAOVK18IAQgDyACIBF+IgIgCyAUfnwiC0IgiCACIAtWrUIghoR8IgIgD1StIAIgEEIghnwgAlStfHwiAiAEVK18IgRC/////////wBYBEAgFiAXhCEVIAVB0ABqIAIgBCADIBIQLyABQjGGIAUpA1h9IAUpA1AiAUIAUq19IQpCACABfSELIAZB/v8AagwBCyAFQeAAaiAEQj+GIAJCAYiEIgIgBEIBiCIEIAMgEhAvIAFCMIYgBSkDaH0gBSkDYCIMQgBSrX0hCkIAIAx9IQsgASEMIAZB//8AagsiBkH//wFOBEAgDUKAgICAgIDA//8AhCENQgAhAQwBCwJ+IAZBAEoEQCAKQgGGIAtCP4iEIQogBEL///////8/gyAGrUIwhoQhDCALQgGGDAELIAZBj39MBEBCACEBDAILIAVBQGsgAiAEQQEgBmsQuwIgBUEwaiAMIBUgBkHwAGoQYSAFQSBqIAMgEiAFKQNAIgIgBSkDSCIMEC8gBSkDOCAFKQMoQgGGIAUpAyAiAUI/iIR9IAUpAzAiBCABQgGGIgFUrX0hCiAEIAF9CyEEIAVBEGogAyASQgNCABAvIAUgAyASQgVCABAvIAwgAiACIAMgAkIBgyIBIAR8IgNUIAogASADVq18IgEgElYgASASURutfCICVq18IgQgAiACIARCgICAgICAwP//AFQgAyAFKQMQViABIAUpAxgiBFYgASAEURtxrXwiAlatfCIEIAIgBEKAgICAgIDA//8AVCADIAUpAwBWIAEgBSkDCCIDViABIANRG3GtfCIBIAJUrXwgDYQhDQsgACABNwMAIAAgDTcDCCAFQdACaiQAC8ABAgF/An5BfyEDAkAgAEIAUiABQv///////////wCDIgRCgICAgICAwP//AFYgBEKAgICAgIDA//8AURsNACACQv///////////wCDIgVCgICAgICAwP//AFYgBUKAgICAgIDA//8AUnENACAAIAQgBYSEUARAQQAPCyABIAKDQgBZBEAgASACUiABIAJTcQ0BIAAgASAChYRCAFIPCyAAQgBSIAEgAlUgASACURsNACAAIAEgAoWEQgBSIQMLIAMLcgEBfyMAQRBrIgMkAAJAIAAtABBBAUYEQCABIAIpAwA3AwAgASACKQMINwMIDAELIAMgAjYCDCADIAA2AgggAygCDCEBIAMoAggiABC5ASAAIAEpAwg3AwggACABKQMANwMAIABBAToAEAsgA0EQaiQACxIAIABFBEBBAA8LIAAgARCLBgspACABIAEoAgBBB2pBeHEiAUEQajYCACAAIAEpAwAgASkDCBCJBjkDAAuXGAMTfwF8An4jAEGwBGsiDCQAIAxBADYCLAJAIAG9IhpCAFMEQEEBIRBBigshEyABmiIBvSEaDAELIARBgBBx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AEgbOgAAIARBCHEhBiAMQRBqIQcDQCAHIgUCfyABmUQAAAAAAADgQWMEQCABqgwBC0GAgICAeAsiB0HAywFqLQAAIA1yOgAAIAYgA0EASnJFIAEgB7ehRAAAAAAAADBAoiIBRAAAAAAAAAAAYXEgBUEBaiIHIAxBEGprQQFHckUEQCAFQS46AAEgBUECaiEHCyABRAAAAAAAAAAAYg0AC0F/IQlB/f///wcgCyARIAprIgZqIg1rIANIDQAgAEEgIAIgDSADQQJqIAcgDEEQaiIHayIFIAVBAmsgA0gbIAUgAxsiCWoiAyAEEGIgACAIIAsQWiAAQTAgAiADIARBgIAEcxBiIAAgByAFEFogAEEwIAkgBWtBAEEAEGIgACAKIAYQWiAAQSAgAiADIARBgMAAcxBiIAMgAiACIANIGyEJCyAMQbAEaiQAIAkLMAAgABC5ASAAIAEoAgg2AgggACABKQIANwIAIAFCADcCACABQQA2AgggAEEAOgAQC7oCAAJAAkACQAJAAkACQAJAAkACQAJAAkAgAUEJaw4SAAgJCggJAQIDBAoJCgoICQUGBwsgAiACKAIAIgFBBGo2AgAgACABKAIANgIADwsgAiACKAIAIgFBBGo2AgAgACABMgEANwMADwsgAiACKAIAIgFBBGo2AgAgACABMwEANwMADwsgAiACKAIAIgFBBGo2AgAgACABMAAANwMADwsgAiACKAIAIgFBBGo2AgAgACABMQAANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKwMAOQMADwsgACACENEKCw8LIAIgAigCACIBQQRqNgIAIAAgATQCADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATUCADcDAA8LIAIgAigCAEEHakF4cSIBQQhqNgIAIAAgASkDADcDAAttAQR/IAAoAgAsAAAQrAFFBEBBAA8LA0AgACgCACEDQX8hASACQcyZs+YATQRAQX8gAywAAEEwayIEIAJBCmwiAWogBCABQf////8Hc0obIQELIAAgA0EBajYCACABIQIgAywAARCsAQ0ACyABC4kTAhZ/AX4jAEHQAGsiBiQAIAYgATYCTCAGQTdqIRYgBkE4aiEQAkACQAJAA0BBACEFA0AgASELIAUgD0H/////B3NKDQIgBSAPaiEPAkACQAJAIAEiBS0AACIH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A/ACCyEWIA4gFTcDKCAOIBY3AyAgBEGQxgBqJAAgDikDKCEVIA4pAyAhFgwECyABKQNwQgBZBEAgASABKAIEQQFrNgIECwwBCwJAAn8gASgCBCICIAEoAmhHBEAgASACQQFqNgIEIAItAAAMAQsgARAoC0EoRgRAQQEhBgwBC0KAgICAgIDg//8AIRUgASkDcEIAUw0DIAEgASgCBEEBazYCBAwDCwNAAn8gASgCBCICIAEoAmhHBEAgASACQQFqNgIEIAItAAAMAQsgARAoCyICQTBrQQpJIAJBwQBrQRpJciACQd8ARnJFIAJB4QBrQRpPcUUEQCAGQQFqIQYMAQsLQoCAgICAgOD//wAhFSACQSlGDQIgASkDcCIYQgBZBEAgASABKAIEQQFrNgIECwJAIAMEQCAGDQEMBAsMAQsDQCAYQgBZBEAgASABKAIEQQFrNgIECyAGQQFrIgYNAAsMAgtB0K0CQRw2AgAgAUIAEK0BC0IAIRULIAAgFjcDACAAIBU3AwggDkEwaiQAC8oGAgV/BH4jAEGAAWsiBSQAAkACQAJAIAMgBEIAQgAQvAJFDQACfyAEQv///////z+DIQsCfyAEQjCIp0H//wFxIgZB//8BRwRAQQQgBg0BGkECQQMgAyALhFAbDAILIAMgC4RQCwshCSACQjCIpyIIQf//AXEiB0H//wFGDQAgCQ0BCyAFQRBqIAEgAiADIAQQNyAFIAUpAxAiAiAFKQMYIgEgAiABEM0KIAUpAwghAiAFKQMAIQQMAQsgASACQv///////////wCDIgsgAyAEQv///////////wCDIgoQvAJBAEwEQCABIAsgAyAKELwCBEAgASEEDAILIAVB8ABqIAEgAkIAQgAQNyAFKQN4IQIgBSkDcCEEDAELIARCMIinQf//AXEhBiAHBH4gAQUgBUHgAGogASALQgBCgICAgICAwLvAABA3IAUpA2giC0IwiKdB+ABrIQcgBSkDYAshBCAGRQRAIAVB0ABqIAMgCkIAQoCAgICAgMC7wAAQNyAFKQNYIgpCMIinQfgAayEGIAUpA1AhAwsgCkL///////8/g0KAgICAgIDAAIQhDCALQv///////z+DQoCAgICAgMAAhCELIAYgB0gEQANAAn4gCyAMfSADIARWrX0iCkIAWQRAIAogBCADfSIEhFAEQCAFQSBqIAEgAkIAQgAQNyAFKQMoIQIgBSkDICEEDAULIApCAYYgBEI/iIQMAQsgC0IBhiAEQj+IhAshCyAEQgGGIQQgB0EBayIHIAZKDQALIAYhBwsCQCALIAx9IAMgBFatfSIKQgBTBEAgCyEKDAELIAogBCADfSIEhEIAUg0AIAVBMGogASACQgBCABA3IAUpAzghAiAFKQMwIQQMAQsgCkL///////8/WARAA0AgBEI/iCENIAdBAWshByAEQgGGIQQgDSAKQgGGhCIKQoCAgICAgMAAVA0ACwsgCEGAgAJxIQYgB0EATARAIAVBQGsgBCAKQv///////z+DIAdB+ABqIAZyrUIwhoRCAEKAgICAgIDAwz8QNyAFKQNIIQIgBSkDQCEEDAELIApC////////P4MgBiAHcq1CMIaEIQILIAAgBDcDACAAIAI3AwggBUGAAWokAAu/AgEBfyMAQdAAayIEJAACQCADQYCAAU4EQCAEQSBqIAEgAkIAQoCAgICAgID//wAQNyAEKQMoIQIgBCkDICEBIANB//8BSQRAIANB//8AayEDDAILIARBEGogASACQgBCgICAgICAgP//ABA3Qf3/AiADIANB/f8CThtB/v8BayEDIAQpAxghAiAEKQMQIQEMAQsgA0GBgH9KDQAgBEFAayABIAJCAEKAgICAgICAORA3IAQpA0ghAiAEKQNAIQEgA0H0gH5LBEAgA0GN/wBqIQMMAQsgBEEwaiABIAJCAEKAgICAgICAORA3QeiBfSADIANB6IF9TBtBmv4BaiEDIAQpAzghAiAEKQMwIQELIAQgASACQgAgA0H//wBqrUIwhhA3IAAgBCkDCDcDCCAAIAQpAwA3AwAgBEHQAGokAAs1ACAAIAE3AwAgACACQv///////z+DIARCMIinQYCAAnEgAkIwiKdB//8BcXKtQjCGhDcDCAsOACAAKAIAIAEgAhDPCgt8AQJ/IAAgACgCSCIBQQFrIAFyNgJIIAAoAhQgACgCHEcEQCAAQQBBACAAKAIkEQUAGgsgAEEANgIcIABCADcDECAAKAIAIgFBBHEEQCAAIAFBIHI2AgBBfw8LIAAgACgCLCAAKAIwaiICNgIIIAAgAjYCBCABQRt0QR91CywBAn8jAEEQayICJAAgAiABNgIMIABB5ABBli4gARC9BCEDIAJBEGokACADC2wBAn8gASAAKAIEIAAoAgAgASgCBBCjCiICNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsTACAAQQAgAUGgrAIoAgARBQAaC4QFAQt/IAEoAgAiBCgCHCELA0ACQCAEKAIYIApNBEBBAQ8LAkACQAJAAkAgCyAKQTBsaiIDKAIIQQFrDgMBAAECCyAAIAMoAhAiBmoiBCgCACIIRQ0BIAEgAygCFCIFaiEHIAAgBWohBQJAIAEgBmoiBigCAARAIAMoAgwQvQIhAyACKAIIIAMgBigCACAEKAIAamwgAigCABEDACIIRQ0EIAggBSgCACAEKAIAIANsEB8iCCAEKAIAIANsaiAHKAIAIAYoAgAgA2wQHxogBygCACIDBEAgAigCCCADIAIoAgQRAAALIAUoAgAiAwRAIAIoAgggAyACKAIEEQAACyAHIAg2AgAgBiAGKAIAIAQoAgBqNgIADAELIAYgCDYCACAHIAUoAgA2AgALIARBADYCACAFQQA2AgAMAQsgASADKAIQIgZqIQggACAGaiEGIAMtACBBBHEEQCAIKAIADQEgBCgCJCAEKAIoIAYoAgAQkAYiA0EASA0DIAQoAhwgA0EwbGohAwsgASADKAIUIgRqIQcgACAEaiEEIAMoAhwhBQJAAkACQAJAAkACQCADKAIMIgxBDmsOAwIBAAMLIAQoAgAiBUUNBSAHKAIAIglFDQQgBSAJIAIQ5gpFDQYMBQsgBCgCBCINRQ0EIAcoAgQhCSAFRQ0CIA0gBSgCBCIFRg0EIAlFIAUgCUZyDQMMBAsgBCgCACAFRg0DIAcoAgAgBUYNAgwDCyAGKAIARQ0CIAgoAgANAgwBCyAJDQELIAcgBCAMEL0CIgcQHxogBEEAIAcQHRogAygCEEUNACAIIAYoAgA2AgAgBkEANgIACyAKQQFqIQogASgCACEEDAILCwtBAAsuAQN/A0AgACACRgRAQQAPCyABIAJqIQQgAkEBaiECIAQtAABB/wBxRQ0AC0EBCz0BAX8jAEEQayICJAAgAC0AEEEGRwRAIAIgATYCDCACIAA2AgggAigCCCIAEDsgAEEGOgAQCyACQRBqJAALlwUBAn8jAEEgayIDJAAgACgCBCADEJEGIQQCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAKAIMDhEACwQDAgUBBAMFBAUGAAcICQoLIAIgASgCACADIARqEO0KIARqIgAgAyACKAIAEQQADAsLIAIgASgCACADIARqEMsBIARqIgAgAyACKAIAEQQADAoLIAIgASkDACADIARqEOoKIARqIgAgAyACKAIAEQQADAkLIAIgASkDACADIARqEMEEIARqIgAgAyACKAIAEQQADAgLIAMgAy0AAEEFcjoAACADIARqIAEoAgA2AAAgAiAEQQRqIgAgAyACKAIAEQQADAcLIAMgAy0AAEEBcjoAACADIARqIAEpAwA3AAAgAiAEQQhqIgAgAyACKAIAEQQADAYLIAMgBGogASgCAEEARzoAACACIARBAWoiACADIAIoAgARBAAMBQsgASgCACIBBH8gARDiAQVBAAshACADIAMtAABBAnI6AAAgAiAAIAMgBGoQywEgBGoiBCADIAIoAgARBAAgAiAAIAEgAigCABEEACAAIARqIQAMBAsgASgCACEAIAMgAy0AAEECcjoAACACIAAgAyAEahDLASAEaiIEIAMgAigCABEEACACIAAgASgCBCACKAIAEQQAIAAgBGohAAwDCyABKAIAIQAgAyADLQAAQQJyOgAAIABFBEAgAyAEakEAOgAAIAIgBEEBaiIAIAMgAigCABEEAAwDCyACIAAQYyIBIAMgBGoQywEgBGoiBCADIAIoAgARBAAgACACEHEgASAEaiEADAILQY7KAEG1wgBB6QxBgSEQAAALIAIgASgCACADIARqEOwKIARqIgAgAyACKAIAEQQACyADQSBqJAAgAAsSACAAQgGGIABCP4eFIAEQwQQLcQEBfyMAQRBrIgMkAAJAIAAtABBBBUYEQCABIAIpAwA3AwAgASACKQMINwMIDAELIAMgAjYCDCADIAA2AgggAygCDCEBIAMoAggiABA7IAAgASkDCDcDCCAAIAEpAwA3AwAgAEEFOgAQCyADQRBqJAALEgAgAEEBdCAAQR91cyABEMsBC2UAIABBAEgEQCABQQE6AAkgAUF/NgAFIAEgAEGAAXI6AAAgASAAQRx1QYABcjoABCABIABBFXZBgAFyOgADIAEgAEEOdkGAAXI6AAIgASAAQQd2QYABcjoAAUEKDwsgACABEMsBC4UBAQF/QQEhAgJAAkACQAJAAkACQAJAAkAgACgCDA4RAQEBAgICAQECAgMEAAEFBgYHCyABKAIARQ8LIAEoAgBFDwsgASkDAFAPCyABKgIAQwAAAABbDwsgASsDAEQAAAAAAAAAAGEPCyABKAIAIgBFDQEgAC0AAEUPCyABKAIARSECCyACCy8AIAAQOyAAIAEoAgg2AgggACABKQIANwIAIAFCADcCACABQQA2AgggAEEEOgAQCzIAIABB/JcBKAIANgIYIABB9JcBKQIANwIQIABB7JcBKQIANwIIIABB5JcBKQIANwIACw4AIABB4JYBQcgAEB8aCw0AIABBoJUBQSgQHxoLJgAgAEHclAEpAgA3AhAgAEHUlAEpAgA3AgggAEHMlAEpAgA3AgALDQAgAEHskwFBJBAfGgsNACAAQdCRAUEwEB8aCyYAIABBiJEBKQMANwMQIABBgJEBKQMANwMIIABB+JABKQMANwMACyYAIABBtJABKAIANgIQIABBrJABKQIANwIIIABBpJABKQIANwIACzIAIABB5I8BKAIANgIYIABB3I8BKQIANwIQIABB1I8BKQIANwIIIABBzI8BKQIANwIACzIAIABBmIwBKQMANwMYIABBkIwBKQMANwMQIABBiIwBKQMANwMIIABBgIwBKQMANwMAC0UBAX8jAEEQayIDJAACQCAALQAQQQRGBEAgASACEBsMAQsgAyACNgIMIAMgADYCCCADKAIIIAMoAgwQ7woLIANBEGokAAsOACAAQYiKAUHAABAfGgsmACAAQcSJASgCADYCECAAQbyJASkCADcCCCAAQbSJASkCADcCAAsNACAAQcCIAUE4EB8aCw0AIABB6OgAQTAQHxoLDgAgAEHw5QBB4AAQHxoLYQECfyMAQRBrIgMkAAJAIAAtABBBA0YEQCABIAItAAA6AAAMAQsgAyACNgIMIAMgADYCCCADKAIMIQQgAygCCCIAEDsgBC0AACEBIABBAzoAECAAIAE6AAALIANBEGokAAsNACAAQdDiAEEoEB8aC2MCAn8BfCMAQRBrIgMkAAJAIAAtABBBAkYEQCABIAIrAwA5AwAMAQsgAyACNgIMIAMgADYCCCADKAIMIQQgAygCCCIAEDsgBCsDACEFIABBAjoAECAAIAU5AwALIANBEGokAAtjAgJ/AX4jAEEQayIDJAACQCAALQAQQQFGBEAgASACKQMANwMADAELIAMgAjYCDCADIAA2AgggAygCDCEEIAMoAggiABA7IAQpAwAhBSAAQQE6ABAgACAFNwMACyADQRBqJAALFQAgAEG44AA2AgAgAEEIahAKGiAACw4AIABBCGoQChogABALCwoAIABBCGoQChoLYQICfwF+IwBBEGsiAyQAAkAgAC0AEEUEQCABIAIpAwA3AwAMAQsgAyACNgIMIAMgADYCCCADKAIMIQQgAygCCCIAEDsgBCkDACEFIABBADoAECAAIAU3AwALIANBEGokAAsVACAAQZTgADYCACAAQQhqEAoaIAALDAAgACgCACACEOgKCxYAIABBqN8ANgIAIABBBGoQtgEaIAALDwAgAEEEahC2ARogABALCwsAIABBBGoQtgEaCw4AIAAoAgAgASACEOsKCxYAIABBhN8ANgIAIABBBGoQtgEaIAALGgAgACABKAIANgIAIABBCGogAUEIahCDAxoLFQAgAEGY3gA2AgAgAEEQahARGiAACw4AIAAoAgAgASACEIALCw4AIAAoAgAgASACEIILCw4AIAAoAgAgASACEIMLCw4AIAAoAgAgASACEIcLC8YBAQd/An8gARCRAiEEAkAgACgCuAQiA0UNACAAKAK0BAJ/IANBAWsgBHEgA2kiAkEBTQ0AGiAEIAMgBEsNABogBCADcAsiBkECdGooAgAiBUUNACADQQFrIQcgAkEBSyEIA0AgBSgCACIFRQ0BIAUoAgQiAiAERwRAAkAgCEUEQCACIAdxIQIMAQsgAiADSQ0AIAIgA3AhAgsgAiAGRw0CDAELIAVBCGogARAjRQ0ACyAFDAELQQALIgFBFGogAEG0DWogARsLEQAgABBGIAAgARBzQQI6ABgLzwMBCH8jAEGQAWsiBCQAAkAgAC0ApAJFDQBBARAaBEAgBEEIahAVIQcgBEEBNgIEIAcgAEGwA2oQE0HBEBANGiAEQQRqEBkLIAAoArwBIQMgACgCuAEhAQNAIAEgA0YEQCAAIAApA+gBNwPwAQUgAUEBOgAoIAFBMGohAQwBCwsgAEGcAmohBiAAKAKYAiEAA0AgACAGRg0BIwBBkAFrIgMkAAJAIABBIGoiAS0AxANFDQAgASgCkAEgASgClAFGDQBBABAaBEAgA0EIahAV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AToAGCACIAM2AgALIABBEGokAAtLAQF/IAAoAgAhAyMAQRBrIgAkAAJAIAMtABhFBEAgASACEMYEDAELIAAgAjYCDCAAIAM2AgggACgCCCAAKAIMEK8GCyAAQRBqJAALZAEBfyMAQRBrIgMkACAAQQhqIQACQCABLwEAIgEEQCAAIAEgA0EEakHT0gAQDiIBEM4DDAELIANBBGoiASACKAIEIgIoAhAgAigCDBBRIABBACABEM4DCyABEAoaIANBEGokAAsNACAAIAFBmNkAEPoBCwsAIABBmNkAEPsBCwkAIAAQsgYQCwv4AQIEfwF+IwBBMGsiAyQAIABBCGohBQJ/IAEvAQAiAQRAIANBJGpB09IAEA4hAiADQRhqQdPSABAOIQAgA0EANgIUIANCADcCDCAFIAEgAiAAIANBDGoiARCzBiABDAELIANBJGoiASACKAIEKAIMEA4aIANBGGoiACACKAIEKAIQEA4aIANBDGoiBEEANgIIIARCADcCACAEIAIoAgQoAhQQ/QEDQCACKAIEIgY1AhQgB1YEQCAEIAYoAhggB6dBAnRqEIIDIAdCAXwhBwwBCwsgBUEAIAEgACAEELMGIAEhAiAECxBAIAAQChogAhAKGiADQTBqJAALDQAgACABQfTYABD6AQsLACAAQfTYABD7AQsJACAAELQGEAsLDQAgACABQdDYABD6AQsLACAAQdDYABD7AQuUAQEDfyMAQSBrIgEkACAAKAIMIgIEQCACQQAgACgCEEEDdBAdGgsgACgCBCAAKAIAa0EEdSEDQQAhAgNAIAIgA0YEQCABQSBqJAAFIAFBGGogACAAKAIAIAJBBHRqEMgEIAEgAjYCFCABIAEoAhg2AhAgASABKQIQNwMIIAAgAUEIaiABKAIcEDEgAkEBaiECDAELCwsJACAAELUGEAsLDQAgACABQazYABD6AQsLACAAQazYABD7AQsJACAAELYGEAsLDQAgACABQYjYABD6AQsLACAAQYjYABD7AQsJACAAELcGEAsLDQAgACABQeTXABD6AQsLACAAQeTXABD7AQsJACAAELgGEAsLfAECfyMAQRBrIgMkACAAQQhqIQACQCABLwEAIgEEQCAAIAEgA0EEakHT0gAQDiIBEM4DDAELIANBBGohAQJAIAIoAgQiAigCHCIERQRAIAFB09IAEA4aDAELIAEgAigCICAEEFELIABBACABEM4DCyABEAoaIANBEGokAAsNACAAIAFBwNcAEPoBCwsAIABBwNcAEPsBCwkAIAAQuQYQCwsJACAAENUEEAsLCQAgABDWBBALCwkAIAAQ1wQQCwsJACAAENgEEAsLCQAgABDCAhALCw4AIAAoAgAgASACEPkIC2sBAX8gACgCACEDIwBBEGsiACQAAkAgAy0AEEEERgRAIAEgAhClAgwBCyAAIAI2AgwgACADNgIIIwBBEGsiASQAIAAoAgggAUEEaiAAKAIMEBAiAhDvCiACEAoaIAFBEGokAAsgAEEQaiQAC2sBAX8gACgCACEDIwBBEGsiACQAAkAgAy0AGEECRgRAIAEgAhDXBgwBCyAAIAI2AgwgACADNgIIIwBBIGsiASQAIAAoAgggAUEIaiAAKAIMEO0DIgIQlgsgAhA7IAFBIGokAAsgAEEQaiQACwkAIABBBBCnCQsHACABEJkHCwcAIAEQmgcLBwAgARCRBwsHACABEJMHCwcAIAEQswELIAAgASACKQMANwMAIAEgAikDEDcDECABIAIpAwg3AwgLYgECfyMAQSBrIgIkAAJAIAEgACgCCCAAKAIAIgNrQQN1SwRAIAFBgICAgAJPDQEgACACQQxqIAEgACgCBCADa0EDdSAAQQhqELICIgAQpwUgABCwAgsgAkEgaiQADwsQAQALywEBA38gACgCACEDIwBBEGsiACQAAkAgAy0AkAFBAUYEQCABIAIoAgA2AgACQCABQQhqIgMtAEgiBCACQQhqIgUtAEhGBEAgBEUNASADIAUQrQMMAQsgBARAIAMQ8QcMAQsgAyAFEIAGCyABQdgAaiACQdgAahBMIAFB5ABqIAJB5ABqEEwgAUHwAGogAkHwAGoQ9gIMAQsgACACNgIMIAAgAzYCCCAAKAIMIQEgACgCCCICEJMDIAIgARD6B0EBOgCQAQsgAEEQaiQAC4kBAQF/IAAoAgAhAyMAQRBrIgAkAAJAIAMtAJABRQRAIAEgAigCADYCACABQQRqIAJBBGoQ+QcgAUEkaiACQSRqEPUHIAFBxABqIAJBxABqEPYCDAELIAAgAjYCDCAAIAM2AgggACgCDCEBIAAoAggiAhCTAyACIAEQ+wdBADoAkAELIABBEGokAAuXAQEBfyAAKAIAIQMjAEEQayIAJAACQCADLQAQQQFGBEAgASACEKUCDAELIAAgAjYCDCAAIAM2AggjAEEQayIDJAAgACgCCCEBIANBBGogACgCDBAQIQIgARAqIAEgAigCCDYCCCABIAIpAgA3AgAgAkIANwIAIAJBADYCCCABQQE6ABAgAhAKGiADQRBqJAALIABBEGokAAtoAgJ/AX4gACgCACEDIwBBEGsiACQAAkAgAy0AEEUEQCABIAIpAwA3AwAMAQsgACACNgIMIAAgAzYCCCAAKAIMIQQgACgCCCIBECogBCkDACEFIAFBADoAECABIAU3AwALIABBEGokAAsHACABEPQBCwkAIABBLBCpCQsJACAAQSgQ5QILCwAgACABQSgQlQkLCQAgAEEoEKkJCwkAIABBBxCoCQsKACABIAIQ+gcaCwoAIAEgAhD7BxoLlgEBA38jAEEgayIBJAAgACgCDCICBEAgAkEAIAAoAhBBA3QQHRoLIAAoAgQgACgCAGtB0AFtIQNBACECA0AgAiADRgRAIAFBIGokAAUgAUEYaiAAIAAoAgAgAkHQAWxqEMgEIAEgAjYCFCABIAEoAhg2AhAgASABKQIQNwMIIAAgAUEIaiABKAIcEDEgAkEBaiECDAELCws/ACABQQhqIQAgAS0AUARAIAAgARCXCAsgAUHwAGoQPCABQeQAahAPGiABQdgAahAPGiAALQBIBEAgABBkGgsL9QEBAn8gASgCCCECIAEoAgQhAANAIAAgAkYEQAJAIAFBJGohAiABKAIoIQMgASgCJCEAA0AgACADRg0BIAEgACkDGBDPAiAAQShqIQAMAAsACwUgASAAQRBqEI4BIABBgAFqIQAMAQsLIAFBxABqEDwgASgCMCIABEAgABALCyMAQRBrIgAkACAAIAI2AgwgACgCDCICKAIABEAgAhCRBSAAKAIMKAIAEAsLIABBEGokACABKAIQIgAEQCAAEAsLIwBBEGsiACQAIAAgAUEEajYCDCAAKAIMIgEoAgAEQCABEJIFIAAoAgwoAgAQCwsgAEEQaiQACwkAIABBMBClCQveAQEDfyAAKAIEIQIgACgCACEEIAEoAgQhAwNAIAIgBEcEQCADQTBrIgMgAkEwayICKQMANwMAIAMgAigCCDYCCCACQQA2AgggAkIANwMAIAMgAikDEDcDECADIAIoAiA2AiAgAyACKQMYNwMYIAJBADYCICACQgA3AxggAyACLQAoOgAoDAELCyABIAM2AgQgACgCACECIAAgAzYCACABIAI2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIAC4kDAQR/IwBB8ABrIgMkAAJAIABBqAFqIgUgARCRASIEIAAoAqwBRwRAIARBEGoiASACENUCDQEgASkDACAAKQPwAVYEQCAAQcgBaiABEO0BIAQQlgMLIAMgAikDADcDUCADIAIoAhA2AmAgAyACKQMINwNYIAJBADYCECACQgA3AwggA0EAOgBoIAEgA0HQAGoiAhCkBSADQdgAahAKGiABKQMAIAApA/ABWA0BIAAgAEHEAGogBCABENMCIAIgAEHIAWogARDtASAEEPYBDAELAkAgAEGIAWoiBiABEGoiBCAAKAKMAUcEQCAEQRBqIAIQ1QINAiAAIAAgARCgAyAAKAI0IAAoAjhGBEAgABDXAgsgBiAEEJwIIAIpAwAgACkD8AFWDQEMAgsgAikDACAAKQPwAVgNAQsgA0EAOgAnIANB0ABqIgQgBSABIAIgA0EnahCaCCAAIABBxABqIAMoAlAiASABQRBqIgIQ0wIgBCAAQcgBaiACEO0BIAEQ9gELIANB8ABqJAALlAEBA38jAEEgayIBJAAgACgCDCICBEAgAkEAIAAoAhBBA3QQHRoLIAAoAgQgACgCAGtBBXUhA0EAIQIDQCACIANGBEAgAUEgaiQABSABQRhqIAAgACgCACACQQV0ahCZAyABIAI2AhQgASABKAIYNgIQIAEgASkCEDcDCCAAIAFBCGogASgCHBAxIAJBAWohAgwBCwsLWQEBfwJAIAAtABAiAiABLQAQRgRAIAJFDQEgACABKQMANwMAIAAgASkDCDcDCA8LIAIEQCAAQQA6ABAPCyAAIAEpAwA3AwAgACABKQMINwMIIABBAToAEAsLPgECfyAAKAIEIQIDQCACIAAoAggiAUcEQCAAIAFBgAJrIgE2AgggARCjCBoMAQsLIAAoAgAiAARAIAAQCwsLhAQBBX8gACgCBCEFIAAoAgAhBiABKAIEIQQDQCAFIAZHBEAgBEGAAmsiBCAFQYACayIFIgIpAwA3AwAgBCACKAIINgIIIAJCADcDACACQQA2Aggg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IAIgAyAEQQAQmgkLEQAgACABIAIgAyAEQQAQmQkLEQAgACABIAIgAyAEQQEQmgkLEQAgACABIAIgAyAEQQEQmQkLzQEBAX8jAEEgayIFJAAgBSABNgIcAkAgAigCBEEBcUUEQCAAIAEgAiADIAQgACgCACgCGBEJACECDAELIAVBEGoiACACECQgABDyAiEBIAAQIgJAIAQEQCAAIAEQmgEMAQsgBUEQaiABEJkBCyAFIAVBEGoQggE2AgwDQCAFIAVBEGoiABCEAjYCCCAFQQxqIgEgBUEIahDFAQRAIAVBHGogASIAKAIALAAAELMKIAAQvQMMAQUgBSgCHCECIAAQChoLCwsgBUEgaiQAIAIL8AIBBH8jAEHAAmsiACQAIAAgAjYCuAIgACABNgK8AiAAQcQBahAmIQYgAEEQaiICIAMQJCACEHBBoPEBQbrxASAAQdABahDgASACECIgAEG4AWoQJiIDIAMQJxAeIAAgA0EAECAiATYCtAEgACACNgIMIABBADYCCANAAkAgAEG8AmogAEG4AmoQLQ0AIAAoArQBIAMQDCABakYEQCADEAwhAiADIAMQDEEBdBAeIAMgAxAnEB4gACACIANBABAgIgFqNgK0AQsgAEG8AmoiAhBIQRAgASAAQbQBaiAAQQhqQQAgBiAAQRBqIABBDGogAEHQAWoQ7wINACACEFMaDAELCyADIAAoArQBIAFrEB4gAxAhIQkQMyEHIAAgBTYCACAJIAcgABCFCkEBRwRAIARBBDYCAAsgAEG8AmogAEG4AmoQLQRAIAQgBCgCAEECcjYCAAsgACgCvAIhCCADEAoaIAYQChogAEHAAmokACAICwkAIABBAxCnCQvRAwIBfgF/IwBBgANrIgAkACAAIAI2AvgCIAAgATYC/AIgAEHcAWogAyAAQfABaiAAQewBaiAAQegBahDvBSAAQdABahAmIgEgARAnEB4gACABQQAQICICNgLMASAAIABBIGo2AhwgAEEANgIYIABBAToAFyAAQcUAOgAWA0ACQCAAQfwCaiAAQfgCahAtDQAgACgCzAEgARAMIAJqRgRAIAEQDCEDIAEgARAMQQF0EB4gASABECcQHiAAIAMgAUEAECAiAmo2AswBCyAAQfwCaiIDEEggAEEXaiAAQRZqIAIgAEHMAWogACgC7AEgACgC6AEgAEHcAWogAEEgaiAAQRxqIABBGGogAEHwAWoQ7gUNACADEFMaDAELCwJAIABB3AFqEAxFDQAgAC0AF0UNACAAKAIcIgMgAEEgamtBnwFKDQAgACADQQRqNgIcIAMgACgCGDYCAAsgACACIAAoAswBIAQQhgogACkDACEGIAUgACkDCDcDCCAFIAY3AwAgAEHcAWogAEEgaiAAKAIcIAQQXyAAQfwCaiAAQfgCahAtBEAgBCAEKAIAQQJyNgIACyAAKAL8AiEHIAEQChogAEHcAWoQChogAEGAA2okACAHC7oDAQF/IwBB8AJrIgAkACAAIAI2AugCIAAgATYC7AIgAEHMAWogAyAAQeABaiAAQdwBaiAAQdgBahDvBSAAQcABahAmIgEgARAnEB4gACABQQAQICICNgK8ASAAIABBEGo2AgwgAEEANgIIIABBAToAByAAQcUAOgAGA0ACQCAAQewCaiAAQegCahAtDQAgACgCvAEgARAMIAJqRgRAIAEQDCEDIAEgARAMQQF0EB4gASABECcQHiAAIAMgAUEAECAiAmo2ArwBCyAAQewCaiIDEEggAEEHaiAAQQZqIAIgAEG8AWogACgC3AEgACgC2AEgAEHMAWogAEEQaiAAQQxqIABBCGogAEHgAWoQ7gUNACADEFMaDAELCwJAIABBzAFqEAxFDQAgAC0AB0UNACAAKAIMIgMgAEEQamtBnwFKDQAgACADQQRqNgIMIAMgACgCCDYCAAsgBSACIAAoArwBIAQQhwo5AwAgAEHMAWogAEEQaiAAKAIMIAQQXyAAQewCaiAAQegCahAtBEAgBCAEKAIAQQJyNgIACyAAKALsAiEGIAEQChogAEHMAWoQChogAEHwAmokACAGC7oDAQF/IwBB8AJrIgAkACAAIAI2AugCIAAgATYC7AIgAEHMAWogAyAAQeABaiAAQdwBaiAAQdgBahDvBSAAQcABahAmIgEgARAnEB4gACABQQAQICICNgK8ASAAIABBEGo2AgwgAEEANgIIIABBAToAByAAQcUAOgAGA0ACQCAAQewCaiAAQegCahAtDQAgACgCvAEgARAMIAJqRgRAIAEQDCEDIAEgARAMQQF0EB4gASABECcQHiAAIAMgAUEAECAiAmo2ArwBCyAAQewCaiIDEEggAEEHaiAAQQZqIAIgAEG8AWogACgC3AEgACgC2AEgAEHMAWogAEEQaiAAQQxqIABBCGogAEHgAWoQ7gUNACADEFMaDAELCwJAIABBzAFqEAxFDQAgAC0AB0UNACAAKAIMIgMgAEEQamtBnwFKDQAgACADQQRqNgIMIAMgACgCCDYCAAsgBSACIAAoArwBIAQQiAo4AgAgAEHMAWogAEEQaiAAKAIMIAQQXyAAQewCaiAAQegCahAtBEAgBCAEKAIAQQJyNgIACyAAKALsAiEGIAEQChogAEHMAWoQChogAEHwAmokACAGC5sDAQN/IwBB0AJrIgAkACAAIAI2AsgCIAAgATYCzAIgAxDGASEGIAMgAEHQAWoQwAMhByAAQcQBaiADIABBxAJqEL8DIABBuAFqECYiASABECcQHiAAIAFBABAgIgI2ArQBIAAgAEEQajYCDCAAQQA2AggDQAJAIABBzAJqIABByAJqEC0NACAAKAK0ASABEAwgAmpGBEAgARAMIQMgASABEAxBAXQQHiABIAEQJxAeIAAgAyABQQAQICICajYCtAELIABBzAJqIgMQSCAGIAIgAEG0AWogAEEIaiAAKALEAiAAQcQBaiAAQRBqIABBDGogBxDvAg0AIAMQUxoMAQsLAkAgAEHEAWoQDEUNACAAKAIMIgMgAEEQamtBnwFKDQAgACADQQRqNgIMIAMgACgCCDYCAAsgBSACIAAoArQBIAQgBhCKCjcDACAAQcQBaiAAQRBqIAAoAgwgBBBfIABBzAJqIABByAJqEC0EQCAEIAQoAgBBAnI2AgALIAAoAswCIQggARAKGiAAQcQBahAKGiAAQdACaiQAIAgLmwMBA38jAEHQAmsiACQAIAAgAjYCyAIgACABNgLMAiADEMYBIQYgAyAAQdABahDAAyEHIABBxAFqIAMgAEHEAmoQvwMgAEG4AWoQJiIBIAEQJxAeIAAgAUEAECAiAjYCtAEgACAAQRBqNgIMIABBADYCCANAAkAgAEHMAmogAEHIAmoQLQ0AIAAoArQBIAEQDCACakYEQCABEAwhAyABIAEQDEEBdBAeIAEgARAnEB4gACADIAFBABAgIgJqNgK0AQsgAEHMAmoiAxBIIAYgAiAAQbQBaiAAQQhqIAAoAsQCIABBxAFqIABBEGogAEEMaiAHEO8CDQAgAxBTGgwBCwsCQCAAQcQBahAMRQ0AIAAoAgwiAyAAQRBqa0GfAUoNACAAIANBBGo2AgwgAyAAKAIINgIACyAFIAIgACgCtAEgBCAGEI0KOwEAIABBxAFqIABBEGogACgCDCAEEF8gAEHMAmogAEHIAmoQLQRAIAQgBCgCAEECcjYCAAsgACgCzAIhCCABEAoaIABBxAFqEAoaIABB0AJqJAAgCAubAwEDfyMAQdACayIAJAAgACACNgLIAiAAIAE2AswCIAMQxgEhBiADIABB0AFqEMADIQcgAEHEAWogAyAAQcQCahC/AyAAQbgBahAmIgEgARAnEB4gACABQQAQICICNgK0ASAAIABBEGo2AgwgAEEANgIIA0ACQCAAQcwCaiAAQcgCahAtDQAgACgCtAEgARAMIAJqRgRAIAEQDCEDIAEgARAMQQF0EB4gASABECcQHiAAIAMgAUEAECAiAmo2ArQBCyAAQcwCaiIDEEggBiACIABBtAFqIABBCGogACgCxAIgAEHEAWogAEEQaiAAQQxqIAcQ7wINACADEFMaDAELCwJAIABBxAFqEAxFDQAgACgCDCIDIABBEGprQZ8BSg0AIAAgA0EEajYCDCADIAAoAgg2AgALIAUgAiAAKAK0ASAEIAYQjgo3AwAgAEHEAWogAEEQaiAAKAIMIAQQXyAAQcwCaiAAQcgCahAtBEAgBCAEKAIAQQJyNgIACyAAKALMAiEIIAEQChogAEHEAWoQChogAEHQAmokACAIC5sDAQN/IwBB0AJrIgAkACAAIAI2AsgCIAAgATYCzAIgAxDGASEGIAMgAEHQAWoQwAMhByAAQcQBaiADIABBxAJqEL8DIABBuAFqECYiASABECcQHiAAIAFBABAgIgI2ArQBIAAgAEEQajYCDCAAQQA2AggDQAJAIABBzAJqIABByAJqEC0NACAAKAK0ASABEAwgAmpGBEAgARAMIQMgASABEAxBAXQQHiABIAEQJxAeIAAgAyABQQAQICICajYCtAELIABBzAJqIgMQSCAGIAIgAEG0AWogAEEIaiAAKALEAiAAQcQBaiAAQRBqIABBDGogBxDvAg0AIAMQUxoMAQsLAkAgAEHEAWoQDEUNACAAKAIMIgMgAEEQamtBnwFKDQAgACADQQRqNgIMIAMgACgCCDYCAAsgBSACIAAoArQBIAQgBhCPCjYCACAAQcQBaiAAQRBqIAAoAgwgBBBfIABB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IApBEGpB09IAEA4iEiAKQQRqQdPSABAOIhMQsAEgExAKGiASEAoaIBEQChogDxAKGiAJEAoaIAYQERogABARGiAHEAoaIA4QChogDRAKGiAMEAoaIBAQChogCkGgAmokACAIEBEaIAQQChogAxAKGiACEAoaIAEQChogC0HQAGokAEEAC8ADAQp/IwBBQGoiBCQAIARBNGogARAOIQcgBCACNgIEIARBCGogARAOIQIgBCADNgIUQRgQGCIBQbjgADYCACABIAQoAgQ2AgQgASACKAIINgIQIAEgAikCADcCCCACQgA3AgAgAkEANgIIIAEgAzYCFCAEIAE2AigjAEGwAWsiASQAIAFCADcCmAEgAUIANwKgASABQgA3AKUBIAFCADcCkAEgAUGg1gA2AowBIAFBjAFqIgMgAUGAAWogBxAQIgUQxwYgBRAKGiADEIsCQugHfxDGBiABQQA2AnggAUIANwNwIAMgAUHwAGoiBRCmCyABQUBrIARBGGoiCRA9IQhBIBAYIgZB5NcANgIAIAZBCGogCBA9GiABIAY2AmggAEGxAiAFIAFB2ABqIgBBASABQTRqQdPSABAOIgYgAUEoakHT0gAQDiIKIAFBHGpB09IAEA4iCyABQRBqQdPSABAOIgwgAUEEakHT0gAQDiINELABIA0QChogDBAKGiALEAoaIAoQChogBhAKGiAAEBEaIAgQERogBRAKGiADEMICGiABQbABaiQAIAkQERogAhAKGiAHEAoaIARBQGskAEEAC/0EAQp/IwBB0ABrIggkACAIQcQAaiABEA4hDCAIQThqIgkgAiADpxBRIAggBDYCDCAIQRBqIAEQDiEKIAggBTYCHEEYEBgiAUGU4AA2AgAgASAIKAIMNgIEIAEgCigCCDYCECABIAopAgA3AgggCkIANwIAIApBADYCCCABIAU2AhQgCCABNgIwIAhBIGohDSMAQcABayIGJAAgBkIANwKoASAGQgA3ArABIAZCADcAtQEgBkIANwKgASAGQaDWADYCnAEgBkGcAWoiByAGQZABaiAMEBAiARDHBiABEAoaIAkoAgQgCS0ACyIBIAHAQQBIGwRAIAYgCSgCCDYCiAEgBiAJKQIANwOAASAJQgA3AgAgCUEANgIIIAZBgAFqIgshAiAHKAIERQRAIAdBKBAYIgE2AgQgARDDBAsgB0EUaiIBIAIQGyAHKAIYIQUgBygCBCIEIAcoAhQgASAHLQAfIgLAQQBIIgEbNgIgIAQgBSACIAEbNgIcIAsQChoLIAZBnAFqIg4QiwJC6Ad/EMYGIAZBADYCeCAGQgA3A3AgDiAGQfAAaiIPEKYLIAZBQGsgDRA9IQdBIBAYIgFBwNcANgIAIAFBCGogBxA9GiAGIAE2AmggAEGvAiAPIAZB2ABqIgtBASAGQTRqQdPSABAOIgUgBkEoakHT0gAQDiIEIAZBHGpB09IAEA4iAiAGQRBqQdPSABAOIgEgBkEEakHT0gAQDiIAELABIAAQChogARAKGiACEAoaIAQQChogBRAKGiALEBEaIAcQERogDxAKGiAOEMICGiAGQcABaiQAIA0QERogChAKGiAJEAoaIAwQChogCEHQAGokAEEAC/EDAQd/IwBBMGsiCSQAIAlBJGogARAOIgshBSAJQRhqIAIQDiEGIAlBDGogAxAOIQcjAEEQayIIJAAgCCAENgIMIwBBEGsiBCQAIwBBEGsiAyQAQTgQGCECIAMgAEGoBGoiCkEEaiIBNgIIIAMgAjYCBCACIAUoAgg2AhggAiAFKQIANwIQIAVCADcCACAFQQA2AgggAiAGKAIINgIkIAIgBikCADcCHCAGQgA3AgAgBkEANgIIIAIgBygCCDYCMCACIAcpAgA3AiggB0IANwIAIAdBADYCCCACIAgoAgw2AjQgA0EBOgAMIAMoAgRBEGohBQJAIAooAgQiAkUEQCABIQAMAQsDQCAFIAIiAEEQaiICELEGBEAgACEBIAAoAgAiAg0BDAILIAIgBRCxBkUNASAAQQRqIQEgACgCBCICDQALCyADIAA2AgAgBCABKAIAIgIEf0EABSAKIAMoAgAgASADKAIEEP8DIAMoAgQhAiADQQA2AgRBAQs6AAwgBCACNgIIIAMoAgQhACADQQA2AgQgAARAIAMtAAwEQCAAQRBqELoGCyAABEAgABALCwsgA0EQaiQAIAggBCgCCDYCBCAIIAQtAAw6AAggBEEQaiQAIAhBEGokACAHEAoaIAYQChogCxAKGiAJQTBqJABBAAvjAQICfwF+IwBBIGsiAyQAIANBADYCHCADQgA3AhQgA0EUaiACEP0BA38gAiAERgR/IAMgAygCFDYCCCADKQIYIQUgA0EANgIcIAMgBTcCDCADQgA3AhQjAEEQayIBJAAgASADQQhqIgIoAgA2AgQgASACKAIENgIIIAEgAigCCDYCDCACQQA2AgggAkIANwIAIABByANqIAFBBGoiBBC4BSAAQQE6AOADIAQQQCABQRBqJAAgAhBAIANBFGoQQCADQSBqJABBAAUgA0EUaiABIARBAnRqEIIDIARBAWohBAwBCwsLRwEBfyMAQSBrIgMkACADIAI2AhAgAyABNgIMIANB8N8ANgIIIAMgA0EIaiIBNgIYIABB4A1qIAEQzAEgARARGiADQSBqJAALCwBBkKwCIAA2AgALswMBB38jAEEgayIDJAAgA0HM3wA2AgggAyADQQhqIgQ2AhgjAEEgayIFJAAgBUEIaiAEEIMDIQAjAEEQayICJAACQCAAQZCtAkYNAEGgrQIoAgAhASAAIAAoAhAiBkYEQCABQZCtAkYEQCAAIAIgACgCACgCDBEAACAAKAIQIgEgASgCACgCEBEBACAAQQA2AhBBoK0CKAIAIgEgACABKAIAKAIMEQAAQaCtAigCACIBIAEoAgAoAhARAQBBoK0CQQA2AgAgACAANgIQIAJBkK0CIAIoAgAoAgwRAAAgAiACKAIAKAIQEQEAQaCtAkGQrQI2AgAMAgsgAEGQrQIgACgCACgCDBEAACAAKAIQIgEgASgCACgCEBEBACAAQaCtAigCADYCEEGgrQJBkK0CNgIADAELIAFBkK0CRgRAQZCtAiAAQZCtAigCACgCDBEAAEGgrQIoAgAiASABKAIAKAIQEQEAQaCtAiAAKAIQNgIAIAAgADYCEAwBCyAAIAE2AhBBoK0CIAY2AgALIAJBEGokACAAEBEaIAVBIGokAEGorQJBADYCACAEEBEaIANBIGokAAs/AQF/IAAoAgAiAiAAKAIERgRAQbECDwsgASACKAIIIAJBCGogAiwAE0EASBs2AgAgACAAKAIAKAIANgIAQQALWgEEfyMAQSBrIgIkAEEIEBghAyAAIAJBFGogARAOIgQQlQsoAgghBSAAIAJBCGogARAOIgAQlQsaIANBADYCBCADIAU2AgAgABAKGiAEEAoaIAJBIGokACADC+YEAQh/IwBBIGsiByQAIAdBFGogARAOIQQgB0EIaiACEA4hBiMAQZACayIDJABBARAaBEAgA0GEAWoQFSEKIANBATYCgAEgCkGn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AhCYCyAFQYgEahCOAiABECoCQCAGLQAoRQRAIAAgAxDOASEBIAUgBSkD+AI3A5gDIAUgBSkD8AI3A5ADIAVB6AFqIAkQXSEAIAVBAToA4AEgBSAFKQOYAzcDSCAFQQA2AsgBIAUgBSkDkAM3A0AgASAFQUBrIAAgBUHAAWogBUHwAmoQwwIgBUHIAWoQSiAAECogBUGQA2ogARDNASABELIBDAELIAUgBhC1ASIAKQMINwPwAiAFIAApAxA3A/gCCyAFQYAEaiADEM4BIQEgBSAFKQP4AjcDmAMgBSAFKQPwAjcDkAMgBUGoAWogAhBdIQAgBUEAOgCgASAFQQE6AJgBIAUgBSkDmAM3AzggBSAErTcDiAEgBSAFKQOQAzcDMCABIAVBMGogACAFQYABakEAEMMCIAVBiAFqEEogABAqIAVBkANqIAEQzQEgARCyASAGEMcECyAFQfAEaiQAIAIQChogCRAKGiAHEAoaIAhBMGokAAsJACAAIAE2AjgLCQAgACABNgJICwkAIAAgATYCQAvjAwEFfyAABEAgAEHgDWoQERogAEHIDWoQERogAEG0DWoQzgQgAEHYCWoiAS0A0AMEQCABENEECyAAQeAEahC+BiAAQcgEaiIDKAIIIQEDQCABBEAgASgCACEEIAFBCGoQwgYgARALIAQhAQwBCwsgAxDQAyAAQbQEaiIDKAIIIQEDQCABBEAgASgCACEFIAFBCGoQuwYgARALIAUhAQwBCwsgAxDQAyAAQagEaiAAKAKsBBDPAyAAQZgEahAKGiAAQYwEahBAIABB/ANqIAAoAoAEEJYGIABB6ANqEM4EIABByANqEEAgAEGwA2oQERogAEGYA2oQERogAEGIA2oQChogAEH4AmoQChogAEHgAmoQERogAEHIAmoQERogAEGwAmoQERogAEGYAmoQERogAEGAAmoQERogAEHoAWoQERogAEHQAWoQERogAEG4AWoQERogAEGgAWoQERogAEGIAWoQERogAEHYAGoQpgYgAEHMAGoQpwYgACgCMCIBBEAgASABKAIEIgJBAWs2AgQgAkUEQCABIAEoAgAoAggRAQACQCABQQhqIgIoAgAEQCACENsJQX9HDQELIAEgASgCACgCEBEBAAsLCyAAQSBqEAoaIABBFGoQChogABAKGgsgABALC7YMAQ9/IwBBMGsi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BEBBAA8LQQAgAEEIaiAALQAgGwsdAQF/IAAtACBBAUYEfyAAELUBKAIAQQFGBUEACwsbAQF/IAAtACBBAUYEfyAAELUBKAIABUEBC0ULCAAgAC0AIEULEgAgAARAIABBCGoQSgsgABALCxgBAX9BKBAYIgFBCGogAEEIahCbBhogAQsfAQF/QSgQGCIAQgA3AwggAEEAOgAgIABBADoAGCAACwkAQZCtAhARGguHAgEHfyMAQbABayIDJAAgACgCBCEAAkAgAS8BACIBBEBBAhAaBEAgA0EoahAVIQYgA0ECNgIkIAZBq8wAEA0gARBoGiADQSRqEBkLIAFB5QBGDQEgABCQAgwBC0EBEBoEQCADQShqEBUhByADQQE2AiQgB0HOzQAQDSEIIANBGGoiASACKAIEKAIgEA4aIAggARATQb/NABANIQkgA0EMaiIEIAIoAgQoAiwQDhogCSAEEBMaIAQQChogARAKGiADQSRqEBkLIABBATsBNCAAKALwAkUNACADQSRqIgEgAigCBCICKAI0IAIoAjAQUSAAQeACaiABEKgDIAEQChoLIANBsAFqJAALFQAgAUH82gA2AgAgASAAKAIENgIECx0BAX9BCBAYIgFB/NoANgIAIAEgACgCBDYCBCABC/YBAQV/IwBBoAFrIgMkACAAKAIEIQACQCABLwEAIgEEQEECEBoEQCADQRhqEBUhBSADQQI2AhQgBUGrzAAQDSABEGgaIANBFGoQGQsgAUHlAEYNASAAEJACDAELIAAoArABBEAgAEGgAWogAhCoAwtBARAaBEAgA0EYahAVIQYgA0EBNgIUIAZBzs0AEA0hByADQQhqIgEgAigCBCgCNBAOGiAHIAEQExogARAKGiADQRRqEBkLIABCADcDeCAAQQE7ATQgACgCwAJFDQAgA0EUaiIBIABBsAJqIAIQygMgAEH4AmogARAbIAEQChoLIANBoAFqJAALFQAgAUHY2gA2AgAgASAAKAIENgIECx0BAX9BCBAYIgFB2NoANgIAIAEgACgCBDYCBCABCwkAIAAQnQYQCwsJACAAEJ4GEAsLCQAgABCfBhALCwkAIAAQoAYQCwsLu+4BiQMAQYAIC9NKAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAACAAAAAhAAAAIgAAACMAAAAkAAAAJQAAAAAAAAAmAAAAJwAAAH0AaW5maW5pdHkARmVicnVhcnkASmFudWFyeQBKdWx5AERpZ2VzdE9ubHkAQ291bnRPbmx5AEtleXNPbmx5AEhhc2hLZXkAUm91dGluZ0tleQBVbmlxdWVLZXkAU3luY0tleQBzaXplb2ZfZWx0X2luX3JlcGVhdGVkX2FycmF5AFRodXJzZGF5AFR1ZXNkYXkAV2VkbmVzZGF5AFNhdHVyZGF5AFN1bmRheQBNb25kYXkARnJpZGF5AE1heQAlbS8lZC8leQBDb25uSW5kZXgATmFtZXNwYWNlSW5kZXgALSsgICAwWDB4AC0wWCswWCAwWC0weCsweCAweABfX25leHRfcHJpbWUgb3ZlcmZsb3cATm92AFRodQBUaW1lb3V0AEF1Z3VzdABDUlNZTkNfX1ZBTFVFX1RZUEVfX0xpc3QAQ3JzeW5jX19SYW5nZURvY3NSZXF1ZXN0AGNyc3luYy5SYW5nZURvY3NSZXF1ZXN0AEdhbGFjdHVzX19Fc3RhYmxpc2hSZXF1ZXN0AENyc3luY19fRXN0YWJsaXNoUmVxdWVzdABnYWxhY3R1cy5Fc3RhYmxpc2hSZXF1ZXN0AGNyc3luYy5Fc3RhYmxpc2hSZXF1ZXN0AENyc3luY19fVXBkYXRlUmVxdWVzdABjcnN5bmMuVXBkYXRlUmVxdWVzdABDcnN5bmNfX0RhdGFiYXNlUmVxdWVzdABjcnN5bmMuRGF0YWJhc2VSZXF1ZXN0AEdhbGFjdHVzX19TaGFrZUhhbmRSZXF1ZXN0AGdhbGFjdHVzLlNoYWtlSGFuZFJlcXVlc3QAQ3JzeW5jX19RdWVyeURvY1JlcXVlc3QAY3JzeW5jLlF1ZXJ5RG9jUmVxdWVzdABDcnN5bmNfX1B1dERvY1JlcXVlc3QAY3JzeW5jLlB1dERvY1JlcXVlc3QAQ3JzeW5jX19HZXREb2NSZXF1ZXN0AGNyc3luYy5HZXREb2NSZXF1ZXN0AENyc3luY19fRGVsRG9jUmVxdWVzdABjcnN5bmMuRGVsRG9jUmVxdWVzdABCZXN0AENSU1lOQ19fVVBEQVRFX01FVEhPRF9fTGlzdEluc2VydABTdGFydAByZWNlaXZlZCBlbXB0eSBzbmFwc2hvdABmYWlsIHRvIHJlY3Ygc25hcHNob3QAc2VuZGluZyBzbmFwc2hvdABDb25uZWN0aW9uQ291bnQAU3RyZWFtQ291bnQAIGNyZWF0ZSBjaGVja3BvaW50AEVuZHBvaW50AENyc3luY19fVGlja2V0RXZlbnQAY3JzeW5jLlRpY2tldEV2ZW50AENyc3luY19fUGVybWlzc2lvbkV2ZW50AGNyc3luYy5QZXJtaXNzaW9uRXZlbnQAQ3JzeW5jX19LZWVwYWxpdmVFdmVudABjcnN5bmMuS2VlcGFsaXZlRXZlbnQAQ29udGVudABzaG91bGQgaGF2ZSBvbmx5IHVzZWQgaGFzaGVzIHRoYXQgYXJlIGluIHRoZSBkb2N1bWVudABDcnN5bmNfX0RvY3VtZW50AGNyc3luYy5Eb2N1bWVudABJbnN0YW50AExpbWl0AENSU1lOQ19fVVBEQVRFX01FVEhPRF9fQ291bnRlclNldABDUlNZTkNfX1VQREFURV9NRVRIT0RfX1NldABDUlNZTkNfX1ZBTFVFX1RZUEVfX0RpY3QAIGNvbXBhY3QAT2N0AENSU1lOQ19fVkFMVUVfVFlQRV9fRmxvYXQAU2F0AGdhbGFjdHVzAERvY3VtZW50cwBDbGllbnRzAEdyYW50cwBUaWNrZXRzAENsdXN0ZXJzAE9wdGlvbnMAUGVybXMASXRlbXMAUGF0aHMAZGlmZnMARm9yYmlkcwBMb2FkcwBEb2NzAFRzACVzAEFwcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fcmFuZ2VfZG9jc19yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmZ2FsYWN0dXNfX2VzdGFibGlzaF9yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19lc3RhYmxpc2hfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fdXBkYXRlX3JlcXVlc3RfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZjcnN5bmNfX2RhdGFiYXNlX3JlcXVlc3RfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fc2hha2VfaGFuZF9yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19xdWVyeV9kb2NfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fcHV0X2RvY19yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19nZXRfZG9jX3JlcXVlc3RfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZjcnN5bmNfX2RlbF9kb2NfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fdGlja2V0X2V2ZW50X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19wZXJtaXNzaW9uX2V2ZW50X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19rZWVwYWxpdmVfZXZlbnRfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fZXh0X2hlYWRlcl9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmdhbGFjdHVzX19yZW5ld19rZXlfcmVzcG9uc2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZjcnN5bmNfX3JhbmdlX2RvY3NfcmVzcG9uc2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fZXN0YWJsaXNoX3Jlc3BvbnNlX19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19lc3RhYmxpc2hfcmVzcG9uc2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fc2hha2VfaGFuZF9yZXNwb25zZV9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fcXVlcnlfZG9jX3Jlc3BvbnNlX19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19nZXRfZG9jX3Jlc3BvbnNlX19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19zeW5jX21lc3NhZ2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZjcnN5bmNfX3NoYWtlaGFuZF9fZGVzY3JpcHRvcgB2ZWN0b3IAQ2x1c3RlcgBwcm90b2J1Zl9jX21lc3NhZ2VfcGFja190b19idWZmZXIAcmVwZWF0ZWRfZmllbGRfcGFja190b19idWZmZXIAcmVxdWlyZWRfZmllbGRfcGFja190b19idWZmZXIAY3JzeW5jX19yYW5nZV9kb2NzX3JlcXVlc3RfX3BhY2tfdG9fYnVmZmVyAGdhbGFjdHVzX19lc3RhYmxpc2hfcmVxdWVzdF9fcGFja190b19idWZmZXIAY3JzeW5jX19lc3RhYmxpc2hfcmVxdWVzdF9fcGFja190b19idWZmZXIAY3JzeW5jX191cGRhdGVfcmVxdWVzdF9fcGFja190b19idWZmZXIAY3JzeW5jX19kYXRhYmFzZV9yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBnYWxhY3R1c19fc2hha2VfaGFuZF9yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBjcnN5bmNfX3F1ZXJ5X2RvY19yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBjcnN5bmNfX3B1dF9kb2NfcmVxdWVzdF9fcGFja190b19idWZmZXIAY3JzeW5jX19nZXRfZG9jX3JlcXVlc3RfX3BhY2tfdG9fYnVmZmVyAGNyc3luY19fZGVsX2RvY19yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBjcnN5bmNfX3RpY2tldF9ldmVudF9fcGFja190b19idWZmZXIAY3JzeW5jX19rZWVwYWxpdmVfZXZlbnRfX3BhY2tfdG9fYnVmZmVyAGdhbGFjdHVzX19leHRfaGVhZGVyX19wYWNrX3RvX2J1ZmZlcgBjcnN5bmNfX3N5bmNfbWVzc2FnZV9fcGFja190b19idWZmZXIAY3JzeW5jX19zaGFrZWhhbmRfX3BhY2tfdG9fYnVmZmVyAGNvbHVtbnMgb3V0IG9mIG9yZGVyAF9mb2xkZXIATGVhZGVyAEdhbGFjdHVzX19FeHRIZWFkZXIAZ2FsYWN0dXMuRXh0SGVhZGVyAE9jdG9iZXIATm92ZW1iZXIAU2VwdGVtYmVyAHBhcnNlX21lbWJlcgBwYXJzZV9wYWNrZWRfcmVwZWF0ZWRfbWVtYmVyAERlY2VtYmVyAExvY2FsQWRkcgBSZW1vdGVBZGRyAGlvc19iYXNlOjpjbGVhcgBNYXIARGlmZlNlcQBtZWRpYV9zZXJ2ZXJfbGlicmFyeS9jcmR0L2RvY3VtZW50LmNwcABtZWRpYV9zZXJ2ZXJfbGlicmFyeS9jcmR0L21lcmtsZV9zZWFyY2hfdHJlZS5jcHAAU2VwAE9wACVJOiVNOiVTICVwAEdhbGFjdHVzX19QZWVySW5mbwBnYWxhY3R1cy5QZWVySW5mbwBTdW4ASnVuAFBlcm1Kc29uAEJpRGlyZWN0aW9uAFRyeSB0byBlc3RhYmxpc2ggY29ubmVjdGlvbgBUcnkgdG8gZXN0YWJsaXNoIG5ld3N5bmMgY29ubmVjdGlvbgBDb2xsZWN0aW9uAENyc3luY19fT3BlcmF0aW9uAGNyc3luYy5PcGVyYXRpb24AQ3JzeW5jX19QZXJtaXNzaW9uAGNyc3luYy5QZXJtaXNzaW9uAFZlcnNpb24ATW9uAHRtcCA9PSBwYXlsb2FkX2xlbgBuYW4ASmFuAFF1b3J1bQBDcnN5bmNfX0tlZXBhbGl2ZUl0ZW0AY3JzeW5jLktlZXBhbGl2ZUl0ZW0AQ3JzeW5jX19JdGVtAGNyc3luYy5JdGVtAEluc2VydEVsZW0ASnVsAFR0bABHYWxhY3R1c19fUGVlclByb3RvY29sAGdhbGFjdHVzLlBlZXJQcm90b2NvbABudWxsAENvbGwAQXByaWwARXhpc3RzRmFpbABfZXBoZW1lcmFsAExvY2FsAHByb3RvYnVmX2NfbWVzc2FnZV91bnBhY2sARnJpAGdldF9wYWNrZWRfcGF5bG9hZF9sZW5ndGgAUGF0aABvcCBmaWVsZCBjb3VudCBkb2VzIG5vdCBtYXRjaABtYWdpYyBudW1iZXIgZG9lcyBub3QgbWF0Y2gAY2hlY2tzdW0gZG9lcyBub3QgbWF0Y2gATWFyY2gALi9tZWRpYV9zZXJ2ZXJfbGlicmFyeS9jcmR0L21lcmtsZV9zZWFyY2hfdHJlZS5oAEF1ZwAgcmVjdiBlcnIgbXNnAGJhc2ljX3N0cmluZwBDUlNZTkNfX1ZBTFVFX1RZUEVfX1N0cmluZwBGbGFnAGluZgBHYWxhY3R1c19fSW50ZXJlc3REaWZmAGdhbGFjdHVzLkludGVyZXN0RGlmZgAlLjBMZgAlTGYAcHJvdG9idWZfY19tZXNzYWdlX2dldF9wYWNrZWRfc2l6ZQByZXF1aXJlZF9maWVsZF9nZXRfcGFja2VkX3NpemUAY3JzeW5jX19yYW5nZV9kb2NzX3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBnYWxhY3R1c19fZXN0YWJsaXNoX3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBjcnN5bmNfX2VzdGFibGlzaF9yZXF1ZXN0X19nZXRfcGFja2VkX3NpemUAY3JzeW5jX191cGRhdGVfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGNyc3luY19fZGF0YWJhc2VfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGdhbGFjdHVzX19zaGFrZV9oYW5kX3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBjcnN5bmNfX3F1ZXJ5X2RvY19yZXF1ZXN0X19nZXRfcGFja2VkX3NpemUAY3JzeW5jX19wdXRfZG9jX3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBjcnN5bmNfX2dldF9kb2NfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGNyc3luY19fZGVsX2RvY19yZXF1ZXN0X19nZXRfcGFja2VkX3NpemUAY3JzeW5jX190aWNrZXRfZXZlbnRfX2dldF9wYWNrZWRfc2l6ZQBjcnN5bmNfX2tlZXBhbGl2ZV9ldmVudF9fZ2V0X3BhY2tlZF9zaXplAGdhbGFjdHVzX19leHRfaGVhZGVyX19nZXRfcGFja2VkX3NpemUAY3JzeW5jX19zeW5jX21lc3NhZ2VfX2dldF9wYWNrZWRfc2l6ZQBjcnN5bmNfX3NoYWtlaGFuZF9fZ2V0X3BhY2tlZF9zaXplAHRydWUAVmFsdWUAVHVlAFJlbW90ZQBDUlNZTkNfX09QRVJBVElPTl9fV3JpdGUAQ1JTWU5DX19VUERBVEVfTUVUSE9EX19EZWxldGUALCByZXNldCBjb25uZWN0aW9uIHN0YXRlAENyZWF0ZQBDUlNZTkNfX1VQREFURV9NRVRIT0RfX1VwZGF0ZQBUcmF2ZXJzZQBHYWxhY3R1c19fUmVuZXdLZXlSZXNwb25zZQBnYWxhY3R1cy5SZW5ld0tleVJlc3BvbnNlAENyc3luY19fUmFuZ2VEb2NzUmVzcG9uc2UAY3JzeW5jLlJhbmdlRG9jc1Jlc3BvbnNlAEdhbGFjdHVzX19Fc3RhYmxpc2hSZXNwb25zZQBDcnN5bmNfX0VzdGFibGlzaFJlc3BvbnNlAGdhbGFjdHVzLkVzdGFibGlzaFJlc3BvbnNlAGNyc3luYy5Fc3RhYmxpc2hSZXNwb25zZQBHYWxhY3R1c19fU2hha2VIYW5kUmVzcG9uc2UAZ2FsYWN0dXMuU2hha2VIYW5kUmVzcG9uc2UAQ3JzeW5jX19RdWVyeURvY1Jlc3BvbnNlAGNyc3luYy5RdWVyeURvY1Jlc3BvbnNlAENyc3luY19fR2V0RG9jUmVzcG9uc2UAY3JzeW5jLkdldERvY1Jlc3BvbnNlAGZhbHNlAERhdGFiYXNlAGNoYW5nZSBpcyBlYXJsaWVyIHRoYW4gcGVlciBiYXNlAFNjb3JlAE1vcmUAQ2xpZW50VHlwZQBDcnN5bmNfX1ZhbHVlVHlwZQBjcnN5bmMuVmFsdWVUeXBlAEp1bmUATmFtZQBBdmFpbGFibGUAQ3JzeW5jX19Qcml2aWxlZ2UAY3JzeW5jLlByaXZpbGVnZQBDcnN5bmNfX1N5bmNNZXNzYWdlAGNyc3luYy5TeW5jTWVzc2FnZQBiYXNlIGlzIG5vdCBiZWZvcmUgc2hhcmVkIGhlYWRzLCB0byBwcm9iZSBtb2RlAHJlY3YgZXJyLCB0byBwcm9iZSBtb2RlAGJhc2UgaXMgbm90IGJlZm9yZSBsYXN0IHN5bmMsIHRvIHByb2JlIG1vZGUAR2FsYWN0dXNfX1BlZXJNb2RlAGdhbGFjdHVzLlBlZXJNb2RlAEFzeW5jTW9kZQBBZGFwdG9yIHN1Z2dlc3QgZGlzY29ubmVjdCBmb3IgbmFtZXNwYWNlAE5hbWVzcGFjZQBDcnN5bmNfX1VwZGF0ZU1ldGhvZABjcnN5bmMuVXBkYXRlTWV0aG9kAGNoZWNrcG9pbnQgbm90IGZvdW5kAFVwdGltZUluU2Vjb25kAEdldENoYW5nZXNUb1NlbmQAQ3JzeW5jX19TaGFrZWhhbmQAY3JzeW5jLlNoYWtlaGFuZABFbmQAUmVtb3ZlZABjb25uZWN0aW9uIHRpbWVvdXRlZABkZWNvZGUgb3BzIGZhaWxlZABwYXJzZSBmb2xkZXIgbXNnIGZhaWxlZABjbG9ja19nZXR0aW1lKENMT0NLX1JFQUxUSU1FKSBmYWlsZWQAY2xvY2tfZ2V0dGltZShDTE9DS19NT05PVE9OSUMpIGZhaWxlZABwcm90b2J1Zl9jX21lc3NhZ2VfZnJlZV91bnBhY2tlZABjcnN5bmNfX2RhdGFiYXNlX3JlcXVlc3RfX2ZyZWVfdW5wYWNrZWQAY3JzeW5jX19wZXJtaXNzaW9uX2V2ZW50X19mcmVlX3VucGFja2VkAGdhbGFjdHVzX19yZW5ld19rZXlfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAY3JzeW5jX19yYW5nZV9kb2NzX3Jlc3BvbnNlX19mcmVlX3VucGFja2VkAGdhbGFjdHVzX19lc3RhYmxpc2hfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAY3JzeW5jX19lc3RhYmxpc2hfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAZ2FsYWN0dXNfX3NoYWtlX2hhbmRfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAY3JzeW5jX19xdWVyeV9kb2NfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAY3JzeW5jX19nZXRfZG9jX3Jlc3BvbnNlX19mcmVlX3VucGFja2VkAGNyc3luY19fc3luY19tZXNzYWdlX19mcmVlX3VucGFja2VkAGhlYWRzIGVxdWFsLCBwZWVyIHN5bmNlZABXZWQAcGFja19idWZmZXJfcGFja2VkX3BheWxvYWQAR2FsYWN0dXNfX1F1b3J1bUxvYWQAZ2FsYWN0dXMuUXVvcnVtTG9hZABUb3RhbExvYWQAQ1JTWU5DX19PUEVSQVRJT05fX1JlYWQATGVhc2VJZABBdXRvQ3JlYXRlRG9jAGNyc3luYwBzdGFydCBhIHJvdW5kIG9mIHN5bmMAc3RhcnQgYSByb3VuZCBvZiB0b21ic3RvbmUgc3luYwBDUlNZTkNfX1VQREFURV9NRVRIT0RfX0NvdW50ZXJJbmMARGVjAG1lZGlhX3NlcnZlcl9saWJyYXJ5L3RoaXJkX3BhcnR5L2V0Y2QtYy9wcm90b2J1Zi1jLmMAbWVkaWFfc2VydmVyX2xpYnJhcnkvdGhpcmRfcGFydHkvZXRjZC1jL3Byb3h5LnBiLWMuYwBtZWRpYV9zZXJ2ZXJfbGlicmFyeS90aGlyZF9wYXJ0eS9ldGNkLWMvY3JzeW5jLnBiLWMuYwBGZWIAXQBdWwBBWgBHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfUFJPWFkAJWEgJWIgJWQgJUg6JU06JVMgJVkAUE9TSVgAR0FMQUNUVVNfX1BFRVJfTU9ERV9fUEVFUl9NT0RFX0NMVVNURVJfQ0xJRU5UAEdBTEFDVFVTX19QRUVSX01PREVfX1BFRVJfTU9ERV9DTElFTlQAU3BsaXRPZmZMVABHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfU0lERUNBUl9ESVJFQ1QAR0FMQUNUVVNfX1BFRVJfTU9ERV9fUEVFUl9NT0RFX0VNUwAlSDolTTolUwBHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfTUlHUkFUT1IAR0FMQUNUVVNfX1BFRVJfTU9ERV9fUEVFUl9NT0RFX0NPT1JESU5BVE9SAEdBTEFDVFVTX19QRUVSX01PREVfX1BFRVJfTU9ERV9TWU5DX0NFTlRFUgBHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfU0lERUNBUgBHQUxBQ1RVU19fUEVFUl9QUk9UT0NPTF9fUFJPVE9DT0xfVENQAE5BTgBQTQBBTQBUVEwAcnYtPmRlc2NyaXB0b3IgIT0gTlVMTABMQ19BTEwATEFORwBJTkYASUQAR0FMQUNUVVNfX1BFRVJfUFJPVE9DT0xfX1BST1RPQ09MX0dSUEMAKChtZXNzYWdlKS0+ZGVzY3JpcHRvciktPm1hZ2ljID09IFBST1RPQlVGX0NfX01FU1NBR0VfREVTQ1JJUFRPUl9NQUdJQwAoZGVzYyktPm1hZ2ljID09IFBST1RPQlVGX0NfX01FU1NBR0VfREVTQ1JJUFRPUl9NQUdJQwBJREMALCBlcnI6AHJlY3YgdXJpOgAsIHNlcWlkOgAwMTIzNDU2Nzg5AEMuVVRGLTgAbm9kZS5jaGlsZHJlbl8uc2l6ZSgpID09IG5vZGUuZWxlbWVudHNfLnNpemUoKSArIDEAY2hpbGRyZW5fLnNpemUoKSA9PSBlbGVtZW50c18uc2l6ZSgpICsgMQAwAC8AIGFscmVhZHkgdGltZW91dC4ALCBpZ25vcmUuACwAK3RvbWJzdG9uZSsAKG51bGwpACFzeW5jX3N0YXRlLnRoZWlyX2hhdmUtPmVtcHR5KCkAIWVsZW1lbnRzXy5lbXB0eSgpAGd0X2VsZW1zLnNpemUoKSArIDEgPT0gZ3RfY2hpbGRyZW4uc2l6ZSgpACAgICAiACBjb2xsIG1zZyB0eXBlIGRvZXMgbm90IG1hdGNoIQBzeW5jIG1zZyB0eXBlIGRvZXMgbm90IG1hdGNoIQBQdXJlIHZpcnR1YWwgZnVuY3Rpb24gY2FsbGVkIQBTZXQgbmFtZXNwYWNlIGFzIABwdXJnZWQgdG8gACB3aXRoIGVycm5vIABGYWlsZWQgdG8gZXN0YWJsaXNoIGNvbm4gAFJlY2VpdmUgd3JvbmcgdGVybSAAVW5rbm93biB1cmkgACBvbiB1cmkgAGNvbW1hbmQgAFJlY2VpdmUgdW5rb3duIHNlcWlkIABdIABkZXAgbm90IG1ldDogACBpbml0aWFsIGRvY3M6IAB1cGRhdGUgZm9sZGVyOiAALCBsb2NhbF9hZGRyOiAAZXN0YWJsaXNoIGNvbm5lY3Rpb24gc3VjY2Vzc2Z1bGx5LCByZW1vdGVfYWRkcjogAGludmFsaWQgb3AgYWN0aW9uOiAALCBnZW5lcmF0aW9uOiAALCBjdXJyZW50IHZlcnNpb246IAAsIHZlcnNpb246IABjb21wYWN0IG51bTogAHNuYXBzaG90dGluZywgY2hh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////tGkAANUBAADWAQAAGGkAAFBpAABkaQAALGkAADgAAAAAAAAApGgAAMgBAADJAQAAyP///8j///+kaAAAygEAAMsBAABOU3QzX18yMTliYXNpY19vc3RyaW5nc3RyZWFtSWNOU18xMWNoYXJfdHJhaXRzSWNFRU5TXzlhbGxvY2F0b3JJY0VFRUUAAABIlQAAbGkAAKRoAAAAAAAA5GkAANcBAADYAQAATlN0M19fMjhpb3NfYmFzZUUAAAAglQAA0GkAAAAAAAD/////////////////////////////////////////////////////////////////AAECAwQFBgcICf////////8KCwwNDg8QERITFBUWFxgZGhscHR4fICEiI////////woLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIj/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wABAgQHAwYFAAAAAAAAAAIAAMADAADABAAAwAUAAMAGAADABwAAwAgAAMAJAADACgAAwAsAAMAMAADADQAAwA4AAMAPAADAEAAAwBEAAMASAADAEwAAwBQAAMAVAADAFgAAwBcAAMAYAADAGQAAwBoAAMAbAADAHAAAwB0AAMAeAADAHwAAwAAAALMBAADDAgAAwwMAAMMEAADDBQAAwwYAAMMHAADDCAAAwwkAAMMKAADDCwAAwwwAAMMNAADTDgAAww8AAMMAAAy7AQAMwwIADMMDAAzDBAAM2wAAAADeEgSVAAAAAP///////////////9BrAAAUAAAAQy5VVEYtOABBoNgBCwLkawBBwNgBC0pMQ19DVFlQRQAAAABMQ19OVU1FUklDAABMQ19USU1FAAAAAABMQ19DT0xMQVRFAABMQ19NT05FVEFSWQBMQ19NRVNTQUdFUwCQbgBBlN0BC/kDAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAA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AgAAxwIAAMgCAABOU3QzX18yMTBtb25leXB1bmN0SXdMYjFFRUUApJUAACiMAAAAAAAAAgAAAIR/AAACAAAA4IoAAAIAAAAAAAAA6IwAABACAADJAgAA7gEAAMoCAADLAgAATlN0M19fMjltb25leV9nZXRJY05TXzE5aXN0cmVhbWJ1Zl9pdGVyYXRvckljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfZ2V0SWNFRQAAIJUAAMaMAACklQAAgIwAAAAAAAACAAAAhH8AAAIAAADgjABBjJoCC5oBjI0AABACAADMAgAA7gEAAM0CAADOAgAATlN0M19fMjltb25leV9nZXRJd05TXzE5aXN0cmVhbWJ1Zl9pdGVyYXRvckl3TlNfMTFjaGFyX3RyYWl0c0l3RUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfZ2V0SXdFRQAAIJUAAGqNAACklQAAJI0AAAAAAAACAAAAhH8AAAIAAACEjQBBsJsCC5oBMI4AABACAADPAgAA7gEAANACAADRAgAATlN0M19fMjltb25leV9wdXRJY05TXzE5b3N0cmVhbWJ1Zl9pdGVyYXRvckljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfcHV0SWNFRQAAIJUAAA6OAACklQAAyI0AAAAAAAACAAAAhH8AAAIAAAAojgBB1JwCC5oB1I4AABACAADSAgAA7gEAANMCAADUAgAATlN0M19fMjltb25leV9wdXRJd05TXzE5b3N0cmVhbWJ1Zl9pdGVyYXRvckl3TlNfMTFjaGFyX3RyYWl0c0l3RUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfcHV0SXdFRQAAIJUAALKOAACklQAAbI4AAAAAAAACAAAAhH8AAAIAAADMjgBB+J0CC7kITI8AABACAADVAgAA7gEAANYCAADXAgAA2AIAAE5TdDNfXzI4bWVzc2FnZXNJY0VFAE5TdDNfXzIxM21lc3NhZ2VzX2Jhc2VFAAAAACCVAAApjwAApJUAABSPAAAAAAAAAgAAAIR/AAACAAAARI8AAAIAAAAAAAAApI8AABACAADZAgAA7gEAANoCAADbAgAA3AIAAE5TdDNfXzI4bWVzc2FnZXNJd0VFAAAAAKSVAACM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")||(me=q,q=a.locateFile?a.locateFile(me,m):m+me);var nt,ut=$=>{for(;$.length>0;)$.shift()(a)},$t=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,gA=($,te)=>$?((le,we,$e)=>{for(var We=we+$e,ze=we;le[ze]&&!(ze>=We);)++ze;if(ze-we>16&&le.buffer&&$t)return $t.decode(le.subarray(we,ze));for(var ot="";we<ze;){var wt=le[we++];if(128&wt){var si=63&le[we++];if((224&wt)!=192){var Pi=63&le[we++];if((wt=(240&wt)==224?(15&wt)<<12|si<<6|Pi:(7&wt)<<18|si<<12|Pi<<6|63&le[we++])<65536)ot+=String.fromCharCode(wt);else{var Vr=wt-65536;ot+=String.fromCharCode(55296|Vr>>10,56320|1023&Vr)}}else ot+=String.fromCharCode((31&wt)<<6|si)}else ot+=String.fromCharCode(wt)}return ot})(U,$,te):"",AA=$=>{var te=($-D.buffer.byteLength+65535)/65536;try{return D.grow(te),he(),1}catch{}},SA={},DA=()=>{if(!DA.strings){var $={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"};for(var te in SA)SA[te]===void 0?delete $[te]:$[te]=SA[te];var le=[];for(var te in $)le.push("".concat(te,"=").concat($[te]));DA.strings=le}return DA.strings},ki=$=>$%4==0&&($%100!=0||$%400==0),ei=[31,29,31,30,31,30,31,31,30,31,30,31],At=[31,28,31,30,31,30,31,31,30,31,30,31],Qi=$=>{for(var te=0,le=0;le<$.length;++le){var we=$.charCodeAt(le);we<=127?te++:we<=2047?te+=2:we>=55296&&we<=57343?(te+=4,++le):te+=3}return te},QA=($,te,le,we)=>{if(!(we>0))return 0;for(var $e=le,We=le+we-1,ze=0;ze<$.length;++ze){var ot=$.charCodeAt(ze);if(ot>=55296&&ot<=57343&&(ot=65536+((1023&ot)<<10)|1023&$.charCodeAt(++ze)),ot<=127){if(le>=We)break;te[le++]=ot}else if(ot<=2047){if(le+1>=We)break;te[le++]=192|ot>>6,te[le++]=128|63&ot}else if(ot<=65535){if(le+2>=We)break;te[le++]=224|ot>>12,te[le++]=128|ot>>6&63,te[le++]=128|63&ot}else{if(le+3>=We)break;te[le++]=240|ot>>18,te[le++]=128|ot>>12&63,te[le++]=128|ot>>6&63,te[le++]=128|63&ot}}return te[le]=0,le-$e},fi=($,te,le,we)=>{var $e=H[we+40>>2],We={tm_sec:x[we>>2],tm_min:x[we+4>>2],tm_hour:x[we+8>>2],tm_mday:x[we+12>>2],tm_mon:x[we+16>>2],tm_year:x[we+20>>2],tm_wday:x[we+24>>2],tm_yday:x[we+28>>2],tm_isdst:x[we+32>>2],tm_gmtoff:x[we+36>>2],tm_zone:$e?gA($e):""},ze=gA(le),ot={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var wt in ot)ze=ze.replace(new RegExp(wt,"g"),ot[wt]);var si=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Pi=["January","February","March","April","May","June","July","August","September","October","November","December"];function Vr(ke,lt,_i){for(var ti=typeof ke=="number"?ke.toString():ke||"";ti.length<lt;)ti=_i[0]+ti;return ti}function VA(ke,lt){return Vr(ke,lt,"0")}function Rn(ke,lt){function _i(Ro){return Ro<0?-1:Ro>0?1:0}var ti;return(ti=_i(ke.getFullYear()-lt.getFullYear()))===0&&(ti=_i(ke.getMonth()-lt.getMonth()))===0&&(ti=_i(ke.getDate()-lt.getDate())),ti}function rs(ke){switch(ke.getDay()){case 0:return new Date(ke.getFullYear()-1,11,29);case 1:return ke;case 2:return new Date(ke.getFullYear(),0,3);case 3:return new Date(ke.getFullYear(),0,2);case 4:return new Date(ke.getFullYear(),0,1);case 5:return new Date(ke.getFullYear()-1,11,31);case 6:return new Date(ke.getFullYear()-1,11,30)}}function os(ke){var lt=((DE,ss)=>{for(var ai=new Date(DE.getTime());ss>0;){var zc=ki(ai.getFullYear()),as=ai.getMonth(),ya=(zc?ei:At)[as];if(!(ss>ya-ai.getDate()))return ai.setDate(ai.getDate()+ss),ai;ss-=ya-ai.getDate()+1,ai.setDate(1),as<11?ai.setMonth(as+1):(ai.setMonth(0),ai.setFullYear(ai.getFullYear()+1))}return ai})(new Date(ke.tm_year+1900,0,1),ke.tm_yday),_i=new Date(lt.getFullYear(),0,4),ti=new Date(lt.getFullYear()+1,0,4),Ro=rs(_i),Gi=rs(ti);return Rn(Ro,lt)<=0?Rn(Gi,lt)<=0?lt.getFullYear()+1:lt.getFullYear():lt.getFullYear()-1}var fo={"%a":ke=>si[ke.tm_wday].substring(0,3),"%A":ke=>si[ke.tm_wday],"%b":ke=>Pi[ke.tm_mon].substring(0,3),"%B":ke=>Pi[ke.tm_mon],"%C":ke=>VA((ke.tm_year+1900)/100|0,2),"%d":ke=>VA(ke.tm_mday,2),"%e":ke=>Vr(ke.tm_mday,2," "),"%g":ke=>os(ke).toString().substring(2),"%G":ke=>os(ke),"%H":ke=>VA(ke.tm_hour,2),"%I":ke=>{var lt=ke.tm_hour;return lt==0?lt=12:lt>12&&(lt-=12),VA(lt,2)},"%j":ke=>VA(ke.tm_mday+((lt,_i)=>{for(var ti=0,Ro=0;Ro<=_i;ti+=lt[Ro++]);return ti})(ki(ke.tm_year+1900)?ei:At,ke.tm_mon-1),3),"%m":ke=>VA(ke.tm_mon+1,2),"%M":ke=>VA(ke.tm_min,2),"%n":()=>`
`,"%p":ke=>ke.tm_hour>=0&&ke.tm_hour<12?"AM":"PM","%S":ke=>VA(ke.tm_sec,2),"%t":()=>"	","%u":ke=>ke.tm_wday||7,"%U":ke=>{var lt=ke.tm_yday+7-ke.tm_wday;return VA(Math.floor(lt/7),2)},"%V":ke=>{var lt=Math.floor((ke.tm_yday+7-(ke.tm_wday+6)%7)/7);if((ke.tm_wday+371-ke.tm_yday-2)%7<=2&&lt++,lt){if(lt==53){var _i=(ke.tm_wday+371-ke.tm_yday)%7;_i==4||_i==3&&ki(ke.tm_year)||(lt=1)}}else{lt=52;var ti=(ke.tm_wday+7-ke.tm_yday-1)%7;(ti==4||ti==5&&ki(ke.tm_year%400-1))&&lt++}return VA(lt,2)},"%w":ke=>ke.tm_wday,"%W":ke=>{var lt=ke.tm_yday+7-(ke.tm_wday+6)%7;return VA(Math.floor(lt/7),2)},"%y":ke=>(ke.tm_year+1900).toString().substring(2),"%Y":ke=>ke.tm_year+1900,"%z":ke=>{var lt=ke.tm_gmtoff,_i=lt>=0;return lt=(lt=Math.abs(lt)/60)/60*100+lt%60,(_i?"+":"-")+("0000"+lt).slice(-4)},"%Z":ke=>ke.tm_zone,"%%":()=>"%"};for(var wt in ze=ze.replace(/%%/g,"\0\0"),fo)ze.includes(wt)&&(ze=ze.replace(new RegExp(wt,"g"),fo[wt](We)));ze=ze.replace(/\0\0/g,"%");var Ra,Wc,ns,Xc,Zc,_o=(Wc=Qi(Ra=ze)+1,ns=new Array(Wc),QA(Ra,ns,0,ns.length),ns);return _o.length>te?0:(Xc=_o,Zc=$,O.set(Xc,Zc),_o.length-1)},GA=($,te)=>{$<128?te.push($):te.push($%128|128,$>>7)},fa=($,te)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function((We=>{for(var ze={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"},ot={parameters:[],results:We[0]=="v"?[]:[ze[We[0]]]},wt=1;wt<We.length;++wt)ot.parameters.push(ze[We[wt]]);return ot})(te),$);var le=[1];((We,ze)=>{var ot=We.slice(0,1),wt=We.slice(1),si={i:127,p:127,j:126,f:125,d:124};ze.push(96),GA(wt.length,ze);for(var Pi=0;Pi<wt.length;++Pi)ze.push(si[wt[Pi]]);ot=="v"?ze.push(0):ze.push(1,si[ot])})(te,le);var we=[0,97,115,109,1,0,0,0,1];GA(le.length,we),we.push.apply(we,le),we.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var $e=new WebAssembly.Module(new Uint8Array(we));return new WebAssembly.Instance($e,{e:{f:$}}).exports.f},vr=$=>oe.get($),Qo=void 0,mE=$=>(Qo||(Qo=new WeakMap,((te,le)=>{if(Qo)for(var we=te;we<te+le;we++){var $e=vr(we);$e&&Qo.set($e,we)}})(0,oe.length)),Qo.get($)||0),cr=[],_a=($,te)=>oe.set($,te),SE={a:($,te,le,we)=>{Ye("Assertion failed: ".concat(gA($),", at: ")+[te?gA(te):"unknown filename",le,we?gA(we):"unknown function"])},f:()=>!0,b:()=>{Ye("")},g:()=>Date.now(),i:()=>performance.now(),h:$=>{var te=U.length,le=2147483648;if(($>>>=0)>le)return!1;for(var we,$e,We=1;We<=4;We*=2){var ze=te*(1+.2/We);ze=Math.min(ze,$+100663296);var ot=Math.min(le,(we=Math.max($,ze))+(($e=65536)-we%$e)%$e);if(AA(ot))return!0}return!1},d:($,te)=>{var le=0;return DA().forEach((we,$e)=>{var We=te+le;H[$+4*$e>>2]=We,((ze,ot)=>{for(var wt=0;wt<ze.length;++wt)O[0|ot++]=ze.charCodeAt(wt);O[0|ot]=0})(we,We),le+=we.length+1}),0},e:($,te)=>{var le=DA();H[$>>2]=le.length;var we=0;return le.forEach($e=>we+=$e.length+1),H[te>>2]=we,0},j:function($,te){a.rtejsLog($,gA(te))},c:($,te,le,we,$e)=>fi($,te,le,we)},_e=function(){var $,te,le,we={a:SE};function $e(We,ze){var ot,wt=We.exports;return D=(_e=wt).k,he(),oe=_e.m,ot=_e.l,Le.unshift(ot),function(){if(Se--,a.monitorRunDependencies&&a.monitorRunDependencies(Se),Se==0&&ge){var si=ge;ge=null,si()}}(),wt}if(Se++,a.monitorRunDependencies&&a.monitorRunDependencies(Se),a.instantiateWasm)try{return a.instantiateWasm(we,$e)}catch(We){M("Module.instantiateWasm callback failed with error: ".concat(We)),r(We)}return($=q,te=we,le=function(We){$e(We.instance)},je($,te,le)).catch(r),{}}();function Ui(){function $(){nt||(nt=!0,a.calledRun=!0,ae||(ut(Le),e(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),function(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)te=a.postRun.shift(),He.unshift(te);var te;ut(He)}()))}Se>0||(function(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)te=a.preRun.shift(),fe.unshift(te);var te;ut(fe)}(),Se>0||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),$()},1)):$()))}if(a._free=$=>(a._free=_e.n)($),a._malloc=$=>(a._malloc=_e.o)($),a._rte_crdt_value_create=()=>(a._rte_crdt_value_create=_e.p)(),a._rte_crdt_value_clone=$=>(a._rte_crdt_value_clone=_e.q)($),a._rte_crdt_value_destroy=$=>(a._rte_crdt_value_destroy=_e.r)($),a._rte_crdt_value_is_scalar=$=>(a._rte_crdt_value_is_scalar=_e.s)($),a._rte_crdt_value_is_map=$=>(a._rte_crdt_value_is_map=_e.t)($),a._rte_crdt_value_is_list=$=>(a._rte_crdt_value_is_list=_e.u)($),a._rte_crdt_value_get_scalar=$=>(a._rte_crdt_value_get_scalar=_e.v)($),a._rte_crdt_value_set_scalar=$=>(a._rte_crdt_value_set_scalar=_e.w)($),a._rte_crdt_value_set_map=$=>(a._rte_crdt_value_set_map=_e.x)($),a._rte_crdt_value_set_list=$=>(a._rte_crdt_value_set_list=_e.y)($),a._rte_crdt_scalar_value_set_i64=($,te)=>(a._rte_crdt_scalar_value_set_i64=_e.z)($,te),a._rte_crdt_scalar_value_set_u64=($,te)=>(a._rte_crdt_scalar_value_set_u64=_e.A)($,te),a._rte_crdt_scalar_value_set_double=($,te)=>(a._rte_crdt_scalar_value_set_double=_e.B)($,te),a._rte_crdt_scalar_value_set_bool=($,te)=>(a._rte_crdt_scalar_value_set_bool=_e.C)($,te),a._rte_crdt_scalar_value_set_bytes=($,te,le)=>(a._rte_crdt_scalar_value_set_bytes=_e.D)($,te,le),a._rte_crdt_scalar_value_set_null=$=>(a._rte_crdt_scalar_value_set_null=_e.E)($),a._rte_crdt_scalar_value_set_counter=($,te)=>(a._rte_crdt_scalar_value_set_counter=_e.F)($,te),a._rte_crdt_scalar_value_is_i64=$=>(a._rte_crdt_scalar_value_is_i64=_e.G)($),a._rte_crdt_scalar_value_is_u64=$=>(a._rte_crdt_scalar_value_is_u64=_e.H)($),a._rte_crdt_scalar_value_is_double=$=>(a._rte_crdt_scalar_value_is_double=_e.I)($),a._rte_crdt_scalar_value_is_bool=$=>(a._rte_crdt_scalar_value_is_bool=_e.J)($),a._rte_crdt_scalar_value_is_bytes=$=>(a._rte_crdt_scalar_value_is_bytes=_e.K)($),a._rte_crdt_scalar_value_is_null=$=>(a._rte_crdt_scalar_value_is_null=_e.L)($),a._rte_crdt_scalar_value_is_counter=$=>(a._rte_crdt_scalar_value_is_counter=_e.M)($),a._rte_crdt_scalar_value_get_i64=($,te)=>(a._rte_crdt_scalar_value_get_i64=_e.N)($,te),a._rte_crdt_scalar_value_get_u64=($,te)=>(a._rte_crdt_scalar_value_get_u64=_e.O)($,te),a._rte_crdt_scalar_value_get_double=($,te)=>(a._rte_crdt_scalar_value_get_double=_e.P)($,te),a._rte_crdt_scalar_value_get_bool=($,te)=>(a._rte_crdt_scalar_value_get_bool=_e.Q)($,te),a._rte_crdt_scalar_value_get_bytes=($,te,le)=>(a._rte_crdt_scalar_value_get_bytes=_e.R)($,te,le),a._rte_crdt_scalar_value_get_counter=($,te)=>(a._rte_crdt_scalar_value_get_counter=_e.S)($,te),a._rte_crdt_nested_value_create=()=>(a._rte_crdt_nested_value_create=_e.T)(),a._rte_crdt_nested_value_destroy=$=>(a._rte_crdt_nested_value_destroy=_e.U)($),a._rte_crdt_nested_value_print=$=>(a._rte_crdt_nested_value_print=_e.V)($),a._rte_crdt_nested_value_is_scalar=$=>(a._rte_crdt_nested_value_is_scalar=_e.W)($),a._rte_crdt_nested_value_is_map=$=>(a._rte_crdt_nested_value_is_map=_e.X)($),a._rte_crdt_nested_value_is_list=$=>(a._rte_crdt_nested_value_is_list=_e.Y)($),a._rte_crdt_nested_value_get_scalar=$=>(a._rte_crdt_nested_value_get_scalar=_e.Z)($),a._rte_crdt_nested_value_iterator_create=$=>(a._rte_crdt_nested_value_iterator_create=_e._)($),a._rte_crdt_nested_value_iterator_destroy=$=>(a._rte_crdt_nested_value_iterator_destroy=_e.$)($),a._rte_crdt_nested_value_iterator_next_key_value=($,te,le,we)=>(a._rte_crdt_nested_value_iterator_next_key_value=_e.aa)($,te,le,we),a._rte_crdt_nested_value_iterator_next_value=($,te)=>(a._rte_crdt_nested_value_iterator_next_value=_e.ba)($,te),a._rte_crdt_path_create=()=>(a._rte_crdt_path_create=_e.ca)(),a._rte_crdt_path_clone=$=>(a._rte_crdt_path_clone=_e.da)($),a._rte_crdt_path_destroy=$=>(a._rte_crdt_path_destroy=_e.ea)($),a._rte_crdt_path_add_property=($,te,le)=>(a._rte_crdt_path_add_property=_e.fa)($,te,le),a._rte_crdt_path_add_index=($,te)=>(a._rte_crdt_path_add_index=_e.ga)($,te),a._rte_crdt_path_iterator_create=$=>(a._rte_crdt_path_iterator_create=_e.ha)($),a._rte_crdt_path_iterator_destroy=$=>(a._rte_crdt_path_iterator_destroy=_e.ia)($),a._rte_crdt_path_iterator_next=($,te,le,we)=>(a._rte_crdt_path_iterator_next=_e.ja)($,te,le,we),a._rte_crdt_document_destroy=$=>(a._rte_crdt_document_destroy=_e.ka)($),a._rte_crdt_document_get=($,te,le,we)=>(a._rte_crdt_document_get=_e.la)($,te,le,we),a._rte_crdt_document_batch_write_begin=$=>(a._rte_crdt_document_batch_write_begin=_e.ma)($),a._rte_crdt_document_batch_write_end=$=>(a._rte_crdt_document_batch_write_end=_e.na)($),a._rte_crdt_document_put=($,te,le,we)=>(a._rte_crdt_document_put=_e.oa)($,te,le,we),a._rte_crdt_document_insert=($,te,le,we)=>(a._rte_crdt_document_insert=_e.pa)($,te,le,we),a._rte_crdt_document_delete=($,te,le)=>(a._rte_crdt_document_delete=_e.qa)($,te,le),a._rte_crdt_document_increment=($,te,le,we)=>(a._rte_crdt_document_increment=_e.ra)($,te,le,we),a._rte_crdt_collection_put_doc=($,te,le)=>(a._rte_crdt_collection_put_doc=_e.sa)($,te,le),a._rte_crdt_collection_delete_doc=($,te,le)=>(a._rte_crdt_collection_delete_doc=_e.ta)($,te,le),a._rte_crdt_collection_ref_doc=($,te,le)=>(a._rte_crdt_collection_ref_doc=_e.ua)($,te,le),a._rte_crdt_collection_iterator_create=($,te,le)=>(a._rte_crdt_collection_iterator_create=_e.va)($,te,le),a._rte_crdt_collection_iterator_destroy=$=>(a._rte_crdt_collection_iterator_destroy=_e.wa)($),a._rte_crdt_collection_iterator_next=($,te,le)=>(a._rte_crdt_collection_iterator_next=_e.xa)($,te,le),a._rte_crdt_collection_init=($,te,le)=>(a._rte_crdt_collection_init=_e.ya)($,te,le),a._rte_crdt_collection_subscribe=($,te,le)=>(a._rte_crdt_collection_subscribe=_e.za)($,te,le),a._sync_client_create=($,te,le)=>(a._sync_client_create=_e.Aa)($,te,le),a._sync_client_destroy=$=>(a._sync_client_destroy=_e.Ba)($),a._sync_client_set_shakehand_interval=($,te)=>(a._sync_client_set_shakehand_interval=_e.Ca)($,te),a._sync_client_set_connection_timeout=($,te)=>(a._sync_client_set_connection_timeout=_e.Da)($,te),a._sync_client_set_request_timeout=($,te)=>(a._sync_client_set_request_timeout=_e.Ea)($,te),a._sync_client_set_doc_ttl=($,te,le,we,$e)=>(a._sync_client_set_doc_ttl=_e.Fa)($,te,le,we,$e),a._sync_client_init=($,te,le)=>(a._sync_client_init=_e.Ga)($,te,le),a._sync_buffer_create=()=>(a._sync_buffer_create=_e.Ha)(),a._sync_buffer_destroy=$=>(a._sync_buffer_destroy=_e.Ia)($),a._sync_buffer_data=$=>(a._sync_buffer_data=_e.Ja)($),a._sync_buffer_length=$=>(a._sync_buffer_length=_e.Ka)($),a._sync_client_tick=($,te)=>(a._sync_client_tick=_e.La)($,te),a._sync_client_shakehand=($,te)=>(a._sync_client_shakehand=_e.Ma)($,te),a._sync_client_on_recv=($,te,le,we)=>(a._sync_client_on_recv=_e.Na)($,te,le,we),a._sync_client_reset_connection=$=>(a._sync_client_reset_connection=_e.Oa)($),a._sync_client_compact=$=>(a._sync_client_compact=_e.Pa)($),a._sync_client_create_coll=($,te,le,we,$e,We,ze,ot,wt)=>(a._sync_client_create_coll=_e.Qa)($,te,le,we,$e,We,ze,ot,wt),a._sync_client_subscribe=($,te,le,we,$e)=>(a._sync_client_subscribe=_e.Ra)($,te,le,we,$e),a._sync_client_get_coll=($,te,le)=>(a._sync_client_get_coll=_e.Sa)($,te,le),a._sync_client_delete_coll=($,te,le)=>(a._sync_client_delete_coll=_e.Ta)($,te,le),a._sync_collection_iterator_create=($,te)=>(a._sync_collection_iterator_create=_e.Ua)($,te),a._sync_collection_iterator_next=($,te)=>(a._sync_collection_iterator_next=_e.Va)($,te),a._sync_client_enable_js_logging=()=>(a._sync_client_enable_js_logging=_e.Wa)(),a._sync_client_set_log_level=$=>(a._sync_client_set_log_level=_e.Xa)($),a._sync_client_set_exception_callback=($,te,le)=>(a._sync_client_set_exception_callback=_e.Ya)($,te,le),a._sync_client_renew_tickets=($,te,le)=>(a._sync_client_renew_tickets=_e.Za)($,te,le),a._sync_client_keepalive=($,te,le,we,$e)=>(a._sync_client_keepalive=_e._a)($,te,le,we,$e),a._sync_client_connect_database=($,te,le,we,$e,We)=>(a._sync_client_connect_database=_e.$a)($,te,le,we,$e,We),a._sync_client_disconnect_database=($,te,le,we)=>(a._sync_client_disconnect_database=_e.ab)($,te,le,we),a._sync_client_query_doc=($,te,le,we,$e,We,ze,ot,wt,si)=>(a._sync_client_query_doc=_e.bb)($,te,le,we,$e,We,ze,ot,wt,si),a._sync_client_put_doc=($,te,le,we,$e,We,ze,ot,wt)=>(a._sync_client_put_doc=_e.cb)($,te,le,we,$e,We,ze,ot,wt),a._sync_client_delete_doc=($,te,le,we,$e,We)=>(a._sync_client_delete_doc=_e.db)($,te,le,we,$e,We),a._sync_client_update_doc=($,te,le,we,$e,We,ze,ot,wt,si,Pi,Vr,VA,Rn,rs,os)=>(a._sync_client_update_doc=_e.eb)($,te,le,we,$e,We,ze,ot,wt,si,Pi,Vr,VA,Rn,rs,os),a._sync_client_range_docs=($,te,le,we,$e,We,ze,ot)=>(a._sync_client_range_docs=_e.fb)($,te,le,we,$e,We,ze,ot),a._sync_client_get_doc=($,te,le,we,$e,We,ze)=>(a._sync_client_get_doc=_e.gb)($,te,le,we,$e,We,ze),a._sync_client_set_permission_callback=($,te,le)=>(a._sync_client_set_permission_callback=_e.hb)($,te,le),a.___start_em_js=38440,a.___stop_em_js=38534,a.addFunction=($,te)=>{var le=mE($);if(le)return le;var we=(()=>{if(cr.length)return cr.pop();try{oe.grow(1)}catch(We){throw We instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":We}return oe.length-1})();try{_a(we,$)}catch(We){if(!(We instanceof TypeError))throw We;var $e=fa($,te);_a(we,$e)}return Qo.set($,we),we},a.removeFunction=$=>{Qo.delete(vr($)),cr.push($)},a.setValue=function($,te){let le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"i8";switch(le.endsWith("*")&&(le="*"),le){case"i1":case"i8":O[0|$]=te;break;case"i16":F[$>>1]=te;break;case"i32":x[$>>2]=te;break;case"i64":ee[$>>3]=BigInt(te);break;case"float":j[$>>2]=te;break;case"double":ne[$>>3]=te;break;case"*":H[$>>2]=te;break;default:Ye("invalid type for setValue: ".concat(le))}},a.getValue=function($){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"i8";switch(te.endsWith("*")&&(te="*"),te){case"i1":case"i8":return O[0|$];case"i16":return F[$>>1];case"i32":return x[$>>2];case"i64":return ee[$>>3];case"float":return j[$>>2];case"double":return ne[$>>3];case"*":return H[$>>2];default:Ye("invalid type for getValue: ".concat(te))}},a.UTF8ToString=gA,a.stringToUTF8=($,te,le)=>QA($,U,te,le),a.lengthBytesUTF8=Qi,ge=function $(){nt||Ui(),nt||(ge=$)},a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return Ui(),n.ready};const getUTCTimestamp=()=>{const n=new Date;return"".concat(n.toISOString().split("T")[1].replace(/\..+/,""),".").concat(n.getMilliseconds())};let wasmReject,wasmResolve;const wasmPromise=new Promise((n,e)=>{wasmReject=e,wasmResolve=n});let Module,isBrowser;async function initWasm(n){Module=await wasmPromise,initFunc(n)}function setBrowser(n){isBrowser=n}createModule({rtejsLog:(n,e)=>{switch(n){case 0:console.debug(e," ----------rtejslog");break;case 1:console.info(e," ----------rtejslog");break;case 2:console.warn(e," ----------rtejslog");break;case 3:console.error(e," ----------rtejslog")}}}).then(n=>{wasmResolve(n),console.log(getUTCTimestamp(),"wasm-module initialized")}).catch(n=>{wasmReject(n)});class QueryDocBuffer{constructor(){this.docs=new Map,this.count=-1,this.more=!1}SetDocs(e,r){this.docs.set(e,r)}SetCount(e){if(!isInteger(e))throw new TypeError("The num is expected to be an integer, but a double was got.");this.count=e}SetMore(e){this.more=e}}class SyncClient{constructor(e){this.appId=e.appId,this.logLevel=e.logLevel,this.shakehandInterval=e.shakehandInterval,this.manualShakehand=e.manualShakehand,this.manualTick=e.manualTick,this.uuidPrefix=e.uuidPrefix,this.getLogger=e.getLogger,this.reuseConn=e.reuseConn,this.tickets=new Map,this.exceptionCb=null,this.exceptionChan=new eventsExports.EventEmitter;const r=getPtrWithStr(this.uuidPrefix+"_"+uuid_1.v4()),[a,g]=getPtrStringList(Array.from(this.tickets.values()));this.clientPtr=Module._sync_client_create(r,a,this.tickets.size);for(let E=0;E<g.length;E++)releasePtr(g[E]);releasePtr(r),this.timer=null,this.databaseConnected=new Map,this.tickBufferPtr=0,this.connected=!1,Module._sync_client_enable_js_logging(),Module._sync_client_set_log_level(this.logLevel),this.manualShakehand?(Module._sync_client_set_shakehand_interval(this.clientPtr,0),this.shakehandBufferPtr=Module._sync_buffer_create()):(Module._sync_client_set_shakehand_interval(this.clientPtr,this.shakehandInterval),this.shakehandBufferPtr=0),this.reuseConn!==null&&(this.tickBufferPtr=Module._sync_buffer_create(),this.reuseConn().internalEmitter.on("connected",()=>{this.connected=!0,this.manualTick||(tickLoop(this),this.timer=setInterval(()=>{tickLoop(this)},2e3))}),this.reuseConn().internalEmitter.on("disconnected",()=>{this.connected=!1,this.manualTick||clearInterval(this.timer),Module._sync_client_reset_connection(this.clientPtr)}),this.reuseConn().internalEmitter.on("received-packet",E=>{try{const u=E.length*E.BYTES_PER_ELEMENT,B=Module._malloc(u);Module.HEAPU8.set(E,B);const f=Module._sync_client_on_recv(this.clientPtr,B,BigInt(u),this.tickBufferPtr);if(Module._free(B),f===101)Module._sync_client_reset_connection(this.clientPtr);else{const m=new Uint8Array(Module.HEAPU8.buffer,Module._sync_buffer_data(this.tickBufferPtr),Number(Module._sync_buffer_length(this.tickBufferPtr))).slice();m.length!=0&&(this.reuseConn().sendPacket(m),logger(new Date().toString()+" : recv and send packet",this.getLogger,"info"))}}catch(u){let B=u;console.log(B),logger("recvError : ".concat(B),this.getLogger,"error")}}))}async Login(){if(this.reuseConn===null){if(!(this.tickets.size>0))throw new Error("Tickets should be set before logging in.");await fetchHelper(this,isBrowser),logger("Open the WebSocket successfully",this.getLogger,"info")}}Logout(){Module._sync_buffer_destroy(this.tickBufferPtr),this.reuseConn===null&&clearInterval(this.timer),this.manualShakehand&&Module._sync_buffer_destroy(this.shakehandBufferPtr),this.exceptionCb!=null&&Module.removeFunction(this.exceptionCb),this.connected=!1,logger("Logout successfully",this.getLogger,"info")}async ConnectDatabase(e){try{if(await promisify(connectDatabase)({client:this,databaseName:e}),!this.databaseConnected.has(e)){const r=new SyncDatabase(e,this);this.databaseConnected.set(e,r)}}catch(r){logger("Database connection failed by the error : ".concat(r),this.getLogger,"error")}}async DisConnectDatabase(e){if(this.databaseConnected.has(e))try{await promisify(disconnectDatabase)({client:this,databaseName:e}),this.databaseConnected.delete(e)}catch(r){logger("Database disconnection failed by the error : ".concat(r),this.getLogger,"error")}}Database(e){return this.databaseConnected.has(e)?this.databaseConnected.get(e):null}SetTicket(e,r){this.tickets.set(e,r);const[a,g]=getPtrStringList(Array.from(this.tickets.values()));Module._sync_client_renew_tickets(this.clientPtr,a,this.tickets.size),this.connected&&tickLoop(this),releasePtr(a);for(let E=0;E<g.length;E++)releasePtr(g[E])}RemoveTicket(e){if(this.tickets.has(e)){this.tickets.delete(e);const[r,a]=getPtrStringList(Array.from(this.tickets.values()));Module._sync_client_renew_tickets(this.clientPtr,r,this.tickets.size),this.connected&&tickLoop(this),releasePtr(r);for(let g=0;g<a.length;g++)releasePtr(a[g])}}async QueryDoc(e,r,a){const g=new QueryDocBuffer;try{await promisify(queryDoc)({client:this,database:e,coll:r,option:a,buffer:g})}catch(E){logger("Query Doc is failed by the error : ".concat(E),this.getLogger,"error")}if(g.count>=0)return a.countOnly?[null,g.count,g.more]:a.keysOnly?[Array.from(g.docs.keys()).sort(),g.count,g.more]:[new Map([...g.docs].sort()),g.count,g.more];throw new Error("The query doc operation is failed")}Shakehand(){if(!this.manualShakehand)throw new Error("The manualShakehand is set to false for this client.");shakehandOnce(this)}Tick(){if(!this.manualTick)throw new Error("The manualTick is set to false for this client.");tickLoop(this)}SetConnectionTimeout(e){if(!isInteger(e)||e<=0)throw new TypeError("The seconds is expected to be a positive integer.");Module._sync_client_set_connection_timeout(this.clientPtr,e)}GetConnectionState(){return this.connected}ExceptionCallback(){return this.exceptionCb!=null&&Module.removeFunction(this.exceptionCb),exceptionCallback(this),this.exceptionChan}}class SyncConfig{constructor(e,r,a,g,E,u){let B=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,f=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null;if(!isInteger(r))throw new TypeError("The logLevel is expected to be an int, but a double was got.");if(!isInteger(a))throw new TypeError("The shakehandInterval is expected to be an integer, but a double was got.");this.appId=e,this.logLevel=r,this.shakehandInterval=a,this.manualShakehand=g,this.manualTick=E,this.uuidPrefix=u,this.getLogger=B,this.reuseConn=f}}class QueryOption{constructor(e,r,a,g,E){let u=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],B=arguments.length>6&&arguments[6]!==void 0&&arguments[6];if(!isInteger(E)||E<0)throw new TypeError("The limit is expected to be an int greater than or equal to zero, but a double or a negative int was got.");this.start=e,this.end=r,this.keysOnly=a,this.countOnly=g,this.limit=E,this.startIncluded=u,this.endIncluded=B}}async function CreateClient(n){return await initWasm(n.getLogger),typeof process=="object"?setBrowser(!1):typeof window=="object"&&setBrowser(!0),new SyncClient(n)}class VirtualSyncSocket{constructor(e){_defineProperty$1(this,"getSockets",void 0),_defineProperty$1(this,"internalEmitter",new eventsExports.EventEmitter),this.getSockets=e,this.internalEmitter.setMaxListeners(512)}sendPacket(e){var r,a;(r=this.getSockets()[0])===null||r===void 0||(a=r.sendSyncPacket)===null||a===void 0||a.call(r,e)}}const resetIntervalInfo=()=>({joined:new Set,left:new Set,timeout:new Set,stateChanged:new Set});class PresenceSession extends EventBase{constructor(e,r,a,g,E,u,B,f,m){super(a,"SessionSync"),_defineProperty$1(this,"syncClient",void 0),_defineProperty$1(this,"virtualSocket",void 0),_defineProperty$1(this,"ticket",void 0),_defineProperty$1(this,"operation",OperationName.login),_defineProperty$1(this,"startTime",Date.now()),_defineProperty$1(this,"seq",Long$2.fromNumber(1,!0)),_defineProperty$1(this,"seqSentStatuses",[!1]),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"vid",void 0),_defineProperty$1(this,"instanceId",void 0),_defineProperty$1(this,"clientPtr",0),_defineProperty$1(this,"channelsUsersStates",new Map),_defineProperty$1(this,"getConsoleConfig",void 0),_defineProperty$1(this,"getLocalStateCache",void 0),_defineProperty$1(this,"timeoutInSnapshot",new Map),_defineProperty$1(this,"timeoutUsersWithoutInterval",new Map),_defineProperty$1(this,"intervalMode",new Map),_defineProperty$1(this,"intervalTimerId",new Map),_defineProperty$1(this,"intervalSnapshot",new Map),_defineProperty$1(this,"intervalInfos",new Map),_defineProperty$1(this,"presenceTimeout",0),_defineProperty$1(this,"dbObj",void 0),_defineProperty$1(this,"getVirtualSyncSocket",void 0),_defineProperty$1(this,"updateLastSubOrJoinOptionsCache",void 0),_defineProperty$1(this,"getLastSubscribeOrJoinOptions",void 0),_defineProperty$1(this,"expiredPresenceEvent",new Map),_defineProperty$1(this,"_decoupleChannels",new Map),_defineProperty$1(this,"_decoupleChannelPromises",new Map),_defineProperty$1(this,"_intervals4CreateColl",[...CREATE_COLL_INTERVALS]),_defineProperty$1(this,"cacheCrdtState",void 0),_defineProperty$1(this,"controlInterval",(y,D)=>{var M,O,U;const F=(M=(O=this.channelsUsersStates.get(y))===null||O===void 0?void 0:O.size)!==null&&M!==void 0?M:0,x=Number(getParameter("PRESENCE_THRESHOLD")||((U=this.getConsoleConfig())===null||U===void 0?void 0:U["presence.occupancy"]))||0;switch(this.log("occupancy: %d, channelOccupancy: %d",x,F),this.log(this.intervalMode.get(y),y,"intervalMode"),D){case"open":var H,j;F>=x&&!this.intervalMode.get(y)&&(this.log("open interval mode in channel: ".concat(replaceRangeWithAsterisk(y))),this.intervalMode.set(y,!0),this.intervalSnapshot.set(y,this.getIntervalSnapshot(y)),this.intervalTimerId.set(y,setInterval(()=>{this.emit("presence-interval",y)},1e3*((H=getParameter("PRESENCE_INTERVAL"))!==null&&H!==void 0?H:Number((j=this.getConsoleConfig())===null||j===void 0?void 0:j["presence.interval"])))),this.intervalInfos.set(y,resetIntervalInfo()));break;case"close":F<x&&this.intervalMode.get(y)&&(this.log("close interval mode in channel: ".concat(replaceRangeWithAsterisk(y))),this.intervalMode.delete(y),this.emit("presence-interval",y,!0),this.clearIntervalById(this.intervalTimerId.get(y)),this.intervalTimerId.delete(y))}}),_defineProperty$1(this,"handlePresenceEvent",y=>D=>{console.log("events",D);const{channelName:M,channelType:O}=getChannelDetailByName(y),U={eventType:"SNAPSHOT",channelType:O,channelName:M,publisher:"",stateChanged:{},interval:null,snapshot:[],timestamp:getUTCTimeBaseREG(this.context.offsetTime)},F=D.length;try{for(let ei=0;ei<F;ei++){const{document:At,type:Qi,path:QA,value:fi}=D[ei];if(U.publisher=At,Qi==="DocSyncEnd"){if(At===this.context.uid){const GA=this.expiredPresenceEvent.get(y);GA&&(this.emit(GA,y),this.expiredPresenceEvent.delete(y))}return}if(Qi==="Put"&&!QA&&!fi){var x;U.eventType="REMOTE_JOIN";const GA=this.requestGetState(y,At,!0);if((x=this.channelsUsersStates.get(y))===null||x===void 0||x.set(At,GA),At===this.context.uid)this.log('"'.concat(replaceRangeWithAsterisk(At),'" receive self presence event in channel("').concat(O,'"-"').concat(replaceRangeWithAsterisk(M),'"), type is JOIN.'));else{var H,j,ee,ne;this.log("remote user(".concat(replaceRangeWithAsterisk(At),') join channel("').concat(O,'"-"').concat(replaceRangeWithAsterisk(M),'") in presence subscribe callback')),this.intervalMode.get(y)?(this.log("interval mode"),(j=this.intervalInfos.get(y))!==null&&j!==void 0&&j.timeout.has(At)?(ee=this.intervalInfos.get(y))===null||ee===void 0||ee.timeout.delete(At):(ne=this.intervalInfos.get(y))===null||ne===void 0||ne.joined.add(At)):(this.log("emit presence,controlInterval open"),this.emit("presence",U),this.controlInterval(y,"open")),(H=this.timeoutUsersWithoutInterval.get(y))===null||H===void 0||H.delete(At)}return}if(Qi==="Delete"&&!QA&&!fi){var oe;if((oe=this.channelsUsersStates.get(y))===null||oe===void 0||oe.delete(At),U.eventType="REMOTE_LEAVE",At===this.context.uid)this.log('"'.concat(replaceRangeWithAsterisk(At),'" receive self presence event in channel("').concat(O,'"-"').concat(replaceRangeWithAsterisk(M),'"), type is ').concat(U.eventType,". will need execute logout.")),this.emit("doc-timeout",y);else{var ae,he;if((ae=this.timeoutUsersWithoutInterval.get(y))!==null&&ae!==void 0&&ae.has(At))return(he=this.timeoutUsersWithoutInterval.get(y))===null||he===void 0||he.delete(At),void this.log("timeout user(".concat(replaceRangeWithAsterisk(At),") left, ignore"));if(this.intervalMode.get(y)){var fe,Le,He;(fe=this.intervalInfos.get(y))!==null&&fe!==void 0&&fe.joined.has(At)?(Le=this.intervalInfos.get(y))===null||Le===void 0||Le.joined.delete(At):(He=this.intervalInfos.get(y))===null||He===void 0||He.left.add(At),this.controlInterval(y,"close")}else this.emit("presence",U)}return}if(Qi==="Delete"&&QA===K_PRESENCE_EXPIRED){var Se;U.eventType="REMOTE_JOIN";const GA=this.requestGetState(y,At,!0);if((Se=this.channelsUsersStates.get(y))===null||Se===void 0||Se.set(At,GA),At===this.context.uid)this.log('"'.concat(replaceRangeWithAsterisk(At),'" receive self presence event in channel("').concat(O,'"-"').concat(replaceRangeWithAsterisk(M),'"), type is REJOIN.'));else{var ge,Ye,q,me;this.log("remote user(".concat(replaceRangeWithAsterisk(At),') rejoin channel("').concat(O,'"-"').concat(replaceRangeWithAsterisk(M),'") in presence subscribe callback')),this.intervalMode.get(y)?(Ye=this.intervalInfos.get(y))!==null&&Ye!==void 0&&Ye.timeout.has(At)?(q=this.intervalInfos.get(y))===null||q===void 0||q.timeout.delete(At):(me=this.intervalInfos.get(y))===null||me===void 0||me.joined.add(At):(this.emit("presence",U),this.controlInterval(y,"open")),(ge=this.timeoutUsersWithoutInterval.get(y))===null||ge===void 0||ge.delete(At)}return}if(Qi==="Put"&&QA===K_PRESENCE_EXPIRED){var Fe,_t;if((Fe=this.channelsUsersStates.get(y))===null||Fe===void 0||Fe.delete(At),U.eventType="REMOTE_TIMEOUT",At===this.context.uid)this.log('"'.concat(replaceRangeWithAsterisk(At),'" receive self presence event in channel("').concat(O,'"-"').concat(replaceRangeWithAsterisk(M),'"), type is TIMEOUT.')),this.expiredPresenceEvent.set(y,"doc-timeout");else if(this.log("remote user(".concat(replaceRangeWithAsterisk(At),') timeout at channel("').concat(O,'"-"').concat(replaceRangeWithAsterisk(M),'") in presence subscribe callback')),this.intervalMode.get(y)){var Qt,je,nt;(Qt=this.intervalInfos.get(y))!==null&&Qt!==void 0&&Qt.joined.has(At)?(je=this.intervalInfos.get(y))===null||je===void 0||je.joined.delete(At):(nt=this.intervalInfos.get(y))===null||nt===void 0||nt.timeout.add(At),this.controlInterval(y,"close")}else if((_t=this.timeoutUsersWithoutInterval.get(y))===null||_t===void 0||!_t.has(At)){var ut;(ut=this.timeoutUsersWithoutInterval.get(y))===null||ut===void 0||ut.add(At),this.emit("presence",U)}return}if(!checkKeyValidity(QA[0]))return void this.log("key is invalid in presence subscribe callback, key(".concat(QA,")"));if(Qi==="Delete"&&QA&&!fi&&!D.some(GA=>GA.type==="Put"&&GA.path===K_PRESENCE_EXPIRED)){var $t,gA;U.eventType="REMOTE_STATE_CHANGED";const GA=($t=(gA=this.channelsUsersStates.get(y))===null||gA===void 0?void 0:gA.get(At))!==null&&$t!==void 0?$t:{};if(delete GA[QA],U.stateChanged=GA,At===this.context.uid)this.log('"'.concat(replaceRangeWithAsterisk(At),'" receive self presence event in channel("').concat(O,'"-"').concat(replaceRangeWithAsterisk(M),'"), type is ').concat(U.eventType,", state is ").concat(U.stateChanged));else if(QA[0]!==K_SYNC_INTERNAL_KEY_PREFIX){var AA;this.intervalMode.get(y)?(AA=this.intervalInfos.get(y))===null||AA===void 0||AA.stateChanged.add(At):ei===findLastIndex$1(D,fa=>{let{type:vr}=fa;return vr===D[ei].type})&&this.emit("presence",U)}if(ei===F-1)return}if(Qi==="Put"&&QA&&fi){var SA,DA;const GA=(SA=(DA=this.channelsUsersStates.get(y))===null||DA===void 0?void 0:DA.get(At))!==null&&SA!==void 0?SA:{};if(U.eventType="REMOTE_STATE_CHANGED",GA[QA]=fi,U.stateChanged=GA,At===this.context.uid)this.log('"'.concat(replaceRangeWithAsterisk(At),'" receive self presence event in channel("').concat(O,'"-"').concat(replaceRangeWithAsterisk(M),'"), type is ').concat(U.eventType,", state is ").concat(U.stateChanged));else if(QA[0]!==K_SYNC_INTERNAL_KEY_PREFIX){var ki;this.intervalMode.get(y)?(ki=this.intervalInfos.get(y))===null||ki===void 0||ki.stateChanged.add(At):ei===F-1&&this.emit("presence",U)}if(ei===F-1)return}}}catch(ei){this.warn("handlePresenceEvent error: %o",ei)}}),this.context=e,this.context.startTime=this.startTime,this.updateLastSubOrJoinOptionsCache=g,this.getLastSubscribeOrJoinOptions=E,this.getConsoleConfig=u,this.getLocalStateCache=B,this.getVirtualSyncSocket=f,this.cacheCrdtState=m,getParameter("PRESENCE_RPC_TIMEOUT"),this.instanceId=r,this.setMaxListeners(512),this.log("The instanceId is %s",this.instanceId.toString()),this.on("presence-interval",(y,D)=>{var M,O,U,F,x,H,j,ee;const{channelType:ne,channelName:oe}=getChannelDetailByName(y),ae={eventType:"INTERVAL",channelType:ne,channelName:oe,publisher:"",stateChanged:{},interval:{join:{users:[],userCount:0},leave:{users:[],userCount:0},timeout:{users:[],userCount:0},userStateList:[]},snapshot:[],timestamp:getUTCTimeBaseREG(this.context.offsetTime)},{alreadyJoinedUsers:he,alreadyTimeoutUsers:fe}=this.intervalSnapshot.get(y);(M=this.intervalInfos.get(y))===null||M===void 0||M.timeout.forEach(Se=>{var ge;he.includes(Se)&&((ge=ae.interval)===null||ge===void 0||ge.timeout.users.push(Se),ae.interval.timeout.userCount++)}),(O=this.intervalInfos.get(y))===null||O===void 0||O.left.forEach(Se=>{var ge;he.includes(Se)&&((ge=ae.interval)===null||ge===void 0||ge.leave.users.push(Se),ae.interval.leave.userCount++)}),(U=this.intervalInfos.get(y))===null||U===void 0||U.joined.forEach(Se=>{ae.interval.join.users.push(Se),ae.interval.join.userCount++});const Le=he.filter(Se=>{var ge,Ye;return!((ge=this.intervalInfos.get(y))!==null&&ge!==void 0&&ge.left.has(Se)||(Ye=this.intervalInfos.get(y))!==null&&Ye!==void 0&&Ye.timeout.has(Se))}).concat([...(F=(x=this.intervalInfos.get(y))===null||x===void 0?void 0:x.joined)!==null&&F!==void 0?F:new Set]),He=fe.filter(Se=>{var ge,Ye;return!((ge=this.intervalInfos.get(y))!==null&&ge!==void 0&&ge.joined.has(Se)||(Ye=this.intervalInfos.get(y))!==null&&Ye!==void 0&&Ye.left.has(Se))}).concat([...(H=(j=this.intervalInfos.get(y))===null||j===void 0?void 0:j.timeout)!==null&&H!==void 0?H:new Set]);if((ee=this.intervalInfos.get(y))===null||ee===void 0||ee.stateChanged.forEach(Se=>{if(Le.includes(Se)){var ge,Ye,q;(ge=this.intervalInfos.get(y))===null||ge===void 0||ge.stateChanged.delete(Se);const me=(Ye=(q=this.channelsUsersStates.get(y))===null||q===void 0?void 0:q.get(Se))!==null&&Ye!==void 0?Ye:{};ae.interval.userStateList.push({userId:Se,states:me,statesCount:Object.keys(me).length})}}),ae.interval){const{join:Se,leave:ge,timeout:Ye,userStateList:q}=ae.interval;(Se.userCount>0||ge.userCount>0||Ye.userCount>0||q.length>0)&&this.emit("presence",ae)}this.intervalSnapshot.set(y,{alreadyJoinedUsers:Le,alreadyTimeoutUsers:He}),this.intervalInfos.set(y,resetIntervalInfo()),D&&this.timeoutUsersWithoutInterval.set(y,new Set(He))})}updateTicket(e){const{ticket:r,vid:a}=e;this.ticket=r,this.vid=a}handlePacket(e){var r;const a=e.length,g=getSyncPacketUri(e);this.log("received packet, uri: %d, length: %d",g,a),(r=this.virtualSocket)===null||r===void 0||r.internalEmitter.emit("received-packet",e)}handleConnected(){var e;(e=this.virtualSocket)===null||e===void 0||e.internalEmitter.emit("connected")}handleDisconnected(){var e;(e=this.virtualSocket)===null||e===void 0||e.internalEmitter.emit("disconnected")}async initSync(){if(this.log("start logging sync..."),this.syncClient!==void 0)return this.log("not firstInit"),await this.connectDatabase(),this.cacheCrdtState(),this.manualShakeHand(),void this.handleConnected();let e=0;switch(this.context.rtmConfig.logLevel){case"debug":e=0;break;case"info":e=1;break;case"warn":e=2;break;default:e=3}const r=new VirtualSyncSocket(this.getVirtualSyncSocket);this.virtualSocket=r,r.internalEmitter.on("connected",()=>{this.log("virtual socket connected")}),r.internalEmitter.on("disconnected",()=>{this.warn("virtual socket disconnected")});const a=new SyncConfig(this.context.appId,e,3e3,!0,!0,this.context.uid,()=>({handleDebugLog:this.log,handleInfoLog:this.info,handleWarnLog:this.warn,handleErrorLog:this.logError}),()=>r);try{var g,E;const u=this.context.heartbeatInterval+((g=getParameter("RTM_LINK_KEEP_ALIVE_TIMEOUT"))!==null&&g!==void 0?g:CONFIGURABLE_KEY_RTM_LINK_KEEP_ALIVE_TIMEOUT),B=await CreateClient(a);this.log("create sync client success");const f=B.ExceptionCallback();f==null||f.addListener("exception",async m=>{var y;let[D,M]=m;if(this.logError("exception info: %o",{db:D,coll:M}),D!==PRESENCE_DATABASE)return;const O=this.getChannelNameFromCollName(M),{withPresence:U,beQuiet:F}=(y=this.getLastSubscribeOrJoinOptions().get(O))!==null&&y!==void 0?y:{};await Promise.all([U?this.unSubPresence(O):this.unsubScribeSelfPresence(O,!1),F?void 0:this.cacheStateAndDelDoc(O)]),this.leave(O),await this.join(O,U,!1),F||this.putChannelDocAndSetState(O),U&&this.subPresence(O)}),B.SetConnectionTimeout(u/1e3),this.handleConnected(),this.syncClient=B,B.SetTicket("rtm",(E=this.ticket)!==null&&E!==void 0?E:this.context.appId),this.sendTick(),this.log("send tick success, will connect database"),await this.connectDatabase()}catch(u){this.logError("init sync error: ".concat(u));const{code:B,reason:f}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_REJECTED);throw new RtmUnavailableError(this.operation,[f+"init sync error"],B)}}cacheStateAndDelDoc(e){this.getStateAndSetByLocal(e),this.delChannelDoc(e)}async connectDatabase(){var e,r;this.log("".concat(syncRpcStart,": syncClient connectDatabase")),await timeoutPromise(this==null||(e=this.syncClient)===null||e===void 0?void 0:e.ConnectDatabase(PRESENCE_DATABASE),DEFAULT_RPC_TIMEOUT_TIME,this.operation,RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT),this.sendTick(),this.log("".concat(syncRpcEnd,": syncClient connectDatabase"));const a=this==null||(r=this.syncClient)===null||r===void 0?void 0:r.Database(PRESENCE_DATABASE);this.dbObj=a}async renewKey(e){const r=OperationName.renewToken;try{var a;this.log("".concat(syncRpcStart,": ").concat(r)),(a=this.syncClient)===null||a===void 0||a.SetTicket("rtm",e),this.getSyncConnected()&&this.sendTick(),this.log("".concat(syncRpcEnd,": ").concat(r))}catch(g){this.logError("".concat(syncRpcEnd,": ").concat(r," by rpc failure. error is ").concat(g))}return!0}leave(e){var r;const a=this.getChannelCollName(e);(r=this.dbObj)===null||r===void 0||r.DestroyCollection(a),this.getSyncConnected()&&this.sendTick()}delChannelDoc(e){var r;if(this._decoupleChannels.has(e)&&getParameter("DECOUPLE_SYNC"))return;const a=this.getChannelCollName(e),g=this.getColl(a,!0,"delChannelDoc");(r=this.dbObj)===null||r===void 0||r.CancelAutoKeepalive(a,this.context.uid),g==null||g.DelDoc(this.context.uid),this.getSyncConnected()&&this.sendTick(),this.log("Delete channel(".concat(replaceRangeWithAsterisk(e),") document succeed.")),this.updateLastSubOrJoinOptionsCache(e,"beQuiet",!0)}async logoutHandler(){var e;this.log("".concat(syncRpcStart,": disconnectDatabase"));try{var r;await timeoutPromise((r=this.syncClient)===null||r===void 0?void 0:r.DisConnectDatabase(PRESENCE_DATABASE),DEFAULT_RPC_TIMEOUT_TIME,OperationName.logout,0)}catch{this.warn("disconnectDatabase timeout")}this.log("".concat(syncRpcEnd,": disconnectDatabase")),(e=this.syncClient)===null||e===void 0||e.Logout(),this.getSyncConnected()&&this.sendTick()}clearIntervalById(e){clearInterval(e)}getIntervalSnapshot(e){var r,a;const g=[...(r=this.timeoutUsersWithoutInterval.get(e))!==null&&r!==void 0?r:new Set],E=[];return(a=this.channelsUsersStates.get(e))===null||a===void 0||a.forEach((u,B)=>{g.includes(B)||E.push(B)}),{alreadyJoinedUsers:E,alreadyTimeoutUsers:g}}clearIntervalCacheOfChannel(e){this.timeoutInSnapshot.delete(e),this.intervalMode.delete(e),this.intervalTimerId.delete(e),this.intervalInfos.delete(e),this.timeoutUsersWithoutInterval.delete(e),this.intervalSnapshot.delete(e)}emitPresenceSnapshot(e){const r=this.getCollUsers(e,!0,{querySnapshot:!0}),a=new Map;this.timeoutInSnapshot.set(e,new Set),this.log("presence snapshot: %o",r);const g=r.filter(f=>{var m;let{userId:y,states:D}=f;return((m=this.timeoutInSnapshot.get(e))===null||m===void 0||!m.has(y))&&(a.set(y,D),!0)});this.channelsUsersStates.set(e,a);const{channelName:E,channelType:u}=getChannelDetailByName(e),B={eventType:"SNAPSHOT",channelType:u,channelName:E,publisher:"",stateChanged:{},interval:null,snapshot:g,timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emit("presence",B)}async join(e,r){let a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const g=!a,E=Date.now();try{var u;const B=a?"re-":"",f=e.includes(streamChannel_prefix),m=f?OperationName.join:OperationName.subscribe;this.validateSyncConnected(m);const y=this.getChannelCollName(e);if(this.getColl(y)!==null)return void this.log("".concat(B).concat(m," channel(").concat(replaceRangeWithAsterisk(e),") already."));this.log("".concat(syncRpcStart,": ").concat(B).concat(m," channel(").concat(replaceRangeWithAsterisk(e),")"));const D=Date.now();await timeoutPromise((u=this.dbObj)===null||u===void 0?void 0:u.CreateCollection(y,r?["*"]:[this.context.uid],r?["*"]:[this.context.uid]),COMMON_REQUEST_TIMEOUT,m,f?RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED:RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT);const M=Date.now();this.log("".concat(syncRpcEnd,": ").concat(B).concat(m," channel(").concat(replaceRangeWithAsterisk(e),") succeed. cost: ").concat(M-D,"ms.")),r||this.withoutPresenceSubSelf(e)}catch(B){throw B}finally{if(g){const{channelName:B,channelType:f}=getChannelDetailByName(e),m=this.incGetSeq();this.context.addReportEvents("ChannelPresenceSnapshotEvent",{channelName:B,channelType:ChannelTypeEnum[f],userId:this.context.uid,sid:this.context.sid,lts:Long$2.fromNumber(Date.now()),elapse:Long$2.fromNumber(Date.now()-E),vid:Long$2.fromString(getParameter("VID").get(this.context.appId)||"0"),reqId:m})}}}async joinPresenceColl(e,r){var a,g,E;let u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(this.info("joinPresenceColl: %s, customOperation: %s, withPresence: %s",e,u,r.withPresence),(a=this._decoupleChannels.get(e))!==null&&a!==void 0&&a.creating&&this.leave(e),this._decoupleChannels.has(e)||this._decoupleChannels.set(e,_objectSpread2(_objectSpread2({},r),{},{creating:!0})),this._decoupleChannels.has(e)&&u){const M=this._decoupleChannels.get(e);this._decoupleChannels.set(e,_objectSpread2(_objectSpread2(_objectSpread2({},M),r),{},{creating:!0}))}u||this._decoupleChannels.set(e,_objectSpread2(_objectSpread2({},r),{},{creating:!0}));const B=(g=(E=this._decoupleChannels.get(e))===null||E===void 0?void 0:E.createTs)!==null&&g!==void 0?g:Date.now();try{const{withPresence:M,reJoinCauseReconnect:O=!1}=r,U=this.join(e,M,O);this._decoupleChannelPromises.set(e,U),await U,this.info("onCreateCollection: %s",e),this.onCreateCollection(e,r),this._decoupleChannels.delete(e)}catch(M){var f,m;const O=(f=(m=this._decoupleChannels.get(e))===null||m===void 0?void 0:m.retryCnt)!==null&&f!==void 0?f:0;if(!getParameter("DECOUPLE_SYNC"))throw this._decoupleChannels.delete(e),M;var y;if(this.warn("joinPresenceColl error: %s, retryCnt: %d, withPresence: %s, error: %o",e,O,r.withPresence,M),this._decoupleChannels.has(e)&&(y=this._decoupleChannels.get(e))!==null&&y!==void 0&&y.creating){var D;const U=(D=this._decoupleChannels.get(e))!==null&&D!==void 0?D:r;this._decoupleChannels.set(e,_objectSpread2(_objectSpread2({},U),{},{createTs:B,creating:!1,retryCnt:O+1}))}}finally{this._decoupleChannelPromises.delete(e)}}onCreateCollection(e,r){const{needDelDoc:a,needPutDoc:g=!1,needSub:E=!1,reJoinCauseReconnect:u=!1}=r;a&&this.cacheStateAndDelDoc(e),g&&this.putChannelDocAndSetState(e,u),E&&this.subPresence(e)}intervalCreateColl(){this._decoupleChannels.forEach((e,r)=>{const a=Date.now(),{createTs:g=a,retryCnt:E=0}=e;a-g>=this._getExpectedRetryTs(E)&&!e.creating&&(this.info("intervalCreateColl, channel: %s, diff: %d, retryCnt: %d",r,a-g,E),this.joinPresenceColl(r,e,!1))})}withoutPresenceSubSelf(e){const r=this.getChannelCollName(e),a=this.getColl(r,!0,"withoutPresenceSubSelf"),g=a==null?void 0:a.Subscribe();g==null||g.addListener("document-events",E=>{const u=E.length;for(let B=0;B<u;B++){const{document:f,type:m,path:y,value:D}=E[B];if(f===this.context.uid){if(m==="DocSyncEnd"){const M=this.expiredPresenceEvent.get(e);return void(M&&(this.emit(M,e),this.expiredPresenceEvent.delete(e)))}m==="Put"&&y===K_PRESENCE_EXPIRED&&this.expiredPresenceEvent.set(e,"doc-timeout"),m!=="Delete"||y||D||this.emit("doc-deleted",e)}}})}unsubScribeSelfPresence(e){let r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const a=this._decoupleChannels.has(e);if(!getParameter("DECOUPLE_SYNC")||!a){const g=this.getChannelCollName(e),E=this.getColl(g,!0,"unSubPresence");E==null||E.UnSubscribe(),this.getSyncConnected()&&this.sendTick()}r&&this.getLocalStateCache().delete(e)}subPresence(e){var r;this.subAndAddPresenceEventListener(e),this.emitPresenceSnapshot(e),this.timeoutUsersWithoutInterval.set(e,(r=this.timeoutInSnapshot.get(e))!==null&&r!==void 0?r:new Set),this.controlInterval(e,"open"),this.updateLastSubOrJoinOptionsCache(e,"withPresence",!0)}unSubPresence(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const a=this._decoupleChannels.has(e);if(!getParameter("DECOUPLE_SYNC")||!a){const g=this.getChannelCollName(e),E=this.getColl(g,!0,"unSubPresence");E==null||E.UnSubscribe(),this.getSyncConnected()&&this.sendTick()}this.clearIntervalById(this.intervalTimerId.get(e)),this.clearIntervalCacheOfChannel(e),r&&this.getLocalStateCache().delete(e),this.updateLastSubOrJoinOptionsCache(e,"withPresence",!1)}leaveRetryChannels(e){this.info("leaveRetryChannels: %o",e),e.forEach(r=>{this._decoupleChannels.delete(r),this._decoupleChannelPromises.delete(r)})}putChannelDocAndSetState(e){var r,a,g;let E=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const u=this.getChannelCollName(e),B=this.getColl(u,!0,"putChannelDocAndSetState"),f={};((r=this.getLocalStateCache().get(e))!==null&&r!==void 0?r:new Map).forEach((O,U)=>{f[U]=O}),this.log("local states: %o, reJoinCauseReconnect: %s",f,E);const m=B==null?void 0:B.Doc(this.context.uid),y=!!m,D=(a=m==null?void 0:m.Get())!==null&&a!==void 0?a:{};this.log("remote doc exist: ".concat(y,", remote state: %o"),D),y&&D[K_PRESENCE_EXPIRED]&&(B==null||B.DelDoc(this.context.uid)),y&&!D[K_PRESENCE_EXPIRED]||(B==null||B.PutDoc(this.context.uid),this.log("Put channel(".concat(replaceRangeWithAsterisk(e),") document succeed.")));const M=B==null?void 0:B.Doc(this.context.uid);if((g=this.dbObj)===null||g===void 0||g.SetAutoKeepalive(u,this.context.uid,this.context.rtmConfig.presenceTimeout),this.getSyncConnected()&&this.sendTick(),E||this.getLocalStateCache().has(e)){if(this.log("update user state in channel(".concat(replaceRangeWithAsterisk(e),") local cache.")),!y||D[K_PRESENCE_EXPIRED])this.log("remote doc not exist or expired, directly set"),M==null||M.Set(f);else{const O=Object.keys(D).filter(F=>!f.hasOwnProperty(F)&&F!==K_PRESENCE_EXPIRED);O.length>0&&(M==null||M.Del(O));const U=Object.keys(f).filter(F=>!D.hasOwnProperty(F)||D[F]!==f[F]);U.length>0&&(M==null||M.Set(f)),this.log("diff state: %o",{addOrChangedKeys:U,needDelKeys:O})}this.getSyncConnected()&&this.sendTick()}else this.log("first join presence and without local state");this.updateLastSubOrJoinOptionsCache(e,"beQuiet",!1),this.getLocalStateCache().delete(e)}subAndAddPresenceEventListener(e){const r=this.getChannelCollName(e),a=this.getColl(r,!0,"subAndAddPresenceEventListener"),g=a==null?void 0:a.Subscribe();g==null||g.addListener("document-events",this.handlePresenceEvent(e))}requestSetState(e,r){const a=this.getChannelCollName(e),g=this.getColl(a,!0,"requestSetState"),E=g==null?void 0:g.Doc(this.context.uid);E==null||E.Set(r),this.getSyncConnected()&&this.sendTick()}requestRemoveState(e,r){var a;let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const E=this.getChannelCollName(e),u=this.getColl(E,!0,"requestRemoveState"),B=u==null?void 0:u.Doc(this.context.uid),f=(a=B==null?void 0:B.Get())!==null&&a!==void 0?a:{};B==null||B.Del(Object.keys(g?f:r)),this.getSyncConnected()&&this.sendTick()}requestGetState(e,r){var a;arguments.length>2&&arguments[2]!==void 0&&arguments[2]||r===this.context.uid||this.validateSyncConnected(OperationName.presenceGetState);const g=OperationName.presenceGetState,E=this.getChannelCollName(e),u=this.getColl(E,!0,"requestGetState"),B=u==null?void 0:u.Doc(r);if(isNil$1(B)){const{code:m,reason:y}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_USER_NOT_EXIST);throw new RtmUnavailableError(g,[y],m)}const f=(a=B==null?void 0:B.Get())!==null&&a!==void 0?a:{};return this.delKeyExpired(f),f}getStateAndSetByLocal(e){const r=this==null?void 0:this.requestGetState(e,this.context.uid,!0),a=new Map;r&&Object.keys(r).forEach(g=>{a.set(g,r[g])}),this==null||this.getLocalStateCache().set(e,a)}async requestRpcGetState(e,r){const a=Date.now(),g=this.incGetSeq();let E=0;try{var u;const B=new QueryOption(r,"",!1,!1,1),[f]=await timeoutPromise((u=this.syncClient)===null||u===void 0?void 0:u.QueryDoc(PRESENCE_DATABASE,this.getChannelCollName(e),B),COMMON_REQUEST_TIMEOUT,OperationName.presenceGetState,RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT);let m={};return f.forEach((y,D)=>{if(D===r){try{m=JSON.parse(y)}catch(M){this.warn("parse doc error: ".concat(M))}this.delKeyExpired(m)}}),m}catch(B){const{serverCode:f,errorCode:m}=B;throw E=f??E,B}finally{this.reportRpcEvent("getState",{requestts:a,reqSeq:g,errCode:E})}}async requestRpcWhereNow(e){const r=Date.now(),a=this.incGetSeq();let g=0;try{var E;this.validateSyncConnected(OperationName.whereNow);const u=!1,B=!1,f=GlobalPresenceString(this.vid)+"/"+e,m=new QueryOption(f,"",u,B,1);this.log("whereNow query options: %o",{start:f,end:"",keysOnly:u,countOnly:B,limit:1});const[y]=await timeoutPromise((E=this.syncClient)===null||E===void 0?void 0:E.QueryDoc(PRESENCE_DATABASE,K_GLOBAL_PRESENCE_COLLECTION,m),COMMON_REQUEST_TIMEOUT,OperationName.whereNow,RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT),D={channels:[],totalChannel:0,timestamp:0};return y.forEach((M,O)=>{if(O===f){let U=null;try{U=JSON.parse(M),this.log("whereNow doc: %o",U)}catch(x){U={},this.warn("parse doc error: ".concat(x))}const F=Object.keys(U).filter(x=>x[0]!==K_SYNC_INTERNAL_KEY_PREFIX);this.log("whereNow channels: %o",F),F.forEach(x=>{const{channelName:H,channelType:j}=getChannelDetailByName(x);D.channels.push({channelName:H,channelType:j})}),D.totalChannel=F.length}}),D}catch(u){const{serverCode:B,errorCode:f}=u;throw g=B??f,u}finally{this.reportRpcEvent("whereNow",{requestts:r,reqSeq:a,errCode:g})}}async requestRPCWhoNow(e,r,a,g){const E=Date.now(),u=this.incGetSeq();let B=0;try{var f,m;const y=a&&!g,D=!a&&!g,M=Number(getParameter("PRESENCE_THRESHOLD")||((f=this.getConsoleConfig())===null||f===void 0?void 0:f["presence.occupancy"]))||0,O=D;D&&r&&this.warn("countOnly and page is not compatible. page of param will be ignored.");const U=new QueryOption(O?"":atob(r),"",y,D,O?0:M,!r,!0),F=this.getChannelCollName(e),[x,H,j]=await timeoutPromise((m=this.syncClient)===null||m===void 0?void 0:m.QueryDoc(PRESENCE_DATABASE,F,U),COMMON_REQUEST_TIMEOUT,OperationName.whoNow,RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT),ee=[],ne={timestamp:0,occupants:ee,nextPage:"",totalOccupancy:H};if(D)return ne;{let oe="";if(y?x.forEach(ae=>{ee.push({userId:ae,states:{},statesCount:0}),ee.length===x.length&&j&&(oe=ae)}):x.forEach((ae,he)=>{let fe={};try{g&&(fe=JSON.parse(ae))}catch(Le){this.warn("parse doc error: ".concat(Le))}this.delKeyExpired(fe),ee.push({userId:he,states:fe,statesCount:Object.keys(fe).length}),ee.length===x.size&&j&&(oe=he)}),j){const ae=btoa(oe);ne.nextPage=ae}return ne}}catch(y){const{serverCode:D,errorCode:M}=y;throw B=D??M,y}finally{this.reportRpcEvent("whoNow",{requestts:E,reqSeq:u,errCode:B})}}delKeyExpired(e){delete e[K_PRESENCE_EXPIRED]}async requestWhoNow(e,r,a){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"";if(this.validateSyncConnected(OperationName.whoNow),this.getColl(this.getChannelCollName(e))===null)return await this.requestRPCWhoNow(e,g,r,a);const E=this.getChannelCollName(e),u=this.getColl(E,!0,"requestWhoNow"),B=u?this.getCollUsers(e,a,{collObj:u}):[];return{occupants:r?B:[],totalOccupancy:B.length,nextPage:"",timestamp:0}}getCollUsers(e,r,a){var g,E;const u=this.getChannelCollName(e),B=(g=a==null?void 0:a.collObj)!==null&&g!==void 0?g:this.getColl(u,!0,"getCollUsers"),f=(E=B==null?void 0:B.Docs())!==null&&E!==void 0?E:new Map,m=[];return f.forEach((y,D)=>{const M=y.Get(),O=M[K_PRESENCE_EXPIRED];var U;this.delKeyExpired(M),O&&a!=null&&a.querySnapshot&&((U=this.timeoutInSnapshot.get(e))===null||U===void 0||U.add(D)),O||m.push({userId:D,states:r?M:{},statesCount:r?Object.keys(M).length:0})}),m}getColl(e){var r;let a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const E=(r=this.dbObj)===null||r===void 0?void 0:r.Coll(e);return E===null&&a&&this.warn("coll(".concat(e,") is null in ").concat(g,".")),E}getChannelCollName(e){return ChannelQueryString(this.vid,e)}getChannelNameFromCollName(e){const{prefixChannelName:r}=extractPrefixChannelName(e);return r??""}manualShakeHand(){var e;this.getSyncConnected()&&((e=this.syncClient)===null||e===void 0||e.Shakehand())}sendTick(){var e;(e=this.syncClient)===null||e===void 0||e.Tick()}validateSyncConnected(e){var r;if(!(!((r=this.syncClient)===null||r===void 0)&&r.GetConnectionState())){const{code:a,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_NOT_CONNECTED);throw new RtmUnavailableError(e,[g],a)}}getSyncConnected(){var e;return(e=this.syncClient)===null||e===void 0?void 0:e.GetConnectionState()}getSelfDoc(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const a=this.getChannelCollName(e),g=this.getColl(a,!0,r);return g==null?void 0:g.Doc(this.context.uid)}incGetSeq(){return this.seq=this.seq.add(1),this.seq}reportRpcEvent(e,r){let{requestts:a,reqSeq:g,errCode:E}=r;this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(getParameter("VID").get(this.context.appId)||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(a),replyts:Long$2.fromNumber(Date.now()),target:this.context.uid,eventtype:e,revision:Long$2.fromNumber(0),uuid:"".concat(g,"_").concat(this.instanceId),sdktype:4,flags:Long$2.fromNumber(0),code:E,seq:g,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:"",lockrev:Long$2.fromNumber(0),subtarget:this.context.uid,sdkip:""})}_getExpectedRetryTs(e){let r=0;const a=this._intervals4CreateColl.length;if(e>a)return 1e3*(this._intervals4CreateColl.reduce((g,E)=>g+E,0)+(e-a)*this._intervals4CreateColl[a-1]);for(let g=0;g<e;g++)r+=this._intervals4CreateColl[g];return 1e3*r}}const JOIN_LOCK_FLAG=1,JOIN_STORAGE_FLAG=2,JOIN_PRESENCE_FLAG=4,JOIN_MESSAGE_FLAG=8,JOIN_BE_QUIET_FLAG=16;class MainSession{constructor(e,r,a,g,E,u,B){_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"registrarSession",void 0),_defineProperty$1(this,"presenceSession",void 0),_defineProperty$1(this,"lastSubscribeOrJoinOptions",new Map),this.context=e,this.presenceSession=new PresenceSession(e,a,r,()=>this.updateLastSubOrJoinOptionsCache,()=>this.lastSubscribeOrJoinOptions,g,E,this.getVirtualSyncSocket.bind(this),u);const f=new Connection(e,r,!1);this.registrarSession=new RegistrarSession(e,f,a,r,()=>this.updateLastSubOrJoinOptionsCache,()=>this.lastSubscribeOrJoinOptions,this.presenceSession.manualShakeHand.bind(this.presenceSession),this.presenceSession.sendTick.bind(this.presenceSession),this.presenceSession.initSync.bind(this.presenceSession),B),this.registrarSession.on("syncTicketUpdated",m=>{this.presenceSession.updateTicket(m)}),this.registrarSession.on("syncConnected",()=>{this.presenceSession.handleConnected()}),this.registrarSession.on("syncDisconnected",()=>{this.presenceSession.handleDisconnected()}),this.registrarSession.on("syncPacket",m=>{this.presenceSession.handlePacket(m)})}getRegistrarSession(){return this.registrarSession}getPresenceSession(){return this.presenceSession}updateLastSubOrJoinOptionsCache(e,r,a){const g=_objectSpread2(_objectSpread2({},this.lastSubscribeOrJoinOptions.get(e)),{},{[r]:a}),E=this.getNewJoinFlag(g);this.lastSubscribeOrJoinOptions.set(e,_objectSpread2(_objectSpread2({},g),{},{joinFlag:E}))}getVirtualSyncSocket(){return this.registrarSession.getVirtualSyncSocket()}notifyNetworkChange(e){this.registrarSession.notifyNetworkChange(e)}reportChnJoin(e,r,a){var g;const E=this.getNewJoinFlag(r),u=((g=this.lastSubscribeOrJoinOptions.get(e))===null||g===void 0?void 0:g.joinFlag)!==E;this.lastSubscribeOrJoinOptions.set(e,_objectSpread2(_objectSpread2({},r),{},{joinFlag:E})),e.startsWith(streamChannel_prefix)||u&&this.context.addReportEvents("ChnJoin",{cname:e,lts:Long$2.fromNumber(Date.now()),userId:this.context.uid,elapse:getElapse(this.getRegistrarSession().startTime),errCode:0,sid:getSid(this.getRegistrarSession().instanceId),joinFlag:new Long$2(E,0,!0),seq:Long$2.fromNumber(a)})}getNewJoinFlag(e){let r=0;return e!=null&&e.withPresence&&(r|=JOIN_PRESENCE_FLAG),e!=null&&e.withLock&&(r|=JOIN_LOCK_FLAG),e!=null&&e.withMetadata&&(r|=JOIN_STORAGE_FLAG),e!=null&&e.withMessage&&(r|=JOIN_MESSAGE_FLAG),e!=null&&e.beQuiet&&(r|=JOIN_BE_QUIET_FLAG),r}}function genGetMainSession(n){return()=>{const e=n();if(!e){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError("Client is not logged in. Cannot do the operation",[a],r)}return e}}class LocalTopic extends EventBase{constructor(e,r,a,g){super(r,"LocalTopic"),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"topicName",void 0),_defineProperty$1(this,"localDatachannel",void 0),this.context=e,this.topicName=a,this.localDatachannel=g}encodeMessage(e,r,a,g,E){return StreamMessageProtocol.encode(_objectSpread2({messageType:g,payload:e,encrypted:a,payloadLength:r},E?{customType:E}:{})).finish()}async publishTopicMessage(e,r,a){const g=this.localDatachannel,E=this.topicName;if(!g){const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED);throw new RtmUnavailableError(e,[U],O)}if(g.readyState!=="open"){this.log("send topic(%s) message failed. readyState of datachannel is ".concat(g.readyState),E);const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);throw new RtmUnavailableError(e,[U],O)}const{initEncryption:u,iv:B,key:f,keyLength:m}=this.context.encryptionInfo,y=u,D=typeof r=="string"?new TextEncoder().encode(r):r,M=D.byteLength;try{const O=y?encrypt(D,f,B,m):D,U=typeof r=="string"?1:0;g.send(this.encodeMessage(O,M,y,U,a==null?void 0:a.customType))}catch{const{code:U,reason:F}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED);throw new RtmUnavailableError(e,[F],U)}}getDataChannel(){return this.localDatachannel}}class RemoteTopic extends EventBase{constructor(e,r,a,g,E){super(r,"RemoteTopic"),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"topicName",void 0),_defineProperty$1(this,"channelName",void 0),_defineProperty$1(this,"users",new Map),_defineProperty$1(this,"emitTopicMessage",void 0),_defineProperty$1(this,"internalEmitter",new EventEmitter$1),this.context=e,this.topicName=a,this.channelName=g,this.emitTopicMessage=E}addUserWithDc(e,r){this.users.set(e,r)}addUserWithoutDc(e,r){this.users.set(e,{subscribedState:"PRE_SUBSCRIBE",meta:"",id:0,user:r})}updateSubscribeState(e,r){const a=this.users.get(e);if(a){const{subscribedState:g,id:E,meta:u,datachannel:B,user:f}=a;let m=!1;switch(g){case"PRE_SUBSCRIBE":r==="UNSUBSCRIBE"?this.users.delete(e):r==="SUBSCRIBED"&&(m=!0);break;case"SUBSCRIBED":(r==="UNSUBSCRIBE"||r==="PRE_SUBSCRIBE")&&(m=!0);break;case"UNSUBSCRIBE":m=!0}m&&this.users.set(e,{subscribedState:r,id:E,meta:u,datachannel:B,user:f})}}updateUserDatachannelInfo(e,r){if(this.users.has(e)){const a=this.users.get(e);if(a){const{subscribedState:g,datachannel:E}=a,{meta:u,id:B,user:f}=r;this.users.set(e,{meta:u,id:B,subscribedState:g,datachannel:E,user:f})}}else this.warn("update user datachannel info failure, not pre_subscribe the user in the topic.")}fillUserDatachannel(e,r){const a=this.users.get(e);a&&this.users.set(e,_objectSpread2(_objectSpread2({},a),{},{datachannel:r}))}removeUser(e){this.users.delete(e)}removeUserDatachannel(e){const r=this.users.get(e);r&&this.users.set(e,_objectSpread2(_objectSpread2({},r),{},{datachannel:void 0}))}handleSubscription(e,r){this.fillUserDatachannel(r,e),this.addMessageEvent(e,r),this.updateSubscribeState(r,"SUBSCRIBED")}handleUnsubscription(e){this.internalEmitter.emit("unsubscribeTopicMessage",e),this.updateSubscribeState(e,"UNSUBSCRIBE")}getUsers(){return this.users}getSubscribedUsers(){return Array.from(this.users.keys()).filter(e=>{var r;return((r=this.users.get(e))===null||r===void 0?void 0:r.subscribedState)==="SUBSCRIBED"})}getPreSubscribedUsers(){return Array.from(this.users.keys()).filter(e=>{var r;return((r=this.users.get(e))===null||r===void 0?void 0:r.subscribedState)==="PRE_SUBSCRIBE"})}getAllSubscribedUserCount(){return this.getSubscribedUsers().length+this.getPreSubscribedUsers().length}decodeMessage(e){return StreamMessageProtocol.decode(e)}addMessageEvent(e,r){const a=g=>{const E=this.decodeMessage(new Uint8Array(g)),{encrypted:u,payloadLength:B,messageType:f,payload:m,customType:y}=E,{key:D,iv:M,keyLength:O}=this.context.encryptionInfo;if(u&&!D)return void this.warn("Received a message with encryption but the key is not ready yet.");if(!u&&D)return void this.warn("Received a message without encryption but the key is ready.");let U;U=f===1?new TextDecoder().decode(u?decrypt(m,D,M,O).slice(0,B):m):u?decrypt(m,D,M,O).slice(0,B):m,this.emitTopicMessage({channelName:this.channelName,channelType:"STREAM",topicName:this.topicName,message:U,publisher:r,messageType:f===1?"STRING":"BINARY",customType:y,timestamp:getUTCTimeBaseREG(this.context.offsetTime)})};e==null||e.on("open",()=>{this.warn("".concat(this.channelName,"(").concat(this.topicName,") remote dc opened."))}),e==null||e.on("close",()=>{this.warn("".concat(this.channelName,"(").concat(this.topicName,") remote dc closed."))}),e==null||e.on("error",g=>{this.warn("error occurs in ".concat(this.channelName,"(").concat(this.topicName,") remote dc. error is ").concat(g))}),e.on("message",a),this.log("".concat(this.channelName,"(").concat(this.topicName,") msg event added")),this.internalEmitter.on("unsubscribeTopicMessage",g=>{g===r&&e.off("message",a)})}}class ApiRateLimiter{constructor(){_defineProperty$1(this,"operationsTimeCache",{})}canMakeOperation(e,r){var a;let g=getParameter("API_RATE_LIMIT").get(e);r!=null&&r.times&&(g=r.times);const E=Date.now();if(this.operationsTimeCache[e]||(this.operationsTimeCache[e]=[]),this.operationsTimeCache[e]=this.operationsTimeCache[e].filter(m=>m>E-API_QPS_SECOND),this.operationsTimeCache[e].length<g)return void this.operationsTimeCache[e].push(E);const u=RTMErrorCode.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION,{code:B,reason:f}=getErrorInfoByCode((a=r==null?void 0:r.code)!==null&&a!==void 0?a:u);if(getParameter("ENABLE_API_RATE_LIMIT")===!0)throw new RtmUnavailableError(e,[f],B)}}const{SubscribeTopicErrorCode}=RTMStreamChannelStatusCode;class StreamChannelImpl extends EventBase{constructor(e,r,a,g,E,u,B,f,m,y){var D;switch(super(r,"StreamChannelImpl",!0),_defineProperty$1(this,"channelName",void 0),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"userId",void 0),_defineProperty$1(this,"appId",void 0),_defineProperty$1(this,"getMainSession",void 0),_defineProperty$1(this,"isJoinedChannel",!1),_defineProperty$1(this,"joinedAndSubscribed",!1),_defineProperty$1(this,"rtcClient",void 0),_defineProperty$1(this,"subscribeInfoMap",new Map),_defineProperty$1(this,"preSubscribeInfoMap",new Map),_defineProperty$1(this,"isReuseRtcClient",!1),_defineProperty$1(this,"internalEmitter",new EventEmitter$1),_defineProperty$1(this,"localTopics",new Map),_defineProperty$1(this,"remoteTopics",new Map),_defineProperty$1(this,"firstSnapshot",!0),_defineProperty$1(this,"emitRtmEvent",void 0),_defineProperty$1(this,"getStreamChannelList",void 0),_defineProperty$1(this,"getConsoleConfig",void 0),_defineProperty$1(this,"validateRtmConnection",void 0),_defineProperty$1(this,"getRtmLinkState",void 0),_defineProperty$1(this,"getChannelMetadataSub",void 0),_defineProperty$1(this,"apiRateLimit",new ApiRateLimiter),_defineProperty$1(this,"privatePermitUseMessageChn",!1),_defineProperty$1(this,"linkState","IDLE"),_defineProperty$1(this,"controlReconnectTimer",null),_defineProperty$1(this,"handleConnectionStateChange",async(O,U,F)=>{if(this.log("rtc state: pre(%s), now(%s), reason: %s.",U,O,F),U==="RECONNECTING"&&this.controlReconnectTimer&&clearTimeout(this.controlReconnectTimer),this.isJoinedChannel&&O==="DISCONNECTED"){if(this.firstSnapshot=!0,this.privatePermitUseMessageChn)if(await this.unSubLockAMeta(),F!=="LEAVE"&&F!=="UID_BANNED"){var x;const j=this.getPrefixChannelName();this.privatePermitUseMessageChn&&((x=this.getMainSession())===null||x===void 0||(x=x.getPresenceSession())===null||x===void 0||x.getStateAndSetByLocal(j)),await this.handleLeaveEffects(!1)}else await this.handleLeaveEffects();if(F&&F!=="LEAVE"){this.warn("streamChannel connection state change to DISCONNECTED, reason: %s",F);let j=LinkStateChangeReasonDescription.KICKED_OUT_BY_SERVER,ee="KICKED_OUT_BY_SERVER";F===ConnectionDisconnectedReason.TOKEN_EXPIRE&&(j=LinkStateChangeReasonDescription.TOKEN_EXPIRED,ee="TOKEN_EXPIRED"),this.updateLinkState("FAILED","SERVER_REJECT",ee,j)}}O==="RECONNECTING"&&(this.updateLinkState("CONNECTING","AUTO_RECONNECT","AUTO_RECONNECT",LinkStateChangeReasonDescription.AUTO_RECONNECT),this.controlReconnectTimer=setTimeout(async()=>{this.warn("streamChannel reconnect timeout, force leave."),await this.leave()},RECONNECT_STREAM_CHANNEL_TIMEOUT)),O==="CONNECTED"&&this.isJoinedChannel&&this.updateLinkState("CONNECTED","RECONNECTED","RECONNECT_SUCCESS",LinkStateChangeReasonDescription.RECONNECT_SUCCESS);const H={channelName:this.channelName,state:O,reason:F??O==="CONNECTED"?"OK":"",timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emitRtmEvent("status",H)}),_defineProperty$1(this,"handleUserPublishedList",O=>{if(!this.firstSnapshot)return void this.handleUpdatedTopicsInOffline(O);const U=[];if(O.forEach(F=>{var x;(x=F.dataChannels)===null||x===void 0||x.forEach(H=>{H.getConfig()&&U.push({user:F,config:H.getConfig(),dc:H})})}),this.firstSnapshot=!1,U.length!==0)this.handleReceivedDcs(U,"","SNAPSHOT");else{const F={eventType:"SNAPSHOT",channelName:this.channelName,publisher:"",topicInfos:[],totalTopics:0,timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emitRtmEvent("topic",F)}}),_defineProperty$1(this,"handleUserPublished",(O,U,F)=>{var x;if(U!=="datachannel"||F===void 0)return;const H=(x=O.dataChannels)===null||x===void 0?void 0:x.find(j=>j.id===F.id);this.handleReceivedDcs([{user:O,config:F,dc:H}],O.uid.toString(),"REMOTE_JOIN")}),_defineProperty$1(this,"handleUserUnPublished",(O,U,F)=>{if(U!=="datachannel")return;const x=F==null?void 0:F.metadata;if(x===void 0)return;const H=this.decodeMetadata(x),j=H.topic,ee=H.metadata;this._emitTopicLeft(j,O,ee)}),_defineProperty$1(this,"handleTokenPrivilegeWillExpire",()=>{this.emitRtmEvent("tokenPrivilegeWillExpire",this.channelName)}),_defineProperty$1(this,"emitTopicMessage",O=>{this.emitRtmEvent("message",O)}),_defineProperty$1(this,"_emitTopicLeft",(O,U,F)=>{const x=U.uid.toString(),H=this.getInitTopicEventData("REMOTE_LEAVE",this.channelName,x,1);H.topicInfos.push({publishers:[{publisherUserId:x,publisherMeta:F}],topicName:O,totalPublisher:1}),this.emitRtmEvent("topic",H);const j=this.remoteTopics.get(O);j!=null&&j.getSubscribedUsers().includes(x)?j==null||j.addUserWithoutDc(x,U):this.deleteRemoteDc(O,x)}),(D=e.rtmConfig.logLevel)!==null&&D!==void 0?D:"none"){case"debug":AgoraRTC.setLogLevel(0);break;case"info":AgoraRTC.setLogLevel(1);break;case"warn":AgoraRTC.setLogLevel(2);break;case"none":AgoraRTC.setLogLevel(4);break;default:AgoraRTC.setLogLevel(3)}this.channelName=a.channelName,this.context=e,this.appId=a.appId,this.userId=a.userId,this.emitRtmEvent=g,this.getStreamChannelList=E,this.getConsoleConfig=u,this.validateRtmConnection=B,this.getRtmLinkState=f,this.getChannelMetadataSub=m,this.getMainSession=genGetMainSession(y),this.setMaxListeners(512),this.internalEmitter.setMaxListeners(512),e.rtmConfig.privateConfig&&!e.rtmConfig.privateConfig.serviceType.includes("MESSAGE")||(this.privatePermitUseMessageChn=!0),AgoraRTC.setParameter("ENABLE_DATASTREAM_2",!0),AgoraRTC.setParameter("DATASTREAM_MAX_RETRANSMITS",0),AgoraRTC.setParameter("AP_RTM",!0),this.context.config.logUpload&&AgoraRTC.setParameter("UPLOAD_LOG",!0);const M=[];this.isReuseRtcClient=M.length>0,this.log("Create streamChannel, isReuseRtcClient: ".concat(this.isReuseRtcClient)),this.rtcClient=this.isReuseRtcClient?M[0]:AgoraRTC.createClient({codec:"vp8",mode:"rtc"}),this.rtcClient.setRTMConfig({apRTM:!0,rtmFlag:3})}async handleLeaveEffects(){let e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.clearLocalCache(),this.isJoinedChannel=!1,this.joinedAndSubscribed=!1,this.internalEmitter.emit("stream-channel-leaved",this.channelName),this.removeAllRtcListeners(),this.absent(e)}async unSubLockAMeta(){const e=this.getMainSession().getRegistrarSession(),r=this.getPrefixChannelName(),{withLock:a,withMetadata:g}=this.getLastSubOptions(r);a&&this.unSubLock(r),g&&this.unSubMetadata(r),e.emit("unSubChannelLock",r),e.emit("unSubChannelMetadata",r)}handleUpdatedTopicsInOffline(e){const r=new Map;this.remoteTopics.forEach((g,E)=>{r.set(E,g)});const a=new Map;e.forEach(g=>{var E;(E=g.dataChannels)===null||E===void 0||E.forEach(u=>{if(u.getConfig()){var B;const{metadata:f}=u.getConfig(),m=this.decodeMetadata(f),{topic:y}=m,D=(B=a.get(y))!==null&&B!==void 0?B:[];D.push({user:g,dc:u.getConfig()}),a.set(y,D)}})}),a.forEach((g,E)=>{var u,B;const f=(u=(B=r.get(E))===null||B===void 0?void 0:B.getUsers())!==null&&u!==void 0?u:new Map,m=g.filter(y=>{var D;let{user:M}=y;return!f.has(M.uid.toString())&&((D=f.get(M.uid.toString()))===null||D===void 0?void 0:D.subscribedState)!=="PRE_SUBSCRIBE"});m.length>0&&this.log("joined topic: %s, users: %o",E,Array.from(m.values()).map(y=>{var D;return(D=y.user)===null||D===void 0?void 0:D.uid})),m.forEach(y=>{let{user:D,dc:M}=y;this.handleUserPublished(D,"datachannel",M)})}),r.forEach((g,E)=>{var u;const B=g.getUsers(),f=(u=a.get(E))!==null&&u!==void 0?u:[],m=Array.from(B.values()).filter(y=>y.subscribedState!=="PRE_SUBSCRIBE"&&!f.find(D=>{var M;let{user:O}=D;return O.uid===((M=y.user)===null||M===void 0?void 0:M.uid)}));m.length>0&&this.log("left topic: %s, users: %o",E,Array.from(m.values()).map(y=>{var D;return(D=y.user)===null||D===void 0?void 0:D.uid})),m.forEach(y=>{this._emitTopicLeft(E,y.user,y.meta)})})}removeAllRtcListeners(){this.rtcClient.off("connection-state-change",this.handleConnectionStateChange),this.rtcClient.off("published-user-list",this.handleUserPublishedList),this.rtcClient.off("user-published",this.handleUserPublished),this.rtcClient.off("user-unpublished",this.handleUserUnPublished),this.rtcClient.off("token-privilege-will-expire",this.handleTokenPrivilegeWillExpire)}addAllRtcListeners(){this.rtcClient.on("connection-state-change",this.handleConnectionStateChange),this.rtcClient.on("published-user-list",this.handleUserPublishedList),this.rtcClient.on("user-published",this.handleUserPublished),this.rtcClient.on("user-unpublished",this.handleUserUnPublished),this.rtcClient.on("token-privilege-will-expire",this.handleTokenPrivilegeWillExpire)}async handleReceivedDcs(e,r,a){const g=new Map;for(let u=0;u<e.length;u++){var E;const{user:B,config:f,dc:m}=e[u],y=f==null?void 0:f.metadata;if(y===void 0){this.log("meta of datachannel is invalid. user(".concat(B,"), channel(").concat(this.channelName,"), dc(").concat(f,")"));continue}const D=B.uid.toString(),M=this.decodeMetadata(y),O=M.topic,U=M.metadata,F=f==null?void 0:f.id;g.has(O)||g.set(O,[]),(E=g.get(O))===null||E===void 0||E.push({publisherUserId:D,publisherMeta:U}),this.addOrUpdateRemoteDc(O,D,B,U,F,m);const x=this.remoteTopics.get(O);x!=null&&x.getPreSubscribedUsers().includes(D)&&await this.handlePreSubscribeTopic(O,D)}this.emitTopic(r,a,g)}emitTopic(e,r,a){const g=this.getInitTopicEventData(r,this.channelName,e,a.size);a.forEach((E,u)=>{g.topicInfos.push({publishers:E,topicName:u,totalPublisher:E.length})}),g.topicInfos.length===0&&this.log("length of topicInfos is 0 in emitTopic."),this.emitRtmEvent("topic",g)}getInitTopicEventData(e,r,a,g){return{eventType:e,channelName:r,publisher:a,topicInfos:[],totalTopics:g,timestamp:getUTCTimeBaseREG(this.context.offsetTime)}}userIdToRTCRemoteUser(e){return{uid:typeof this.userId=="number"?parseInt$2(e):e,hasAudio:!1,hasVideo:!1,dataChannels:[]}}addOrUpdateRemoteDc(e,r,a,g,E,u){if(!this.remoteTopics.has(e)){const f=new RemoteTopic(this.context,this.logger,e,this.channelName,this.emitTopicMessage);this.remoteTopics.set(e,f)}const B=this.remoteTopics.get(e);B.getUsers().has(r)?B.updateUserDatachannelInfo(r,{meta:g,id:E,user:a}):B.addUserWithDc(r,{subscribedState:"UNSUBSCRIBE",meta:g,id:E,datachannel:u,user:a})}deleteRemoteDc(e,r){const a=this.remoteTopics.get(e);a==null||a.removeUser(r),(a==null?void 0:a.getUsers().size)===0&&this.remoteTopics.delete(e)}deleteSub(e,r){var a,g;(a=this.subscribeInfoMap.get(e))===null||a===void 0||a.delete(r),(g=this.subscribeInfoMap.get(e))!==null&&g!==void 0&&g.size||this.subscribeInfoMap.delete(e)}decodeMetadata(e){return TopicMetadata.decode(new TextEncoder().encode(e))}async handlePreSubscribeTopic(e,r){const a=this.remoteTopics.get(e),g=a==null?void 0:a.getUsers().get(r);if(!g)return void this.log("handlePreSubscribeTopic failed. remoteDcInfo is undefined. topicName: ".concat(e,", userId: ").concat(replaceRangeWithAsterisk(r)));const{id:E,user:u}=g,B=await fromPromise(this.rtcClient.subscribe(u||this.userIdToRTCRemoteUser(r),"datachannel",E),m=>m);if(B.isErr()){var f;const m=B==null||(f=B.error)===null||f===void 0?void 0:f.code;this.log("subscribe predictive user(".concat(replaceRangeWithAsterisk(r),") in topic(").concat(e,") failed, code is ").concat(m))}if(B.isOk()){const m=B.value;this.log("pre-subtopic ".concat(this.channelName,"(").concat(e,") succeed.")),a==null||a.handleSubscription(m,r)}}async patchSubscribeTopic(e,r){var a;const g={succeedUsers:[],failedUsers:[],failedDetails:[],timestamp:0,topicName:e},E=this.remoteTopics.get(e),u=SUB_TOPIC_USER_LIMITATION-((a=E==null?void 0:E.getAllSubscribedUserCount())!==null&&a!==void 0?a:0),B=shuffle$1(r).filter((m,y)=>(y+1>u&&(g.failedDetails.push({user:m,errorCode:SubscribeTopicErrorCode.SUB_USER_EXCEED_LIMITATION,timestamp:0,topicName:e}),g.failedUsers.push(m)),y+1<=u));return this.log("subscribe topic(%s) users: %o",e,B.map(m=>replaceRangeWithAsterisk(m))),(await Promise.all(B.map(m=>{const y=E==null?void 0:E.getUsers().get(m);if(!y)throw this.warn("subscribe topic(".concat(e,")-user(").concat(replaceRangeWithAsterisk(m),") failed, user not in remoteTopic users.")),new Error;const{id:D,user:M}=y;return fromPromise(this.rtcClient.subscribe(M||this.userIdToRTCRemoteUser(m),"datachannel",D),O=>O)}))).map((m,y)=>({userId:B[y],result:m})).forEach(m=>{if(m.result.isErr()){var y,D;const M=(y=m.result.error)===null||y===void 0?void 0:y.code,O=SubscribeTopicErrorCode.UNKNOWN_ERROR;g.failedDetails.push({user:m.userId,errorCode:O,reason:"Subscribe topic failure, web_rtc code is ".concat(M,", the reason of web_rtc is that ").concat(m==null||(D=m.result)===null||D===void 0||(D=D.error)===null||D===void 0?void 0:D.toString()),timestamp:0,topicName:e}),g.failedUsers.push(m.userId),this.warn(m.result,"WEB_RTCerror"),this.log("subscribe user(".concat(m.userId,") in topic(").concat(e,") failed, code is ").concat(M))}else{g.succeedUsers.push(m.userId);const M=m.result.value;this.log("subtopic ".concat(this.channelName,"(").concat(e,") succeed.")),E==null||E.handleSubscription(M,m.userId)}}),g}clearLocalCache(){this.localTopics=new Map,this.remoteTopics=new Map,this.preSubscribeInfoMap=new Map,this.subscribeInfoMap=new Map}checkIsJoinedChannel(e){if(!this.isJoinedChannel||this.linkState!=="CONNECTED"){this.log("".concat(this.channelName," have not joined stream channel when ").concat(e));const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_NOT_JOINED);throw new RtmUnavailableError(e,[a],r)}}updatePrivateSettings(){const e=this.context.rtmConfig.privateConfig;if(e!=null&&e.accessPointHosts){var r;const a=e.logUploadHosts,g=e.eventUploadHosts,E=443;this.rtcClient.setLocalAccessPointsV2({accessPoints:{serverList:e.accessPointHosts,domain:"edge."+sample$1((r=e.originDomains)!==null&&r!==void 0?r:["agora.io"])},log:a?_objectSpread2({},getPrivateSettingsPortAndDomains(a,E)):void 0,report:g?_objectSpread2({},getPrivateSettingsPortAndDomains(g,E)):void 0})}else e&&this.warn("use private settings but apHosts is set to empty")}updateLinkState(e,r,a){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"";if(this.linkState===e)return;this.privatePermitUseMessageChn&&this.context.sendReport("LinkStateChange",{elapse:getElapse(this.getMainSession().getRegistrarSession().startTime),lts:Long$2.fromNumber(Date.now()),reason:LinkStateChangeReason4Report[a],sid:getSid(this.getMainSession().getRegistrarSession().instanceId||Long$2.fromNumber(0)),vid:Long$2.fromString(getParameter("VID").get(this.context.appId)||"0"),userid:this.context.uid,currentState:linkStateCodeMap[e],previousState:linkStateCodeMap[this.linkState],operation:linkOperationCodeMap[r],serviceType:1,streamChannelName:this.channelName}),e!=="FAILED"&&e!=="IDLE"||(this.firstSnapshot=!0);const E={currentState:e,previousState:this.linkState,serviceType:"STREAM",operation:r,reason:g,reasonCode:a,affectedChannels:[this.channelName],unrestoredChannels:[],timestamp:getUTCTimeBaseREG(this.context.offsetTime),isResumed:e==="CONNECTED"&&this.isJoinedChannel};this.linkState=e,this.emitRtmEvent("linkState",E)}async join(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const a=getParameter("AREA_CONFIG");if(a){const{areaCodes:H,excludedArea:j}=a;AgoraRTC.setArea({areaCode:H,excludedArea:j})}const g=getChannelNameByType(this.channelName,"STREAM"),E=OperationName.join,{currentResolve:u}=await this.context.operationControl.awaitPromise(E+g);try{if(this.linkState==="CONNECTING"){const{code:j,reason:ee}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_DUPLICATE_OPERATION);throw new RtmUnavailableError(E,[ee],j)}const H={timestamp:0};this.isJoinedChannel||this.updateLinkState("CONNECTING","JOIN",this.linkState==="IDLE"?"JOIN":"REJOIN",this.linkState==="IDLE"?LinkStateChangeReasonDescription.JOIN:LinkStateChangeReasonDescription.REJOIN);try{var B,f,m,y;if(this.updatePrivateSettings(),this.apiRateLimit.canMakeOperation("join"),this.privatePermitUseMessageChn){if(this.getRtmLinkState()!=="CONNECTED"){const{code:ee,reason:ne}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmUnavailableError(E,[ne],ee)}this.validateRtmConnection(E),this.validateSessionExist(E),this._validateJoinOptions(e,E)}(B=e)!==null&&B!==void 0&&B.token&&validateToken(e.token,this.appId,E,ee=>{this.warn(ee)}),((f=e)===null||f===void 0?void 0:f.token)!==""&&((m=e)===null||m===void 0?void 0:m.token)!==void 0||(e=_objectSpread2(_objectSpread2({},e),{},{token:this.context.appId}));const j=(y=getParameter("STREAM_CHANNEL_COUNT"))!==null&&y!==void 0?y:SUB_STREAM_CHANNEL_LIMITATION;if(this.getStreamChannelList().length>=j){this.log("exceed join channel limit ".concat(j));const{code:ee,reason:ne}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION);throw new RtmUnavailableError(E,[ne],ee)}}catch(j){var D;this.logError(j);const{reason:ee}=j;throw this._handleJoinFailedState((D=j==null?void 0:j.errorCode)!==null&&D!==void 0?D:ee),j}try{if(!this.isJoinedChannel){this.addAllRtcListeners();let j=!1;const ee=AgoraRTC.__CLIENT_LIST__.map(ne=>"channel(".concat(ne.channelName,"), state: ").concat(ne.connectionState,"}"));this.log("FusionSDK: ".concat(FUSION,". clientList of rtc: ").concat(ee));try{this.log("Join streamChannel, isReuseRtcClient: ".concat(j)),this.internalEmitter.emit("stream-channel-joined",this.channelName);const ne=this.rtcClient.connectionState;if(!(FUSION&&j)){if(!(ne==="CONNECTED"||ne==="CONNECTING"||ne==="RECONNECTING")){var M,O,U;const oe=(M=e)===null||M===void 0?void 0:M.token;this.context.config.cloudProxy&&((O=(U=this.context.rtmConfig.privateConfig)===null||U===void 0||(U=U.accessPointHosts)===null||U===void 0?void 0:U.length)!==null&&O!==void 0?O:0)===0&&this.rtcClient.startProxyServer(5),this.firstSnapshot=!0,await timeoutPromise(this.rtcClient.join(this.appId,this.channelName,oe||null,this.userId),JOIN_TIMEOUT,E,RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED,!0)}}}catch(ne){var F;if(this.internalEmitter.emit("stream-channel-leaved",this.channelName),await this._validCancelJoin(E),isRtmError(ne))throw isTimeout(ne)&&await this.rtcClient.leave(),ne;this.warn(ne);const oe=(F=ne==null?void 0:ne.code)!==null&&F!==void 0?F:AgoraRTCErrorCode.UNEXPECTED_ERROR;if(oe===AgoraRTCErrorCode.CAN_NOT_GET_GATEWAY_SERVER){const{code:fe,reason:Le}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmUnavailableError(E,[Le],fe)}if(oe===AgoraRTCErrorCode.OPERATION_ABORTED){const{code:fe,reason:Le}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_CANCELED);throw new RtmUnavailableError(E,[Le],fe)}const{code:ae,reason:he}=convertDataChannelJoinCodeToSdkCode(oe,RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED);throw new RtmUnavailableError(E,[he+"Join channel failure, server code is ".concat(oe)],ae)}await this._validCancelJoin(E),this.updateLinkState("CONNECTED","JOIN","JOIN_SUCCESS",LinkStateChangeReasonDescription.JOIN_SUCCESS),this.isJoinedChannel=!0}return this.privatePermitUseMessageChn&&(this.log("stream channel joined success, start sub other options"),await this.subscribe(e,r)),this.joinedAndSubscribed=!0,u(H),H}catch(j){var x;u(!1);const{reason:ee}=j;throw this.joinedAndSubscribed===!1&&this._handleJoinFailedState((x=j==null?void 0:j.errorCode)!==null&&x!==void 0?x:ee),j}}catch(H){throw u(void 0),H}}async subMetadata(e){try{var r;await((r=this.getMainSession())===null||r===void 0?void 0:r.getRegistrarSession().requestSubscribeChannelMetadata(e,"JOIN")),this.getChannelMetadataSub().add(e)}catch(a){this.warn("sub channel metadata failure when sub channel(".concat(replaceRangeWithAsterisk(e),"), error is ").concat(a,"."))}}unSubMetadata(e){this.getMainSession().getRegistrarSession().requestUnsubscribeChannelMetadata(e),this.getChannelMetadataSub().delete(e)}async subLock(e){try{var r;await((r=this.getMainSession())===null||r===void 0?void 0:r.getRegistrarSession().requestSubscribeLock(e))}catch(a){this.warn("sub lock info failure when sub channel(".concat(replaceRangeWithAsterisk(e),"), error is ").concat(a,"."))}}unSubLock(e){const r=this.getMainSession(),a=r==null?void 0:r.getRegistrarSession();a==null||a.requestUnsubscribeLock(e)}leavePresenceColl(e){var r;(r=this.getMainSession())===null||r===void 0||r.getPresenceSession().leave(e)}subPresence(e){var r;(r=this.getMainSession())===null||r===void 0||r.getPresenceSession().subPresence(e)}unSubPresence(e){var r;let a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];(r=this.getMainSession())===null||r===void 0||r.getPresenceSession().unSubPresence(e,a)}cacheStateAndDelDoc(e){var r;const a=(r=this.getMainSession())===null||r===void 0?void 0:r.getPresenceSession();a==null||a.cacheStateAndDelDoc(e)}async subscribe(e){var r,a;let g=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const E=OperationName.join,u=getChannelNameByType(this.channelName,"STREAM"),B=this.getMainSession(),f=!(B!=null&&B.lastSubscribeOrJoinOptions.has(u)),m=handleJoinOptionsAsDefault(e),{withLock:y,withMetadata:D,withPresence:M,beQuiet:O}=this.getLastSubOptions(u),U=getRandomInt(0,Number.MAX_SAFE_INTEGER);this.privatePermitUseMessageChn&&((r=this.getMainSession())===null||r===void 0||r.reportChnJoin(u,m,U));const F=getParameter("STORAGE_CHANNEL_SUB_ENABLED"),x=(m==null?void 0:m.withMetadata)&&!D&&(F!==void 0?String(F):this.getConsoleConfig()["storage.channel_subscribe_enabled"])==="true",{code:H,reason:j}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED),ee=(m==null?void 0:m.beQuiet)&&!O&&!f,ne=!(m!=null&&m.beQuiet)&&(f||O),oe=(m==null?void 0:m.withPresence)&&!M,ae=(a=this.getMainSession())===null||a===void 0?void 0:a.getRegistrarSession();try{var he,fe;await Promise.all([x?this.subMetadata(u):void 0,m!=null&&m.withMetadata||!D?void 0:this.unSubMetadata(u),m!=null&&m.withLock&&!y?this.subLock(u):void 0,m!=null&&m.withLock||!y?void 0:this.unSubLock(u),f?await((he=this.getMainSession())===null||he===void 0?void 0:he.getPresenceSession().joinPresenceColl(u,{withPresence:m.withPresence,needPutDoc:ne,needDelDoc:ee,needSub:oe,reJoinCauseReconnect:g})):(fe=this.getMainSession())===null||fe===void 0?void 0:fe.getPresenceSession().onCreateCollection(u,{withPresence:m.withPresence,needPutDoc:ne,needDelDoc:ee,needSub:!1,reJoinCauseReconnect:g})])}catch(Ye){var Le;throw ae&&this.context.addReportEvents("ChnJoinRes",{cname:this.channelName,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(ae.startTime),errCode:Ye==null?void 0:Ye.errorCode,sid:getSid(ae==null?void 0:ae.instanceId),serverErrCode:(Le=Ye.serverCode)!==null&&Le!==void 0?Le:Ye.errorCode,userId:this.context.uid,seq:Long$2.fromNumber(U)}),new RtmUnknownError(E,[j+Ye],H)}var He,Se,ge;m!=null&&m.withPresence&&!M&&M!==void 0&&((He=this.getMainSession())===null||He===void 0||He.getPresenceSession().unsubScribeSelfPresence(u,!1),this.leavePresenceColl(u),await((Se=this.getMainSession())===null||Se===void 0?void 0:Se.getPresenceSession().joinPresenceColl(u,{withPresence:!0,needPutDoc:ne,needDelDoc:ee,needSub:oe}))),m!=null&&m.withPresence||!M||(this.unSubPresence(u),this.leavePresenceColl(u),await((ge=this.getMainSession())===null||ge===void 0?void 0:ge.getPresenceSession().joinPresenceColl(u,{withPresence:!1,needPutDoc:ne,needDelDoc:ee,needSub:oe}))),ae&&this.context.addReportEvents("ChnJoinRes",{cname:this.channelName,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(ae.startTime),errCode:0,sid:getSid(ae.instanceId),serverErrCode:0,userId:this.context.uid,seq:Long$2.fromNumber(U)})}getPrefixChannelName(){return getChannelNameByType(this.channelName,"STREAM")}absent(e){var r,a,g,E;const u=this.getPrefixChannelName(),{withPresence:B,beQuiet:f}=this.getLastSubOptions(u);B&&this.unSubPresence(u,e);const m=!f;!B&&((r=this.getMainSession())===null||r===void 0||r.getPresenceSession().unsubScribeSelfPresence(u)),m&&((a=this.getMainSession())===null||a===void 0||a.getPresenceSession().delChannelDoc(u)),this.leavePresenceColl(u),(g=this.getMainSession())===null||g===void 0||g.getPresenceSession().leaveRetryChannels([u]),(E=this.getMainSession())===null||E===void 0||E.lastSubscribeOrJoinOptions.delete(u)}getLastSubOptions(e){var r,a;return(r=(a=this.getMainSession())===null||a===void 0?void 0:a.lastSubscribeOrJoinOptions.get(e))!==null&&r!==void 0?r:{}}async renewStreamChannelToken(e){const r=OperationName.renewToken;try{await this.rtcClient.renewToken(e)}catch(g){var a;this.logError(g);const E=(a=g==null?void 0:g.code)!==null&&a!==void 0?a:AgoraRTCErrorCode.UNEXPECTED_ERROR,{code:u,reason:B}=convertDataChannelJoinCodeToSdkCode(E,RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmUnavailableError(r,[B+"RenewToken of streamChannel failure, server code is ".concat(E)],u)}}localLeave(){this.isJoinedChannel=!1,this.joinedAndSubscribed=!1,this.removeAllRtcListeners(),this.clearLocalCache(),this.internalEmitter.emit("stream-channel-leaved",this.channelName)}async leave(){let e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];const r=OperationName.leave;this.privatePermitUseMessageChn&&e&&(this.validateRtmConnection(r),this.validateSessionExist(r));const a={timestamp:0};if(this.linkState==="FAILED")return this.updateLinkState("IDLE","LEAVE","LEAVE",LinkStateChangeReasonDescription.LEAVE),this.localLeave(),a;if(this.linkState==="CONNECTING")return await this.rtcClient.leave(),this.updateLinkState("IDLE","LEAVE","LEAVE",LinkStateChangeReasonDescription.LEAVE),this.localLeave(),a;let g;this.checkIsJoinedChannel(r);const E=new Promise((B,f)=>{g=B});this.log("Leave streamChannel, isReuseRtcClient: ".concat(this.isReuseRtcClient));const u=[];try{const B=this.isReuseRtcClient&&FUSION;await Promise.all([B?this.fusionSdkLeave():this.rtcClient.leave(),...u.map(f=>fromPromise(this.rtcClient.unpublish(f),m=>m)),...this.isReuseRtcClient&&FUSION&&this.privatePermitUseMessageChn?[this.unSubLockAMeta(),this.handleLeaveEffects(),()=>{this.firstSnapshot=!0}]:[]]),this.context.config.cloudProxy&&!B&&this.rtcClient.stopProxyServer(),g(a)}catch(B){if(this.logError(B),isRtmError(B))throw B;const f=(B==null?void 0:B.code)||AgoraRTCErrorCode.UNEXPECTED_ERROR,{code:m,reason:y}=convertDataChannelJoinCodeToSdkCode(f,RTMErrorCode.RTM_ERROR_CHANNEL_LEAVE_FAILED);throw new RtmUnavailableError(r,[y+"Leave channel failure, server code is  ".concat(f)],m)}finally{this.updateLinkState("IDLE","LEAVE","LEAVE",LinkStateChangeReasonDescription.LEAVE)}return E}async fusionSdkJoin(){const e={channelName:this.channelName,state:"CONNECTING",reason:"OK",timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emitRtmEvent("status",e),await this.rtcClient.setRTMConfig({apRTM:!0,rtmFlag:1}),this.isJoinedChannel=!0;const r={channelName:this.channelName,state:"CONNECTED",reason:"OK",timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emitRtmEvent("status",r),this.handleUserPublishedList(this.rtcClient.remoteUsers)}async fusionSdkLeave(){const e={channelName:this.channelName,state:"DISCONNECTING",reason:"LEAVE",timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emitRtmEvent("status",e),await this.rtcClient.setRTMConfig({apRTM:!0,rtmFlag:0}),this.isJoinedChannel=!1;const r={channelName:this.channelName,state:"DISCONNECTED",reason:"LEAVE",timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emitRtmEvent("status",r)}async joinTopic(e,r){var a;const g=OperationName.joinTopic;this.apiRateLimit.canMakeOperation("joinTopic"),this.privatePermitUseMessageChn&&(this.validateRtmConnection(g),this.validateSessionExist(g)),validateTopicName(e,g),this.checkIsJoinedChannel(g);const E={timestamp:0,topicName:e};if(this.localTopics.has(e))return this.log("topic(%s) already exists",e),E;if(this.localTopics.size>=JOIN_TOPIC_LIMITATION){this.log("exceed create topic limit");const{code:m,reason:y}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION);throw new RtmUnavailableError(g,[y],m)}r={meta:null};const u=TopicMetadata.encode({metadata:(a=r)===null||a===void 0?void 0:a.meta,topic:e}).finish(),B=()=>{const m=Array.from(this.localTopics.values()).filter(y=>y!==void 0).filter(y=>(y==null?void 0:y.getDataChannel())!==void 0).map(y=>{var D;return y==null||(D=y.getDataChannel())===null||D===void 0?void 0:D.getConfig().id});for(let y=0;y<JOIN_TOPIC_LIMITATION;y++)if(m.findIndex(D=>D===y)===-1)return y;return-1};try{const m=B();this.localTopics.set(e,void 0);const y=await fromPromise(this.rtcClient.publish({id:m,ordered:!1,metadata:String.fromCharCode(...u)}),D=>D);if(y.isErr()){var f;this.localTopics.delete(e);const D=y==null||(f=y.error)===null||f===void 0?void 0:f.code;throw new RtmUnavailableError(g,["JoinTopic failure, code of rtcClient.publish api is ".concat(D)],RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED)}{const D=y.value,M=new LocalTopic(this.context,this.logger,e,D);D==null||D.on("open",()=>{this.warn("".concat(this.channelName,"(").concat(e,") remote dc opened."))}),D==null||D.on("close",()=>{this.warn("".concat(this.channelName,"(").concat(e,") remote dc closed."))}),D==null||D.on("error",O=>{this.warn("error occurs in ".concat(this.channelName,"(").concat(e,") remote dc. error is ").concat(O))}),this.localTopics.set(e,M)}}catch(m){throw m}return E}async publishTopicMessage(e,r,a){var g;const E=OperationName.publishTopicMessage;this.apiRateLimit.canMakeOperation("publishTopicMsg"),this.privatePermitUseMessageChn&&(this.validateRtmConnection(E),this.validateSessionExist(E));const u={timestamp:0,topicName:e};if(validateTopicName(e,E),this.checkIsJoinedChannel(E),a!=null&&a.customType&&validateCustomType(a==null?void 0:a.customType,E),typeof r=="string"&&!r){const{code:f,reason:m}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_MESSAGE);throw new RtmInvalidArgumentError(E,[m],f)}if((typeof r=="string"?new TextEncoder().encode(r).buffer:r.buffer).byteLength+new Blob([(g=a==null?void 0:a.customType)!==null&&g!==void 0?g:""]).size>TOPIC_MESSAGE_SIZE){const{code:f,reason:m}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION);throw new RtmInvalidArgumentError(E,[m],f)}if(this.rtcClient.connectionState!=="CONNECTED"){const{code:f,reason:m}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_NOT_JOINED);throw new RtmUnavailableError(E,[m],f)}const B=this.localTopics.get(e);if(!B){const{code:f,reason:m}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED);throw new RtmUnavailableError(E,[m],f)}return await(B==null?void 0:B.publishTopicMessage(E,r,a)),u}async leaveTopic(e){var r;const a=OperationName.leaveTopic;this.privatePermitUseMessageChn&&(this.validateRtmConnection(a),this.validateSessionExist(a));const g={timestamp:0,topicName:e};if(validateTopicName(e,a),this.checkIsJoinedChannel(a),!this.localTopics.has(e)){const{code:B,reason:f}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED);throw new RtmUnavailableError(a,[f],B)}const E=(r=this.localTopics.get(e))===null||r===void 0?void 0:r.getDataChannel();try{await this.rtcClient.unpublish(E),this.localTopics.delete(e)}catch(B){var u;this.logError(B);const f=(u=B==null?void 0:B.code)!==null&&u!==void 0?u:AgoraRTCErrorCode.UNEXPECTED_ERROR,{code:m,reason:y}=convertDataChannelJoinCodeToSdkCode(f,RTMErrorCode.RTM_ERROR_CHANNEL_IN_ERROR_STATE);throw new RtmUnavailableError(a,[y+"LeaveTopic failure, server code is  ".concat(f),m])}return g}async subscribeTopic(e,r){const a=OperationName.subscribeTopic;this.apiRateLimit.canMakeOperation("subscribeTopic"),this.privatePermitUseMessageChn&&(this.validateRtmConnection(a),this.validateSessionExist(a)),validateTopicName(e,a),this.checkIsJoinedChannel(a);const{currentResolve:g,currentReject:E}=await this.context.operationControl.awaitPromise(a+streamChannel_prefix+e);try{var u,B,f,m,y,D;const U=(u=r==null||(B=r.users)===null||B===void 0?void 0:B.filter(oe=>!isValidId(oe)))!==null&&u!==void 0?u:[];if(r!=null&&r.users&&(r.users=r==null||(f=r.users)===null||f===void 0?void 0:f.filter(oe=>isValidId(oe))),r!=null&&r.users&&(r.users=[...new Set(r.users)]),Array.from(this.remoteTopics.values()).filter(oe=>oe.getAllSubscribedUserCount()>0).length>SUB_TOPIC_LIMITATION){this.log("subscribed topic(%s) failed, exceed subscribe topic limit ".concat(SUB_TOPIC_LIMITATION),e);const{code:oe,reason:ae}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION);throw new RtmUnavailableError(a,[ae],oe)}const x=this.remoteTopics.get(e);if(((m=x==null?void 0:x.getAllSubscribedUserCount())!==null&&m!==void 0?m:0)>=SUB_TOPIC_USER_LIMITATION){this.log("subscribe topic(".concat(e,") exceed user limit: ").concat(SUB_TOPIC_USER_LIMITATION));const{code:oe,reason:ae}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION);throw new RtmUnavailableError(a,[ae],oe)}const H={failedUsers:U,failedDetails:U.map(oe=>({user:oe,errorCode:SubscribeTopicErrorCode.INVALID_PARAMS,timestamp:0,topicName:e})),succeedUsers:[],timestamp:0,topicName:e};if(!(this.remoteTopics.has(e)||r!=null&&r.users&&r.users.length!==0)){if(this.localTopics.has(e))return g(void 0),H;const{code:oe,reason:ae}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST);throw new RtmUnavailableError(a,[ae],oe)}const j=new Set;if(!this.remoteTopics.has(e)&&((r==null||(y=r.users)===null||y===void 0?void 0:y.length)||0)>0){this.log("createTopicHere");const oe=new RemoteTopic(this.context,this.logger,e,this.channelName,this.emitTopicMessage),ae=SUB_TOPIC_USER_LIMITATION-(oe==null?void 0:oe.getAllSubscribedUserCount()),he=shuffle$1((r==null?void 0:r.users)||[]).filter((fe,Le)=>(Le+1>ae&&(H.failedDetails.push({user:fe,errorCode:SubscribeTopicErrorCode.SUB_USER_EXCEED_LIMITATION,timestamp:0,topicName:e}),H.failedUsers.push(fe)),Le+1<=ae));return this.log("shuffle pre subscribe topic(%s), users: %o",e,he.map(fe=>replaceRangeWithAsterisk(fe))),he.forEach(fe=>{j.add(fe),oe.addUserWithoutDc(fe),this.remoteTopics.set(e,oe)}),this.log("".concat(e," not existent in channel").concat(this.channelName,".")),H.succeedUsers=[...j],this.log("subscribed ".concat(this.channelName,"(").concat(e,"), resp is %o"),H),g(void 0),H}let ee=[];var M,O;r!=null&&r.users&&r.users.length!==0?ee=(r==null||(M=r.users)===null||M===void 0?void 0:M.filter(oe=>{const ae=x==null?void 0:x.getPreSubscribedUsers().includes(oe),he=x==null?void 0:x.getSubscribedUsers().includes(oe),fe=!(x!=null&&x.getUsers().has(oe));return ae||he?this.log("subscribe ".concat(replaceRangeWithAsterisk(oe)," in topic(").concat(e,") already.")):fe&&(x==null||x.addUserWithoutDc(oe),this.log("pre subscribe user(".concat(replaceRangeWithAsterisk(oe),")"))),this.log("can't sub the user ".concat(oe,", isPreSubscribed: ").concat(ae,", isSubscribed: ").concat(he,", isUserNotPublishTopic: ").concat(fe)),!ae&&!he&&!fe}))||[]:((O=x==null?void 0:x.getUsers())!==null&&O!==void 0?O:new Map).forEach((oe,ae)=>{oe.subscribedState==="UNSUBSCRIBE"&&ee.push(ae)});const ne=await this.patchSubscribeTopic(e,ee);return this.log("".concat(a," result: preSubUsers(").concat([...j],"), subUsers(").concat(ne.succeedUsers,")")),H.succeedUsers=[...j,...ne.succeedUsers],H.failedUsers=[...H.failedUsers,...ne.failedUsers],H.failedDetails=[...H.failedDetails,...ne.failedDetails],H.failedUsers.length===(r==null||(D=r.users)===null||D===void 0?void 0:D.length)||H.failedUsers.length,g(void 0),H}catch(U){throw E(U),U}}async unsubscribeTopic(e,r){var a,g,E;const u=OperationName.unsubscribeTopic;this.privatePermitUseMessageChn&&(this.validateRtmConnection(u),this.validateSessionExist(u)),validateTopicName(e,u),this.checkIsJoinedChannel(u);const B=this.remoteTopics.get(e);if(B==null||!B.getAllSubscribedUserCount()){const{code:D,reason:M}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED);throw new RtmUnavailableError(u,[M],D)}const f=(a=r==null||(g=r.users)===null||g===void 0?void 0:g.filter(D=>!isValidId(D)))!==null&&a!==void 0?a:[],m={failedUsers:f,failedDetails:f.map(D=>({user:D,errorCode:SubscribeTopicErrorCode.INVALID_PARAMS,timestamp:0,topicName:e})),timestamp:0,succeedUsers:[],topicName:e};let y=[];r!=null&&r.users&&r.users.length!==0?y=r.users.filter(D=>isValidId(D)).filter(D=>{const M=B.getPreSubscribedUsers().includes(D),O=B.getSubscribedUsers().includes(D);return M?(this.deleteRemoteDc(e,D),m.succeedUsers.push(D)):O||(m.failedDetails.push({user:D,errorCode:SubscribeTopicErrorCode.NOT_SUBSCRIBED_USER,timestamp:0,topicName:e}),m.failedUsers.push(D)),O}):(B.getSubscribedUsers().forEach(D=>{y.push(D)}),B.getPreSubscribedUsers().forEach(D=>{this.deleteRemoteDc(e,D),m.succeedUsers.push(D)}));try{(await Promise.all(y.map(M=>{const O=B==null?void 0:B.getUsers().get(M);if(!O)throw this.warn("unsubscribe topic(".concat(e,")-user(").concat(replaceRangeWithAsterisk(M),") failed, user not in remoteTopic users.")),new Error;const{id:U,user:F}=O;return fromPromise(this.rtcClient.unsubscribe(F||this.userIdToRTCRemoteUser(M),"datachannel",U),x=>x)}))).map((M,O)=>({userId:y[O],result:M})).forEach(M=>{let{userId:O,result:U}=M;if(U.isErr()){var F,x,H;this.logError(U.error);const j=(F=U==null||(x=U.error)===null||x===void 0?void 0:x.code)!==null&&F!==void 0?F:AgoraRTCErrorCode.UNEXPECTED_ERROR;m.failedDetails.push({user:O,reason:"Unsubscribe topic failure, web_rtc code is ".concat(j,", the reason of web_rtc is that ").concat(U==null||(H=U.error)===null||H===void 0?void 0:H.toString()),timestamp:0,topicName:e}),m.failedUsers.push(O);const{code:ee,reason:ne}=convertDataChannelJoinCodeToSdkCode(j,RTMErrorCode.RTM_ERROR_CHANNEL_IN_ERROR_STATE);throw new RtmUnavailableError(u,[ne+"unsubscribeTopic failure, server code is ".concat(j)],ee)}m.succeedUsers.push(O),B.handleUnsubscription(O)})}catch(D){throw D}return m.failedUsers.length===(r==null||(E=r.users)===null||E===void 0?void 0:E.length)||m.failedUsers.length,this.log("".concat(u," success. sdk resp is %o"),m),m.succeedUsers.forEach(D=>{this.internalEmitter.emit("unsubscribeTopicMessage",e,D)}),{timestamp:0}}getSubscribedUserList(e){const r=OperationName.getSubscribedUserList;this.privatePermitUseMessageChn&&(this.validateRtmConnection(r),this.validateSessionExist(r)),validateTopicName(e,r),this.checkIsJoinedChannel(r);const a=this.remoteTopics.get(e);if(a==null||!a.getAllSubscribedUserCount()){const{code:E,reason:u}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED);throw new RtmUnavailableError(r,[u],E)}const g={subscribed:[],timestamp:0,topicName:e};return g.subscribed=[...a.getSubscribedUsers(),...a.getPreSubscribedUsers()],g}validateSessionExist(e){if(this.getMainSession()===void 0){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(e,[a],r)}}setStreamChannelParameter(e,r){AgoraRTC.setParameter(e,r)}_handleJoinFailedState(e){if(typeof e=="string")return void this.updateLinkState("FAILED","JOIN","JOIN_FAILED",e);if(e===RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_CANCELED)return;let r=LinkStateChangeReasonDescription.JOIN_FAILED,a="JOIN_FAILED";switch(e){case RTMErrorCode.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION:r=LinkStateChangeReasonDescription.CHANNEL_INSTANCE_EXCEED_LIMITATION,a="CHANNEL_INSTANCE_EXCEED_LIMITATION";break;case RTMErrorCode.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION:r=LinkStateChangeReasonDescription.OPERATION_RATE_EXCEED_LIMITATION,a="OPERATION_RATE_EXCEED_LIMITATION";break;case RTMErrorCode.RTM_ERROR_INVALID_TOKEN:r=LinkStateChangeReasonDescription.INVALID_TOKEN,a="INVALID_TOKEN";break;case RTMErrorCode.RTM_ERROR_INCONSISTENT_APPID:r=LinkStateChangeReasonDescription.INCONSISTENT_APP_ID,a="INCONSISTENT_APP_ID";break;case RTMErrorCode.RTM_ERROR_DUPLICATE_OPERATION:case RTMErrorCode.RTM_ERROR_NOT_CONNECTED:case RTMErrorCode.RTM_ERROR_NOT_LOGIN:r=LinkStateChangeReasonDescription.CHANNEL_IN_ERROR_STATE,a="CHANNEL_IN_ERROR_STATE";break;case RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE:r=LinkStateChangeReasonDescription.LOCK_NOT_AVAILABLE,a="LOCK_NOT_AVAILABLE";break;case RTMErrorCode.RTM_ERROR_STORAGE_NOT_AVAILABLE:r=LinkStateChangeReasonDescription.STORAGE_NOT_AVAILABLE,a="STORAGE_NOT_AVAILABLE";break;case RTMErrorCode.RTM_ERROR_CHANNEL_NOT_AVAILABLE:r=LinkStateChangeReasonDescription.STREAM_CHANNEL_NOT_AVAILABLE,a="STREAM_CHANNEL_NOT_AVAILABLE"}this.updateLinkState("FAILED","JOIN",a,r)}async _validCancelJoin(e){if(this.linkState==="IDLE"){this.isReuseRtcClient,await this.rtcClient.leave(),this.context.config.cloudProxy&&this.rtcClient.stopProxyServer();const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_CANCELED);throw new RtmUnavailableError(e,[a],r)}}_validateJoinOptions(e,r){const a=getParameter("STORAGE_CHANNEL_SUB_ENABLED"),g=(a!==void 0?String(a):this.getConsoleConfig()["storage.channel_subscribe_enabled"])==="true";if(e!=null&&e.withMetadata&&!g){const{code:B,reason:f}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_NOT_AVAILABLE);throw new RtmUnavailableError(r,[f],B)}const E=getParameter("LOCK_ENABLED"),u=(E!==void 0?String(E):this.getConsoleConfig()["lock.enabled"])==="true";if(e!=null&&e.withLock&&!u){const{code:B,reason:f}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE);throw new RtmUnavailableError(r,[f],B)}}}var _class$5;let StreamChannel=(_class$5=class extends EventBase{constructor(n,e,r,a,g,E,u,B,f,m){super(e,"StreamChannel",!0),_defineProperty$1(this,"streamChannelImpl",void 0),this.streamChannelImpl=new StreamChannelImpl(n,e,r,a,g,E,u,B,f,m)}get isJoinedChannel(){return this.streamChannelImpl.isJoinedChannel}get channelName(){return this.streamChannelImpl.channelName}get _streamChannelImpl(){return this.streamChannelImpl}get internalEmitter(){return this.streamChannelImpl.internalEmitter}async join(n){return this.streamChannelImpl.join(n)}async renewStreamChannelToken(n){return this.streamChannelImpl.renewStreamChannelToken(n)}async leave(){return this.streamChannelImpl.leave()}async joinTopic(n,e){return this.streamChannelImpl.joinTopic(n,e)}async publishTopicMessage(n,e,r){return this.streamChannelImpl.publishTopicMessage(n,e,r)}async leaveTopic(n){return this.streamChannelImpl.leaveTopic(n)}async subscribeTopic(n,e){return this.streamChannelImpl.subscribeTopic(n,e)}async unsubscribeTopic(n,e){return this.streamChannelImpl.unsubscribeTopic(n,e)}getSubscribedUserList(n){return this.streamChannelImpl.getSubscribedUserList(n)}},_applyDecoratedDescriptor(_class$5.prototype,"join",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,"join"),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,"leave",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,"leave"),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,"joinTopic",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,"joinTopic"),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,"publishTopicMessage",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,"publishTopicMessage"),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,"leaveTopic",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,"leaveTopic"),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,"subscribeTopic",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,"subscribeTopic"),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,"unsubscribeTopic",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,"unsubscribeTopic"),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,"getSubscribedUserList",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,"getSubscribedUserList"),_class$5.prototype),_class$5);class Context extends EventBase{get couldUploadLog(){return this._couldUploadLog}get couldReportEvent(){return this._couldReportEvent}constructor(e,r,a,g,E,u){var B,f,m,y;super(g,"Context"),_defineProperty$1(this,"_token",void 0),_defineProperty$1(this,"config",void 0),_defineProperty$1(this,"_uid",void 0),_defineProperty$1(this,"_sid",""),_defineProperty$1(this,"_vid",void 0),_defineProperty$1(this,"_startTime",void 0),_defineProperty$1(this,"_area","CN"),_defineProperty$1(this,"_socketUseProxy",!1),_defineProperty$1(this,"appId",void 0),_defineProperty$1(this,"cloudProxy",!1),_defineProperty$1(this,"enablePrivate",!1),_defineProperty$1(this,"hasLoggedIn",!1),_defineProperty$1(this,"cloudProxyServers",[]),_defineProperty$1(this,"encryptionInfo",{key:"",iv:"",keyLength:0,initEncryption:!1}),_defineProperty$1(this,"rtmConfig",void 0),_defineProperty$1(this,"userMetadataSub",new Set),_defineProperty$1(this,"_pongTime",new Date().getTime()),_defineProperty$1(this,"_offsetTime",0),_defineProperty$1(this,"_heartbeatInterval",CONFIGURABLE_KEY_RTM_HEARTBEAT_INTERVAL),_defineProperty$1(this,"_syncConnecting",!1),_defineProperty$1(this,"_connSyncEnv",void 0),_defineProperty$1(this,"linkIntervals",[...LINK_INTERVALS]),_defineProperty$1(this,"instanceId",null),_defineProperty$1(this,"_useAp4Ipv6Reg",!1),_defineProperty$1(this,"_operationControl",void 0),_defineProperty$1(this,"_couldUploadLog",!1),_defineProperty$1(this,"_couldReportEvent",!1),this.appId=e,this.uid=r,this.config=a,this.rtmConfig=E,u&&(this.encryptionInfo=u),this.heartbeatInterval=E.heartbeatInterval?1e3*E.heartbeatInterval:void 0;const D=new OperationControl;this._operationControl=D,this.rtmConfig.privateConfig&&(this.enablePrivate=!0),(!this.rtmConfig.privateConfig||((B=(f=this.rtmConfig.privateConfig.logUploadHosts)===null||f===void 0?void 0:f.length)!==null&&B!==void 0?B:0)>0)&&(this._couldUploadLog=!0),(!this.rtmConfig.privateConfig||((m=(y=this.rtmConfig.privateConfig.eventUploadHosts)===null||y===void 0?void 0:y.length)!==null&&m!==void 0?m:0)>0)&&(this._couldReportEvent=!0)}set pongTime(e){this._pongTime=e}get pongTime(){return this._pongTime}set offsetTime(e){this._offsetTime=e}get offsetTime(){return this._offsetTime}set heartbeatInterval(e){this._heartbeatInterval=typeof e=="number"&&e?e<MIN_HEARTBEAT_INTERVAL?MIN_HEARTBEAT_INTERVAL:e>MAX_HEARTBEAT_INTERVAL?MAX_HEARTBEAT_INTERVAL:e:CONFIGURABLE_KEY_RTM_HEARTBEAT_INTERVAL}get heartbeatInterval(){var e,r;return(e=(r=getParameter("HEART_BEAT"))!==null&&r!==void 0?r:this._heartbeatInterval)!==null&&e!==void 0?e:CONFIGURABLE_KEY_RTM_HEARTBEAT_INTERVAL}set connSyncEnv(e){this._connSyncEnv=e}get connSyncEnv(){return this._connSyncEnv}set syncConnecting(e){this._syncConnecting=e}get syncConnecting(){return this._syncConnecting}set socketUseProxy(e){this.log("socketUseProxy is set to %s",e),this._socketUseProxy=e}get socketUseProxy(){return this._socketUseProxy&&getParameter("ENABLE_EDGE_AUTO_FALLBACK")}set token(e){this._token=typeof e=="string"&&e?e:void 0}set uid(e){if(this.log("The user ID is set to %s",replaceRangeWithAsterisk(e)),!isValidId(e))throw new RtmInternalError;this._uid=e}get uid(){if(typeof this._uid=="string"&&this._uid)return this._uid;throw new RtmInternalError("Cannot get illegal uid")}set vid(e){if(typeof e!="string")throw new RtmInternalError;this._vid=e}get vid(){return typeof this._vid=="string"?this._vid:(this.warn("Cannot get illegal vid"),"")}get key(){if(typeof this._token=="string"&&this._token)return this._token;if(typeof this.appId=="string"&&this.appId)return this.appId;throw new RtmInternalError("Cannot get illegal key")}get sid(){if(typeof this._sid=="string"&&this._sid)return this._sid;throw new RtmInternalError("Cannot get illegal sid")}set sid(e){if(this.log("sid is set to %s",e),typeof e!="string"||!e)throw new RtmInternalError;this._sid=e}get startTime(){if(typeof this._startTime=="number"&&this._startTime)return this._startTime;throw new RtmInternalError("Cannot get illegal startTime")}set startTime(e){if(this.log("startTime is set to %s",e),typeof e!="number"||!e)throw new RtmInternalError;this._startTime=e}get rtmArea(){if(typeof this._area=="string"&&this._area)return this._area;throw new RtmInternalError("Cannot get illegal area")}set rtmArea(e){this.log("area is set to %s",e),typeof e=="string"&&e?this._area=e:this.warn("set area failed")}get useAp4Ipv6Reg(){return this._useAp4Ipv6Reg}set useAp4Ipv6Reg(e){this.log("useAp4Ipv6Reg is set to ",e),this._useAp4Ipv6Reg=e}get operationControl(){return this._operationControl}addReportEvents(e,r){var a,g;addReportEvents(this.appId,e,r,(a=this.config.cloudProxy)!==null&&a!==void 0&&a,(g=this.rtmConfig.privateConfig)===null||g===void 0?void 0:g.eventUploadHosts,this.couldReportEvent,this.vid)}sendReport(e,r){var a,g;sendReport(this.appId,e,r,(a=this.config.cloudProxy)!==null&&a!==void 0&&a,(g=this.rtmConfig.privateConfig)===null||g===void 0?void 0:g.eventUploadHosts,this.couldReportEvent)}}class PresenceImpl extends EventBase{constructor(e,r,a,g,E){super(e,"PresenceImpl",!0),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"getMainSession",void 0),_defineProperty$1(this,"getRtmLinkState",void 0),_defineProperty$1(this,"getLocalStateCache",void 0),_defineProperty$1(this,"apiRateLimit",new ApiRateLimiter),this.context=r,this.getMainSession=genGetMainSession(a),this.getRtmLinkState=g,this.getLocalStateCache=E}async whoNow(e,r,a){var g,E,u;const B=OperationName.whoNow;this.apiRateLimit.canMakeOperation("whoNow"),validateChannelType(B,r);const f=(a==null?void 0:a.includedUserId)!==!1,m=(a==null?void 0:a.includedState)===!0,y=(g=a==null?void 0:a.page)!==null&&g!==void 0?g:"";if(this.validateRtmConnection(B),this.validateName(e,"channelName",B),(a==null?void 0:a.includedUserId)===!1&&(a==null?void 0:a.includedState)===!0){const{code:U,reason:F}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_ARGUMENT);throw new RtmInvalidArgumentError(B,[F+"include uid is false but include state is true"],U)}const D=getChannelNameByType(e,r),M=(E=this.getMainSession())===null||E===void 0?void 0:E.getPresenceSession(),O=(u=this.getMainSession())===null||u===void 0?void 0:u.lastSubscribeOrJoinOptions.get(D);return O&&O.withPresence?await(M==null?void 0:M.requestWhoNow(D,f,m)):await(M==null?void 0:M.requestRPCWhoNow(D,y,f,m))}async getOnlineUsers(e,r,a){try{return await this.whoNow(e,r,a)}catch(g){throw g instanceof RTMBaseError&&(g.operation=OperationName.getOnlineUsers),g}}async whereNow(e){var r;const a=OperationName.whereNow;return this.apiRateLimit.canMakeOperation("whereNow"),this.validateRtmConnection(a),this.validateName(e,"userId",a),await((r=this.getMainSession())===null||r===void 0?void 0:r.getPresenceSession()).requestRpcWhereNow(e)}async getUserChannels(e){try{return await this.whereNow(e)}catch(r){throw r instanceof RTMBaseError&&(r.operation=OperationName.getUserChannels),r}}async setState(e,r,a){const g=OperationName.presenceSetState;this.apiRateLimit.canMakeOperation("modifyState"),validateChannelType(g,r),this.validateRtmConnection(g,!1),this.validateName(e,"channelName",g);const E=getChannelNameByType(e,r),u=Object.keys(a).length,{states:B}=await this.getState(this.context.uid,e,r,!0),f=new Set([...Object.keys(B),...Object.keys(a)]).size;if(u===0){const{code:D,reason:M}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_ARGUMENT);throw new RtmInvalidArgumentError(g,[M+"state of parameter is empty"],D)}if(u>MAX_STATE_COUNT||f>MAX_STATE_COUNT){const{code:D,reason:M}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW);throw new RtmLimitExceededError(g,[M],D)}if(this.getLocalStateCache().size>K_PRESENCE_MAX_CHANNEL_COUNT){const{code:D,reason:M}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES);throw new RtmLimitExceededError(g,[M],D)}if(validStateOfPresence(a,g),this.needOperationByCrdt(E)){var m;const D=(m=this.getMainSession())===null||m===void 0?void 0:m.getPresenceSession();this.log("".concat(g," by crdt")),D.requestSetState(E,a)}var y;return(this.needOperationByLocal()||this.beQuietInChannel(E)||this.notInChannel(E))&&this.log("reconnecting, quiet or not in channel, ".concat(g," by local cache. decouple: ").concat(getParameter("DECOUPLE_SYNC"),", syncConnected: ").concat((y=this.getMainSession())===null||y===void 0?void 0:y.getPresenceSession().getSyncConnected())),this._updatePresenceStateCache(E,g,a),{timestamp:0}}async getState(e,r,a){let g=arguments.length>3&&arguments[3]!==void 0&&arguments[3];const E=OperationName.presenceGetState;g||this.apiRateLimit.canMakeOperation("getState"),validateChannelType(E,a),this.validateRtmConnection(E,!1),this.context.uid!==e&&this.validateSyncConnection(E),this.validateName(r,"channelName",E),this.validateName(e,"userId",E);const u=getChannelNameByType(r,a),B={statesCount:0,states:{},userId:e,timestamp:0};if(this.notInChannel(u))if(e===this.context.uid)this.log("not in channel, get self state by local cache"),this.getLocalState(u,E,B);else{var f;this.log("user(".concat(replaceRangeWithAsterisk(e),") not in channel, ").concat(E," by rpc api."));const m=(f=this.getMainSession())===null||f===void 0?void 0:f.getPresenceSession(),y=await m.requestRpcGetState(u,e);B.states=y,B.statesCount=Object.keys(y).length}else if(this.getMainSession().lastSubscribeOrJoinOptions.has(u)){let m=!1;if(e!==this.context.uid?(this.log("in channel, get other state by crdt"),m=!0):this.needOperationByCrdt(u)&&(this.log("in channel, has doc, get self state by crdt"),m=!0),m){const y=this.getCrdtState(u,e,g);B.statesCount=Object.keys(y).length,B.states=y}else this.log("in channel, get self state by local cache"),this.getLocalState(u,E,B)}return B}getCrdtState(e,r,a){var g;return((g=this.getMainSession())===null||g===void 0?void 0:g.getPresenceSession()).requestGetState(e,r,a)}getLocalState(e,r,a){var g;const E={},u=this.getLocalStateCache().get(e);u==null||u.forEach((B,f)=>{E[f]=B}),this.log("quiet or not in channel, ".concat(r," by local cache. decouple: ").concat(getParameter("DECOUPLE_SYNC"),", syncConnected: ").concat((g=this.getMainSession())===null||g===void 0?void 0:g.getPresenceSession().getSyncConnected())),a.states=E,a.statesCount=Object.keys(E).length}async removeState(e,r,a){var g,E,u,B,f,m,y;const D=OperationName.presenceRemoveState;this.apiRateLimit.canMakeOperation("modifyState"),validateChannelType(D,r),this.validateRtmConnection(D,!1),this.validateName(e,"channelName",D);const M=!(a!=null&&(g=a.states)!==null&&g!==void 0&&g.length);if(!M&&a!=null&&(E=a.states)!==null&&E!==void 0&&E.length&&new Set(a.states).size!==((u=a.states)===null||u===void 0?void 0:u.length)){const{code:H,reason:j}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY);throw new RtmInvalidArgumentError(D,[j],H)}if(((B=a==null||(f=a.states)===null||f===void 0?void 0:f.length)!==null&&B!==void 0?B:0)>MAX_STATE_COUNT){const{code:H,reason:j}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW);throw new RtmLimitExceededError(D,[j],H)}a==null||(m=a.states)===null||m===void 0||m.forEach(H=>{validStateKeyOfPresence(H,D)});const O=getChannelNameByType(e,r),U={};if(a==null||(y=a.states)===null||y===void 0||y.forEach(H=>{U[H]=""}),this.needOperationByCrdt(O)){var F;this.log("".concat(D," by crdt. isClear: ").concat(M)),((F=this.getMainSession())===null||F===void 0?void 0:F.getPresenceSession()).requestRemoveState(O,U,M)}var x;return(this.needOperationByLocal()||this.beQuietInChannel(O)||this.notInChannel(O))&&this.log("reconnecting, quiet or not in channel, ".concat(D," by local cache. decouple: ").concat(getParameter("DECOUPLE_SYNC"),", syncConnected: ").concat((x=this.getMainSession())===null||x===void 0?void 0:x.getPresenceSession().getSyncConnected())),this._updatePresenceStateCache(O,D,U),{timestamp:0}}notInChannel(e){var r;return!(!this._noMainSession()&&(r=this.getMainSession())!==null&&r!==void 0&&r.lastSubscribeOrJoinOptions.has(e))}beQuietInChannel(e){var r;return((r=this.getMainSession())===null||r===void 0||(r=r.lastSubscribeOrJoinOptions.get(e))===null||r===void 0?void 0:r.beQuiet)===!0}validateName(e,r,a){if(!isValidId(e)){const g=r==="channelName"?RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME:RTMErrorCode.RTM_ERROR_INVALID_USER_ID,{code:E,reason:u}=getErrorInfoByCode(g);throw new RtmInvalidArgumentError(a,[u],E)}}validateSyncConnection(e){var r;if(!((r=this.getMainSession())===null||r===void 0?void 0:r.getPresenceSession()).getSyncConnected()){this.log("The sync service is not connected, cannot do the operation(".concat(e,")"));const{code:a,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_NOT_CONNECTED);throw new RtmInvalidStatusError(e,[g],a)}}validateRtmConnection(e){var r;let a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this.context.enablePrivate&&((r=this.context.rtmConfig.privateConfig)===null||r===void 0||!r.serviceType.includes("MESSAGE"))){const{code:E,reason:u}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED);throw new RtmUnavailableError(e,u,E)}const g=this.getRtmLinkState();if(g==="IDLE"){this.log("The client state is ".concat(g,", cannot do the operation(").concat(e,")"));const{code:E,reason:u}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(e,[u],E)}a&&this.validateSyncConnection(e)}needOperationByLocal(){var e;const r=this.getRtmLinkState();return r!=="IDLE"&&r!=="CONNECTED"||!((e=this.getMainSession())!==null&&e!==void 0&&e.getPresenceSession().getSyncConnected()||!getParameter("DECOUPLE_SYNC"))}needOperationByCrdt(e){return!!this.getMainSession().getPresenceSession().getSelfDoc(e,"needOperationByCrdt")}_updatePresenceStateCache(e,r,a){var g;const E=(g=this.getLocalStateCache().get(e))!==null&&g!==void 0?g:new Map;if(r===OperationName.presenceSetState)for(const u in a)E.set(u,a[u]);else if(r===OperationName.presenceRemoveState)if(Object.keys(a).length===0)E.clear();else for(const u in a)E.delete(u);this.getLocalStateCache().set(e,E)}_noMainSession(){try{this.getMainSession()}catch(e){const{errorCode:r}=e;if(r===RTMErrorCode.RTM_ERROR_NOT_LOGIN)return!0}return!1}}var _class$4;let Presence=(_class$4=class extends EventBase{constructor(n,e,r,a,g){super(n,"Presence",!0),_defineProperty$1(this,"presenceImpl",void 0),this.presenceImpl=new PresenceImpl(n,e,r,a,g)}async whoNow(n,e,r){return await this.presenceImpl.whoNow(n,e,r)}async getOnlineUsers(n,e,r){return await this.presenceImpl.getOnlineUsers(n,e,r)}async whereNow(n){return await this.presenceImpl.whereNow(n)}async getUserChannels(n){return await this.presenceImpl.getUserChannels(n)}async setState(n,e,r){return await this.presenceImpl.setState(n,e,r)}async getState(n,e,r){return await this.presenceImpl.getState(n,e,r)}async removeState(n,e,r){return await this.presenceImpl.removeState(n,e,r)}},_applyDecoratedDescriptor(_class$4.prototype,"whoNow",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,"whoNow"),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,"getOnlineUsers",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,"getOnlineUsers"),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,"whereNow",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,"whereNow"),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,"getUserChannels",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,"getUserChannels"),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,"setState",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,"setState"),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,"getState",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,"getState"),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,"removeState",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,"removeState"),_class$4.prototype),_class$4);class LockImpl extends EventBase{constructor(e,r,a,g,E,u,B){super(e,"LockImpl",!0),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"getMainSession",void 0),_defineProperty$1(this,"localAcquiredLocks",void 0),_defineProperty$1(this,"setOperationNoRes",new Set),_defineProperty$1(this,"removeOperationNoRes",new Set),_defineProperty$1(this,"acquireOperationNoRes",new Map),_defineProperty$1(this,"releaseOperationNoRes",new Set),_defineProperty$1(this,"revokeOperationNoRes",new Set),_defineProperty$1(this,"watchingLocks",new Set),_defineProperty$1(this,"getRtmLinkState",void 0),_defineProperty$1(this,"onLockWatching",f=>{const{prefixChannelName:m,lockName:y}=f;this.watchingLocks.add("".concat(m).concat(getPrefixLockName(y)))}),_defineProperty$1(this,"getConsoleConfig",void 0),_defineProperty$1(this,"validateRtmConnection",void 0),_defineProperty$1(this,"apiRateLimit",new ApiRateLimiter),this.context=r,this.getMainSession=genGetMainSession(a),this.getRtmLinkState=E,this.getConsoleConfig=g,this.validateRtmConnection=u,this.localAcquiredLocks=B}async setLock(e,r,a,g){const E=OperationName.setLock;this.apiRateLimit.canMakeOperation("setLock"),validateChannelType(E,r),this.validateRtmConnection(E),this.validateEnableLock(E);const u={timestamp:0,channelName:e,channelType:r,lockName:a};this.validateChannelAndLock(e,a,E),(g==null?void 0:g.ttl)!==void 0&&(g.ttl<getParameter("LOCK_TTL")?g.ttl=getParameter("LOCK_TTL"):g.ttl>MAX_LOCK_TTL&&(g.ttl=MAX_LOCK_TTL));const B=getChannelNameByType(e,r),f=getPrefixLockName(a);this.setOperationNoRes.has("".concat(B).concat(f))&&this.throwInvalidOperationError(E),this.setOperationNoRes.add("".concat(B).concat(f));try{var m;await this.getMainSession().getRegistrarSession().requestSetLock(B,a,{ttl:(m=g==null?void 0:g.ttl)!==null&&m!==void 0?m:getParameter("LOCK_TTL")}).toPromise()}catch(y){if(isRtmError(y)){if(this.logError(y),isNoLogged(y))throw y;if(isTimeout(y)){const{code:D,reason:M}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT);throw new RtmUnavailableError(E,[M],D)}if(y.code!=null){const{code:D,reason:M}=getErrorInfoByCode(y.code);throw new RtmUnavailableError(E,[M],D)}this.warn("error code is undefined, ".concat(y))}else this.warn("not rtm error, ".concat(y))}finally{this.setOperationNoRes.delete("".concat(B).concat(f))}return u}async removeLock(e,r,a){const g=OperationName.removeLock;this.apiRateLimit.canMakeOperation("removeLock"),validateChannelType(g,r),this.validateRtmConnection(g),this.validateEnableLock(g);const E={timestamp:0,channelName:e,channelType:r,lockName:a};this.validateChannelAndLock(e,a,g);const u=getChannelNameByType(e,r),B=getPrefixLockName(a);this.removeOperationNoRes.has("".concat(u).concat(B))&&this.throwInvalidOperationError(g),this.removeOperationNoRes.add("".concat(u).concat(B));try{await this.getMainSession().getRegistrarSession().requestRemoveLock(u,a).toPromise()}catch(f){if(isRtmError(f)){if(this.logError(f),isNoLogged(f))throw f;if(isTimeout(f)){const{code:m,reason:y}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT);throw new RtmUnavailableError(g,[y],m)}if(f.code!=null){const{code:m,reason:y}=getErrorInfoByCode(f.code);throw new RtmUnavailableError(g,[y],m)}this.warn("error code is undefined, ".concat(f))}else this.warn("not rtm error, ".concat(f))}finally{this.removeOperationNoRes.delete("".concat(u).concat(B))}return E}async acquireLock(e,r,a,g){var E,u;const B=OperationName.acquireLock;this.apiRateLimit.canMakeOperation("acquireLock"),validateChannelType(B,r),this.validateRtmConnection(B),this.validateEnableLock(B),this.validateChannelAndLock(e,a,B);const f=getChannelNameByType(e,r),m=getPrefixLockName(a);if(!((E=this.localAcquiredLocks.get(f))===null||E===void 0)&&E.get(a)){const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_PERFORMING);throw new RtmUnavailableError(B,[U],O)}let y,D;this.acquireOperationNoRes.has("".concat(f).concat(m))&&this.throwInvalidOperationError(B),this.acquireOperationNoRes.set("".concat(f).concat(m),(u=g==null?void 0:g.retry)!==null&&u!==void 0&&u);const M=new Promise((O,U)=>{y=U,D=O});try{await this.getMainSession().getRegistrarSession().requestAcquireLock(f,a,{retry:g==null?void 0:g.retry,checkTimeout:this.getRtmLinkState()!=="CONNECTED",reject:y,resolve:D}).toPromise(),D({lockName:a,channelName:e,channelType:r,timestamp:0})}catch(O){if(this.logError(O),isRtmError(O))throw O;this.warn("acquireLock not match rtm error, ".concat(O))}finally{this.clearLockCacheForAcquire(f,m,g==null?void 0:g.retry)}return M}clearLockCacheForAcquire(e,r,a){this.acquireOperationNoRes.delete("".concat(e).concat(r)),a&&this.watchingLocks.delete("".concat(e).concat(r))}async releaseLock(e,r,a){var g;const E=OperationName.releaseLock;this.apiRateLimit.canMakeOperation("releaseLock"),validateChannelType(E,r),this.validateRtmConnection(E),this.validateEnableLock(E);const u={timestamp:0,channelName:e,channelType:r,lockName:a};this.validateChannelAndLock(e,a,E);const B=getChannelNameByType(e,r),f=getPrefixLockName(a);if(!(this.watchingLocks.has("".concat(B).concat(f))||(g=this.localAcquiredLocks.get(B))!==null&&g!==void 0&&g.get(a))){const{code:m,reason:y}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_ACQUIRED);throw new RtmUnavailableError(E,[y],m)}this.releaseOperationNoRes.has("".concat(B).concat(f))&&this.throwInvalidOperationError(E),this.releaseOperationNoRes.add("".concat(B).concat(f));try{await this.getMainSession().getRegistrarSession().requestReleaseLock(B,a).toPromise()}catch(m){if(isRtmError(m)){if(this.logError(m),isNoLogged(m))throw m;if(isTimeout(m)){const{code:y,reason:D}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT);throw new RtmUnavailableError(E,[D],y)}if(m.code!=null){const{code:y,reason:D}=getErrorInfoByCode(m.code);throw new RtmUnavailableError(E,[D],y)}this.warn("error code is undefined, ".concat(m))}else this.warn("not rtm error, ".concat(m))}finally{this.releaseOperationNoRes.delete("".concat(B).concat(f))}return u}async revokeLock(e,r,a,g){const E=OperationName.revokeLock;this.apiRateLimit.canMakeOperation("revokeLock"),validateChannelType(E,r),this.validateRtmConnection(E),this.validateEnableLock(E);const u={timestamp:0,channelName:e,channelType:r,lockName:a};this.validateChannelAndLock(e,a,E),this.validateName(g,"owner",E);const B=getChannelNameByType(e,r),f=getPrefixLockName(a);this.revokeOperationNoRes.has("".concat(B).concat(f))&&this.throwInvalidOperationError(E),this.revokeOperationNoRes.add("".concat(B).concat(f));try{await this.getMainSession().getRegistrarSession().requestDisableLock(B,a,g).toPromise()}catch(m){if(isRtmError(m)){if(this.logError(m),isNoLogged(m))throw m;if(isTimeout(m)){const{code:y,reason:D}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT);throw new RtmUnavailableError(E,[D],y)}if(m.code!=null){const{code:y,reason:D}=getErrorInfoByCode(m.code);throw new RtmUnavailableError(E,[D],y)}this.warn("error code is undefined, ".concat(m))}else this.warn("not rtm error, ".concat(m))}finally{this.revokeOperationNoRes.delete("".concat(B).concat(f))}return u}async getLock(e,r){const a=OperationName.getLock;this.apiRateLimit.canMakeOperation("getLock"),validateChannelType(a,r),this.validateRtmConnection(a),this.validateEnableLock(a);const g={timestamp:0,totalLocks:0,lockDetails:[],channelName:e,channelType:r};this.validateName(e,"channelName",a);const E=getChannelNameByType(e,r);try{const u=this.getMainSession().getRegistrarSession().requestGetLock(E),B=await u.toPromise();g.totalLocks=B.length,g.lockDetails=B.map(f=>{var m,y,D,M;let O=null;try{f!=null&&f.lockState&&(O=JSON.parse(f.lockState))}catch(U){this.warn("parse lockState error, ".concat(U))}return{lockName:(m=f.lockName)!==null&&m!==void 0?m:"",ttl:(y=O)===null||y===void 0?void 0:y.create_ttl,owner:(D=(M=O)===null||M===void 0?void 0:M.user)!==null&&D!==void 0?D:""}})}catch(u){if(isRtmError(u)){if(this.logError(u),isNoLogged(u))throw u;if(isTimeout(u)){const{code:B,reason:f}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT);throw new RtmUnavailableError(a,[f],B)}if(u.code!=null){const{code:B,reason:f}=getErrorInfoByCode(u.code);throw new RtmUnavailableError(a,[f],B)}this.warn("error code is undefined, ".concat(u))}else this.warn("not rtm error, ".concat(u))}return g}validateName(e,r,a){if(!isValidId(e)){const g=r==="lockName"?RTMErrorCode.RTM_ERROR_LOCK_INVALID_NAME:r==="channelName"?RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME:RTMErrorCode.RTM_ERROR_INVALID_USER_ID,{code:E,reason:u}=getErrorInfoByCode(g);throw new RtmInvalidArgumentError(a,[u],E)}}validateChannelAndLock(e,r,a){if(this.validateName(e,"channelName",a),this.validateName(r,"lockName",a),!isValidId(r)||(r==null?void 0:r.length)>64){const{code:g,reason:E}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_INVALID_NAME);throw new RtmInvalidArgumentError(a,[E],g)}}throwInvalidOperationError(e){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_PERFORMING);throw new RtmUnavailableError(e,[a],r)}validateEnableLock(e){const r=getParameter("LOCK_ENABLED");if((r!==void 0?String(r):this.getConsoleConfig()["lock.enabled"])!=="true"){const{code:a,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE);throw new RtmUnavailableError(e,[g],a)}}}var _class$3;let Lock=(_class$3=class extends EventBase{constructor(n,e,r,a,g,E,u){super(n,"Lock",!0),_defineProperty$1(this,"lockImpl",void 0),this.lockImpl=new LockImpl(n,e,r,a,g,E,u)}async setLock(n,e,r,a){return await this.lockImpl.setLock(n,e,r,a)}async removeLock(n,e,r){return await this.lockImpl.removeLock(n,e,r)}async acquireLock(n,e,r,a){return await this.lockImpl.acquireLock(n,e,r,a)}async releaseLock(n,e,r){return await this.lockImpl.releaseLock(n,e,r)}async revokeLock(n,e,r,a){return await this.lockImpl.revokeLock(n,e,r,a)}async getLock(n,e){return await this.lockImpl.getLock(n,e)}},_applyDecoratedDescriptor(_class$3.prototype,"setLock",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,"setLock"),_class$3.prototype),_applyDecoratedDescriptor(_class$3.prototype,"removeLock",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,"removeLock"),_class$3.prototype),_applyDecoratedDescriptor(_class$3.prototype,"acquireLock",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,"acquireLock"),_class$3.prototype),_applyDecoratedDescriptor(_class$3.prototype,"releaseLock",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,"releaseLock"),_class$3.prototype),_applyDecoratedDescriptor(_class$3.prototype,"revokeLock",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,"revokeLock"),_class$3.prototype),_applyDecoratedDescriptor(_class$3.prototype,"getLock",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,"getLock"),_class$3.prototype),_class$3);class StorageImpl extends EventBase{constructor(e,r,a,g,E,u){super(e,"StorageImpl",!0),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"getMainSession",void 0),_defineProperty$1(this,"localAcquiredLocks",void 0),_defineProperty$1(this,"getConsoleConfig",void 0),_defineProperty$1(this,"validateRtmConnection",void 0),_defineProperty$1(this,"apiRateLimit",new ApiRateLimiter),this.context=r,this.getMainSession=genGetMainSession(a),this.getConsoleConfig=g,this.validateRtmConnection=E,this.localAcquiredLocks=u}async setChannelMetadata(e,r,a,g){var E;const u=OperationName.setChannelMetadata;this.apiRateLimit.canMakeOperation("channelMetaModify"),validateChannelType(u,r),this.validateRtmConnection(u),this.validateEnableStorage(u);const B={totalCount:0,timestamp:0,channelName:e,channelType:r};this.validateSessionExist(u);const f=getChannelNameByType(e,r);let m;if(isValidId(e)||this.throwInvalidArgumentError("channelName",u),g!=null&&g.lockName){var y,D;(!isValidId(g.lockName)||(g==null||(y=g.lockName)===null||y===void 0?void 0:y.length)>64)&&this.throwInvalidArgumentError("lockName",u);const F=(D=this.localAcquiredLocks.get(f))===null||D===void 0?void 0:D.get(g.lockName);F!=null&&F.revision||this.throwNotAcquiredError(g==null?void 0:g.lockName,e,u),m=F==null?void 0:F.revision}const M=new Map;a.forEach(F=>{var x;const H=new MetadataItem;H.setKey(F.key),H.setRevision((x=F.revision)!==null&&x!==void 0?x:-1),H.setValue(F.value),M.set(F.key,H)});const O=[];M.forEach(F=>{O.push(F)});const U=(E=g==null?void 0:g.majorRevision)!==null&&E!==void 0?E:-1;validMetaDataItem(u,{items:O,maxMetaDataCount:MAX_METADATA_COUNT,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:U,type:"Set"});try{await this.getMainSession().getRegistrarSession().requestSetChannelMetadata(O,{majorRevision:U,enableRecordTs:g==null?void 0:g.addTimeStamp,enableRecordUserId:g==null?void 0:g.addUserId},f,g==null?void 0:g.lockName,m).toPromise()}catch(F){if(isRtmError(F)){if(this.logError(F),isNoLogged(F))throw F;if(isTimeout(F)){const{code:x,reason:H}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(u,[H],x)}if(F.code!=null){const{code:x,reason:H}=getErrorInfoByCode(F.code);throw new RtmUnavailableError(u,[H],x)}this.warn("error code is undefined, ".concat(F))}else this.warn("not rtm error, ".concat(F))}return B}async getChannelMetadata(e,r){const a=OperationName.getChannelMetadata;this.apiRateLimit.canMakeOperation("channelMetaGet"),validateChannelType(a,r),this.validateRtmConnection(a),this.validateEnableStorage(a);const g={totalCount:0,majorRevision:0,metadata:{},timestamp:0,channelName:e,channelType:r};this.validateSessionExist(a),isValidId(e)||this.throwInvalidArgumentError("channelName",a);try{const E=this.getMainSession().getRegistrarSession().requestGetChannelMetadata(getChannelNameByType(e,r)),u=await E.pipe(map$1(B=>covertStateStringToMetaData(B))).toPromise();g.majorRevision=u.majorRevision,g.totalCount=u.items.length,u.items.forEach(B=>{var f;g.metadata[B.getKey()]={value:(f=B.getValue())!==null&&f!==void 0?f:"",revision:B.getRevision(),updated:B.getUpdateTs(),authorUid:B.getAuthorUserId()}})}catch(E){if(isRtmError(E)){if(this.logError(E),isNoLogged(E))throw E;if(isTimeout(E)){const{code:u,reason:B}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(a,[B],u)}if(E.code!=null){const{code:u,reason:B}=getErrorInfoByCode(E.code);throw new RtmUnavailableError(a,[B],u)}this.warn("error code is undefined, ".concat(E))}else this.warn("not rtm error, ".concat(E))}return g}async removeChannelMetadata(e,r,a){const g=OperationName.removeChannelMetadata;this.apiRateLimit.canMakeOperation("channelMetaModify"),validateChannelType(g,r),this.validateRtmConnection(g),this.validateEnableStorage(g);const E={totalCount:0,timestamp:0,channelName:e,channelType:r},u=getChannelNameByType(e,r);this.validateSessionExist(g),isValidId(e)||this.throwInvalidArgumentError("channelName",g);const B=a==null?void 0:a.data,f=!B||B.length===0,m=new Map;B==null||B.forEach(j=>{var ee,ne;if(new Blob([(ee=j.value)!==null&&ee!==void 0?ee:""]).size>RTM_METADATA_VALUE_MAX_LENGTH){const{code:ae,reason:he}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW);throw new RtmLimitExceededError(g,[he],ae)}const oe=new MetadataItem;oe.setKey(j.key),oe.setRevision((ne=j.revision)!==null&&ne!==void 0?ne:-1),m.set(j.key,oe)});const y=[];var D;m.forEach(j=>{y.push(j)}),f?a!=null&&a.majorRevision&&validMetaDataMajorRevisionForRemove(g,a.majorRevision):validMetaDataItem(g,{items:y,maxMetaDataCount:MAX_METADATA_COUNT,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:(D=a==null?void 0:a.majorRevision)!==null&&D!==void 0?D:-1,type:"Delete"});let M;if(a!=null&&a.lockName){var O,U,F;(!isValidId(a.lockName)||(a==null||(O=a.lockName)===null||O===void 0?void 0:O.length)>64)&&this.throwInvalidArgumentError("lockName",g);const j=(U=this.localAcquiredLocks.get(u))===null||U===void 0?void 0:U.get(a.lockName);j!=null&&j.revision||this.throwNotAcquiredError(a==null?void 0:a.lockName,e,g),M=(F=j==null?void 0:j.revision)!==null&&F!==void 0?F:void 0}try{var x,H;await(f?this.getMainSession().getRegistrarSession().requestClearChannelMetadata({majorRevision:(x=a==null?void 0:a.majorRevision)!==null&&x!==void 0?x:-1,enableRecordTs:a==null?void 0:a.addTimeStamp,enableRecordUserId:a==null?void 0:a.addUserId},u,a==null?void 0:a.lockName,M).toPromise():this.getMainSession().getRegistrarSession().requestDeleteChannelMetadata(y,{majorRevision:(H=a==null?void 0:a.majorRevision)!==null&&H!==void 0?H:-1,enableRecordTs:a==null?void 0:a.addTimeStamp,enableRecordUserId:a==null?void 0:a.addUserId},u,a==null?void 0:a.lockName,M).toPromise())}catch(j){if(isRtmError(j)){if(this.logError(j),isNoLogged(j))throw j;if(isTimeout(j)){const{code:ee,reason:ne}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(g,[ne],ee)}if(j.code!=null){const{code:ee,reason:ne}=getErrorInfoByCode(j.code);throw new RtmUnavailableError(g,[ne],ee)}this.warn("error code is undefined, ".concat(j))}else this.warn("not rtm error, ".concat(j))}return E}async updateChannelMetadata(e,r,a,g){var E;const u=OperationName.updateChannelMetadata;this.apiRateLimit.canMakeOperation("channelMetaModify"),validateChannelType(u,r),this.validateRtmConnection(u),this.validateEnableStorage(u);const B={timestamp:0,totalCount:0,channelName:e,channelType:r},f=getChannelNameByType(e,r);this.validateSessionExist(u),isValidId(e)||this.throwInvalidArgumentError("channelName",u);const m=new Map;a.forEach(x=>{var H;const j=new MetadataItem;j.setKey(x.key),j.setRevision((H=x.revision)!==null&&H!==void 0?H:-1),j.setValue(x.value),m.set(x.key,j)});const y=[];let D;if(m.forEach(x=>{y.push(x)}),validMetaDataItem(u,{items:y,maxMetaDataCount:MAX_METADATA_COUNT,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:(E=g==null?void 0:g.majorRevision)!==null&&E!==void 0?E:-1,type:"Update"}),g!=null&&g.lockName){var M,O,U;(!isValidId(g.lockName)||(g==null||(M=g.lockName)===null||M===void 0?void 0:M.length)>64)&&this.throwInvalidArgumentError("lockName",u);const x=(O=this.localAcquiredLocks.get(f))===null||O===void 0?void 0:O.get(g.lockName);x!=null&&x.revision||this.throwNotAcquiredError(g==null?void 0:g.lockName,e,u),D=(U=x==null?void 0:x.revision)!==null&&U!==void 0?U:void 0}try{var F;await this.getMainSession().getRegistrarSession().requestUpdateChannelMetadata(y,{majorRevision:(F=g==null?void 0:g.majorRevision)!==null&&F!==void 0?F:-1,enableRecordTs:g==null?void 0:g.addTimeStamp,enableRecordUserId:g==null?void 0:g.addUserId},f,g==null?void 0:g.lockName,D).toPromise()}catch(x){if(isRtmError(x)){if(this.logError(x),isNoLogged(x))throw x;if(isTimeout(x)){const{code:H,reason:j}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(u,[j],H)}if(x.code!=null){const{code:H,reason:j}=getErrorInfoByCode(x.code);throw new RtmUnavailableError(u,[j],H)}this.warn("error code is undefined, ".concat(x))}else this.warn("not rtm error, ".concat(x))}return B}async setUserMetadata(e,r){var a;const g=OperationName.setUserMetadata;this.apiRateLimit.canMakeOperation("userMetaModify"),this.validateRtmConnection(g),this.validateEnableStorage(g);const E=r==null?void 0:r.userId,u={timestamp:0,totalCount:0,userId:E||this.context.uid};this.validateSessionExist(g),E&&!isValidId(E)&&this.throwInvalidArgumentError("userId",g);const B=new Map;e.forEach(y=>{var D;const M=new MetadataItem;M.setKey(y.key),M.setRevision((D=y.revision)!==null&&D!==void 0?D:-1),M.setValue(y.value),B.set(y.key,M)});const f=[];B.forEach(y=>{f.push(y)});const m=(a=r==null?void 0:r.majorRevision)!==null&&a!==void 0?a:-1;validMetaDataItem(g,{items:f,maxMetaDataCount:MAX_METADATA_COUNT,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:m,type:"Set"});try{await this.getMainSession().getRegistrarSession().requestSetLocalMetadata(f,{majorRevision:m,enableRecordTs:r==null?void 0:r.addTimeStamp,enableRecordUserId:r==null?void 0:r.addUserId},E).toPromise()}catch(y){if(isRtmError(y)){if(this.logError(y),isNoLogged(y))throw y;if(isTimeout(y)){const{code:D,reason:M}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(g,[M],D)}if(y.code!=null){const{code:D,reason:M}=getErrorInfoByCode(y.code);throw new RtmUnavailableError(g,[M],D)}this.warn("error code is undefined, ".concat(y))}else this.warn("not rtm error, ".concat(y))}return u}async getUserMetadata(e){const r=OperationName.getUserMetadata;this.apiRateLimit.canMakeOperation("userMetaGet"),this.validateRtmConnection(r),this.validateEnableStorage(r);const a=e==null?void 0:e.userId,g={timestamp:0,totalCount:0,majorRevision:0,metadata:{},userId:a||this.context.uid};this.validateSessionExist(r),a&&!isValidId(a)&&this.throwInvalidArgumentError("userId",r);try{const E=covertStateStringToMetaData(await this.getMainSession().getRegistrarSession().requestGetLocalMetaData(a||this.context.uid).toPromise());g.totalCount=E.items.length,g.majorRevision=E.majorRevision,E.items.forEach(u=>{var B;g.metadata[u.getKey()]={value:(B=u.getValue())!==null&&B!==void 0?B:"",revision:u.getRevision(),updated:u.getUpdateTs(),authorUid:u.getAuthorUserId()}})}catch(E){if(isRtmError(E)){if(this.logError(E),isNoLogged(E))throw E;if(isTimeout(E)){const{code:u,reason:B}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(r,[B],u)}if(E.code!=null){const{code:u,reason:B}=getErrorInfoByCode(E.code);throw new RtmUnavailableError(r,[B],u)}this.warn("error code is undefined, ".concat(E))}else this.warn("not rtm error, ".concat(E))}return g}async removeUserMetadata(e){const r=OperationName.removeUserMetadata;this.apiRateLimit.canMakeOperation("userMetaModify"),this.validateRtmConnection(r),this.validateEnableStorage(r);const a=e==null?void 0:e.userId,g={timestamp:0,totalCount:0,userId:a||this.context.uid};this.validateSessionExist(r),a&&!isValidId(a)&&this.throwInvalidArgumentError("userId",r);const E=e==null?void 0:e.data,u=!E||E.length===0,B=new Map;E==null||E.forEach(M=>{var O,U;if(new Blob([(O=M.value)!==null&&O!==void 0?O:""]).size>RTM_METADATA_VALUE_MAX_LENGTH){const{code:x,reason:H}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW);throw new RtmLimitExceededError(r,[H],x)}const F=new MetadataItem;F.setKey(M.key),F.setRevision((U=M.revision)!==null&&U!==void 0?U:-1),B.set(M.key,F)});const f=[];var m;B.forEach(M=>{f.push(M)}),u?e!=null&&e.majorRevision&&validMetaDataMajorRevisionForRemove(r,e.majorRevision):validMetaDataItem(r,{items:f,maxMetaDataCount:MAX_METADATA_COUNT,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:(m=e==null?void 0:e.majorRevision)!==null&&m!==void 0?m:-1,type:"Delete"});try{var y,D;await(u?this.getMainSession().getRegistrarSession().requestClearLocalMetadata({majorRevision:(y=e==null?void 0:e.majorRevision)!==null&&y!==void 0?y:-1,enableRecordTs:e==null?void 0:e.addTimeStamp,enableRecordUserId:e==null?void 0:e.addUserId},a).toPromise():this.getMainSession().getRegistrarSession().requestDeleteLocalMetadata(f,{majorRevision:(D=e==null?void 0:e.majorRevision)!==null&&D!==void 0?D:-1,enableRecordTs:e==null?void 0:e.addTimeStamp,enableRecordUserId:e==null?void 0:e.addUserId},a).toPromise())}catch(M){if(isRtmError(M)){if(this.logError(M),isNoLogged(M))throw M;if(isTimeout(M)){const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(r,[U],O)}if(M.code!=null){const{code:O,reason:U}=getErrorInfoByCode(M.code);throw new RtmUnavailableError(r,[U],O)}this.warn("error code is undefined, ".concat(M))}else this.warn("not rtm error, ".concat(M))}return g}async updateUserMetadata(e,r){var a;const g=OperationName.updateUserMetadata;this.apiRateLimit.canMakeOperation("userMetaModify"),this.validateRtmConnection(g),this.validateEnableStorage(g);const E=r==null?void 0:r.userId,u={timestamp:0,totalCount:0,userId:E||this.context.uid};this.validateSessionExist(g),E&&!isValidId(E)&&this.throwInvalidArgumentError("userId",g);const B=new Map;e==null||e.forEach(y=>{var D;const M=new MetadataItem;M.setKey(y.key),M.setRevision((D=y.revision)!==null&&D!==void 0?D:-1),M.setValue(y.value),B.set(y.key,M)});const f=[];B.forEach(y=>{f.push(y)}),validMetaDataItem(g,{items:f,maxMetaDataCount:MAX_METADATA_COUNT,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:(a=r==null?void 0:r.majorRevision)!==null&&a!==void 0?a:-1,type:"Update"});try{var m;await this.getMainSession().getRegistrarSession().requestUpdateLocalMetadata(f,{majorRevision:(m=r==null?void 0:r.majorRevision)!==null&&m!==void 0?m:-1,enableRecordTs:r==null?void 0:r.addTimeStamp,enableRecordUserId:r==null?void 0:r.addUserId},E).toPromise()}catch(y){if(isRtmError(y)){if(this.logError(y),isNoLogged(y))throw y;if(isTimeout(y)){const{code:D,reason:M}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(g,[M],D)}if(y.code!=null){const{code:D,reason:M}=getErrorInfoByCode(y.code);throw new RtmUnavailableError(g,[M],D)}this.warn("error code is undefined, ".concat(y))}else this.warn("not rtm error, ".concat(y))}return u}async subscribeUserMetadata(e){const r=OperationName.subscribeUserMetadata;this.apiRateLimit.canMakeOperation("userMetaSub"),this.validateRtmConnection(r),this.validateEnableStorage(r),this.validateEnableStorageSub(r);const a={timestamp:0,userId:e||this.context.uid};if(this.validateSessionExist(r),!isValidId(e)){const{code:g,reason:E}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID);throw new RtmInvalidArgumentError(r,[E],g)}if(e.split("").includes(".")){const{code:g,reason:E}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID);throw new RtmInvalidArgumentError(r,[E],g)}if(this.context.userMetadataSub.has(e))return a;if(this.context.userMetadataSub.size>=MAX_SUBSCRIPTION_USER){const{code:g,reason:E}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION);throw new RtmLimitExceededError(r,[E],g)}try{await this.getMainSession().getRegistrarSession().requestSubscribeUserMetadata(e,"NORMAL"),this.context.userMetadataSub.add(e)}catch(g){if(isRtmError(g)){if(this.logError(g),isNoLogged(g))throw g;if(g.code){const{code:E,reason:u}=getErrorInfoByCode(g.code);throw new RtmUnavailableError(r,[u],E)}this.warn("error code is undefined, ".concat(g))}else{if(isTimeout(g)){const{code:E,reason:u}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw this.getMainSession().getRegistrarSession().emit("unSubUserMetadata",e),new RtmUnavailableError(r,[u],E)}this.warn("".concat(r," occurs error not of rtm, ").concat(g))}}return a}async unsubscribeUserMetadata(e){const r=OperationName.unsubscribeUserMetadata;this.validateRtmConnection(r),this.validateEnableStorage(r);const a={timestamp:0,userId:e||this.context.uid};if(this.validateSessionExist(r),!isValidId(e)){const{code:g,reason:E}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID);throw new RtmInvalidArgumentError(r,[E],g)}if(e.split("").includes(".")){const{code:g,reason:E}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID);throw new RtmInvalidArgumentError(r,[E],g)}if(!this.context.userMetadataSub.has(e)){const{code:g,reason:E}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_NOT_SUBSCRIBE);throw new RtmInvalidStatusError(r,[E],g)}try{this.getMainSession().getRegistrarSession().requestUnsubscribeUserMetadata(e),this.context.userMetadataSub.delete(e)}catch(g){if(isRtmError(g))throw g}return a}throwNotAcquiredError(e,r,a){const{code:g,reason:E}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED);throw new RtmUnavailableError(a,[E],g)}throwInvalidArgumentError(e,r){const{code:a,reason:g}=getErrorInfoByCode(e==="userId"?RTMErrorCode.RTM_ERROR_INVALID_USER_ID:e==="channelName"?RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME:RTMErrorCode.RTM_ERROR_STORAGE_INVALID_LOCK_NAME);throw new RtmInvalidArgumentError(r,[g],a)}validateSessionExist(e){if(this.getMainSession()===void 0){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(e,[a],r)}}validateEnableStorage(e){const r=getParameter("STORAGE_ENABLED");if((r!==void 0?String(r):this.getConsoleConfig()["storage.enabled"])!=="true"){const{code:a,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_NOT_AVAILABLE);throw new RtmUnavailableError(e,[g],a)}}validateEnableStorageSub(e){const r=getParameter("STORAGE_USER_SUB_ENABLED");if((r!==void 0?String(r):this.getConsoleConfig()["storage.user_subscribe_enabled"])!=="true"){const{code:a,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE);throw new RtmUnavailableError(e,[g],a)}}}var _class$2;let RStorage=(_class$2=class extends EventBase{constructor(n,e,r,a,g,E){super(n,"Storage",!0),_defineProperty$1(this,"storageImpl",void 0),this.storageImpl=new StorageImpl(n,e,r,a,g,E)}async setChannelMetadata(n,e,r,a){return await this.storageImpl.setChannelMetadata(n,e,r,a)}async getChannelMetadata(n,e){return await this.storageImpl.getChannelMetadata(n,e)}async removeChannelMetadata(n,e,r){return await this.storageImpl.removeChannelMetadata(n,e,r)}async updateChannelMetadata(n,e,r,a){return await this.storageImpl.updateChannelMetadata(n,e,r,a)}async setUserMetadata(n,e){return await this.storageImpl.setUserMetadata(n,e)}async getUserMetadata(n){return await this.storageImpl.getUserMetadata(n)}async removeUserMetadata(n){return await this.storageImpl.removeUserMetadata(n)}async updateUserMetadata(n,e){return await this.storageImpl.updateUserMetadata(n,e)}async subscribeUserMetadata(n){return await this.storageImpl.subscribeUserMetadata(n)}async unsubscribeUserMetadata(n){return await this.storageImpl.unsubscribeUserMetadata(n)}},_applyDecoratedDescriptor(_class$2.prototype,"setChannelMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"setChannelMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"getChannelMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"getChannelMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"removeChannelMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"removeChannelMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"updateChannelMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"updateChannelMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"setUserMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"setUserMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"getUserMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"getUserMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"removeUserMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"removeUserMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"updateUserMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"updateUserMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"subscribeUserMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"subscribeUserMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"unsubscribeUserMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"unsubscribeUserMetadata"),_class$2.prototype),_class$2);class HistoryImpl extends EventBase{constructor(e,r,a,g,E){super(e,"HistoryImpl",!0),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"getConsoleConfig",void 0),_defineProperty$1(this,"getMainSession",void 0),_defineProperty$1(this,"validateRtmConnection",void 0),_defineProperty$1(this,"apiRateLimit",new ApiRateLimiter),this.context=r,this.getMainSession=genGetMainSession(a),this.getConsoleConfig=g,this.validateRtmConnection=E}async getMessages(e,r,a){var g,E,u,B;const f=OperationName.getMessages;if(this.apiRateLimit.canMakeOperation("getMessages"),validateHistoryChannelType(f,r),this.validateRtmConnection(f),this.validateEnableHistory(f),!isValidId(e)){this.warn("invalid channel name, ".concat(e));const{code:x,reason:H}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME);throw new RtmInvalidArgumentError(f,[H],x)}if(r==="USER"&&e!==this.context.uid){this.warn("operation not permit");const{code:x,reason:H}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_NOT_PERMITTED);throw new RtmInvalidArgumentError(f,[H],x)}const m=(g=a==null?void 0:a.start)!==null&&g!==void 0?g:0,y=(E=a==null?void 0:a.end)!==null&&E!==void 0?E:0;if(m>0&&y>0&&(m<=y||m-y>GET_MESSAGE_TIME_LIMIT)){this.warn("invalid start or end timestamp}");const{code:x,reason:H}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_INVALID_TIMESTAMP);throw new RtmInvalidArgumentError(f,[H],x)}const D=(u=getParameter("HISTORY_MSG_COUNT_LIMIT"))!==null&&u!==void 0?u:GET_MESSAGE_MAX_COUNT;let M=(B=a==null?void 0:a.messageCount)!==null&&B!==void 0?B:D;(M===0||M>D)&&(M=D);try{var O,U,F;const x=this.getMainSession().getRegistrarSession().requestGetMessages({channelName:e,channelType:r,count:M,startTime:m,endTime:y}),H=await x.toPromise();return{messageList:(O=H.messageList)!==null&&O!==void 0?O:[],count:(U=(F=H.messageList)===null||F===void 0?void 0:F.length)!==null&&U!==void 0?U:0,newStart:H.newStart,timestamp:0}}catch(x){if(isRtmError(x)){if(this.logError(x),isNoLogged(x))throw x;if(isTimeout(x)){const{code:H,reason:j}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_TIMEOUT);throw new RtmUnavailableError(f,[j],H)}if(x.code!=null){const{code:H,reason:j}=getErrorInfoByCode(x.code);throw new RtmUnavailableError(f,[j],H)}this.warn("error code is undefined, ".concat(x))}else this.warn("not rtm error, ".concat(x))}return{timestamp:0,messageList:[],count:0,newStart:0}}validateEnableHistory(e){if(this.getConsoleConfig()["history.enabled"]!=="true"){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_NOT_AVAILABLE);throw new RtmUnavailableError(e,[a],r)}}}var _class$1;let History=(_class$1=class extends EventBase{constructor(n,e,r,a,g){super(n,"History",!0),_defineProperty$1(this,"historyImpl",void 0),this.historyImpl=new HistoryImpl(n,e,r,a,g)}async getMessages(n,e,r){return await this.historyImpl.getMessages(n,e,r)}},_applyDecoratedDescriptor(_class$1.prototype,"getMessages",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$1.prototype,"getMessages"),_class$1.prototype),_class$1);var name="agora-rtm",exports$1={".":{require:"./dist/bundle.umd.js",import:"./dist/bundle.mjs",types:"./dist/types/index.d.ts"}},version="2.2.1",description="JavaScript SDK for Agora RTM",keywords=["agora","rtm","real-time-messaging","sdk","javascript","signaling","stream","messaging"],homepage="https://bitbucket.agoralab.co/projects/WEBRTC/repos/rtm.js",bugs={url:"https://agora-ticket.agora.io",email:"support@agora.io"},license="Apache",author="Agora Lab.",main="dist/bundle.umd.js",types="dist/types/index.d.ts",directories={lib:"src"},repository={type:"git",url:"git+ssh://git@git.agoralab.co/webrtc/rtm.js.git"},scripts={postinstall:"touch ./.env && node --experimental-import-meta-resolve ./scripts/patch.mjs","proto-gen":"npm run proto-gen:js && npm run proto-gen:ts","proto-gen:js":"pbjs -t static-module --no-create --no-decode --no-verify --no-service --no-convert --force-long --no-delimited -w es6 -o ./src/lib/compiled_proto/report.js ./src/third_party/report.proto && pbjs -t static-module --no-delimited --no-convert --no-verify --no-service --no-create --force-long -w es6 -o ./src/lib/compiled_proto/gateway.js ./src/third_party/gateway.proto && pbjs -t static-module --no-delimited --no-convert --no-verify --no-service --no-create --force-long -w es6 -o ./src/lib/compiled_proto/metadata.js ./src/third_party/metadata.proto","proto-gen:ts":"pbts --main --out ./src/lib/compiled_proto/report.d.ts ./src/lib/compiled_proto/report.js && pbts --main --out ./src/lib/compiled_proto/gateway.d.ts ./src/lib/compiled_proto/gateway.js && pbts --main --out ./src/lib/compiled_proto/metadata.d.ts ./src/lib/compiled_proto/metadata.js","build:types":"run-s dts:tsc dts:gen","dts:tsc":"tsc -p ./tsconfig.json","dts:gen":"rollup -c ./rollup.types.config.mjs",dev:"FUSION=false NODE_ENV=development rollup -c rollup.config.mjs -w","dev-fusion":"FUSION=true NODE_ENV=development rollup -c rollup.config.mjs -w",build:'NODE_OPTIONS="--max-old-space-size=8192" npm run build:web && NODE_OPTIONS="--max-old-space-size=8192" npm run build:cdn',"build:web":'cross-env GIT_COMMIT=$(git describe --tags --long --match "v*" --dirty) npx cross-env NODE_ENV=production npx rollup -c rollup.config.mjs',"build:cdn":'cross-env GIT_COMMIT=$(git describe --tags --long --match "v*" --dirty) npx cross-env NODE_ENV=production npx rollup -c rollup.config.web.mjs',prepublishOnly:"FUSION=false npm run build && npm run build:types && node ./prepublish.js",prepublishOnlyOversea:"cross-env FUSION=false OVERSEA=true npm run build && npm run build:types && cross-env OVERSEA=true node ./prepublish.js",prepublishOnlyFusion:"cross-env FUSION=true npm run build && npm run build:types && cross-env FUSION=true node ./prepublish.js",beautify:"concurrently -P 'npm:lint:*' -- --fix",lint:"npx eslint src/  --format codeframe",wb:"wb"},config={scripts:{commit:"npx git-cz"}},dependencies={"@thi.ng/cache":"^1.0.70","cross-env":"^7.0.3",debug:"^4.3.4",events:"^3.2.0","format-util":"^1.0.5",gud:"^1.0.0","is-mobile":"^3.1.1","is-what":"^3.14.1",lodash:"^4.17.21",long:"^4.0.0",neverthrow:"^5.0.1","node-forge":"^1.3.1",protobufjs:"^7.2.6",rxjs:"^6.6.3","rxjs-etc":"^10.6.0","rxjs-websockets":"^8.0.1","safe-json-stringify":"^1.2.0",uuid:"^3.4.0","agora-rtc-sdk-ng":"4.22.0"},devDependencies={"@ampproject/rollup-plugin-closure-compiler":"^0.27.0","@babel/core":"^7.23.7","@babel/eslint-parser":"^7.23.3","@babel/plugin-proposal-class-properties":"^7.13.0","@babel/plugin-proposal-decorators":"^7.13.5","@babel/plugin-syntax-import-attributes":"^7.23.3","@babel/plugin-transform-for-of":"^7.13.0","@babel/preset-env":"^7.13.5","@babel/preset-typescript":"^7.13.0","@rollup/plugin-babel":"^6.0.4","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-replace":"^5.0.5","@rollup/plugin-terser":"^0.4.4","@types/long":"^4.0.2","@types/node":"^14.18.63","@typescript-eslint/eslint-plugin":"^6.19.0","@typescript-eslint/parser":"^6.19.0","agora-rte-extension":"^1.2.3","babel-plugin-annotate-pure-calls":"^0.4.0","babel-plugin-const-enum":"1.0.1","babel-plugin-istanbul":"^6.0.0","babel-plugin-polyfill-corejs3":"^0.2.4","babel-plugin-polyfill-regenerator":"^0.2.2",concurrently:"^7.4.0","core-js":"^3.9.0","cross-zip":"^4.0.0",decomment:"^0.9.3","dotenv-extended":"^2.9.0",eslint:"^8.56.0","eslint-config-airbnb-typescript":"^17.1.0","eslint-formatter-codeframe":"^7.32.1","eslint-plugin-eslint-comments":"^3.2.0","eslint-plugin-import":"^2.29.1","eslint-plugin-prettier":"^5.1.3","eslint-plugin-simple-import-sort":"^10.0.0","fs-extra":"^9.1.0",jsdom:"^20.0.1",nodemon:"^2.0.22","npm-run-all":"^4.1.5",prettier:"3.2.3","protobufjs-cli":"~1.1.2","regenerator-runtime":"^0.14.0",rollup:"^4.9.2","rollup-plugin-dts":"^6.1.0","strict-event-emitter-types":"^2.0.0",touch:"^3.1.0",typedoc:"^0.23.0",typescript:"^5.3.3","utility-types":"^3.10.0","white-brand-cli":"^1.2.3"},optionalDependencies={"@fast-csv/parse":"^4.3.6","@types/debug":"4.1.5","@types/format-util":"^1.0.1","@types/google-closure-compiler":"^0.0.18","@types/lodash":"^4.14.168","@types/node-forge":"^1.3.1","@types/pako":"^1.0.1","@types/safe-json-stringify":"^1.1.2","@types/uuid":"^3.4.9","browserslist-useragent":"^3.0.3","rollup-plugin-livereload":"^2.0.0","rollup-plugin-serve":"^1.1.0","rollup-plugin-visualizer":"^5.12.0","typedoc-plugin-no-inherit":"^1.2.0"},pkg={name,exports:exports$1,version,description,keywords,homepage,bugs,license,author,main,types,directories,repository,scripts,config,dependencies,devDependencies,optionalDependencies};const configKey2PrivateParamKey={DECOUPLE_SYNC:"DECOUPLE_SYNC"},QUERY_INTERVAL=3e5,LOCAL_STORAGE_KEY="_agora_rtm_custom_config",defaultConfig$1={"_store log_rtm_only #173724":'["A",{"rtm.log.encrypt_log":false}]',"_store web_rtm_decoupled_sync #203228":'["A",{"DECOUPLE_SYNC":false}]',"_store two_rtm #108239":'["A",{"rtm.decouple_sync":true}]',"_store log_rtm #106907":'["A",{"rtc.log_encryption":false,"rtc.log_encryption_mode":0,"rtc.log_encryption_salt":""}]'};function getDeviceInfo(n){let e="Unknown",r="Unknown";return n.includes("Chrome")?e="Chrome":n.includes("Firefox")?e="Firefox":n.includes("Safari")&&!n.includes("Chrome")?e="Safari":n.includes("Edge")?e="Edge":(n.includes("Opera")||n.includes("OPR"))&&(e="Opera"),n.includes("Windows NT")?r="Windows":n.includes("Mac OS X")?r="Mac OS":n.includes("Android")?r="Android":n.includes("iPhone")||n.includes("iPad")?r="iOS":n.includes("Linux")&&(r="Linux"),{deviceName:e,osName:r}}class CustomConfig{constructor(e,r){var a;_defineProperty$1(this,"_appid",""),_defineProperty$1(this,"_sid",""),_defineProperty$1(this,"_timer",null),_defineProperty$1(this,"_device",""),_defineProperty$1(this,"_system",""),_defineProperty$1(this,"_systemGeneral",""),this._appid=e,this._sid=(a=r==null?void 0:r.sid)!==null&&a!==void 0?a:"",this._systemGeneral=navigator.userAgent;const{deviceName:g,osName:E}=getDeviceInfo(this._systemGeneral);this._device=g,this._system=E}init(e){this._sid=e;const r=this._getStorageConfig();if(r)for(const a in r)this._updateSdkConfig(a,r[a]);this._start()}stop(){this._timer&&(clearInterval(this._timer),this._timer=null)}async _query(){let e=defaultConfig$1??{};try{const r=await postWithAbortSignal("https://ap-web-1.agora.io/api/v1",{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"54","Content-Type":"application/json"},body:{flag:64,cipher_method:0,features:{device:this._device,system:this._system,system_general:navigator.userAgent,vendor:this._appid,version:pkg.version,install_id:this._sid,session_id:this._sid,detail:""}}}),a=JSON.parse(r.responseText),{code:g,test_tags:E}=a;if(g!==0)return;e=E;for(const u in e)if(u.includes("web_rtm")){const[B,f]=JSON.parse(e[u]),m=this._getStorageConfig()||{};for(const y in f)Object.hasOwn(configKey2PrivateParamKey,y)&&(m[y]=f[y]);this._setStorageConfig(m)}}catch{}}async _start(){await this._query(),this._timer=setInterval(async()=>{await this._query()},QUERY_INTERVAL)}_getStorageConfig(){var e;const r=localStorage.getItem(LOCAL_STORAGE_KEY);return((e=JSON.parse(r??JSON.stringify({})))===null||e===void 0?void 0:e[this._appid])||null}_setStorageConfig(e){var r;const a=this._getStorageConfig()||{},g=JSON.parse((r=localStorage.getItem(LOCAL_STORAGE_KEY))!==null&&r!==void 0?r:"{}");g[this._appid]=_objectSpread2(_objectSpread2({},a),e),localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(g))}_updateSdkConfig(e,r){getParameter(configKey2PrivateParamKey[e])!==r&&setParameter(configKey2PrivateParamKey[e],r)}}var _exec,_window;const chromeVersion=(_exec=/Chrome\/([0-9.]+)/.exec((_window=window)===null||_window===void 0||(_window=_window.navigator)===null||_window===void 0?void 0:_window.userAgent))===null||_exec===void 0||(_exec=_exec[1])===null||_exec===void 0?void 0:_exec.split(".")[0];if(chromeVersion&&parseInt(chromeVersion,10)>=88&&!isMobile$1()){var _hiddenCanvas$getCont;const n=document.createElement("video"),e=document.createElement("canvas");n.setAttribute("style","display:none"),n.setAttribute("muted",""),n.muted=!0,n.setAttribute("autoplay",""),n.autoplay=!0,n.setAttribute("playsinline",""),e.setAttribute("style","display:none"),e.setAttribute("width","1"),e.setAttribute("height","1"),(_hiddenCanvas$getCont=e.getContext("2d"))===null||_hiddenCanvas$getCont===void 0||_hiddenCanvas$getCont.fillRect(0,0,1,1),n.srcObject=e==null?void 0:e.captureStream()}const connectionStateCodeMap={DISCONNECTED:1,CONNECTING:2,CONNECTED:3,RECONNECTING:4,FAILED:5},connectionStateChangeReason={CONNECTING:0,LOGIN_SUCCESS:10001,REJECTED_BY_SERVER:10,LOST:16,INTERRUPTED:2,LOGOUT:10002,SAME_UID_LOGIN:8,TOKEN_EXPIRED:9,PRESENCE_NOT_READY:10},LogFilter={LOG_FILTER_NONE:{error:!1,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_ERROR:{error:!0,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_WARN:{error:!0,warn:!0,info:!1,track:!1,debug:!1},LOG_FILTER_INFO:{error:!0,warn:!0,info:!0,track:!1,debug:!1},LOG_FILTER_DEBUG:{error:!0,warn:!0,info:!0,track:!0,debug:!0}},updateLogLevel=(n,e)=>{switch(n){case"debug":e.logFilter=LogFilter.LOG_FILTER_DEBUG;break;case"info":e.logFilter=LogFilter.LOG_FILTER_INFO;break;case"warn":e.logFilter=LogFilter.LOG_FILTER_WARN;break;case"none":e.logFilter=LogFilter.LOG_FILTER_NONE;break;default:e.logFilter=LogFilter.LOG_FILTER_ERROR}},updateWasmLogLevel=n=>{},defaultConsoleConfig={"-":0,app_key:"",region:"CN",enabled:String(getParameter("RTM2_ENABLED")),"presence.occupancy":String(K_DEFAULT_INTERVAL_THRESHOLD),"presence.interval":String(K_PRESENCE_INTERVAL_DEFAULT),"presence.debounce":String(K_DEBOUNCE_DEFAULT),"storage.enabled":String(!0),"storage.channel_subscribe_enabled":String(!0),"storage.user_subscribe_enabled":String(!0),"lock.enabled":String(!0),"history.enabled":String(!0)};class RTMImpl extends EventBase{constructor(e,r,a,g,E,u){var B,f;super(e,"RTMImpl",!0),_defineProperty$1(this,"userId",void 0),_defineProperty$1(this,"appId",void 0),_defineProperty$1(this,"processId",void 0),_defineProperty$1(this,"streamChannelList",[]),_defineProperty$1(this,"stChannelInstances",[]),_defineProperty$1(this,"token",void 0),_defineProperty$1(this,"cipherKey",void 0),_defineProperty$1(this,"cloudProxy",void 0),_defineProperty$1(this,"presenceTimeout",getParameter("PRESENCE_TIMEOUT")),_defineProperty$1(this,"presence",void 0),_defineProperty$1(this,"storage",void 0),_defineProperty$1(this,"lock",void 0),_defineProperty$1(this,"history",void 0),_defineProperty$1(this,"encryptionMode",void 0),_defineProperty$1(this,"salt",void 0),_defineProperty$1(this,"key",""),_defineProperty$1(this,"iv",""),_defineProperty$1(this,"keyLength",0),_defineProperty$1(this,"initEncryption",!1),_defineProperty$1(this,"useStringUserId",void 0),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"mainSession",void 0),_defineProperty$1(this,"loginPromise",void 0),_defineProperty$1(this,"lastLoginTime",void 0),_defineProperty$1(this,"connectionState","DISCONNECTED"),_defineProperty$1(this,"linkState","IDLE"),_defineProperty$1(this,"linkTimer",null),_defineProperty$1(this,"suspendedTimer",null),_defineProperty$1(this,"joinCheckTimer",null),_defineProperty$1(this,"suspended",!1),_defineProperty$1(this,"blacklistedIP",{}),_defineProperty$1(this,"reconnId",0),_defineProperty$1(this,"attributeDrafts",new Set),_defineProperty$1(this,"internalEmitter",new EventEmitter$1),_defineProperty$1(this,"localAcquiredLocks",new Map),_defineProperty$1(this,"consoleConfig",defaultConsoleConfig),_defineProperty$1(this,"channelMetadataSub",new Set),_defineProperty$1(this,"localStateCache",new Map),_defineProperty$1(this,"logLevel",void 0),_defineProperty$1(this,"apiRateLimit",new ApiRateLimiter),_defineProperty$1(this,"_lastOptions",void 0),_defineProperty$1(this,"_lastChannelMetaEventInfos",new Map),_defineProperty$1(this,"_lastUserMetaEventInfos",new Map),_defineProperty$1(this,"_createCollInterval",null),_defineProperty$1(this,"_customConfig",void 0),_defineProperty$1(this,"TokenPrivilegeWillExpireHandler",()=>{this.emit("tokenPrivilegeWillExpire","")}),_defineProperty$1(this,"userDropHandler",async F=>{if(this.connectionState==="FAILED")return;let x="INTERRUPTED",H=LinkStateChangeReasonDescription.UNKNOWN,j="UNKNOWN";switch(F){case 2:this.logError("Server banned because of token is expired, ticket expired."),x="TOKEN_EXPIRED",H=LinkStateChangeReasonDescription.TOKEN_EXPIRED,j="TOKEN_EXPIRED";break;case 11:this.logError("Kicked off by remote session"),x="SAME_UID_LOGIN",H=LinkStateChangeReasonDescription.SAME_UID_LOGIN,j="SAME_UID_LOGIN";break;case 10019:this.logError("Kicked off by authorization"),x="TOKEN_EXPIRED",H=LinkStateChangeReasonDescription.TOKEN_EXPIRED,j="TOKEN_EXPIRED";break;default:this.logError("User kicked off for unknown code: ".concat(F))}this.updateLinkState("FAILED","SERVER_REJECT",this.getUsedMessageChannelIds(),j,H),this.onConnectionStateChanged("FAILED",x)}),_defineProperty$1(this,"userMetaDataUpdatedHandler",F=>{var x,H,j,ee,ne;let{uid:oe,data:ae}=F;if(((x=(H=this.mainSession)===null||H===void 0?void 0:H.getRegistrarSession().userMetaEventInfos.get(oe))!==null&&x!==void 0?x:-1)>=ae.majorRevision||!this.context.userMetadataSub.has(oe))return void this.log("user(".concat(replaceRangeWithAsterisk(oe),") meta not changed or not subscribed, ignore."));const he={};ae.items.map(Se=>{var ge;he[Se==null?void 0:Se.getKey()]={value:(ge=Se.getValue())!==null&&ge!==void 0?ge:"",revision:Se.getRevision(),updated:Se.getUpdateTs(),authorUid:Se.getAuthorUserId()}});const fe={totalCount:ae==null||(j=ae.items)===null||j===void 0?void 0:j.length,majorRevision:ae==null?void 0:ae.majorRevision,metadata:he};let Le="UPDATE";(ee=this.mainSession)!==null&&ee!==void 0&&ee.getRegistrarSession().userMetaEventInfos.has(oe)||(Le="SNAPSHOT");const He={channelType:"USER",channelName:"",publisher:oe,storageType:"USER",data:fe,eventType:Le,timestamp:getUTCTimeBaseREG(this.context.offsetTime)};(ne=this.mainSession)===null||ne===void 0||ne.getRegistrarSession().userMetaEventInfos.set(oe,ae.majorRevision),this.emit("storage",He)}),_defineProperty$1(this,"onChannelTextMessage",F=>{let{memberId:x,text:H,channelId:j,customType:ee,channelType:ne}=F;const oe={channelName:j,channelType:ne,topicName:"",message:H,publisher:x,messageType:"STRING",customType:ee,timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emit("message",oe)}),_defineProperty$1(this,"onChannelRawMessage",F=>{let{raw:x,memberId:H,channelId:j,customType:ee,channelType:ne}=F;const oe={channelName:j,channelType:ne,topicName:"",message:x,publisher:H,messageType:"BINARY",customType:ee,timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emit("message",oe)}),_defineProperty$1(this,"onChannelMetaDataUpdated",F=>{var x,H,j,ee,ne;let{channelId:oe,data:ae}=F;if(((x=(H=this.mainSession)===null||H===void 0?void 0:H.getRegistrarSession().channelMetaEventInfos.get(oe))!==null&&x!==void 0?x:-1)>=ae.majorRevision||!this.channelMetadataSub.has(oe))return void this.log("channel(".concat(oe,") meta not changed or not subscribed, ignore."));const{channelName:he,channelType:fe}=getChannelDetailByName(oe),Le={};ae.items.map(Ye=>{var q;Le[Ye==null?void 0:Ye.getKey()]={value:(q=Ye.getValue())!==null&&q!==void 0?q:"",revision:Ye.getRevision(),updated:Ye.getUpdateTs(),authorUid:Ye.getAuthorUserId()}});const He={totalCount:ae==null||(j=ae.items)===null||j===void 0?void 0:j.length,majorRevision:ae==null?void 0:ae.majorRevision,metadata:Le};let Se="UPDATE";(ee=this.mainSession)!==null&&ee!==void 0&&ee.getRegistrarSession().channelMetaEventInfos.has(oe)||(Se="SNAPSHOT");const ge={channelType:fe,channelName:he,publisher:"",storageType:"CHANNEL",data:He,eventType:Se,timestamp:getUTCTimeBaseREG(this.context.offsetTime)};(ne=this.mainSession)===null||ne===void 0||ne.getRegistrarSession().channelMetaEventInfos.set(oe,ae.majorRevision),this.emit("storage",ge)}),_defineProperty$1(this,"onChannelLockEvent",F=>{var x,H;const{channelName:j,channelType:ee}=F,ne=getChannelNameByType(j,ee);(x=(H=this.mainSession)===null||H===void 0||(H=H.lastSubscribeOrJoinOptions.get(ne))===null||H===void 0?void 0:H.withLock)!==null&&x!==void 0&&x&&this.emit("lock",F)}),_defineProperty$1(this,"emitLockExpired",F=>{var x;const H=getChannelNameByType(F.channelName,F.channelType);(x=this.localAcquiredLocks.get(H))!==null&&x!==void 0&&x.get(F.lockName)&&(this.emit("lock",_objectSpread2(_objectSpread2({},F),{},{ttl:0})),this.updateLocalAcquiredLocksCache(H,F==null?void 0:F.lockName,"delete"))}),_defineProperty$1(this,"onLogout",()=>{var F,x,H;const j=OperationName.logout;this.validateMainSessionExist(j);try{this.clearChannel(this.getUsedChannelIds())}catch{}(F=this.mainSession)===null||F===void 0||F.getRegistrarSession().removeListener("channelTextMessage",this.onChannelTextMessage),(x=this.mainSession)===null||x===void 0||x.getRegistrarSession().removeListener("channelRawMessage",this.onChannelRawMessage),(H=this.mainSession)===null||H===void 0||H.getRegistrarSession().removeListener("channelMetaDataUpdated",this.onChannelMetaDataUpdated),this.internalEmitter.removeListener("LOGOUT",this.onLogout)});const m=OperationName.initRTM;if(!isValidAppId(a)){const{code:F,reason:x}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_APP_ID),H=new RtmUnavailableError(m,[x],F);throw this.logError(H),H}if(!isValidId(g)){const{code:F,reason:x}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID),H=new RtmUnavailableError(m,[x],F);throw this.logError(H),H}if(u!=null&&u.logLevel&&updateLogLevel(u.logLevel,E),this.logLevel=(B=u==null?void 0:u.logLevel)!==null&&B!==void 0?B:"error",this.appId=a,this.userId=g,this.processId=r,this.setMaxListeners(512),this.internalEmitter.setMaxListeners(512),typeof(u==null?void 0:u.presenceTimeout)=="number"){let F=u.presenceTimeout;u.presenceTimeout>K_PRESENCE_TIMEOUT_MAX?F=K_PRESENCE_TIMEOUT_MAX:u.presenceTimeout<K_PRESENCE_TIMEOUT_MIN&&(F=K_PRESENCE_TIMEOUT_MIN),this.presenceTimeout=F}if((u==null?void 0:u.encryptionMode)==="AES_128_GCM"||(u==null?void 0:u.encryptionMode)==="AES_256_GCM"){var y,D;const F="detail: ";let x=F;if((u==null?void 0:u.cipherKey)===void 0)x+="not provide cipherKey but set encryptionMode.";else if(u.salt&&(u==null||(y=u.salt)===null||y===void 0?void 0:y.byteLength)>0&&(u==null||(D=u.salt)===null||D===void 0?void 0:D.byteLength)>SALT_LENGTH)x+="salt should be ".concat(SALT_LENGTH," bytes");else if(x===F){var M;this.keyLength=u.encryptionMode==="AES_128_GCM"?16:32;const H=new Uint8Array(SALT_LENGTH);H.set((M=u.salt)!==null&&M!==void 0?M:new Uint8Array([])),this.salt=H,this.cipherKey=u==null?void 0:u.cipherKey,this.encryptionMode=u.encryptionMode;try{const j=util$6.createBuffer(this.salt),ee=pkcs5$1(this.cipherKey,j.getBytes(j.length()),KEY_ITERATIONS_COUNT,IV_LENGTH+this.keyLength,"sha256");this.key=ee,this.iv=ee.slice(-IV_LENGTH),ee?(this.initEncryption=!0,this.log("initialize crypto key success.")):this.warn("generate crypto key failure using pbkdf2.")}catch(j){const{code:ee,reason:ne}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER),oe=new RtmUnavailableError(m,[ne+j],ee);throw this.logError(oe),oe}}if(x.length>F.length){const{code:H,reason:j}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER),ee=new RtmUnavailableError(m,[j+x],H);throw this.logError(ee),ee}}if((u==null?void 0:u.useStringUserId)===!1){if(!isUintString(g)){const{code:F,reason:x}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID),H=new RtmInvalidArgumentError(m,[x],F);throw this.logError(H),H}this.useStringUserId=!1}else this.useStringUserId=!0;window.addEventListener("offline",()=>{this.warn("network-state-change: ONLINE -> OFFLINE")}),window.addEventListener("online",()=>{var F;this.log("network-state-change: OFFLINE -> ONLINE"),(F=this.mainSession)===null||F===void 0||F.notifyNetworkChange(!0)});const O=this.handlePrivateConfig(m,u),U=!O&&(f=E.cloudProxy)!==null&&f!==void 0&&f;u!=null&&u.privateConfig&&u.cloudProxy&&this._throwInvalidPrivateConfig(m," Use private config, not permit cloudProxy"),O&&areaConfig&&this._throwInvalidPrivateConfig(m," Use private config, not permit setArea"),this.context=new Context(a,g,_objectSpread2(_objectSpread2({},E),{},{cloudProxy:U}),e,{useStringUserId:this.useStringUserId,presenceTimeout:this.presenceTimeout,logLevel:this.logLevel,heartbeatInterval:u==null?void 0:u.heartbeatInterval,privateConfig:O?u==null?void 0:u.privateConfig:void 0},this!=null&&this.initEncryption?{key:this.key,iv:this.iv,keyLength:this.keyLength,initEncryption:this.initEncryption}:void 0),this.lock=new Lock(e,this.context,()=>this.mainSession,()=>this.consoleConfig,()=>this.linkState,this.validateRtmConnection.bind(this),this.localAcquiredLocks),this.presence=new Presence(e,this.context,()=>this.mainSession,()=>this.linkState,()=>this.localStateCache),this.storage=new RStorage(e,this.context,()=>this.mainSession,()=>this.consoleConfig,this.validateRtmConnection.bind(this),this.localAcquiredLocks),this.history=new History(e,this.context,()=>this.mainSession,()=>this.consoleConfig,this.validateRtmConnection.bind(this)),this.log("rtm use private config: %s, enable cloud proxy: %s",O,U),this._customConfig=new CustomConfig(this.appId)}async renewToken(e,r){var a;const g=OperationName.renewToken;this.apiRateLimit.canMakeOperation("renewToken"),this.validateRtmConnection(g),validateToken(e,this.appId,g,O=>{this.warn(O)});const E={timestamp:0};this.context.addReportEvents("RenewToken",{sid:this.context.sid,userId:this.context.uid,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),cname:(a=r==null?void 0:r.channelName)!==null&&a!==void 0?a:"",token:e});let u=0;try{if(r==null||!r.channelName){var B,f,m;if(typeof e!="string"||e.length===0){const{code:x,reason:H}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmInvalidArgumentError(g,[H],x)}if(!["CONNECTED","RECONNECTING"].includes(this.connectionState)||this.linkState!=="CONNECTED"){const{code:x,reason:H}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmInvalidStatusError(g,[H],x)}if(this.validateMainSessionExist(g),e===this.context.token)return{timestamp:0};try{var y=this.context.token;this.context.token=e;var[{ticket:D}]=await Promise.all([this.mainSession.getRegistrarSession().connection.apClient.getApEdgeInfo$(!1).pipe(throwIfEmpty(()=>new Error("No available edge address to connect")),retryWhen(x=>x.pipe(tap(H=>{if(isRtmError(H))throw H}),delay(2500),take(4))),take(1),timeout(COMMON_REQUEST_TIMEOUT),catchError(x=>(isTimeout(x)&&this.warn("renewToken timed out"),throwError(x)))).toPromise()])}catch(x){if(this.context.token=y,isTimeout(x)){const{code:H,reason:j}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT);throw new RtmTimeoutError(g,[j],H)}{const{code:H,reason:j}=getErrorInfoByCode(x.code);throw new RtmUnauthenticatedError(g,[j],H)}}const O=(B=this.mainSession)===null||B===void 0?void 0:B.getRegistrarSession(),U=await O.requestUpdateEdgeTicket(D).toPromise();if(U.code!==0){const{code:x,reason:H}=getErrorInfoByCode(U.code);throw new RtmUnavailableError(g,[H],x)}O.curLoginSockets.filter(x=>x!==void 0).forEach(x=>x.ticket=D);const F=atob(D);return(f=this.mainSession)===null||f===void 0||f.getRegistrarSession().emit("syncTicketUpdated",{ticket:F,vid:this.context.vid}),await((m=this.mainSession)===null||m===void 0?void 0:m.getPresenceSession().renewKey(F)),E}if(!isValidId(r.channelName)){const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME);throw new RtmInvalidArgumentError(g,[U],O)}if(!this.streamChannelList.some(O=>O===r.channelName)){this.warn("renewToken: channel(".concat(r.channelName,") not join."));const{code:O,reason:U}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME);throw new RtmInvalidArgumentError(g,[U],O)}try{const O=this.stChannelInstances.find(U=>U.channelName===r.channelName);return await(O==null?void 0:O.renewStreamChannelToken(e)),E}catch(O){throw O}}catch(O){const{serverCode:U,errorCode:F}=O;throw u=U??F,O}finally{var M;this.context.addReportEvents("RenewTokenRes",{lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(getParameter("VID").get(this.context.appId)||"0"),sid:this.context.sid,userId:this.context.uid,elapse:getElapse(this.context.startTime),cname:(M=r==null?void 0:r.channelName)!==null&&M!==void 0?M:"",token:e,apErrCode:u,regErrCode:u})}}async updateConfig(e){for(let r=0,a=getKeys(e);r<a.length;r++){const g=a[r];if(g==="logLevel"){e.logLevel&&(updateWasmLogLevel(e.logLevel),updateLogLevel(e.logLevel,this.context.config));continue}const E=e[g];E!=null&&(e.cloudProxy&&this.info("RTM cloud proxy enabled"),e.logUpload&&this.info("Log upload enabled"),this.context.config[g]=E)}return{timestamp:0}}async login(e){var r,a,g;const E=this.linkState==="FAILED";E&&this.cacheCrdtState();const u=Array.from((r=(a=this._lastOptions)===null||a===void 0?void 0:a.keys())!==null&&r!==void 0?r:[]),B=new Map;u.forEach(he=>{var fe,Le;(fe=this._lastOptions)!==null&&fe!==void 0&&fe.has(he)&&B.set(he,(Le=this._lastOptions)===null||Le===void 0?void 0:Le.get(he))});const f=[],m=OperationName.login;this.token=e==null?void 0:e.token;let y=this.token;if(this.linkState==="CONNECTING"){const{code:he,reason:fe}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_DUPLICATE_OPERATION);throw new RtmUnavailableError(m,[fe],he)}const D=this.context.instanceId===null,M=(g=this.context.instanceId)!==null&&g!==void 0?g:getRandomUInt64();if(this.context.instanceId=M,this.context.sid=getSid(M),this.linkState==="IDLE"&&this.updateLinkState("CONNECTING","LOGIN",[],"LOGIN",LinkStateChangeReasonDescription.LOGIN),["FAILED","SUSPENDED","DISCONNECTED"].includes(this.linkState)&&this.updateLinkState("CONNECTING","LOGIN",[],"RELOGIN",LinkStateChangeReasonDescription.RELOGIN),this.connectionState==="CONNECTED")return{timestamp:0};try{if(this.context.rtmConfig.privateConfig&&!this.context.rtmConfig.privateConfig.serviceType.includes("MESSAGE")){const{code:he,reason:fe}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED);throw new RtmUnavailableError(m,[fe],he)}if(this.apiRateLimit.canMakeOperation("login"),this.token&&validateToken(this.token,this.appId,m,he=>{this.warn(he)}),this.connectionState!=="DISCONNECTED"&&this.connectionState!=="FAILED")return{timestamp:0};if(!isValidId(this.userId)){const{code:he,reason:fe}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID);throw new RtmInvalidArgumentError(m,[fe],he)}if(this.token===this.context.appId&&(y=void 0),typeof y=="string"&&y)this.context.token=y;else if(typeof y!="string"&&!isNil$1(y)){const{code:he,reason:fe}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmInvalidArgumentError(m,[fe],he)}this.context.enablePrivate&&areaConfig&&this._throwInvalidPrivateConfig(m," Use private config, not permit setArea")}catch(he){const{errorCode:fe}=he;throw this._handleLoginFailedState(fe),he}const O={timestamp:0};if(this.linkState==="CONNECTED")return O;this.internalEmitter.once("LOGOUT",this.onLogout),changeBusyStatus(!0),this.info("RTM Client logging in as ".concat(replaceRangeWithAsterisk(this.userId))),D&&this.context.sendReport("Session",{appId:this.context.appId,did:navigator.userAgent,elapse:getElapse(this.mainSession&&this.mainSession.getRegistrarSession().startTime),index:{index1:this.userId,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},installId:this.processId,lts:Long$2.fromNumber(Date.now()),os:WEB_PLATFORM_TYPE,sid:getSid(M),token:y||"",userId:this.userId,ver:VERSION,buildno:100*VERSION_NO+SUBVERSION,subVersion:SUBVERSION,version:VERSION_NO}),this._customConfig.init(this.context.sid);const U=Date.now();this.loginPromise=this.loginImpl({uid:this.userId,instanceId:M});try{var F,x;await this.loginPromise,this.checkVid(),this.onConnectionStateChanged("CONNECTED","LOGIN_SUCCESS"),this.context.addReportEvents("LoginResult",{lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(getParameter("VID").get(this.context.appId)||"0"),sid:this.context.sid,code:(F=this.mainSession)!==null&&F!==void 0&&(F=F.getPresenceSession())!==null&&F!==void 0&&F.getSyncConnected()?0:RTMErrorCode.RTM_ERROR_PRESENCE_NOT_CONNECTED,elapse:getElapse((x=this.mainSession)===null||x===void 0?void 0:x.getRegistrarSession().startTime),userId:this.context.uid}),this.updateLinkState("CONNECTED","LOGIN",[...f],"LOGIN_SUCCESS",LinkStateChangeReasonDescription.LOGIN_SUCCESS);try{if(E){var H,j,ee,ne;((H=(j=this._lastChannelMetaEventInfos)===null||j===void 0?void 0:j.size)!==null&&H!==void 0?H:0)>0&&this.mainSession&&(this.mainSession.getRegistrarSession().channelMetaEventInfos=new Map(this._lastChannelMetaEventInfos)),((ee=(ne=this._lastUserMetaEventInfos)===null||ne===void 0?void 0:ne.size)!==null&&ee!==void 0?ee:0)>0&&this.mainSession&&(this.mainSession.getRegistrarSession().userMetaEventInfos=new Map(this._lastUserMetaEventInfos)),(await Promise.all([...u==null?void 0:u.map(fe=>{const{channelName:Le,channelType:He}=getChannelDetailByName(fe),Se=B.get(fe);return Se&&He==="MESSAGE"?this.subscribe(Le,Se,!0):Se&&He==="STREAM"?(ge=this.stChannelInstances.find(Ye=>Ye.channelName===Le))===null||ge===void 0||(ge=ge._streamChannelImpl)===null||ge===void 0?void 0:ge.subscribe(Se,!0):[];var ge}),this.reSubUserMetadata(),this.reSub()])).forEach((fe,Le)=>{Le>=u.length||fe instanceof RTMBaseError&&f.push(u[Le])}),this._lastOptions=void 0,this._lastChannelMetaEventInfos=void 0,this._lastUserMetaEventInfos=void 0}}catch(he){console.error("restore failed",he),this.logError("restore failed ".concat(JSON.stringify(he)))}return O}catch(he){var oe;if(isRtmError(he)&&((oe=this.mainSession)===null||oe===void 0||!oe.getRegistrarSession().connection.cancelLogin)){var ae;const{errorCode:fe}=he;this.context.addReportEvents("Link",{ackedServerIp:"",destServerIp:"",ec:he.code||1,sc:he.serverCode,elapse:getElapse(this.mainSession&&this.mainSession.getRegistrarSession().startTime),lts:Long$2.fromNumber(Date.now()),responseTime:Date.now()-U,sid:getSid(M),userId:this.userId,version:VERSION_NO,subVersion:SUBVERSION,connectionsequence:Long$2.fromNumber(0),linktype:4,linkflag:Long$2.fromNumber(0),linkenv:0}),((ae=this.mainSession)===null||ae===void 0||(ae=ae.getRegistrarSession().connection)===null||ae===void 0||!ae.cancelLogin)&&this._handleLoginFailedState(fe)}throw this.context.socketUseProxy=!1,he}finally{this.loginPromise=void 0,changeBusyStatus(!1),this.context.socketUseProxy&&this.log("port fallback to 443")}}async internalLogoutHandler(){let e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];try{await this.logoutVosWeb();try{await this.logoutSync(r)}catch(a){throw a}}catch(a){throw console.error("internalLogoutHandler error",a),a}finally{e&&this.logoutRegistrar(),this.clearEffectsOfLogout()}}clearEffectsOfLogout(){this.channelMetadataSub.clear(),this.localAcquiredLocks.clear(),this.context.userMetadataSub.clear(),this.clearLinkTimers(),this.context.instanceId=null,this.context.hasLoggedIn=!1,this.deleteIntervalCreateColl(),this.internalEmitter.emit("LOGOUT"),this.localStateCache.clear()}async logoutVosWeb(){await Promise.all(this.stChannelInstances.filter(e=>(this.log("channel(".concat(e.channelName,"), isJoinedChannel: ").concat(e.isJoinedChannel)),e.isJoinedChannel)).map(e=>(e.removeAllListeners(),e._streamChannelImpl.leave(!1))))}reportEvents(){var e,r;if(!this.context.couldReportEvent)return;triggerReport(this.context.vid,this.context.appId,this.context.cloudProxy,(e=this.context.rtmConfig.privateConfig)===null||e===void 0?void 0:e.eventUploadHosts,this.context.couldReportEvent,!0);const a=(r=this.mainSession)===null||r===void 0?void 0:r.getRegistrarSession().connection.apClient.reportIntervalId;a&&clearEventReportTimer(a)}async logout(){var e,r;const a={timestamp:0},g=(e=this.mainSession)===null||e===void 0?void 0:e.getRegistrarSession(),E=g==null?void 0:g.connection;if(this.linkState!=="CONNECTING"&&this.linkState!=="SUSPENDED"&&this.linkState!=="DISCONNECTED"||(this.warn("logout: cancel login"),E&&(E.cancelLogin=!0),g==null||g.emit("login-cancel"),g==null||g.loginSubject$.next(),E==null||E.apClient.apFinish$.next(),E==null||E.endLogin$.next()),this.connectionState==="DISCONNECTED"&&this.linkState==="IDLE")return this.warn("Already in logout state: ".concat(this.connectionState)),a;if(this.mainSession&&getParameter("VID").get(this.context.appId)&&this.context.addReportEvents("Logout",{elapse:getElapse((r=this.mainSession)===null||r===void 0?void 0:r.getRegistrarSession().startTime),lts:Long$2.fromNumber(Date.now()),sid:getSid(this.mainSession.getRegistrarSession().instanceId),userId:this.userId,version:VERSION_NO,subVersion:SUBVERSION,connectionsequence:Long$2.fromNumber(0),linktype:4,linkflag:Long$2.fromNumber(0),linkenv:0}),this._customConfig.stop(),this.connectionState==="FAILED"||this.linkState==="FAILED"){this.linkState==="FAILED"&&this.updateLinkState("IDLE","LOGOUT",[],"LOGOUT",LinkStateChangeReasonDescription.LOGOUT),this.connectionState==="FAILED"&&this.onConnectionStateChanged("DISCONNECTED","LOGOUT");try{await this.internalLogoutHandler(!1,!1)}catch(B){this.logError("logout failed when linkState is FAILED: ".concat(B))}return a}if(this.connectionState==="RECONNECTING"||this.linkState==="DISCONNECTED"||this.linkState==="SUSPENDED"||this.linkState==="CONNECTING"){var u;this.info('Reset connection state from "RECONNECTING" to "DISCONNECTED"');try{await this.internalLogoutHandler(!0,!1)}catch(B){this.logError("logout failed when RECONNECTING: ".concat(B))}return this.linkState!=="DISCONNECTED"&&this.linkState!=="SUSPENDED"&&this.linkState!=="CONNECTING"&&((u=this.mainSession)===null||u===void 0?void 0:u.getRegistrarSession().connection.cancelLogin)!==!0||(this.updateLinkState("IDLE","LOGOUT",this.getUsedMessageChannelIds(),"LOGOUT",LinkStateChangeReasonDescription.LOGOUT),E&&(E.cancelLogin=!1)),this.onConnectionStateChanged("DISCONNECTED","LOST"),a}return await this.logoutImpl(!0,!0),this.updateLinkState("IDLE","LOGOUT",this.getUsedMessageChannelIds(),"LOGOUT",LinkStateChangeReasonDescription.LOGOUT),a}async logoutImpl(){let e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];try{await this.internalLogoutHandler(e,r),this.log("logout success")}catch(a){this.logError("logout failed: ".concat(a))}finally{this.reportEvents(),this.onConnectionStateChanged("DISCONNECTED","LOGOUT")}}async logoutRegistrar(){const e=this.hasLock();return this.mainSession.getRegistrarSession().logoutHandler(e)}absent(e){var r,a,g;const{withPresence:E,beQuiet:u}=this.getLastSubOptions(e);E&&this.unSubPresence(e,!0),!E&&((r=this.mainSession)===null||r===void 0||r.getPresenceSession().unsubScribeSelfPresence(e)),!u&&((a=this.mainSession)===null||a===void 0||a.getPresenceSession().delChannelDoc(e)),this.leavePresenceColl(e),(g=this.mainSession)===null||g===void 0||g.getPresenceSession().leaveRetryChannels([e])}async logoutSync(){var e;let r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];await Promise.all(this.getUsedChannelIds().map(g=>(this.reportChannelLeave(g,0),this.absent(g))));const a=(e=this.mainSession)===null||e===void 0?void 0:e.getPresenceSession();r&&await(a==null?void 0:a.logoutHandler())}async publish(e,r,a){const g=OperationName.publish;if(this.apiRateLimit.canMakeOperation("publish"),a!=null&&a.channelType&&(a==null?void 0:a.channelType)!=="USER"&&(a==null?void 0:a.channelType)!=="MESSAGE"){const{code:U,reason:F}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_TYPE);throw new RtmInvalidArgumentError(g,[F],U)}if(this.validateRtmConnection(g),!isValidId(e)){const{code:U,reason:F}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME);throw new RtmInvalidArgumentError(g,[F],U)}if(validateMessageSize(r,g),a!=null&&a.customType&&validateCustomType(a==null?void 0:a.customType,g),a!=null&&a.storeInHistory&&this.consoleConfig["history.enabled"]!=="true"){const{code:U,reason:F}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_NOT_AVAILABLE);throw new RtmInvalidArgumentError(g,[F],U)}const E={timestamp:0,channelName:e},u=r instanceof Uint8Array?{rawMessage:r,messageType:"RAW"}:{text:r,messageType:"TEXT"},B=(a==null?void 0:a.channelType)==="USER";let f;if(f=B?u.messageType==="TEXT"?RtmMessageCategoryEnum.P2pSMsgNoOfflineFlag:RtmMessageCategoryEnum.P2pRMsgNoOfflineFlag:u.messageType==="TEXT"?RtmMessageCategoryEnum.ChannelSMsg:RtmMessageCategoryEnum.ChannelRMsg,validMessage(u,RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_MESSAGE),this.connectionState==="RECONNECTING"){const U=Date.now();return await new Promise((F,x)=>{let H;const j=async()=>{const ee=Date.now()-U;try{var ne;await commonSendMessage({message:u,peerId:e,session:(ne=this.mainSession)===null||ne===void 0?void 0:ne.getRegistrarSession(),diff:ee,customType:a==null?void 0:a.customType,storeInHistory:a==null?void 0:a.storeInHistory,toPeer:B}),F()}catch(Le){var oe,ae;const{code:He,reason:Se}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);var he,fe;isTimeout(Le)&&((he=this.mainSession)===null||he===void 0||he.getRegistrarSession().emit("messageCount",{messageCategory:f,type:"common",key:"sentcount"}),(fe=this.mainSession)===null||fe===void 0||fe.getRegistrarSession().emit("messageCount",{messageCategory:f,type:"common",key:"timeoutcount"}),x(new RtmTimeoutError(g,[Se],He))),isRtmError(Le)&&x(Le),(oe=this.mainSession)===null||oe===void 0||oe.getRegistrarSession().emit("messageCount",{messageCategory:f,type:"common",key:"sentcount"}),(ae=this.mainSession)===null||ae===void 0||ae.getRegistrarSession().emit("messageCount",{messageCategory:f,type:"common",key:"unknowerrorcount"}),x(new RtmUnavailableError(g,[Se],He))}finally{clearTimeout(H)}};this.internalEmitter.once("RECONNECTED",j),H=setTimeout(()=>{this.internalEmitter.off("RECONNECTED",j);const{code:ee,reason:ne}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);x(new RtmTimeoutError(g,[ne],ee))},9e3)}),E}try{var m;await commonSendMessage({message:u,peerId:e,session:(m=this.mainSession)===null||m===void 0?void 0:m.getRegistrarSession(),diff:0,customType:a==null?void 0:a.customType,storeInHistory:a==null?void 0:a.storeInHistory,toPeer:B})}catch(U){var y,D;if(isTimeout(U)){var M,O;(M=this.mainSession)===null||M===void 0||M.getRegistrarSession().emit("messageCount",{messageCategory:f,type:"common",key:"sentcount"}),(O=this.mainSession)===null||O===void 0||O.getRegistrarSession().emit("messageCount",{messageCategory:f,type:"common",key:"timeoutcount"});const{code:H,reason:j}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT);throw new RtmTimeoutError(g,[j],H)}if(isRtmError(U))throw U;(y=this.mainSession)===null||y===void 0||y.getRegistrarSession().emit("messageCount",{messageCategory:f,type:"common",key:"sentcount"}),(D=this.mainSession)===null||D===void 0||D.getRegistrarSession().emit("messageCount",{messageCategory:f,type:"common",key:"unknowerrorcount"});const{code:F,reason:x}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);throw new RtmUnknownError(g,[x],F)}return E}getLastSubOptions(e){var r,a;return(r=(a=this.mainSession)===null||a===void 0?void 0:a.lastSubscribeOrJoinOptions.get(e))!==null&&r!==void 0?r:{}}async subscribe(e,r){var a,g,E;let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const B=OperationName.subscribe;if(this.apiRateLimit.canMakeOperation("subscribe"),this.validateRtmConnection(B),this.validateMainSessionExist(B),this.linkState!=="CONNECTED"){const{code:fe,reason:Le}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmInvalidStatusError(B,[Le],fe)}if(!isValidId(e)){const{code:fe,reason:Le}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME);throw new RtmInvalidArgumentError(B,[Le],fe)}const f=!((a=this.mainSession)!==null&&a!==void 0&&a.lastSubscribeOrJoinOptions.has(e)),m=this.getUsedMessageChannelIds(),y=(g=getParameter("MESSAGE_CHANNEL_COUNT"))!==null&&g!==void 0?g:MAX_JOINED_CHANNELS;if(f&&(this.getUsedChannelIds().length>=y||m.length>=y)){const{code:fe,reason:Le}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION);throw new RtmLimitExceededError(B,[Le],fe)}this._validateJoinOptions(r,B);const D=handleSubOptionsAsDefault(r),M={timestamp:0,channelName:e},{currentResolve:O,currentReject:U}=await this.context.operationControl.awaitPromise(OperationName.subscribe+e),F=(E=this.mainSession)===null||E===void 0?void 0:E.getRegistrarSession(),x=getRandomInt(0,Number.MAX_SAFE_INTEGER);try{var H;const{withLock:fe,withMessage:Le,withMetadata:He,withPresence:Se,beQuiet:ge}=this.getLastSubOptions(e);if((H=this.mainSession)===null||H===void 0||H.reportChnJoin(e,D,x),D!=null&&D.withMessage&&!Le)try{await this.subMessage(e,B)}catch(ut){var j;throw F==null||F.emit("channelLeft",e),(j=this.mainSession)===null||j===void 0||j.lastSubscribeOrJoinOptions.delete(e),ut}const Ye=getParameter("STORAGE_CHANNEL_SUB_ENABLED"),q=D.withMetadata&&!He&&(Ye!==void 0?String(Ye):this.consoleConfig["storage.channel_subscribe_enabled"])==="true",me=D.withLock&&!fe,{code:Fe,reason:_t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED),Qt=(D==null?void 0:D.beQuiet)&&!ge&&!f,je=!(D!=null&&D.beQuiet)&&(f||ge),nt=(D==null?void 0:D.withPresence)&&!Se;try{var ee,ne;await Promise.all([D!=null&&D.withMessage||!Le?void 0:this.unSubMessage(e),q?this.subMetadata(e):void 0,D!=null&&D.withMetadata||!He?void 0:this.unSubMetadata(e),me?this.subLock(e):void 0,D!=null&&D.withLock||!fe?void 0:this.unSubLock(e),f?await((ee=this.mainSession)===null||ee===void 0?void 0:ee.getPresenceSession().joinPresenceColl(e,{withPresence:D.withPresence,needPutDoc:je,needDelDoc:Qt,needSub:nt,reJoinCauseReconnect:u})):(ne=this.mainSession)===null||ne===void 0?void 0:ne.getPresenceSession().onCreateCollection(e,{withPresence:D.withPresence,needPutDoc:je,needDelDoc:Qt,needSub:!1,reJoinCauseReconnect:u})])}catch(ut){throw new RtmUnknownError(B,[_t+ut],Fe)}var oe,ae,he;D!=null&&D.withPresence&&!Se&&Se!==void 0&&((oe=this.mainSession)===null||oe===void 0||oe.getPresenceSession().unsubScribeSelfPresence(e,!1),this.leavePresenceColl(e),await((ae=this.mainSession)===null||ae===void 0?void 0:ae.getPresenceSession().joinPresenceColl(e,{withPresence:!0,needPutDoc:je,needDelDoc:Qt,needSub:nt}))),(D==null||!D.withPresence)&&Se&&(this.unSubPresence(e),this.leavePresenceColl(e),await((he=this.mainSession)===null||he===void 0?void 0:he.getPresenceSession().joinPresenceColl(e,{withPresence:!1,needPutDoc:je,needDelDoc:Qt,needSub:nt})))}catch(fe){O(void 0);const{errorCode:Le,serverCode:He}=fe;throw F&&this.context.addReportEvents("ChnJoinRes",{cname:e,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(F.startTime),errCode:Le,sid:getSid(F==null?void 0:F.instanceId),serverErrCode:He??Le,userId:this.context.uid,seq:Long$2.fromNumber(x)}),fe}return F&&this.context.addReportEvents("ChnJoinRes",{cname:e,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(F.startTime),errCode:0,sid:getSid(F.instanceId),serverErrCode:0,userId:this.context.uid,seq:Long$2.fromNumber(x)}),O(void 0),M}async unsubscribe(e){var r;const a=OperationName.unsubscribe;if(this.validateRtmConnection(a),!isValidId(e)){const{code:F,reason:x}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME);throw new RtmInvalidArgumentError(a,[x],F)}const g={timestamp:0,channelName:e};this.validateMainSessionExist(a);const E=(r=this.mainSession)===null||r===void 0?void 0:r.lastSubscribeOrJoinOptions.has(e);if(!E)return g;const{withPresence:u,withLock:B,withMetadata:f,withMessage:m,beQuiet:y}=this.getLastSubOptions(e);try{var D,M,O;this.reportChannelLeave(e,0);const F=!y;await Promise.all([m?this.unSubMessage(e):void 0,f?this.unSubMetadata(e):void 0,B?this.unSubLock(e):void 0,u?this.unSubPresence(e,!0):(D=this.mainSession)===null||D===void 0?void 0:D.getPresenceSession().unsubScribeSelfPresence(e),F?(M=this.mainSession)===null||M===void 0?void 0:M.getPresenceSession().delChannelDoc(e):void 0]),E&&this.leavePresenceColl(e),this.localAcquiredLocks.delete(e),(O=this.mainSession)===null||O===void 0||O.lastSubscribeOrJoinOptions.delete(e)}catch(F){let x;const H=RTMErrorCode.RTM_ERROR_CHANNEL_LEAVE_FAILED;if(this.logError(F),isRtmError(F))(F==null?void 0:F.code)===void 0&&(F.code=RTMErrorCode.RTM_ERROR_CHANNEL_LEAVE_FAILED),x=F;else{const{code:j,reason:ee}=getErrorInfoByCode(H);x=new RtmUnknownError(a,[ee],j)}throw x}finally{var U;(U=this.mainSession)===null||U===void 0||U.getPresenceSession().leaveRetryChannels([e])}return g}async subMessage(e,r){try{this.log("Joining the channel %s",replaceRangeWithAsterisk(e)),await this.mainSession.getRegistrarSession().requestChannelJoin(e),this.info("The channel %s joined successfully",replaceRangeWithAsterisk(e))}catch(a){if(this.logError(a),isRtmError(a))throw a;const{code:g,reason:E}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED);throw new RtmUnknownError(r,[E],g)}}async unSubMessage(e){this.mainSession.getRegistrarSession().requestChannelLeave(e),this.clearChannel([e])}async subMetadata(e){try{var r;await((r=this.mainSession)===null||r===void 0?void 0:r.getRegistrarSession().requestSubscribeChannelMetadata(e,"JOIN")),this.channelMetadataSub.add(e)}catch(a){this.warn("sub channel metadata failure when sub channel(".concat(replaceRangeWithAsterisk(e),"), error is ").concat(a,"."))}}unSubMetadata(e){this.mainSession.getRegistrarSession().requestUnsubscribeChannelMetadata(e),this.channelMetadataSub.delete(e)}async subLock(e){try{var r;await((r=this.mainSession)===null||r===void 0?void 0:r.getRegistrarSession().requestSubscribeLock(e))}catch(a){this.warn("sub lock info failure when sub channel(".concat(replaceRangeWithAsterisk(e),"), error is ").concat(a,"."))}}unSubLock(e){const r=this.mainSession,a=r==null?void 0:r.getRegistrarSession();a==null||a.requestUnsubscribeLock(e)}leavePresenceColl(e){var r;(r=this.mainSession)===null||r===void 0||r.getPresenceSession().leave(e)}subPresence(e){var r;(r=this.mainSession)===null||r===void 0||r.getPresenceSession().subPresence(e)}unSubPresence(e){var r;let a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];(r=this.mainSession)===null||r===void 0||r.getPresenceSession().unSubPresence(e,a)}cacheStateAndDelDoc(e){var r;const a=(r=this.mainSession)===null||r===void 0?void 0:r.getPresenceSession();a==null||a.cacheStateAndDelDoc(e)}createStreamChannel(e){const r=OperationName.createStreamChannel;if(this.context.rtmConfig.privateConfig&&!this.context.rtmConfig.privateConfig.serviceType.includes("STREAM")){const{code:E,reason:u}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED);throw new RtmUnavailableError(r,[u],E)}if(!isValidId(e)){const{code:E,reason:u}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME);throw new RtmInvalidArgumentError(r,[u],E)}const a=this.stChannelInstances.find(E=>E.channelName===e);if(a)return this.log("channel already exists ".concat(replaceRangeWithAsterisk(e))),a;const g=new StreamChannel(this.context,this.logger,{channelName:e,appId:this.appId,userId:this.useStringUserId===!1?parseInt(this.userId):this.userId},this.emit,()=>this.streamChannelList,()=>this.consoleConfig,this.validateRtmConnection.bind(this),()=>this.linkState,()=>this.channelMetadataSub,()=>this.mainSession);return this.stChannelInstances.push(g),g.internalEmitter.on("stream-channel-joined",E=>{this.streamChannelList.push(E)}),g.internalEmitter.on("stream-channel-leaved",E=>{this.streamChannelList=this.streamChannelList.filter(u=>u!==E),this.localAcquiredLocks.delete(getChannelNameByType(E,"STREAM"))}),g}addEventListener(e,r){this.on(e,r)}removeEventListener(e,r){this.off(e,r)}clearLinkTimers(){this.suspended=!1,this.suspendedTimer&&clearTimeout(this.suspendedTimer),this.suspendedTimer=null,this.context.linkIntervals=[...LINK_INTERVALS],this.linkTimer&&clearTimeout(this.linkTimer),this.linkTimer=null,this.joinCheckTimer&&clearTimeout(this.joinCheckTimer),this.joinCheckTimer=null}async loginImpl(e){let{uid:r,instanceId:a,forceLoginTime:g=0}=e;const E=OperationName.login;let u=a;if(this.lastLoginTime!==void 0&&Date.now()-this.lastLoginTime<1e3/LOGIN_QPS_LIMIT&&g>0){const{code:m,reason:y}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_ABORTED);throw new RtmInvokeTooOftenError(E,[y],m)}try{this.context.uid=r}catch{const{code:y,reason:D}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID);throw new RtmInvalidArgumentError(E,[D],y)}g===0&&this.onConnectionStateChanged("CONNECTING","CONNECTING");const B=new MainSession(this.context,this.logger,u,()=>this.consoleConfig,()=>this.localStateCache,this.cacheCrdtState.bind(this),this!=null&&this.initEncryption?{key:this.key,iv:this.iv,keyLength:this.keyLength,initEncryption:this.initEncryption}:void 0);if(this.mainSession=B,g===0){const m=this.mainSession.getPresenceSession();m.on("doc-timeout",async y=>{await this.presenceReJoin(y)}),m.on("doc-deleted",async y=>{await this.presenceReJoin(y)}),m.on("presence",y=>{this.emit("presence",y)})}const f=B.getRegistrarSession();return f.on("connectionLost",()=>{this.connectionState!=="CONNECTED"&&this.linkState!=="CONNECTED"||(this.updateLinkState("DISCONNECTED","HEARTBEAT_TIMEOUT",this.getUsedMessageChannelIds(),"KEEP_ALIVE_TIMEOUT",LinkStateChangeReasonDescription.KEEP_ALIVE_TIMEOUT),this.onConnectionStateChanged("RECONNECTING","INTERRUPTED"),f.listenerCount("userJoined")===0&&f.on("userJoined",async()=>{this.log("received reconnected userJoined event"),this.linkState!=="CONNECTED"&&(await this.updateLinkState("CONNECTED","AUTO_RECONNECT",this.getUsedMessageChannelIds(),"RECONNECT_SUCCESS",LinkStateChangeReasonDescription.RECONNECT_SUCCESS,!this.suspended),this.onConnectionStateChanged("CONNECTED","LOGIN_SUCCESS"),this.clearLinkTimers())}),f==null||f.clearLockSnapshotLastTime())}),f.on("tokenExpired",async()=>{this.warn("reg session listen the token expired"),f.connection.apClient.apFinish$.next(void 0),f.connection.stopLogin(),this.userDropHandler(2)}),f.on("tokenPrivilegeWillExpire",this.TokenPrivilegeWillExpireHandler),f.once("userDrop",this.userDropHandler),f.on("instanceChanged",m=>u=m),f.on("banEdgeIP",m=>{this.banIP(m)}),f.on("userMetaDataUpdated",this.userMetaDataUpdatedHandler),f.on("channelTextMessage",this.onChannelTextMessage),f.on("channelRawMessage",this.onChannelRawMessage),f.on("channelMetaDataUpdated",this.onChannelMetaDataUpdated),f.on("channelLockEvent",this.onChannelLockEvent),f.on("lockWatching",this.lock.lockImpl.onLockWatching),f.on("lockExpired",this.emitLockExpired),f.on("acquireSuccess",m=>{let{prefixChannelName:y,lockName:D,revision:M}=m;this.updateLocalAcquiredLocksCache(y,D,"add",M)}),f.on("releaseSuccess",m=>{let{channelName:y,lockName:D}=m;this.updateLocalAcquiredLocksCache(y,D,"delete")}),f.on("appConfig",m=>{this.consoleConfig=m}),f.on("login-request",()=>{this.linkState!=="DISCONNECTED"&&this.linkState!=="SUSPENDED"||this.updateLinkState("CONNECTING","AUTO_RECONNECT",[],"AUTO_RECONNECT",LinkStateChangeReasonDescription.AUTO_RECONNECT)}),f.on("login-timeout",m=>{this.log("login - timeout"),this.suspended?this.updateLinkState("SUSPENDED","AUTO_RECONNECT",[],"RECONNECT_TIMEOUT",LinkStateChangeReasonDescription.RECONNECT_TIMEOUT):this.updateLinkState("DISCONNECTED","SERVER_TIMEOUT",[],m?"RECONNECT_TIMEOUT":"LOGIN_TIMEOUT",m?LinkStateChangeReasonDescription.RECONNECT_TIMEOUT:LinkStateChangeReasonDescription.LOGIN_TIMEOUT),isNil$1(this.suspendedTimer)&&(this.suspendedTimer=setTimeout(()=>{this.suspended=!0},115e3))}),f.on("net-change-abort-reconn",()=>{this.updateLinkState("DISCONNECTED","NETWORK_CHANGE",[],"NETWORK_CHANGE",LinkStateChangeReasonDescription.NETWORK_CHANGE)}),this.lastLoginTime=Date.now(),f.loginHandler().toPromise().then(()=>{this.context.hasLoggedIn=!0}).catch(m=>{if(m.name==="loginRespTimeout"&&g<2)return this.log("loginRespTimeout: internal re-login..."),f.removeAllListeners(),this.loginImpl({uid:r,instanceId:a,forceLoginTime:g+1});throw this.handleConnectionFailed("registrar",m)})}handleConnectionFailed(e,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:OperationName.login;if(this.log("Login failed when connecting ".concat(e)),this.connectionState!=="CONNECTING")return r;if(isTimeout(r)){this.onConnectionStateChanged("DISCONNECTED","LOST");const{code:u,reason:B}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT);throw new RtmTimeoutError(a,[B],u)}if((r==null?void 0:r.code)===RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED)throw this.onConnectionStateChanged("DISCONNECTED","TOKEN_EXPIRED"),r;if((r==null?void 0:r.code)===RTMErrorCode.RTM_ERROR_LOGIN_CANCELED||(this.onConnectionStateChanged("DISCONNECTED","REJECTED_BY_SERVER"),isRtmError(r)))throw r;const{code:g,reason:E}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_ABORTED);throw new RtmUnavailableError(a,[E],g)}getUsedChannelIds(){var e,r;const a=(e=this._lastOptions)!==null&&e!==void 0?e:(r=this.mainSession)===null||r===void 0?void 0:r.lastSubscribeOrJoinOptions,g=a==null?void 0:a.keys();return[...g??[]]}getUsedMessageChannelIds(){return this.getUsedChannelIds().filter(e=>!e.startsWith(K_STREAM_CHANNEL_PREFIX))}async presenceReJoin(e){this.log("Try rejoin channel(".concat(e,") when reconnected."));try{var r;const{beQuiet:E}=this.getLastSubOptions(e),u=(r=this.mainSession)===null||r===void 0?void 0:r.getPresenceSession();if((u==null?void 0:u.getColl(u.getChannelCollName(e)))===null){var a;this.log("presence coll destroyed already, need re create, channelId is ",e);const{withPresence:B}=this.getLastSubOptions(e);await((a=this.mainSession)===null||a===void 0?void 0:a.getPresenceSession().joinPresenceColl(e,{needPutDoc:!E,withPresence:B!=null&&B,needDelDoc:!1,needSub:!1,reJoinCauseReconnect:!0},!1))}var g;E||(this.log("presence coll exists, need restore doc and states, channelId is ",e),(g=this.mainSession)===null||g===void 0||g.getPresenceSession().putChannelDocAndSetState(e,!0))}catch(E){this.warn("resume presence failed",E)}}async reSub(){const e=this.getUsedChannelIds();e&&e.length>0&&e.forEach(r=>{const a=this.localAcquiredLocks.get(r)||new Map;this.lock.lockImpl.acquireOperationNoRes.forEach((g,E)=>{var u;const B=E.slice(r.length).slice(lock_prefix.length);this.log("Try reacquireLock(".concat(B," from notResp lock queue when reconnected, isRetry: ").concat(g,").")),(u=this.mainSession)===null||u===void 0||(u=u.getRegistrarSession())===null||u===void 0||u.requestAcquireLock(r,B,{retry:g}).toPromise().then(f=>{this.log("reacquireLock(".concat(B,") succeed that want to acquire with retry true before connection lost, code is ").concat(f,"."))}).catch(f=>{this.warn("reacquireLock(".concat(B,") failed, ret is ").concat(f==null?void 0:f.errorCode))}).finally(()=>{this.lock.lockImpl.clearLockCacheForAcquire(r,getPrefixLockName(B),g)})}),a&&a.forEach((g,E)=>{var u;this.log("Try reacquireLock(".concat(E,") when reconnected."));const B=()=>{var f;const{channelName:m,channelType:y}=getChannelDetailByName(r),D={channelType:y,channelName:m,eventType:"EXPIRED",lockName:E,ttl:0,publisher:"",snapshot:[],owner:"",timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emitLockExpired(D),(f=this.mainSession)===null||f===void 0||(f=f.getRegistrarSession())===null||f===void 0||f.requestReleaseLock(r,E).toPromise()};(u=this.mainSession)===null||u===void 0||(u=u.getRegistrarSession())===null||u===void 0||u.requestAcquireLock(r,E).toPromise().then(f=>{f.lockRev.toNumber()!==g.revision&&(this.log("newRev: ".concat(f.lockRev,", rev: ").concat(g.revision,", code: ").concat(f," for reacquire.")),B())}).catch(()=>{B()})})})}async reSubUserMetadata(){this.context.userMetadataSub.forEach(e=>{var r;(r=this.mainSession)===null||r===void 0||r.getRegistrarSession().requestSubscribeUserMetadata(e,"RECONNECTED")})}async onLinkReconnected(){await this.reSub(),this.internalEmitter.emit("RECONNECTED")}cacheCrdtState(){var e;const r=this.getUsedChannelIds(),a=(e=this.mainSession)===null||e===void 0?void 0:e.getPresenceSession();r.forEach(g=>{try{a==null||a.getStateAndSetByLocal(g)}catch(E){this.logError(E),E.code===RTMErrorCode.RTM_ERROR_PRESENCE_USER_NOT_EXIST&&this.localStateCache.delete(g)}})}onConnectionStateChanged(e,r){e==="RECONNECTING"&&(this.reconnId+=1),this.context.sendReport("ConnectionStateChange",{sid:getSid(this.context.instanceId||Long$2.fromNumber(0)),userId:this.context.uid,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.mainSession&&this.mainSession.getRegistrarSession().startTime),oldState:connectionStateCodeMap[this.connectionState],newState:connectionStateCodeMap[e],reason:connectionStateChangeReason[r],reconnId:this.reconnId,version:VERSION_NO,subVersion:SUBVERSION,lastdonestep:0,failedstep:0,errorcode:Long$2.fromNumber(0),servererrorcode:Long$2.fromNumber(0),networkchangesequence:Long$2.fromNumber(0),networkchangeelapse:Long$2.fromNumber(0),statechangeelapse:Long$2.fromNumber(0)}),this.connectionState=e,e!=="FAILED"&&e!=="DISCONNECTED"||(this.reconnId=0,this.mainSession&&(this.mainSession.getPresenceSession().removeAllListeners(),this.mainSession.getRegistrarSession().removeAllListeners(),this.mainSession.getRegistrarSession().msgDedupLru.empty(),this.mainSession.getRegistrarSession().dialogueSequenceLru.empty(),this.mainSession.getRegistrarSession().dialPendingMsgSubjectMap.clear()),this.attributeDrafts.clear());const a={state:e,reason:r,timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emit("status",a)}async updateLinkState(e,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],g=arguments.length>3?arguments[3]:void 0,E=arguments.length>4?arguments[4]:void 0,u=arguments.length>5&&arguments[5]!==void 0&&arguments[5];if(e==="CONNECTED"&&this.setIntervalCreateColl(),this.linkState===e)return;if(this.context.sendReport("LinkStateChange",{elapse:getElapse(this.mainSession&&this.mainSession.getRegistrarSession().startTime),lts:Long$2.fromNumber(Date.now()),reason:LinkStateChangeReason4Report[g],sid:getSid(this.context.instanceId||Long$2.fromNumber(0)),vid:Long$2.fromString(getParameter("VID").get(this.context.appId)||"0"),userid:this.context.uid,currentState:linkStateCodeMap[e],previousState:linkStateCodeMap[this.linkState],operation:linkOperationCodeMap[r],serviceType:0,streamChannelName:""}),this.linkState==="CONNECTED"&&e==="DISCONNECTED"&&this.log("link disconnected"),this.linkState==="CONNECTED"&&e==="FAILED"){var B,f,m,y,D;!this._lastOptions&&((B=(f=this.mainSession)===null||f===void 0||(f=f.lastSubscribeOrJoinOptions)===null||f===void 0?void 0:f.size)!==null&&B!==void 0?B:0)>0&&(this._lastOptions=new Map((D=this.mainSession)===null||D===void 0?void 0:D.lastSubscribeOrJoinOptions)),this._lastChannelMetaEventInfos=new Map((m=this.mainSession)===null||m===void 0?void 0:m.getRegistrarSession().channelMetaEventInfos),this._lastUserMetaEventInfos=new Map((y=this.mainSession)===null||y===void 0?void 0:y.getRegistrarSession().userMetaEventInfos)}this.linkState==="CONNECTING"&&e==="CONNECTED"&&r==="AUTO_RECONNECT"&&await this.onLinkReconnected();const M={currentState:e,previousState:this.linkState,serviceType:"MESSAGE",operation:r,reason:E??r,reasonCode:g,affectedChannels:a,unrestoredChannels:[],timestamp:getUTCTimeBaseREG(this.context.offsetTime),isResumed:u};this.linkState=e,this.emit("linkState",M)}banIP(e){var r;this.log("ip banned",e);const a=(r=this.blacklistedIP[e])!==null&&r!==void 0?r:0;this.blacklistedIP[e]=a+1}updateLocalAcquiredLocksCache(e,r,a,g){var E;const u=(E=this.localAcquiredLocks.get(e))!==null&&E!==void 0?E:new Map;a==="delete"?u==null||u.delete(r):(u.set(r,{revision:g}),this.localAcquiredLocks.set(e,u))}clearChannel(e){var r;const a=(r=this.mainSession)===null||r===void 0?void 0:r.getRegistrarSession();for(let g=0;g<e.length;g++){const E=e[g];a==null||a.emit("channelLeft",E),a==null||a.emit("unSubChannelLock",E),a==null||a.emit("unSubChannelMetadata",E)}}hasLock(){let e=!1;return this.localAcquiredLocks.size>0&&this.localAcquiredLocks.forEach(r=>{r.size>0&&(e=!0)}),e}validateRtmConnection(e){var r;if(this.context.enablePrivate&&((r=this.context.rtmConfig.privateConfig)===null||r===void 0||!r.serviceType.includes("MESSAGE"))){const{code:a,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED);throw new RtmUnavailableError(e,g,a)}if(this.linkState==="IDLE"){this.log("The client state is ".concat(this.connectionState,", cannot do the operation(").concat(e,")"));const{code:a,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(e,[g],a)}}validateMainSessionExist(e){if(this.mainSession===void 0){const{code:r,reason:a}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmUnavailableError(e,[a],r)}}checkVid(){var e;const r=this.context.vid,a=(e=this.mainSession)===null||e===void 0?void 0:e.getPresenceSession().vid;r!==a&&this.warn("The vid of uniLbs(".concat(r,") is not the same as the vid of syncProxy(").concat(a,")"))}reportChannelLeave(e,r){this.context.addReportEvents("ChnLeave",{cname:e,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.mainSession.getRegistrarSession().startTime),errCode:r,sid:getSid(this.mainSession.getRegistrarSession().instanceId),userId:this.userId})}handlePrivateConfig(e,r){var a,g,E,u,B,f,m,y,D;if(isEmptyObject(r==null?void 0:r.privateConfig)||isEmptyObject(r==null||(a=r.privateConfig)===null||a===void 0?void 0:a.serviceType)||r==null||!r.privateConfig)return!1;let M=!1,O="";const U=r==null||(g=r.privateConfig)===null||g===void 0?void 0:g.serviceType,F=r==null||(E=r.privateConfig)===null||E===void 0?void 0:E.accessPointHosts,x=r==null||(u=r.privateConfig)===null||u===void 0?void 0:u.eventUploadHosts,H=r==null||(B=r.privateConfig)===null||B===void 0?void 0:B.logUploadHosts,j=r==null||(f=r.privateConfig)===null||f===void 0?void 0:f.originDomains;return(U==null?void 0:U.length)!==0&&(((m=U==null?void 0:U.length)!==null&&m!==void 0?m:0)===0||U!=null&&U.includes("MESSAGE")||U!=null&&U.includes("STREAM")||(O=" ServiceType is illegal.",M=!0),((y=U==null?void 0:U.length)!==null&&y!==void 0?y:0)!==0&&((D=F==null?void 0:F.length)!==null&&D!==void 0?D:0)===0&&(M=!0),(F!=null&&F.some(ee=>!validDomain(ee))||j!=null&&j.some(ee=>!validDomain(ee))||x!=null&&x.some(ee=>!validDomain(ee))||H!=null&&H.some(ee=>!validDomain(ee)))&&(M=!0,O+=" Hosts or domains is illegal."),M&&this._throwInvalidPrivateConfig(e,O),!0)}setIntervalCreateColl(){this._createCollInterval&&clearInterval(this._createCollInterval),this._createCollInterval=setInterval(()=>{var e;this==null||(e=this.mainSession)===null||e===void 0||e.getPresenceSession().intervalCreateColl()},MONITOR_INTERVAL)}deleteIntervalCreateColl(){this._createCollInterval&&clearInterval(this._createCollInterval)}_throwInvalidPrivateConfig(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{code:a,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_PRIVATE_CONFIG),E=new RtmInvalidArgumentError(e,[g+r],a);throw this.logError(E),E}_handleLoginFailedState(e){let r=LinkStateChangeReasonDescription.LOGIN_REJECTED,a="LOGIN_REJECTED";switch(e){case RTMErrorCode.RTM_ERROR_INVALID_USER_ID:r=LinkStateChangeReasonDescription.INVALID_USER_ID,a="INVALID_USER_ID";break;case RTMErrorCode.RTM_ERROR_INVALID_TOKEN:r=LinkStateChangeReasonDescription.INVALID_TOKEN,a="INVALID_TOKEN";break;case RTMErrorCode.RTM_ERROR_INCONSISTENT_APPID:r=LinkStateChangeReasonDescription.INCONSISTENT_APP_ID,a="INCONSISTENT_APP_ID";break;case RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED:r=LinkStateChangeReasonDescription.SERVICE_NOT_SUPPORTED,a="SERVICE_NOT_SUPPORTED";break;case RTMErrorCode.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION:r=LinkStateChangeReasonDescription.OPERATION_RATE_EXCEED_LIMITATION,a="OPERATION_RATE_EXCEED_LIMITATION"}this.updateLinkState("FAILED","LOGIN",[],a,r)}_validateJoinOptions(e,r){const a=getParameter("STORAGE_CHANNEL_SUB_ENABLED"),g=(a!==void 0?String(a):this.consoleConfig["storage.channel_subscribe_enabled"])==="true";if(e!=null&&e.withMetadata&&!g){const{code:B,reason:f}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_NOT_AVAILABLE);throw new RtmUnavailableError(r,[f],B)}const E=getParameter("LOCK_ENABLED"),u=(E!==void 0?String(E):this.consoleConfig["lock.enabled"])==="true";if(e!=null&&e.withLock&&!u){const{code:B,reason:f}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE);throw new RtmUnavailableError(r,[f],B)}}}var _class;const defaultConfig={logUpload:!1,logFilter:LogFilter.LOG_FILTER_ERROR,cloudProxy:!1};let RTM=(_class=class extends EventBase{constructor(n,e,r){var a,g,E,u,B,f,m,y,D;const M={logUpload:(a=r==null?void 0:r.logUpload)!==null&&a!==void 0?a:defaultConfig.logUpload,logFilter:defaultConfig.logFilter,cloudProxy:(g=r==null?void 0:r.cloudProxy)!==null&&g!==void 0?g:defaultConfig.cloudProxy},O=_objectSpread2(_objectSpread2(_objectSpread2({},defaultConfig),M),{},{logFilter:_objectSpread2(_objectSpread2({},defaultConfig==null?void 0:defaultConfig.logFilter),M==null?void 0:M.logFilter)});(r!=null&&(E=r.privateConfig)!==null&&E!==void 0&&(E=E.serviceType)!==null&&E!==void 0&&E.includes("MESSAGE")||r!=null&&(u=r.privateConfig)!==null&&u!==void 0&&(u=u.serviceType)!==null&&u!==void 0&&u.includes("STREAM"))&&((B=r==null||(f=r.privateConfig)===null||f===void 0||(f=f.accessPointHosts)===null||f===void 0?void 0:f.length)!==null&&B!==void 0?B:0)>0&&O.logUpload&&((m=r==null||(y=r.privateConfig)===null||y===void 0||(y=y.logUploadHosts)===null||y===void 0?void 0:y.length)!==null&&m!==void 0?m:0)<=0&&(O.logUpload=!1);const U=uuid$1(),F=initLoggerId(U,r==null||(D=r.privateConfig)===null||D===void 0?void 0:D.logUploadHosts),x=genInfoLogger(n,O,U,e),H=genWarnLogger(n,O,U,e),j=genErrorLogger(n,O,U,e),ee=trackLoggerGenerator(n,F,O,U,e),ne=debugLoggerGenerator(n,F,O,U,e),oe=ne("RTM:DEBUG","<Entry> "),ae={genLogger:ne,genTracker:ee,info:x,warn:H,logError:j,loggerId:F};super(ae,"RTM",!0),_defineProperty$1(this,"presence",void 0),_defineProperty$1(this,"storage",void 0),_defineProperty$1(this,"lock",void 0),_defineProperty$1(this,"history",void 0),_defineProperty$1(this,"rtmImpl",void 0),this.rtmImpl=new RTMImpl(ae,U,n,e,O,r),this.lock=this.rtmImpl.lock,this.presence=this.rtmImpl.presence,this.storage=this.rtmImpl.storage,this.history=this.rtmImpl.history,x("The Agora RTM Web SDK version is %s, fusion is %s",VERSION,FUSION),x("The new process ID is %s",U),O.logUpload&&oe("The uploaded logs address is:".concat("http://log-collector-query.dc3.agoralab.co/api/v3/download?namespace=web&process_id=process-").concat(U)),x('The Git commit ID is "'.concat(BUILD,'"')),x("The build is %s",BUILD),x("NODE_ENV is %s","production"),x("Creating an RTM instance"),x("The App ID is %s",replaceRange(n,4,10,"*".repeat(6)))}async renewToken(n,e){return await this.rtmImpl.renewToken(n,e)}updateConfig(n){return this.rtmImpl.updateConfig(n)}async login(n){return await this.rtmImpl.login(n)}async logout(){return await this.rtmImpl.logout()}async publish(n,e,r){return await this.rtmImpl.publish(n,e,r)}async subscribe(n,e){return await this.rtmImpl.subscribe(n,e)}async unsubscribe(n){return await this.rtmImpl.unsubscribe(n)}createStreamChannel(n){return this.rtmImpl.createStreamChannel(n)}addEventListener(n,e){this.rtmImpl.addEventListener(n,e)}removeEventListener(n,e){this.rtmImpl.removeEventListener(n,e)}},_applyDecoratedDescriptor(_class.prototype,"renewToken",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"renewToken"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"updateConfig",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"updateConfig"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"login",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"login"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"logout",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"logout"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"publish",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"publish"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"subscribe",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"subscribe"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unsubscribe",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"unsubscribe"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createStreamChannel",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"createStreamChannel"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"addEventListener",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"addEventListener"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"removeEventListener",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"removeEventListener"),_class.prototype),_class);var index={BUILD,VERSION,processId,RTM,getParameter,setArea,setParameter,constantsType:ConstantsType,RTMBaseError};return index})})(agoraRtm);var agoraRtmExports=agoraRtm.exports;const AgoraRTM=getDefaultExportFromCjs(agoraRtmExports);let rtmClient=null,rtmChannel=null,rtcClient=null,localAudioTrack=null,localVideoTrack=null,localInbox="",subscribedChannel=null;const loginBtn=document.getElementById("loginBtn"),logoutBtn=document.getElementById("logoutBtn"),subscribeBtn=document.getElementById("subscribeBtn"),unsubscribeBtn=document.getElementById("unsubscribeBtn"),sendChannelMsgBtn=document.getElementById("sendChannelMsgBtn"),sendPeerMsgBtn=document.getElementById("sendPeerMsgBtn"),appIdInput=document.getElementById("appId"),tokenInput=document.getElementById("token"),userIdInput=document.getElementById("userId"),channelNameInput=document.getElementById("channelName"),channelMsgInput=document.getElementById("channelMsg"),peerIdInput=document.getElementById("peerId"),peerMsgInput=document.getElementById("peerMsg"),loginStatus=document.getElementById("loginStatus"),channelStatus=document.getElementById("channelStatus"),channelChatBox=document.getElementById("channelChatBox"),peerChatBox=document.getElementById("peerChatBox"),localVideo=document.getElementById("localVideo"),remoteVideo=document.getElementById("remoteVideo"),startVideoBtn=document.getElementById("startVideoBtn"),stopVideoBtn=document.getElementById("stopVideoBtn"),muteAudioBtn=document.getElementById("muteAudioBtn"),unmuteAudioBtn=document.getElementById("unmuteAudioBtn"),loginModal=document.getElementById("loginModal"),showLoginBtn=document.getElementById("showLoginBtn"),closeModalBtn=document.getElementById("closeModalBtn"),tabBtns=document.querySelectorAll(".tab-btn"),chatPanels=document.querySelectorAll(".chat-panel"),rtmConfig={presenceTimeout:30,logUpload:!1,logLevel:"debug",cloudProxy:!1,useStringUserId:!0};let participants=new Set;const participantsList=document.getElementById("participantsList"),presenceIndicator=document.getElementById("presenceIndicator");let audioDevices=[],videoDevices=[];const deviceModal=document.getElementById("deviceModal"),showDeviceBtn=document.getElementById("showDeviceBtn"),closeDeviceBtn=document.getElementById("closeDeviceBtn"),audioSelect=document.getElementById("audioSelect"),videoSelect=document.getElementById("videoSelect");document.querySelector('[data-tab="channel"]');document.querySelector('[data-tab="peer"]');const localVideoLabel=document.createElement("div");localVideoLabel.className="video-label";localVideoLabel.textContent="Local Video";localVideo.appendChild(localVideoLabel);const remoteVideoLabel=document.createElement("div");remoteVideoLabel.className="video-label";remoteVideoLabel.textContent="Remote Video";remoteVideo.appendChild(remoteVideoLabel);function addChatMessage(n,e){const r=document.createElement("div");r.className="chat-message",r.textContent=e,n.appendChild(r),n.scrollTop=n.scrollHeight}loginBtn.addEventListener("click",async()=>{const n=appIdInput.value.trim(),e=tokenInput.value.trim()||null,r=userIdInput.value.trim();if(!n||!r){alert("Please provide App ID and User ID");return}try{const{RTM:a}=AgoraRTM;rtmClient=new a(n,r,rtmConfig),rtmClient.addEventListener("status",g=>{console.log("RTM Status Event:",g),updatePresenceIndicator(g.state==="CONNECTED"),loginStatus.textContent=`Logged in as "${r}"`}),rtmClient.addEventListener("message",handleRtmChannelMessage),rtmClient.addEventListener("presence",handleRtmPresenceEvent),await rtmClient.login({token:e}),localInbox="inbox_"+r,await rtmClient.subscribe(localInbox,{withMessage:!0,withPresence:!1,withMetadata:!1,withLock:!1}),logoutBtn.disabled=!1,subscribeBtn.disabled=!1,sendPeerMsgBtn.disabled=!1,startVideoBtn.disabled=!1,await initializeRTC(n,e,r),hideModal(),localVideoLabel.textContent=r}catch(a){console.error("Login failed:",a),alert("Login failed, see console.")}});logoutBtn.addEventListener("click",async()=>{try{subscribedChannel&&await rtmClient.unsubscribe(subscribedChannel),localInbox&&await rtmClient.unsubscribe(localInbox),await rtmClient.logout(),rtcClient&&await rtcClient.leave(),rtmClient=null,rtcClient=null,participants.clear(),updateParticipantsList(),updatePresenceIndicator(!1),loginStatus.textContent="Not logged in",logoutBtn.disabled=!0,subscribeBtn.disabled=!0,unsubscribeBtn.disabled=!0,sendChannelMsgBtn.disabled=!0,sendPeerMsgBtn.disabled=!0,startVideoBtn.disabled=!0}catch(n){console.error("Logout error:",n)}});subscribeBtn.addEventListener("click",async()=>{if(!rtmClient){alert("Please login first!");return}const n=channelNameInput.value.trim();if(!n){alert("Channel name required");return}try{await rtmClient.subscribe(n,{withMessage:!0,withPresence:!0,withMetadata:!1,withLock:!1}),subscribedChannel=n,channelStatus.textContent=`Subscribed to "${n}"`,addChatMessage(channelChatBox,`You subscribed to channel: ${n}`),rtcClient&&await rtcClient.join(appIdInput.value,n,tokenInput.value||null,userIdInput.value),subscribeBtn.disabled=!0,unsubscribeBtn.disabled=!1,sendChannelMsgBtn.disabled=!1}catch(e){console.error("Channel subscription failed:",e),e.message.includes("UID_CONFLICT")&&alert("UID conflict detected. Please log out and try again with a different user ID.")}});unsubscribeBtn.addEventListener("click",async()=>{if(!(!rtmClient||!subscribedChannel))try{await rtmClient.unsubscribe(subscribedChannel),addChatMessage(channelChatBox,`Unsubscribed from ${subscribedChannel}`),channelStatus.textContent="Not subscribed to any channel",subscribedChannel=null,subscribeBtn.disabled=!1,unsubscribeBtn.disabled=!0,sendChannelMsgBtn.disabled=!0,rtmChannel&&(await rtmChannel.leave(),rtmChannel=null)}catch(n){console.error("Unsubscribe error:",n)}});sendChannelMsgBtn.addEventListener("click",async()=>{if(!rtmClient||!subscribedChannel){alert("Subscribe to a channel first!");return}const n=channelMsgInput.value.trim();if(n)try{await rtmClient.publish(subscribedChannel,n),addChatMessage(channelChatBox,`[You]: ${n}`),channelMsgInput.value=""}catch(e){console.error("Publish error:",e)}});sendPeerMsgBtn.addEventListener("click",async()=>{if(!rtmClient){alert("Login first!");return}const n=peerIdInput.value.trim();if(!n){alert("Peer ID is required");return}const e=peerMsgInput.value.trim();if(!e)return;const r="inbox_"+n;try{await rtmClient.publish(r,e),addChatMessage(peerChatBox,`[To ${n}]: ${e}`),peerMsgInput.value=""}catch(a){console.error("Send peer message error:",a)}});function handleRtmChannelMessage(n){const{channelType:e,channelName:r,publisher:a,message:g}=n;if(r===localInbox){addChatMessage(peerChatBox,`[From ${a}]: ${g}`);return}addChatMessage(channelChatBox,`[${a}]: ${g}`)}function handleRtmPresenceEvent(n){const{eventType:e,publisher:r,channelName:a}=n;a===subscribedChannel&&(e==="JOIN"?(participants.add(r),remoteVideoLabel.textContent=`Remote Video (${r})`):(e==="LEAVE"||e==="TIMEOUT")&&(participants.delete(r),participants.size===0&&(remoteVideoLabel.textContent="Remote Video")),updateParticipantsList(),addChatMessage(channelChatBox,`Presence: [${r}] ${e} channel "${a}"`))}async function initializeRTC(n,e,r){try{rtcClient&&await rtcClient.leave(),rtcClient=AgoraRTC.createClient({mode:"rtc",codec:"vp8"}),rtcClient.on("user-published",async(a,g)=>{await rtcClient.subscribe(a,g),g==="video"&&a.videoTrack.play(remoteVideo)}),rtcClient.on("user-unpublished",a=>{a.videoTrack&&a.videoTrack.stop()}),channelNameInput.value.trim()&&await rtcClient.join(n,channelNameInput.value,e,r)}catch(a){console.error("RTC initialization failed:",a),a.message.includes("UID_CONFLICT")&&alert("UID conflict detected. Please log out and try again with a different user ID.")}}async function startVideo(){try{localAudioTrack=await AgoraRTC.createMicrophoneAudioTrack(),localVideoTrack=await AgoraRTC.createCameraVideoTrack(),localVideoTrack.play(localVideo),await rtcClient.publish([localAudioTrack,localVideoTrack]),enableVideoControls(!0)}catch(n){console.error("Error starting video:",n)}}async function stopVideo(){try{localAudioTrack&&localAudioTrack.close(),localVideoTrack&&localVideoTrack.close(),await rtcClient.unpublish(),enableVideoControls(!1)}catch(n){console.error("Error stopping video:",n)}}function enableVideoControls(n){startVideoBtn.disabled=n,stopVideoBtn.disabled=!n,muteAudioBtn.disabled=!n,unmuteAudioBtn.disabled=!n}startVideoBtn.addEventListener("click",startVideo);stopVideoBtn.addEventListener("click",stopVideo);muteAudioBtn.addEventListener("click",()=>{localAudioTrack&&(localAudioTrack.setEnabled(!1),muteAudioBtn.disabled=!0,unmuteAudioBtn.disabled=!1)});unmuteAudioBtn.addEventListener("click",()=>{localAudioTrack&&(localAudioTrack.setEnabled(!0),muteAudioBtn.disabled=!1,unmuteAudioBtn.disabled=!0)});function showModal(){loginModal.style.display="block"}function hideModal(){loginModal.style.display="none"}function switchTab(n){tabBtns.forEach(e=>{e.classList.toggle("active",e.dataset.tab===n)}),chatPanels.forEach(e=>{e.classList.toggle("active",e.id===`${n}Chat`)})}showLoginBtn.addEventListener("click",showModal);closeModalBtn.addEventListener("click",hideModal);window.addEventListener("click",n=>{n.target===loginModal&&hideModal()});tabBtns.forEach(n=>{n.addEventListener("click",()=>{switchTab(n.dataset.tab)})});function updatePresenceIndicator(n){presenceIndicator.className=`presence-indicator ${n?"online":"offline"}`}function updateParticipantsList(){participantsList.innerHTML="",participants.forEach(n=>{const e=document.createElement("div");e.className="participant-item",e.innerHTML=`
      <span class="presence-indicator online"></span>
      <span>${n}</span>
    `,e.addEventListener("click",()=>{peerIdInput.value=n,switchTab("peer")}),participantsList.appendChild(e)})}async function loadDevices(){try{audioDevices=await AgoraRTC.getMicrophones(),videoDevices=await AgoraRTC.getCameras(),audioSelect.innerHTML=audioDevices.map(n=>`<option value="${n.deviceId}">${n.label||`Microphone ${n.deviceId}`}</option>`).join(""),videoSelect.innerHTML=videoDevices.map(n=>`<option value="${n.deviceId}">${n.label||`Camera ${n.deviceId}`}</option>`).join("")}catch(n){console.error("Error loading devices:",n)}}async function switchAudioDevice(n){localAudioTrack&&await localAudioTrack.setDevice(n)}async function switchVideoDevice(n){localVideoTrack&&await localVideoTrack.setDevice(n)}audioSelect.addEventListener("change",n=>switchAudioDevice(n.target.value));videoSelect.addEventListener("change",n=>switchVideoDevice(n.target.value));function showDeviceModal(){deviceModal.style.display="block",loadDevices()}function hideDeviceModal(){deviceModal.style.display="none"}showDeviceBtn.addEventListener("click",showDeviceModal);closeDeviceBtn.addEventListener("click",hideDeviceModal);
